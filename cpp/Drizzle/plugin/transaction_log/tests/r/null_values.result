DROP TABLE IF EXISTS t1, t2, t3, t4;
CREATE TABLE t1 (a INT NOT NULL, b CHAR(1000), PRIMARY KEY (a));
INSERT INTO t1 VALUES (1,"update me");
INSERT INTO t1 VALUES (2,'');
INSERT INTO t1 VALUES (3,NULL);
UPDATE t1 SET b= "updated" WHERE a= 2;
UPDATE t1 SET a= 4 WHERE b IS NULL;
UPDATE t1 SET b= NULL WHERE a= 1;
DELETE FROM t1 where b is NULL;
CREATE TABLE t2 (a INT NOT NULL AUTO_INCREMENT, b INT, PRIMARY KEY(a));
INSERT INTO t2 (b) VALUES(NULL);
INSERT INTO t2 (b) VALUES(0);
CREATE TABLE t3 (a INT NOT NULL, b ENUM ('1','2'), PRIMARY KEY(a));
INSERT INTO t3 VALUES (1,'1');
INSERT INTO t3 VALUES (2,NULL);
CREATE TABLE t4 (id INT NOT NULL, col0_int INT DEFAULT NULL, col1_int INT DEFAULT NULL, PRIMARY KEY (id));
INSERT INTO t4 VALUES (1, NULL, 1);
UPDATE t4 SET col0_int= 0 WHERE col1_int != 2;
UPDATE t4 SET col0_int= NULL WHERE col1_int != 2;
DROP TABLE t1, t2, t3, t4;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t1` (   `a` INT NOT NULL,   `b` VARCHAR(1000) COLLATE utf8_general_ci DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (1,'update me');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (2,'');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (3,NULL);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `b`='updated' WHERE `a`=2;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `a`=4 WHERE `a`=3;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `b`=NULL WHERE `a`=1;
COMMIT;
START TRANSACTION;
DELETE FROM `test`.`t1` WHERE `a`=1;
DELETE FROM `test`.`t1` WHERE `a`=4;
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t2` (   `a` INT NOT NULL AUTO_INCREMENT,   `b` INT DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t2` (`a`,`b`) VALUES (1,NULL);
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t2` (`a`,`b`) VALUES (2,0);
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t3` (   `a` INT NOT NULL,   `b` ENUM('1','2') DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t3` (`a`,`b`) VALUES (1,'1');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t3` (`a`,`b`) VALUES (2,NULL);
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t4` (   `id` INT NOT NULL,   `col0_int` INT DEFAULT NULL,   `col1_int` INT DEFAULT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t4` (`id`,`col0_int`,`col1_int`) VALUES (1,NULL,1);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t4` SET `col0_int`=0 WHERE `id`=1;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t4` SET `col0_int`=NULL WHERE `id`=1;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t1`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t2`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t3`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t4`;
COMMIT;

Generating statements for innodb replication log
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t1` (   `a` INT NOT NULL,   `b` VARCHAR(1000) COLLATE utf8_general_ci DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (1,'update me');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (2,'');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`a`,`b`) VALUES (3,NULL);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `b`='updated' WHERE `a`=2;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `a`=4 WHERE `a`=3;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `b`=NULL WHERE `a`=1;
COMMIT;
START TRANSACTION;
DELETE FROM `test`.`t1` WHERE `a`=1;
DELETE FROM `test`.`t1` WHERE `a`=4;
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t2` (   `a` INT NOT NULL AUTO_INCREMENT,   `b` INT DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t2` (`a`,`b`) VALUES (1,NULL);
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t2` (`a`,`b`) VALUES (2,0);
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t3` (   `a` INT NOT NULL,   `b` ENUM('1','2') DEFAULT NULL,   PRIMARY KEY (`a`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t3` (`a`,`b`) VALUES (1,'1');
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t3` (`a`,`b`) VALUES (2,NULL);
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t4` (   `id` INT NOT NULL,   `col0_int` INT DEFAULT NULL,   `col1_int` INT DEFAULT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t4` (`id`,`col0_int`,`col1_int`) VALUES (1,NULL,1);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t4` SET `col0_int`=0 WHERE `id`=1;
COMMIT;
START TRANSACTION;
UPDATE `test`.`t4` SET `col0_int`=NULL WHERE `id`=1;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t1`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t2`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t3`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t4`;
COMMIT;
SET GLOBAL transaction_log_truncate_debug= true;
