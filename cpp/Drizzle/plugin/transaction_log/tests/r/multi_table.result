DROP TABLE IF EXISTS t1, t2;
CREATE TABLE t1 (
id INT NOT NULL PRIMARY KEY
);
CREATE TABLE t2 (
id INT NOT NULL PRIMARY KEY
);
START TRANSACTION;
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (1);
COMMIT;
START TRANSACTION;
UPDATE t1 SET id=2 WHERE id=1;
UPDATE t2 SET id=2 WHERE id=1;
COMMIT;
START TRANSACTION;
DELETE FROM t1 WHERE id=2;
DELETE FROM t2 WHERE id=2;
COMMIT;
DROP TABLE t1, t2;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t1` (   `id` INT NOT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t2` (   `id` INT NOT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`id`) VALUES (1);
INSERT INTO `test`.`t2` (`id`) VALUES (1);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `id`=2 WHERE `id`=1;
UPDATE `test`.`t2` SET `id`=2 WHERE `id`=1;
COMMIT;
START TRANSACTION;
DELETE FROM `test`.`t1` WHERE `id`=2;
DELETE FROM `test`.`t2` WHERE `id`=2;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t1`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t2`;
COMMIT;

Generating statements for innodb replication log
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t1` (   `id` INT NOT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
SET AUTOCOMMIT=0;
CREATE TABLE `test`.`t2` (   `id` INT NOT NULL,   PRIMARY KEY (`id`) ) ENGINE=InnoDB COLLATE = utf8_general_ci;
COMMIT;
START TRANSACTION;
INSERT INTO `test`.`t1` (`id`) VALUES (1);
INSERT INTO `test`.`t2` (`id`) VALUES (1);
COMMIT;
START TRANSACTION;
UPDATE `test`.`t1` SET `id`=2 WHERE `id`=1;
UPDATE `test`.`t2` SET `id`=2 WHERE `id`=1;
COMMIT;
START TRANSACTION;
DELETE FROM `test`.`t1` WHERE `id`=2;
DELETE FROM `test`.`t2` WHERE `id`=2;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t1`;
COMMIT;
SET AUTOCOMMIT=0;
DROP TABLE `test`.`t2`;
COMMIT;
SET GLOBAL transaction_log_truncate_debug= true;
