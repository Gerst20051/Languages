2011-03-15  patrick crews  <gleebix@gmail.com>

	Updated translations

2011-03-15  patrick crews  <gleebix@gmail.com>

	Update tests/include.am to include all dbqp files in tarball dists

2011-03-15  patrick crews  <gleebix@gmail.com>

	Updated tests/include.am to include dbqp files

2011-03-15  Monty Taylor  <mordred@inaugust.com>

	Merge in libdrizzle install changes, doc changes and some header
	refactoring.

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Install libdrizzle headers in /usr/include/libdrizzle-1.0. Also merge a few
	doc fixes and header refactorings.

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	It helps when you do line continuations

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Merged Marisa: Docs fixes

2011-03-14  Marisa Plumb  <marisa.plumb@gmail.com>

	mysql diff fixes

2011-03-14  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-03-14  Marisa Plumb  <marisa.plumb@gmail.com>

	updating and fixing slave plugin example

2011-03-12  Marisa Plumb  <marisa.plumb@gmail.com>

	markup fix

2011-03-12  Marisa Plumb  <marisa.plumb@gmail.com>

	new control flow examples

2011-03-11  Marisa Plumb  <marisa.plumb@gmail.com>

	current time function fixes

2011-03-11  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew: Fix delimiter bug

2011-03-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport of http://bugs.mysql.com/bug.php?id=33812 to fix the use of the word "delimiter" in the middle of queries in drizzle client

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf: Refactor Includes

2011-03-14  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-14  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-14  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-14  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Merged in libdrizzle-1.0 changes to headers.

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Move the file.

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Increment libdrizzle current and age because we added a function to the
	interface.

2011-03-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix addrinfo flags not set correctly

2011-03-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add drizzle_safe_escape_string() function

2011-03-14  Monty Taylor  <mordred@inaugust.com>

	Install into libdrizzle-1.0 location.

2011-03-15  patrick crews  <gleebix@gmail.com>

	Updated translations

2011-03-03  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-03-13  Brian Aker  <brian@tangent.org>

	Merge in pcrews.

2011-03-13  patrick crews  <gleebix@gmail.com>

	Updates to make this work properly on mac - tested on hades

2011-03-12  patrick crews  <gleebix@gmail.com>

	Added top_builddir/libdrizzle/.libs to LD_LIBRARY_PATH

2011-03-13  Brian Aker  <brian@tangent.org>

	Mass removal of ifdef/endif in favor of pragma once.

2011-03-13  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Refactor Session

2011-03-13  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix include

2011-03-13  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-03-12  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-03-11  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor Session

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor Session

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor Session

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor Session

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Session::lex()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Session::lex()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Session::lex()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	plugin::TableFunction::Generator::statement()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	plugin::TableFunction::Generator::lex()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	plugin::TableFunction::Generator::lex()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unused includes

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unnecessary statement.h include

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::session()

2011-03-10  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::session()

2011-03-12  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - add suite to test drizzledump
	Merge Patrick - 732061: need a way to execute dtr test cases with the slave plugin

2011-03-12  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - add suite to test drizzledump

2011-03-11  patrick crews  <gleebix@gmail.com>

	Merge trunk

2011-01-03  patrick crews  <gleebix@gmail.com>

	Updated test and result files

2011-03-12  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 732061: need a way to execute dtr test cases with the slave plugin

2011-03-10  patrick crews  <gleebix@gmail.com>

	Fixes issues with test-run.pl trying to run dbqp-specific tests.  Fixed an issue with sorting / re-order

2011-03-10  patrick crews  <gleebix@gmail.com>

	Merge trunk

2011-03-10  patrick crews  <gleebix@gmail.com>

	Changes to test-run.pl to skip tests if we detect a .cnf file (signals it is dbqp)

2011-03-09  patrick crews  <gleebix@gmail.com>

	Updated dbqp magic so that we can execute slave tests.  We have to use .cnf files vs. .opt files, but this is the future anyway ; )  Added basic test + include file to ensure slave is sync'd prior to checking it

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merged Brian: New 5.5 auth support.
	Merged Dave: Slave admin docs.

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	ICC warning.

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merge Brian: New 5.5 Auth

2011-03-11  Brian Aker  <brian@tangent.org>

	This add M's 5.5 auth to the drivers.

2011-03-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	We should do plain text auth on PLUGIN_AUTH not INTERACTIVE

2011-03-05  Brian Aker  <brian@tangent.org>

	MySQL AUTH PLUGIN support for protocol.

2011-02-26  Brian Aker  <brian@tangent.org>

	First pass through in going over work for MySQL AUTH PLUGIN style support.

2011-02-26  Brian Aker  <brian@tangent.org>

	Have us start building pam on all servers, but do not load it by default.

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merged Dave: slave admin docs.

2011-03-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add slave administration docs.

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew: drizzledump and docs bug fixes
	Merged Barry: pbms bugfixes

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew: drizzledump bugfix

2011-03-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add test case for drizzledump index part handling

2011-03-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix multi-part index length processing in drizzledump

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew: drizzledump bugfix

2011-03-11  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add REPLICATE=FALSE support to drizzledump

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew: Slave Bugfix

2011-03-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix TIME type comparators

2011-03-11  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew: Doc Fix Bug

2011-03-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add a note in installing/from_source to use contributing/code if you plan on contributing (to avoid a confusion from earlier today).

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merged pbms bug fixes.

2011-03-04  Barry.Leslie@PrimeBase.com

	Added back in schema event observer list cleanup.

2011-03-04  Barry.Leslie@PrimeBase.com

	Merged with lp:drizzle.

2011-02-21  Barry.Leslie@PrimeBase.com

	Fixed bug in merged code.

2011-02-21  Barry.Leslie@PrimeBase.com

	Merged with trunk.

2011-02-11  Barry.Leslie@PrimeBase.com

	Merged with lp:drizzle.

2011-01-21  Barry.Leslie@PrimeBase.com

	Merged with lp:drizzle.

2011-01-21  Barry.Leslie@PrimeBase.com

	Fixed a possible crash cause when shutting down.

2011-01-21  Barry.Leslie@PrimeBase.com

	Fixed 2 bugs in the S3 protocol code. One caused a jumpstack overflow and the other
	resulted in a bad Md5 checksum comparison.

2011-01-21  Barry.Leslie@PrimeBase.com

	Restoring original pbms tests.

2011-01-10  Barry.Leslie@PrimeBase.com

	A test

2011-01-10  Barry.Leslie@PrimeBase.com

	A test

2011-01-07  Barry.Leslie@PrimeBase.com

	Testing

2011-01-04  Barry.Leslie@PrimeBase.com

	testing

2011-01-04  Barry.Leslie@PrimeBase.com

	Norrowing down valgrid problems.

2011-01-03  Barry.Leslie@PrimeBase.com

	More testing.

2011-01-03  Barry.Leslie@PrimeBase.com

	Changes for valgrind testing.

2011-01-03  Barry.Leslie@PrimeBase.com

	Temporary change to isolate valgrind problem.

2010-12-15  Barry.Leslie@PrimeBase.com

	An other valgrind test.

2010-12-15  Barry.Leslie@PrimeBase.com

	More valgrind pbms testing.

2010-12-14  Barry.Leslie@PrimeBase.com

	Teporarily remove pbms tests.

2010-12-14  Barry.Leslie@PrimeBase.com

	A check to see if valgrind problem has something to do with pbms being loaded but not used.

2010-12-14  Barry.Leslie@PrimeBase.com

	Fix some questionable code.

2010-12-12  Barry.Leslie@PrimeBase.com

	Added testcase to see if valgrind problem is reproducable with a simple events plugin.

2010-12-08  Barry.Leslie@PrimeBase.com

	Removed unneeded valgrind include.

2010-12-07  Barry.Leslie@PrimeBase.com

	Merged with trunk

2010-12-02  Barry.Leslie@PrimeBase.com

	Switched the signal used for internal thread signalling fron SIGUSR2 to SIGUSR1 to avoid 
	problems with valgrind which uses SIGUSR2.

2010-11-29  Barry.Leslie@PrimeBase.com

	merge with trunk

2010-11-29  Barry.Leslie@PrimeBase.com

	merge with trunk

2010-11-17  Barry.Leslie@PrimeBase.com

	Fixed PBMS test case.

2010-11-16  Barry.Leslie@PrimeBase.com

	Fixed merge error.

2010-11-16  Barry.Leslie@PrimeBase.com

	Fixed bug where MD5_Checksum was truncated when selected from the pbms_reference table.

2010-11-16  Barry.Leslie@PrimeBase.com

	Merged in trunck changes.

2010-11-16  Barry.Leslie@PrimeBase.com

	Fixed a couple of bugs related to metadata updates and inserts.

2010-11-16  Barry.Leslie@PrimeBase.com

	Made it possible to test if a database exists via its id number.

2010-11-16  Barry.Leslie@PrimeBase.com

	Added some basic PBMS tests.

2010-11-16  Barry.Leslie@PrimeBase.com

	PBMS transaction error logging now ignores transaction errors for non existent databases or tables.

2010-11-16  Barry.Leslie@PrimeBase.com

	Added some debug code to help detect unexpected locks.

2010-11-12  Barry.Leslie@PrimeBase.com

	Fixed some stack size problems for stack > 32K.

2010-11-10  Barry.Leslie@PrimeBase.com

	Merge with trunk.

2010-11-10  Barry.Leslie@PrimeBase.com

	Fixed problem that was the result of confusion caused by an unreferences file object pool list.

2010-11-10  Barry.Leslie@PrimeBase.com

	Fixed object leak.

2010-11-10  Barry.Leslie@PrimeBase.com

	Fix broken code caused by changes to Field_blob::store_length()

2010-11-10  Barry.Leslie@PrimeBase.com

	Improved cleanup for session and schema event lists.

2010-11-10  Barry.Leslie@PrimeBase.com

	Fixed PBMS  object reference leak problem.

2010-11-09  Barry.Leslie@PrimeBase.com

	Cleaned up some incorrect parameter types used when scanning system tables.

2010-11-09  Barry.Leslie@PrimeBase.com

	Fix for possible access of uninitialised value in blob_url if it was not null terminated.

2010-11-09  Barry.Leslie@PrimeBase.com

	Fix for leaked schema event observers.

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Joe and Dave: Replication bug fixes.

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Joe: Replication Bug Fix

2011-03-09  Joseph Daly  <skinny.moey@gmail.com>

	bug 731738 need to check that commit_order is greater then 0 this is needed for multi part messages

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Dave: Bugfix for max commit id

2011-03-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Persist --slave.max-commit-id value to applier_state table.

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Removed special code in test runners that was there for filesystem_engine.

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf: Refactoring Work
	Merge Brian: Replication bug fixes
	Merge Marisa and Mark: Documentation fixes

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf: Refactor List

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix include

2011-03-05  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-05  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-05  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-03-05  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-03-05  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-28  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Mark: Documentation Edits

2011-03-07  Mark Atwood  <me@mark.atwood.name>

	documentation work

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Marisa: Documentation

2011-03-08  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-03-08  Marisa Plumb  <marisa.plumb@gmail.com>

	slave plugin docs

2011-03-07  Marisa Plumb  <marisa.plumb@gmail.com>

	modifications to redhat install doc

2011-03-07  Marisa Plumb  <marisa.plumb@gmail.com>

	fixes for the installing from source doc

2011-03-03  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merged Brian: Fixes for 731189

2011-03-08  Brian Aker  <brian@tangent.org>

	Merge fixes for Shrews on bug 731189.

2011-03-08  Brian Aker  <brian@tangent.org>

	Merge in fill_table_proto() fixes.

2011-03-08  Brian Aker  <brian@tangent.org>

	Merge in work around making all passing of table as const.

2011-03-08  Brian Aker  <brian@tangent.org>

	parse_table_proto <-- const

2011-03-10  Monty Taylor  <mordred@inaugust.com>

	Merge Olad: Refactoring

2011-03-09  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-09  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-03-09  Monty Taylor  <mordred@inaugust.com>

	Merged Dave - Filtered Replication docs
	Merged Olaf - Refactoring work
	Removed archive, blackhole, filesystem_engine, blitzdb, csv and pbxt from
	the tree pre-GA as we have no interest in supporting them moving forward.

2011-03-09  Monty Taylor  <mordred@inaugust.com>

	Removed unused file.

2011-03-09  Monty Taylor  <mordred@inaugust.com>

	Removed blackhole.

2011-03-09  Monty Taylor  <mordred@inaugust.com>

	Removed the last archive test.

2011-03-09  Monty Taylor  <mordred@inaugust.com>

	And a couple of files in potfiles...

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Got rid of archive engine.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Replaced a needed file.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Shoved archive back in- killed filesystem engine.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Removed some plugins that we're just really not using anymore.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Moved drizzle/drizzle.h to libdrizzle/libdrizzle.h - we don't have a drizzle
	header namespace that we install things in to.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged David - Filtered Replication Docs.

2011-03-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix option name.

2011-03-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add filtered replicator plugin docs.

2011-03-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add documentation about replication streams.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged Olaf - Statement refactor.

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::set_command

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::lex()

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::set_command

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Statement::set_command

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Undo partial commit

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Undo partial commit

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf - XID refactor.

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Finish removing XID cache

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged Olaf - refactor Session::getLex

2011-03-08  Olaf van der Spek  <olafvdspek@gmail.com>

	Session::getLex()

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged drizzle/drizzle.h from Olaf.

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	Provide drizzle/drizzle.h

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged brian's auth patch

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged Brian - auth_all plugin.

2011-03-04  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2011-03-03  Brian Aker  <brian@tangent.org>

	This modifies basic auth such that:
	
	1) We now by default only bind to localhost.
	2) We now have a plugin which creates the auth_all behavior.
	3) Anonymous logins only work if enabled on auth_all.

2011-03-08  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew - Add multi-statements to libdrizzle
	Merge Dave - new --slave.max-commit option

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew - Add multi-statements to libdrizzle.

2011-03-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add DRIZZLE_CON_MULTI_STATEMENTS libdrizzle option to enable DRIZZLE_CAPABILITIES_MULTI_STATEMENTS

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge Dave - new --slave.max-commit-id option

2011-03-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add new --slave.max-commit-id option to control where we begin reading the master transaction log.

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf - XID and Dynamic_array refactoring
	Merge Andrew - Optimizer bugs

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge Olaf - Refactor DYNAMIC_ARRAY

2011-03-07  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unused includes

2011-03-07  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-06  Olaf van der Spek  <olafvdspek@gmail.com>

	DYNAMIC_ARRAY::size()

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew- Optimizer bugfixes

2011-03-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport fix from http://bugs.mysql.com/bug.php?id=58818

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merged Olaf - Refactor XID cache.

2011-03-07  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove (apparently) unused XID cache

2011-03-07  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-07  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merged Clint - Regex Policy auth plugin.
	Merged Monty - Fix for old broken sphinxes.

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge fix for old Sphinx breakage.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Also trap the other one.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Put in a workaround for old sphinxes.

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge regex policy plugin from Clint.

2011-03-07  Clint Byrum  <clint@ubuntu.com>

	add destructor for Policy object, should eliminate last valgrind warnings

2011-03-04  Clint Byrum  <clint@ubuntu.com>

	fixing valgrind problems in a more sane way

2011-03-04  Clint Byrum  <clint@ubuntu.com>

	fixing valgrind warnings

2011-03-03  Clint Byrum  <clint@ubuntu.com>

	adding regex_policy translations to POTFILES.in

2011-03-03  Clint Byrum  <clint@ubuntu.com>

	Adding regex_policy plugin for detailed authorization specifiction

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Merge Monty - Pandora-build updates. Allow building of only libdrizzle.
	Merge Andrew - libdrizzle result reuse problem.
	Merge David - Slave plugin bugfixes.

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	We don't need to have an ID this big - breaks 32bit.

2011-03-07  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 729397: Slave plugin producer/IO thread needs optimized 	

2011-03-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix ambiguity of error_t in slave plugin.

2011-03-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Change producer thread to continously poll the master for replication events until no more are available, then sleep.

2011-03-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 730644: libdrizzle: drizzle_query_run_all re-uses result struct 	

2011-03-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fixing result re-use issues broke drizzle_query_run_all().  This fixes that too.

2011-03-07  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Allows folks to only build and install libdrizzle

2011-03-07  Monty Taylor  <mordred@inaugust.com>

	Adds ability to just build libdrizzle without needing all of the rest of the
	drizzle depends. New configure option --without-server and then a make
	libdrizzle and make install-libdrizzle make targets.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Update comments test based on new pandora version processing tag-based code.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.175

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Added git support and support for setting current version based on most
	recent tag plus revno.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.174

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.173

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Port in pandora changes from libmemcached.

2011-03-06  Monty Taylor  <mordred@inaugust.com>

	Honors PYTHON env variable for running pandora-plugin. It's important,
	because some systems will need to let us know where python2 is now.

2011-03-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 729425: mysql-unix-socket-protocol plugin needs documenting 	
	Merge Andrew - 729340: Need drizzledump to output InnoDB replication log information for slave provisioning

2011-03-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 729425: mysql-unix-socket-protocol plugin needs documenting 	

2011-03-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add documentation for the MySQL Unix Socket Protocol plugin

2011-03-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 729340: Need drizzledump to output InnoDB replication log information for slave provisioning

2011-03-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	If drizzledump is run with --single-transaction it will now try and probe the sys_replication_log table.  If successful it will output something like:
	
	-- SYS_REPLICATION_LOG: COMMIT_ID = 3, ID = 1301

2011-03-04  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 729372: Semicolon causing slave plugin to stop replicating
	Merge Andrew - 728990: libdrizzle: Re-using a result struct without freeing causes infinite loop

2011-03-04  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 729372: Semicolon causing slave plugin to stop replicating

2011-03-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Escape semicolons before calling Execute::run() in slave plugin.

2011-03-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Escape semicolons properly in slave plugin.

2011-03-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-03-04  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 728990: libdrizzle: Re-using a result struct without freeing causes infinite loop

2011-03-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix for ICC?

2011-03-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix leaks in slave result sets

2011-03-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Stop libdrizzle from accepting re-used result structs which causes cleanup issues
	Fix result struct usage in transaction_reader

2011-03-04  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - 728581: need to define boost deprecation flag to support 1.46

2011-03-03  Monty Taylor  <mordred@inaugust.com>

	Adds filesystem deprecated flag so we can keep using v2 api for now

2011-03-03  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 728667: drizzle client needs to send unix username

2011-03-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Use current unix username as login by default for our client apps

2011-03-03  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 728432: Remove write_bin_log() since it is no longer used.
	Merge Andrew - 722988: wrong message for drizzled --verbose 
	Merge Andrew - 728314: mysql socket file not created
	Merge Stewart - 728288: enum_query_type is unused

2011-03-03  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 728432: Remove write_bin_log() since it is no longer used.

2011-03-03  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove write_bin_log().

2011-03-03  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 722988: wrong message for drizzled --verbose 
	Merge Andrew - 728314: mysql socket file not created

2011-03-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make mysql_protocol Listening message INFO level.
	Fix --verbose help message in drizzled.

2011-03-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Stop unlinking the socket file straight after creating it.  I don't think that behaviour was at all intended :)

2011-03-03  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 728288: enum_query_type is unused

2011-03-03  Stewart Smith  <stewart@flamingspork.com>

	remove enum_query_type which was effectively unused. It was set to one value once, compared to it once (i.e. always true) and passed around everywhere doing nothing.

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 727506: Can't run dbqp on rhel 5.5
	Merge Marisa - latest documentation updates

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Fix distcheck issue with docs

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 727506: Can't run dbqp on rhel 5.5

2011-03-02  patrick crews  <gleebix@gmail.com>

	Including uuid module so we can work with red hat...grr.  We could require packages and whatnot, but just inlcuding the small file until such time as redhat moves to python 2.5 seems good

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - latest documentation updates

2011-03-02  Marisa Plumb  <marisa.plumb@gmail.com>

	starting red hat fixes

2011-03-02  Marisa Plumb  <marisa.plumb@gmail.com>

	new doc with note about versioning

2011-03-02  Marisa Plumb  <marisa.plumb@gmail.com>

	more updates

2011-03-02  Marisa Plumb  <marisa.plumb@gmail.com>

	update

2011-03-01  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-02-28  Marisa Plumb  <marisa.plumb@gmail.com>

	addressing bug 723669 

2011-02-28  Marisa Plumb  <marisa.plumb@gmail.com>

	adding drizzleadmin as manpage in include.am

2011-02-27  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-02-24  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews: 720501: starting slave with relative path or non existant slave.config-file does not error out 	
	Merge Andrew - 725238: innodb.replication-log options not using zero_tokens

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews: 720501: starting slave with relative path or non existant slave.config-file does not error out 	

2011-03-02  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Verify that slave config file is opened successfully and report a better error message if not. Update docs with better information about specifying config file and with some missing options.

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 725238: innodb.replication-log options not using zero_tokens 	

2011-03-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge with trunk
	Fix docs for replication-log setting
	Fix randgen conf for replication-log setting

2011-03-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix innodb.replication-log setting

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Derks  712194: Add default plugin configs to source 
	Merge Patrick - 727506: Can't run dbqp on rhel 5.5
	Merge Shrews - 720433: 'replication' schema being used vs. actual schema for certain INSERTs with the slave-plugin
	Merge Olaf - Refactor dynamic_array

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Derks  712194: Add default plugin configs to source 

2011-03-01  BJ Dierkes  <wdierkes@rackspace.com

	Add default plugin config files
	
	This is the patch that I am currently applying to the RPM builds for
	default plugin configs.  This only adds plugin.cnf files for plugins
	that are not configured to build static.
	
	- Resolves LP#712194

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 727506: Can't run dbqp on rhel 5.5

2011-03-01  patrick crews  <gleebix@gmail.com>

	Nested try/excepts in try/finally to accomodate rhel's crazy-old python 2.4 : (

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 720433: 'replication' schema being used vs. actual schema for certain INSERTs with the slave-plugin

2011-03-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove include that was commented out

2011-03-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Treat RAW_SQL as DDL in the slave.

2011-03-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Output USE from statement transform code for RAW_SQL with an identified schema. Set schema name from Session for RENAME.

2011-03-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add raw_sql_schema member to Statement protobuf definition and set it in ALTER TABLE code path to current value associated with Session executing it.

2011-03-02  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Refactor dynamic_array

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unused functions

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unused functions

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Use push_back

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove dynamic_element

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove dynamic_element

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove dynamic_element

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove o
	dynamic_array_ptr

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use std::list
	Merge Andrew - 724451: drizzle_escape_string doesn't handle blob data correctly

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use std::list

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use std::list

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 724451: drizzle_escape_string doesn't handle blob data correctly

2011-03-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix libdrizzle byte count handling for drizzle_escape_string and add unittest

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 726741: Do not pass FLUSH or ANALYZE through replication stream
	Merge Olaf - more code refactoring
	Merge Andrew - Add two new domain processes to sphinx and use in the plugin docs
	Merge Patrick - 726914: Need to update dbqp randgen config files for slave_plugin

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 726741: Do not pass FLUSH or ANALYZE through replication stream

2011-02-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Never pass FLUSH or ANALYZE through replication stream

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - more code refactoring

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-03-01  Olaf van der Spek  <olafvdspek@gmail.com>

	SafeDeletePtr isn't any safer

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Add two new domain processes to sphinx and use in the plugin docs

2011-03-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix envvar

2011-03-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Missed off an include.am change

2011-03-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add configuration option and database table domain processors
	Markup plugins to use Monty's new .. options:: regex
	Markup plugins to use noew domain processors

2011-03-01  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 726914: Need to update dbqp randgen config files for slave_plugin

2011-02-28  patrick crews  <gleebix@gmail.com>

	Removed unneeded test case

2011-03-01  patrick crews  <gleebix@gmail.com>

	Updated translations

2011-02-28  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-27  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-24  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-20  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-17  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 726914: Need to update dbqp randgen config files for slave_plugin 
	Merge Olaf - fix EOL
	Merge Patrick - 725236: randgen transaction log tests need to be implemented using dbqp / randgen

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 726914: Need to update dbqp randgen config files for slave_plugin 

2011-02-28  patrick crews  <gleebix@gmail.com>

	Modified slave_plugin config files to use the randgen DrizzleSlavePlugin reporter

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - fix EOL

2011-02-28  Olaf van der Spek  <olafvdspek@gmail.com>

	Use ptr instead of i

2011-02-28  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-28  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix EOL

2011-02-25  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix EOL

2011-02-25  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Use map::count
	Fix visable typo
	Refactor

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Use find_ptr

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 725236: randgen transaction log tests need to be implemented using dbqp / randgen 	

2011-02-28  patrick crews  <gleebix@gmail.com>

	Did what was needed to run our trx log / slave tests.  We now communicate additional information via environment variables that the randgen can use to communicate with the proper server(s).  Modified the randgen as well

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Remove Session::change_item_tree
	Merge Shrew/Joe - 720908: slave will not reconnect if initial connection to master is unsuccessful
	Merge Shrews - 723923: Make sleep intervals for slave plugin configurable
	Merge Patrck - 726784: dbqp not properly resetting itself after a test failure 

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Remove Session::change_item_tree

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove Session::change_item_tree

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove Session::change_item_tree

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Shrew/Joe - 720908: slave will not reconnect if initial connection to master is unsuccessful

2011-02-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge with trunk

2011-02-21  Joseph Daly  <skinny.moey@gmail.com>

	fix bad variable names

2011-02-21  Joseph Daly  <skinny.moey@gmail.com>

	call reconnect() rather then openConnection() upon initialization, this fixes bug 720908

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 723923: Make sleep intervals for slave plugin configurable

2011-02-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add config variables for io/applier thread sleep

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Patrck - 726784: dbqp not properly resetting itself after a test failure 

2011-02-28  patrick crews  <gleebix@gmail.com>

	Fixed issue where we didn't properly reset internally post-failure - caused failure cascade

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - update replication documentation
	Merge Monty - Fix the plugin doc distcheck issue

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - update replication documentation

2011-02-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add basic info on InnoDB transaction log

2011-02-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Update replication format specifications.

2011-02-28  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Fix the plugin doc distcheck issue

2011-02-28  Monty Taylor  <mordred@inaugust.com>

	Merged up with fix-sphinx-option processing.

2011-02-28  Monty Taylor  <mordred@inaugust.com>

	How about we attach the python path decl to _ALL_ of the targets, not just
	some of them.

2011-02-26  Monty Taylor  <mordred@inaugust.com>

	Adds support for '.' in option:: names.

2011-02-28  Monty Taylor  <mordred@inaugust.com>

	When we use wildcards in EXTRA_DIST, we must give them full paths. Bah.

2011-02-25  Monty Taylor  <mordred@inaugust.com>

	Have pandora-plugin add the plugin doc files to EXTRA_DIST itself.

2011-02-27  Brian Aker  <brian@tangent.org>

	Merge in find_ptr

2011-02-26  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-26  Olaf van der Spek  <olafvdspek@gmail.com>

	Use ptr instead of i

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Use "iter->" instead of "(*iter)."

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor drizzled/message/cache

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Use find_ptr

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Use find_ptr

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-27  Brian Aker  <brian@tangent.org>

	Merge Olaf

2011-02-26  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix EOL
	Remove .vcxproj.filters

2011-02-26  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix EOL

2011-02-25  Olaf van der Spek  <olafvdspek@gmail.com>

	Fix EOL

2011-02-26  Brian Aker  <brian@tangent.org>

	Update docs for BOOLEAN

2011-02-26  Brian Aker  <brian@tangent.org>

	Add ANSI || operator, fixes CREATE TABLE for boolean types such that
	TRUE/FALSE are not the options for default values. Removes BOOL mysql
	compatible (since Monty fixed all bool to work for MySQL clients).

2011-02-26  Brian Aker  <brian@tangent.org>

	Remove caller convert to std::string (ie we were going back and forth in
	creation).

2011-02-26  Brian Aker  <brian@tangent.org>

	Fix white space in lexer.

2011-02-26  Brian Aker  <brian@tangent.org>

	Merge fix such that default is better defined on numbers.

2011-02-26  Brian Aker  <brian@tangent.org>

	Clean up the declaraion on attribute.

2011-02-25  Brian Aker  <brian@tangent.org>

	Have the parser enforce propper default values for boolean.

2011-02-25  Brian Aker  <brian@tangent.org>

	Scope out timestamp to only take certain types of values as default.

2011-02-25  Brian Aker  <brian@tangent.org>

	Break out index types.

2011-02-25  Brian Aker  <brian@tangent.org>

	Clean up the varchar made type.

2011-02-25  Brian Aker  <brian@tangent.org>

	Push logic of int down into the type and remove BOOL as being different from
	BOOLEAN since Monty has the tinyint fix in.

2011-02-25  Brian Aker  <brian@tangent.org>

	Merge in comments.

2011-02-25  Brian Aker  <brian@tangent.org>

	Enforce field attributes via the parser.

2011-02-24  Brian Aker  <brian@tangent.org>

	First pass making sure parser enforces types.

2011-02-24  Brian Aker  <brian@tangent.org>

	Cleanup idention and remove and/not for straight usage.

2011-02-24  Brian Aker  <brian@tangent.org>

	Extract out NOW for default values.

2011-02-24  Brian Aker  <brian@tangent.org>

	Add in an ANSI || operator.

2011-02-25  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fixes sqla/python mysqldb date processing
	Merge Olaf - refactor include files

2011-02-25  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fixes sqla/python mysqldb date processing

2011-02-25  Monty Taylor  <mordred@inaugust.com>

	And fix the test case, because the over-the-wire type el-changed-o.

2011-02-23  Monty Taylor  <mordred@inaugust.com>

	Ship date over the wire as date, which fixes a sqlalchemy issue.

2011-02-23  Monty Taylor  <mordred@inaugust.com>

	Fixed an assumption that the query string would always be valid.

2011-02-23  Monty Taylor  <mordred@inaugust.com>

	Marked two different thing sas exported API.

2011-02-25  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - refactor include files

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor includes

2011-02-25  Brian Aker  <brian@tangent.org>

	Merge in David's slave work

2011-02-25  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add slave docs to EXTRA_DIST

2011-02-24  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk and resolve conflict

2011-02-24  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add basic plugin documentation

2011-02-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Changed slave services dedicated schema name from 'replication' to 'sys_replication' to avoid use of reserved word.

2011-02-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for bug 720886: cached max commit_id value was not being set properly causing us to pull the same message from the master more than once

2011-02-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix commit_id to correct uint64_t type

2011-02-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Update Cached client to no longer use removed List_iterator_fast

2011-02-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Call correct method to set seconds-between-reconnect

2011-02-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for bug 720819

2011-02-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-18  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix include

2011-02-18  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Include files with translations in POTFILES.in

2011-02-18  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-18  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk and resolve conflicts

2011-02-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add quotes around schema and table names (replication is now a reserved word)

2011-02-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Change include style

2011-02-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add license to sql_exector.cc

2011-02-16  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove multi_thread plugin dependency

2011-02-16  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-16  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Working replication.

2011-02-16  David Shrewsbury  <shrewsbury.dave@gmail.com>

	incremental

2011-02-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	incremental

2011-02-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Major refactor of common functionality into new classes.

2011-02-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	incremental

2011-02-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Initial stages of master connection

2011-02-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	More config file work

2011-02-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge with trunk

2011-02-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add framework for loading config file

2011-02-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for visibility problems when plugin is compiled as dynamic.

2011-02-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Added empty version of producer thread

2011-02-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make slave plugin static to avoid odd symbol not found problems.

2011-02-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for calling unimplemented virtual method

2011-02-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Refactor design pattern

2011-02-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Rename to exploit producer/consumer paradigm

2011-02-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use replication.applier_queue as standard table name

2011-02-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Various fixes

2011-02-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Incremental check - doesn't work. Adds replication state tables.

2011-02-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	More work to execute queue messages.

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Initial work to access result set.

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge Brian

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Update sendError signature

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-02  Brian Aker  <brian@tangent.org>

	Example for David.

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make slave plugin dependent on scheduler being loaded.

2011-02-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-31  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Proper message conversion and execution.

2011-01-31  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-30  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Session clean up

2011-01-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Handle execution of Transactions

2011-01-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Additional framework enhancements

2011-01-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Creates a valid Session.

2011-01-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Initial version of slave replication plugin.

2011-02-25  Brian Aker  <brian@tangent.org>

	Rollup of Olaf/Brian/Stewart

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge Patrick

2011-02-24  patrick crews  <gleebix@gmail.com>

	Added docs for randgen

2011-02-24  patrick crews  <gleebix@gmail.com>

	Added .cnf files for all currently used d-a randgen command lines.  Some tests are disabled while we work on further tweaks to randgen integration.  Will be fixed under a sep. bug

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge Stewart.

2011-02-25  Stewart Smith  <stewart@flamingspork.com>

	throw an error on UNLOCK TABLES not unlocking anything

2011-02-24  Stewart Smith  <stewart@flamingspork.com>

	add ER_NO_LOCK_HELD error code, and expect it in case of UNLOCK TABLES without any locks held.

2011-02-24  Stewart Smith  <stewart@flamingspork.com>

	add test for bug lp:682006 - FLUSH TABLE and then UNLOCK in different connection gives you zero warnings. (our expected error code here is BS, but we need something so that the test fails)

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge in Olaf

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Refactor

2011-02-24  Brian Aker  <brian@tangent.org>

	Testing pragma once for build farm.

2011-02-24  Brian Aker  <brian@tangent.org>

	Rollup of BUID, mostly style fixes.

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge in header fix for haildb

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge docs update

2011-02-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	A few fixups to introduction

2011-02-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add basic contributing section to docs

2011-02-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix drizzledump forward references

2011-02-24  Brian Aker  <brian@tangent.org>

	More list

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove inline keyword
	Use List::iterator::operator*

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::front()

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge in copyright update

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Add copyright

2011-02-24  Brian Aker  <brian@tangent.org>

	Merge in header correction.

2011-02-24  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove unnecessary alter* includes

2011-02-23  Brian Aker  <brian@tangent.org>

	Rollup of all current patches.

2011-02-23  Brian Aker  <brian@tangent.org>

	Fix for bad session, and build issue with missing header declare.

2011-02-24  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - is replicated changes

2011-02-23  Brian Aker  <brian@tangent.org>

	Update from review from XTF

2011-02-24  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use closetsocket instead of close

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Avoid null pointer usage

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use closetsocket instead of close

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Don't define bool, false and true in C++ mode.

2011-02-24  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Introduce find_ptr, a wrapper around map::find that eliminates "!= map.end()" and "->second"

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	drizzled/find_ptr.h => drizzled/util/find_ptr.h

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Add find_ptr

2011-02-24  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - 722850 Bit shift is broken

2011-02-23  Brian Aker  <brian@tangent.org>

	Bit functions/fix for <<

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 723653: Docs day first pass fixes 
	Merge Brian - Puts back in support for COM_KILL, Also adds back in the INTERACTIVE flag, and creates a DD to track sessions/check on usage
	Merge Olaf - Use List::size()

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Add missing file plugin/session_dictionary/sessions.cc to po/POTFILES.in

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 723653: Docs day first pass fixes 

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merged trunk into branch (fix conflict)

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix libdrizzle constants docs for index

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix options indexing

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	A few more minor fixups

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Markup fixes

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix SQL markup

2011-02-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Port my drizzledump docs fixes from another branch which I thought were merged

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Puts back in support for COM_KILL, Also adds back in the INTERACTIVE flag, and creates a DD to track sessions/check on usage

2011-02-23  Brian Aker  <brian@tangent.org>

	Merge trunk.

2011-02-23  Brian Aker  <brian@tangent.org>

	Update IS/DD results for sessions.

2011-02-23  Brian Aker  <brian@tangent.org>

	Add in interactive mode back to protocol.

2011-02-22  Brian Aker  <brian@tangent.org>

	Cleanup for interactive

2011-02-22  Brian Aker  <brian@tangent.org>

	Adding SESSION table and adding back in the mysql interactive flag.

2011-02-22  Brian Aker  <brian@tangent.org>

	Add in KILL protocol support.

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use List::size()

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::size()

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::size()

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - remove register keyword
	Merge Stewart - 646898: Query causes RAM usage spike 	
	Merge Stewart - 710818: SHOW TABLE doesn't use generator 	
	Merge Patrick - 723828: dbqp should integrate with the randgen

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - remove register keyword

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove register keyword

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 646898: Query causes RAM usage spike 	

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	Replace FunctionCursor row_cache of full rows with one that is the
	packed row (using similar routines as ARHCIVE does before
	compression). This means we use minimal memory for each row. The ref
	for ::position() is now a offset into the row_cache buffer instead of
	an incrementing index into an array.
	
	This change GREATLY reduces the memory required for various queries on
	table function tables.
	
	e.g. (measured using valgrind --tool=massif) running the
	information_schema_dictionary test suite 
	BEFORE: peaked at 77.5MB heap usage
	AFTER:  peaked at 33.7MB heap usage
	
	for schema_dictionary suite:
	BEFORE: peaked at 782.6MB heap usage
	AFTER:  peaked at 31.05MB heap usage
	
	(i.e. memory requirements can be reduced by moer than an order of
	magnitude)
	
	A future patch may want to also overflow to disk if needed.

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 710818: SHOW TABLE doesn't use generator 	

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add authorization check to SHOW INDEXES

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add test for authorization in SHOW INDEXES

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add authorization check to SHOW COLUMNS

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add test for authorization check in SHOW COLUMNS

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add authorization check to SHOW CREATE SCHEMA

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add test for SHOW CREATE SCHEMA with permissions

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	style cleanup

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	add access check to SHOW CREATE TABLE

2011-02-22  Stewart Smith  <stewart@flamingspork.com>

	fix up show_table test to have correct error messages for table access check

2011-02-18  Stewart Smith  <stewart@flamingspork.com>

	add a test for bug lp:710818 - SHOW CREATE TABLE not doing same permissions check as SELECT and I_S

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 723828: dbqp should integrate with the randgen

2011-02-23  patrick crews  <gleebix@gmail.com>

	Integrated randgen with dbqp.  We now have mode=randgen and a set of randgen test suites (very basic now).  Output = same as dtr : )  We also have mode=cleanup to kill any servers we have started.  Docs updates too.  Gendata utility allows us to populate test servers 

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 676770: Error log logging 'Sort aborted' messages when DML fails with ER_INVALID_ENUM_VALUE 	
	Merge Olaf - Use Item_equal::begin() and Use List::size()
	Merge Olaf - Delete drizzled/strfunc.h

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 676770: Error log logging 'Sort aborted' messages when DML fails with ER_INVALID_ENUM_VALUE 	

2011-02-23  Stewart Smith  <stewart@flamingspork.com>

	if empty file, we get NULL - which we should get

2011-02-23  Stewart Smith  <stewart@flamingspork.com>

	Merge trunk

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	don't save the CURRENT_TEST line from the errlog to the enum_errlog file in bug 676770 regression test as running the test twice in a row means we get two of the CURRENT_TEST lines

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix regression.676770 test so that it does really look for ONLY what we're looking for.

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	fix up regression.676770 test for updated trunk: no error numbers in test case and no DDL in txns

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-18  Stewart Smith  <stewart@flamingspork.com>

	check for a return code that would mean we have something that's impossible and set this in the optimiser tree instead of continuing to try and execute the query with an impossible search condition.

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	slightly improve 676770 regression test

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	modify regression test for bug 676770 so that it'll pass when the bug is fixed

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	add regression test for bug 676770: sort aborted logged for a bad enum value

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use Item_equal::begin() and Use List::size()

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::size()

2011-02-23  Olaf van der Spek  <olafvdspek@gmail.com>

	typedef List<Item_field>::iterator Item_equal_iterator;
	Use Item_equal::begin()

2011-02-22  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Delete drizzled/strfunc.h

2011-02-22  Olaf van der Spek  <olafvdspek@gmail.com>

	Delete drizzled/strfunc.h

2011-02-23  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 723389: ORDER BY on sys_replication_log table causes InnoDB crash
	Merge Marisa - documentation updates

2011-02-22  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 723389: ORDER BY on sys_replication_log table causes InnoDB crash

2011-02-22  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	The widths for the indexes in the SYS_REPLICATION_LOG proto were too small for the index parts.  Causing crashes with a few queries that required filesort

2011-02-22  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - documentation updates

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	position updates

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	more comparison operators

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	additions, edits

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	current time functions, new content

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	adding aggregate function content

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-02-22  Marisa Plumb  <marisa.plumb@gmail.com>

	removing file

2011-02-21  Marisa Plumb  <marisa.plumb@gmail.com>

	moving functions

2011-02-21  Marisa Plumb  <marisa.plumb@gmail.com>

	adding to date functions

2011-02-21  Marisa Plumb  <marisa.plumb@gmail.com>

	insert -- added multirow insert explanation and example

2011-02-21  Marisa Plumb  <marisa.plumb@gmail.com>

	create index (no fast index creation)

2011-02-21  Marisa Plumb  <marisa.plumb@gmail.com>

	logical operators

2011-02-20  Marisa Plumb  <marisa.plumb@gmail.com>

	table update functions edits, starting authentication

2011-02-20  Marisa Plumb  <marisa.plumb@gmail.com>

	additions and updates to transaction docs

2011-02-20  Marisa Plumb  <marisa.plumb@gmail.com>

	edits

2011-02-20  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-02-20  Marisa Plumb  <marisa.plumb@gmail.com>

	updating 

2011-02-22  Brian Aker  <brian@tangent.org>

	Rollup changes in build.

2011-02-22  Brian Aker  <brian@tangent.org>

	Fix issue where we had the wrong command in a few of the test files.

2011-02-22  Brian Aker  <brian@tangent.org>

	Merge in fixes for REPLICATE

2011-02-22  Brian Aker  <brian@tangent.org>

	This fixes the message such that the table inherits the no replication
	property from the schema.

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in modifications such that we check both schema and table for
	replication option.

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in change from REPLICATION to REPLICATE as keyword.

2011-02-21  Brian Aker  <brian@tangent.org>

	Simple encapsulation of Lex

2011-02-20  Brian Aker  <brian@tangent.org>

	Sort the headers in cursor to find dependency

2011-02-20  Brian Aker  <brian@tangent.org>

	Merge in sort/fix for header file discoverd.

2011-02-22  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 722884: mysql_protocol.prototest is taking too long to execute 	

2011-02-21  patrick crews  <gleebix@gmail.com>

	Removed redundant use of ports - shows about 30 seconds improved runtime

2011-02-21  Brian Aker  <brian@tangent.org>

	List update, header fixes, multiple symbols, and David deletes some code.

2011-02-21  Brian Aker  <brian@tangent.org>

	Remove duplicate symbols.

2011-02-21  Brian Aker  <brian@tangent.org>

	Fix of build issue around List.

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in dead code removal patch by David

2011-02-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove dead code

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in style patch for List

2011-02-22  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-22  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::begin()

2011-02-22  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::begin()

2011-02-21  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::begin()

2011-02-21  Olaf van der Spek  <olafvdspek@gmail.com>

	Use List::begin()

2011-02-21  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in Olaf's style patch

2011-02-21  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove register keyword

2011-02-21  Brian Aker  <brian@tangent.org>

	Fix a couple of additional headers.

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge in Monty/Andrew's boolean MySQL compatible patch.

2011-02-21  Monty Taylor  <mordred@inaugust.com>

	Fixed two tiny things.

2011-02-21  Monty Taylor  <mordred@inaugust.com>

	Actually differentiate with the flag and fix up client output properly.

2011-02-21  Monty Taylor  <mordred@inaugust.com>

	Getting closer.

2011-02-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix BOOLEAN type for batch mode

2011-02-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add boolean support for drizzledump too

2011-02-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Separate the server detection functions into a .h file
	Include the new .h in drizzle to detect if we are connecting to drizzled
	If we are connecting to drizzled output TRUE/FALSE for boolean

2011-02-20  Monty Taylor  <mordred@inaugust.com>

	Make boolean return as tinyint through the mysql_protocol, so that php and
	python connectors don't break.

2011-02-21  Brian Aker  <brian@tangent.org>

	Merge: This cleans up the the error message system by providing for the ability to

2011-02-21  Brian Aker  <brian@tangent.org>

	This cleans up the the error message system by providing for the ability to
	alter the vebose levels of stored messages. It also brings more of Innodb
	into the error message system.

2011-02-21  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - getLex() usage and fix for table_name creation during admin commands.
	Merge Olaf - Use List::begin() and Use List::iterator instead of List_iterator_fast

2011-02-21  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - getLex() usage and fix for table_name creation during admin commands.

2011-02-21  Brian Aker  <brian@tangent.org>

	getLex() usage and fix for table_name creation during admin commands.

2011-02-20  Brian Aker  <brian@tangent.org>

	Additional fixes in headers.

2011-02-21  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Use List::begin() and Use List::iterator instead of List_iterator_fast

2011-02-21  Olaf van der Spek  <olafvdspek@gmail.com>

	Merge trunk

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-20  Brian Aker  <brian@tangent.org>

	Brian Aker 2011-02-20 Merge in additional header bits for strerror_r
	Brian Aker 2011-02-20 Create CONST on additional Field methods.
	Brian Aker 2011-02-19 Further commit const on field.
	Brian Aker 2011-02-18 This fixes DEBUG based compiles.
	Brian Aker 2011-02-18 Protect all of the val_* methods from modification.

2011-02-20  Brian Aker  <brian@tangent.org>

	Merge in additional header bits for strerror_r

2011-02-20  Brian Aker  <brian@tangent.org>

	strerror_r fix

2011-02-20  Brian Aker  <brian@tangent.org>

	Create CONST on additional Field methods.

2011-02-19  Brian Aker  <brian@tangent.org>

	Further commit const on field.

2011-02-18  Brian Aker  <brian@tangent.org>

	This fixes DEBUG based compiles.

2011-02-18  Brian Aker  <brian@tangent.org>

	Protect all of the val_* methods from modification.

2011-02-19  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - change List_iterator_fast to List<Item>::iterator

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-20  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-19  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - adds logo references to the include file
	Merge Monty - some randome clean up stuff

2011-02-19  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - adds logo references to the include file

2011-02-18  Marisa Plumb  <marisa.plumb@gmail.com>

	adding images to include.am file

2011-02-17  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-02-19  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - some randome clean up stuff

2011-02-15  Monty Taylor  <mordred@inaugust.com>

	A slew of tiny meaningless changes.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Use fs::path instead of string searching.

2011-02-19  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - clarifies a number of parser ambiguity, and cleans up UPDATE and DELETE

2011-02-18  Brian Aker  <brian@tangent.org>

	Merge in a couple of additional parser cleanups.

2011-02-18  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - add safe_delete()
	Merge Stewart - 720552: doStartIndexScan return code ignored in optimizer::sum_query() for MIN() optimization 
	Merge Olaf - add register keyword
	Merge Patrick - 720813: syntax error in dbqp that is breaking it

2011-02-18  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - add safe_delete()

2011-02-18  Brian Aker  <brian@tangent.org>

	This patch adds safe_delete(). All of these locations in the code should be
	fixed to use either an auto_ptr or a scoped_ptr (not a shared_ptr(), the
	overhead for a localized variable like this is too high).

2011-02-17  Brian Aker  <brian@tangent.org>

	Clean up REFERENCE line in parser.

2011-02-17  Brian Aker  <brian@tangent.org>

	Merge in UPDATE

2011-02-17  Brian Aker  <brian@tangent.org>

	Refactor DELETE so that it is a simple statement.

2011-02-17  Brian Aker  <brian@tangent.org>

	Additional clean up on non-typed terms

2011-02-17  Brian Aker  <brian@tangent.org>

	Cleanup around < and >

2011-02-17  Brian Aker  <brian@tangent.org>

	Remove greedy use = for table alias allowance.

2011-02-17  Brian Aker  <brian@tangent.org>

	Cleanup additional precedence rules.

2011-02-17  Brian Aker  <brian@tangent.org>

	Small cleanup for precendense

2011-02-18  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 720552: doStartIndexScan return code ignored in optimizer::sum_query() for MIN() optimization 

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	in optimization for MIN() on indexed field, the result of Cursor::startIndexScan was not checked before calling other index functions on the Cursor. 
	
	The optimizer has the ability to replace certain MIN() queries with a constant.
	
	e.g.
	CREATE TABLE t1 (a int, index(a));
	.... insert data ...
	SELECT MIN(a) FROM t1;
	
	Will execute a lookup on the first record of the index and replace that part of the query tree with a constant.
	
	In the code in sum.cc which executes this optimization, although the return code from startIndexScan was being saved, the variable was immediately overwritten by a subsequent call to (e.g.) index_first. This meant that if a StorageEngine did not save the error code and return it on subsequent index calls, we could (at best) crash.
	
	At some point in the past, the InnoDB devs figured this out, and on error in getting the index, set things appropriately so that anywhere we subsequently get a row_search_for_mysql() call, we'll get back an error code again. I have not audited all index code paths to ensure this is the case everywhere. If one of the index code paths didn't call row_search_for_mysql() or do appropriate checks, we'd probably crash. The scenarios where this would be possible would possibly be around a ongoing transaction accessing a newly created/deleted table or a table protobuf message not matching the table in innodb.
	
	MyISAM and ARCHIVE just sets a local variable and does nothing in doStartIndexScan that could possibly fail.
	
	It looks as though this could cause a crash in PBXT and HailDB.
	
	A way to test this is with storage_engine_api_tester injecting an error into the codepath.

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	update storage_engine_api_tester min_index_scan_error test result to fix what should happen (prior to the fix for the bug, the serevr will crash, so was hard to produce a correct result file)

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	add SEAPITester Cursor state for error in dostartIndexScan()

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	add --error to expect the error we're getting from our error injection in storage_engine_api_tester.min_index_scan_error test

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	add error inject test in SEAPITester to test if doStartIndexScan error is being checked. The test case we add is for MIN()

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	remove ::extra() being logged - more trouble than currently worth. should just be a 'called from anywhere' command

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	move index_flags() to engine where it belongs in SEAPITester

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	fix up a few more index bits in SEAPITester Cursor impl

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	fill in index access methods in SEAPITester.

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	fix SEAPITester ::info() support by properly copying back errkey for HA_STATUS_ERRKEY and ha_statistics from the real cursor

2011-02-17  Stewart Smith  <stewart@flamingspork.com>

	update SEAPITester cursor_states for having ::extra() in there too

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	support Cursor::extra() in storage_engine_api_tester

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	support Cursor::scan_time() in storage_engine_api_tester

2011-02-18  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - add register keyword

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-16  Olaf van der Spek  <olafvdspek@gmail.com>

	more

2011-02-18  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 720813: syntax error in dbqp that is breaking it

2011-02-17  Patrick Crews  <gleebix@gmail.com>

	Fix of stupid syntax error

2011-02-18  Brian Aker  <brian@tangent.org>

	Rollup of:
	Andrew Hutchings 2011-02-18 Set the REPLICATION to FALSE for SYS_REPLICATION_LOG as we don't want to long manual changes to it
	Andrew Hutchings 2011-02-18 Backport fix from http://bugs.mysql.com/bug.php?id=59149 which crashed drizzed
	Andrew Hutchings 2011-02-17 More fixups for drizzledump docs:

2011-02-18  Brian Aker  <brian@tangent.org>

	Andrew Hutchings 2011-02-18 Set the REPLICATION to FALSE for SYS_REPLICATION_LOG as we don't want to long manual changes to it

2011-02-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Set the REPLICATION to FALSE for SYS_REPLICATION_LOG as we don't want to long manual changes to it

2011-02-18  Brian Aker  <brian@tangent.org>

	Andrew Hutchings 2011-02-18 Backport fix from http://bugs.mysql.com/bug.php?id=59149 which crashed drizzed

2011-02-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport fix from http://bugs.mysql.com/bug.php?id=59149 which crashed drizzed

2011-02-18  Brian Aker  <brian@tangent.org>

	Merge in Andrew's drizzledump docs

2011-02-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	More fixups for drizzledump docs:
	Synopsis uses better markup
	Switched long and short option order to fix internal hyperlinks
	Removed a duplication option
	Add SQL markup to --single-transaction description
	Fix default port number
	Some other markup cleanups

2011-02-18  Brian Aker  <brian@tangent.org>

	Rollup all of Olaf's branch.

2011-02-18  Brian Aker  <brian@tangent.org>

	Merge in clear() by Olaf

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	Rename List::empty to clear (std::list uses clear)

2011-02-18  Brian Aker  <brian@tangent.org>

	MErge in Olaf

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Brian Aker  <brian@tangent.org>

	Merge Olaf

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-18  Olaf van der Spek  <olafvdspek@gmail.com>

	x

2011-02-17  Brian Aker  <brian@tangent.org>

	Test removing register.

2011-02-15  Olaf van der Spek  <olafvdspek@gmail.com>

	Remove register keyword
	Use #include < > instead of " "

2011-02-17  Brian Aker  <brian@tangent.org>

	Merge in all bison updates.

2011-02-17  Brian Aker  <brian@tangent.org>

	Merge in additional throw back in syntax for bison

2011-02-17  Brian Aker  <brian@tangent.org>

	Go back a version and see if this will make the bison on RHEL happy.

2011-02-17  Brian Aker  <brian@tangent.org>

	Cleanup some of the calling types we have in the parser.

2011-02-17  Brian Aker  <brian@tangent.org>

	Merge in additional bits for parser.

2011-02-17  Brian Aker  <brian@tangent.org>

	Adding verbose to be explicit in the parser.

2011-02-17  Brian Aker  <brian@tangent.org>

	Fix lex to use modern param type add.

2011-02-17  Brian Aker  <brian@tangent.org>

	Fix parser type to not be a void.

2011-02-16  Brian Aker  <brian@tangent.org>

	Dead-ish the macro for YYSession since we no longer cast.

2011-02-16  Brian Aker  <brian@tangent.org>

	Modernize our call to the parser, no more casting required.

2011-02-16  Brian Aker  <brian@tangent.org>

	Another smallish updat

2011-02-16  Brian Aker  <brian@tangent.org>

	Namespace the parser just a bit, and update our call for the type of parser
	we want.

2011-02-17  Brian Aker  <brian@tangent.org>

	Merge Monty for headers.

2011-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixes incorrect usage of include

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - add the DDL for replication

2011-02-16  Brian Aker  <brian@tangent.org>

	Cleanup a few locations where we should have just been using constant
	strings.

2011-02-16  Brian Aker  <brian@tangent.org>

	Move out drop keys to parser method file.

2011-02-16  Brian Aker  <brian@tangent.org>

	Abstract out the replication set.

2011-02-16  Brian Aker  <brian@tangent.org>

	Merge in replicate_options.proto

2011-02-16  Brian Aker  <brian@tangent.org>

	Merge in my patch for having some schema/table not replicated.

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge in using std::string for creating the list of bad tables.

2011-02-15  Brian Aker  <brian@tangent.org>

	CREATE TABLE/SCHEMA now allow you to add REPLICATION to the list of items
	you can control from it.

2011-02-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add mechanism to have list of schemas that will never reach replication stream.

2011-02-15  Brian Aker  <brian@tangent.org>

	Basic DDL working for replication.

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart fix some conversions from String to std::string in EXPLAIN codepath

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	convert explain_plan extra String to std::string. This means that add_info_string() also gets converted to std::string

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	tmp3 String to std::string in explain_plan (and used_lengths parameter to add_keys_and_lengths

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	convert tmp2 in explain_plan to std::string instead of char[] buf and String, consequently also convert add_keys_and_length to deal with std::string for key_names parameter

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	replace char array and String with std::string in explain path

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused local variable from optimizer::ExplainPlan::printPlan()

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 709646: --engine in dbqp.py is broken 
	Merge Patrick - 717359: dbqp needs --repeat option

2011-02-16  patrick crews  <gleebix@gmail.com>

	Minor tweak for gdb

2011-02-11  patrick crews  <gleebix@gmail.com>

	Minor tweaks

2011-02-10  patrick crews  <gleebix@gmail.com>

	Additional changes to make gdb work better

2011-02-10  patrick crews  <gleebix@gmail.com>

	gdb! : )  We try to set things up to launch the native Mac Terminal if we are running on Darwin

2011-02-14  patrick crews  <gleebix@gmail.com>

	Updated docs

2011-02-14  patrick crews  <gleebix@gmail.com>

	Various tweaks and fixes

2011-02-14  patrick crews  <gleebix@gmail.com>

	Fixed default-storage-engine option, minor fixes + added repeat option, will run each testcase in a sequence  times

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 719892 Change docs for rpm.drizzle.org
	Merge Patrick - 719445: dbqp not being included in tarballs / make distcheck
	Merge Stewart - remove some unused cmd line options for drizzledump
	Merge Marisa - 716062 - fix ubuntu install doc

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 719892 Change docs for rpm.drizzle.org

2011-02-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-02-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Change RedHat docs for rpm.drizzle.org

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 719445: dbqp not being included in tarballs / make distcheck

2011-02-16  patrick crews  <gleebix@gmail.com>

	Updated tests/include.am as needed

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - remove some unused cmd line options for drizzledump

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzledump option: complete-insert

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzledump option: all-tablespaces. This was only ever applicable to NDB and we don't have the code anymore to look at the (non-existent) I_S tables

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - 716062 - fix ubuntu install doc

2011-02-16  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-02-15  Marisa Plumb  <marisa.plumb@gmail.com>

	escaping character with backslash

2011-02-15  Marisa Plumb  <marisa.plumb@gmail.com>

	drop schema and analyze table edits

2011-02-15  Marisa Plumb  <marisa.plumb@gmail.com>

	fixes warning

2011-02-14  Marisa Plumb  <marisa.plumb@gmail.com>

	edits

2011-02-14  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-02-10  Marisa Plumb  <marisa.plumb@gmail.com>

	fix for https://bugs.launchpad.net/bugs/716062

2011-02-08  Marisa Plumb  <marisa.plumb@gmail.com>

	edits and more conditional functions

2011-02-07  Marisa Plumb  <marisa.plumb@gmail.com>

	edits to CASE function

2011-02-07  Marisa Plumb  <marisa.plumb@gmail.com>

	CASE operator

2011-02-07  Marisa Plumb  <marisa.plumb@gmail.com>

	adding control flow functions

2011-02-03  Marisa Plumb  <marisa.plumb@gmail.com>

	strings!

2011-02-02  Marisa Plumb  <marisa.plumb@gmail.com>

	more string

2011-01-31  Marisa Plumb  <marisa.plumb@gmail.com>

	length function

2011-01-31  Marisa Plumb  <marisa.plumb@gmail.com>

	string and resources

2011-01-31  Marisa Plumb  <marisa.plumb@gmail.com>

	string additions

2011-01-30  Marisa Plumb  <marisa.plumb@gmail.com>

	updating branch

2011-01-30  Marisa Plumb  <marisa.plumb@gmail.com>

	new string function docs

2011-01-29  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-01-27  Marisa Plumb  <marisa.plumb@gmail.com>

	string function list

2011-01-24  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-02-16  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - remove unused macros
	Merge Olaf - remove old style casts
	Merge Stewart remove  unused macros in drizzledump
	Merge Andrew - 718657: Several errors in Date/Time docs
	Merge Olaf - Move strfunc functions into TYPELIB class

2011-02-15  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - remove unused macros

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused ulong_to_double macro

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_CREATE_USED_ROW_FORMAT - this is now part of the generic create table options infrastructure

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused LOG_PREFIX define

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	move PTR_BYTE_DIFF to drizzletest.cc as it's the only place that still uses it

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused OFFSET macro.

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused ALIGN_PTR

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_DBKEY_LENGTH

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_ALIAS_NAME

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused FN_EXTLEN

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_DATETIME_COMPRESSED_WIDTH

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_HOSTNAME define - from old (mysql) permissions system

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_LOCK_IN_SHARE_MODE and HA_LOCK_IN_EXCLUSIVE_MODE

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused and very out of date MAX_HA. We don't have such limits in Drizzle

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	move DEFAULT_CONCURRENCY define out of definitions.h and into ARCHIVE's concurrency_test.cc - the only place that it's used

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused FLUSH_TIME

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused PRECISION_FOR_DOUBLE and PRECISION_FOR_FLOAT defines

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused USER_VARS_HASH_SIZE

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused NRERRBUFFS define from error.h

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	actually use some of the constants in temporal.h for MAX minutes/seconds et al (including leap seconds) in temporal.cc

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove a couple of unused STATUS_ flags for form->status

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused TIME_MAX_VALUE_SECONDS

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused DECIMAL_MAX_FIELD_SIZE

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused DECIMAL_LONG_DIGITS and DECIMAL_LONG3_DIGITS

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_tz_init

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove traces of system_time_zone

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused sys_var_session_time_zone

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_tz_find()

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove completely unused drizzled/tzfile.h

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused get_chunk_count() macro from memory/heap_priv.h

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused CHUNK_STATUS_LINKED define from memory/heap_priv.h

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused SWITCH_TO_NEXT_CHUNK_FOR_READ() macro from memory plugin

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused CLIENT_NET_(READ|WRITE)_TIMEOUT from mysql_Protocol plugin

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused GREGORIAN_START defines

2011-02-15  Stewart Smith  <stewart@flamingspork.com>

	use DRIZZLE_MAX_MONTHS instead of 12 in temporal code

2011-02-15  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - remove old style casts

2011-02-16  Olaf van der Spek  <olafvdspek@gmail.com>

	casts

2011-02-15  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart remove  unused macros in drizzledump

2011-02-16  Stewart Smith  <stewart@flamingspork.com>

	remove unused #defines from drizzledump

2011-02-15  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 718657: Several errors in Date/Time docs

2011-02-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Missed something on temporal docs, now fixed

2011-02-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make fixes to temporal docs
	Make a few minor docs cleanups/fixes
	Start using syntax-highlighting code blocks

2011-02-15  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - Move strfunc functions into TYPELIB class

2011-02-15  Olaf van der Spek  <olaf@testing>

	merge trunk

2011-02-14  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-13  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	merge from trunk

2011-02-11  Olaf van der Spek  <olaf@testing>

	merge from trunk

2011-02-10  Olaf van der Spek  <olaf@testing>

	merge from trunk

2011-02-09  Olaf van der Spek  <olaf@testing>

	char* -> const char*

2011-02-09  Olaf van der Spek  <olaf@testing>

	Move strfunc functions into TYPELIB class

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge of all fixes related to errors, schemas, etc.

2011-02-15  Brian Aker  <brian@tangent.org>

	Good old ICC, it found an error.

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge in change of test (ie not report host)

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge in schema/error fixes.

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2011-02-14  Brian Aker  <brian@tangent.org>

	Merge in fixes for error messages with privs.

2011-02-14  Brian Aker  <brian@tangent.org>

	Merge in shared ptr modification for auth (namely we don't take the hit for
	the counter on the user's own structure).

2011-02-14  Brian Aker  <brian@tangent.org>

	Finalize interface for schema.

2011-02-13  Brian Aker  <brian@tangent.org>

	Merge in move of schema.

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in error wasteful removal.

2011-02-12  Brian Aker  <brian@tangent.org>

	Remove dead call for getTableMessage()

2011-02-12  Brian Aker  <brian@tangent.org>

	Remove additional spot where we passed in a reference of a shared pointer.

2011-02-12  Brian Aker  <brian@tangent.org>

	Remove the pass by reference, it really wasn't a good choice.

2011-02-15  Brian Aker  <brian@tangent.org>

	Merge datetime tree.

2011-02-14  Brian Aker  <brian@tangent.org>

	Make use of isDateTime

2011-02-14  Brian Aker  <brian@tangent.org>

	Fix issues where int display length may be too small, and fix collation
	cases around dates (which are always binary).

2011-02-15  Patrick Crews  <gleebix@gmail.com>

	Updated translations

2011-02-15  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-11  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-06  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-05  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Merge Haildb fixes from Stewart and various small build cleanups from Monty.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Fixed a solaris warning. Wow. 3 for 3.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Fixed an ICC warning.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Fixed an OSX warning.

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix for build tweaks

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Making debug plugin non-static made us need to expose a symbol.

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - build tweaks

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Let's not vomit on tarball builds on missing po mentions.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	We don't want the debug plugin by default.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Fix daemonize c++ patch.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	Made sphinx -Werror dependent on the same thing gcc -Werror is dependent on.

2011-02-14  Monty Taylor  <mordred@inaugust.com>

	C++-ize daemon.c. Our codebase is c++.

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 718549: HailDB doesn't handle LOCK_WAIT_TIMEOUT stmt rollback properly

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix HailDB rollback of statemnet on DB_LOCK_WAIT_TIMEOUT

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 718516: recent merges broke HailDB 

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb type_datetime test for changed error for invalid date and changed precision

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb type_date test for no implicit cartesian join and changed error for invalid date

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb type_blob test for no implicit cartesian join

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb truncat test for updated table not found error message

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb rename test for updated table not found error message

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix haildb index_res_read_check test for no transactional DDL test

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	update haildb.conf_lru_old_blocks_pct test result for current error message

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	update HailDB basic_create_with_index test result for SHOW CREATE TABLE update that prints UNIQUE constraints

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	update haildb alter_table test for current Unknown Table error message

2011-02-14  Stewart Smith  <stewart@flamingspork.com>

	fix drizzled::session::TableMessages to be DRIZZLED_API as we need it for HailDB. Previous to this commit, HailDB plugin would not load due to not found symbol

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 718224: Minor changes to migration docs needed 
	Merge Olaf - updating old style casts
	Merge Olaf - drizzletest re-factoring

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 718224: Minor changes to migration docs needed 

2011-02-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Damn, missed one

2011-02-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add favicon to docs
	Set logo setting in conf.py
	Add TODO markup settings
	Switch FIXME labels to TODO markup
	Various docs cleanups

2011-02-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge in changes from bug #718224

2011-02-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make fixes to drizzledump docs
	Fix docs compile warning (which triggers an error in Sphinx 1.0.7)

2011-02-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Initial cleanups

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - updating old style casts

2011-02-13  Olaf van der Spek  <olafvdspek@gmail.com>

	fix

2011-02-13  Olaf van der Spek  <olafvdspek@gmail.com>

	USe "not" instead of "!"

2011-02-13  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	casts

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	refactor rows2double

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	casts

2011-02-14  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - drizzletest re-factoring

2011-02-13  Olaf van der Spek  <olafvdspek@gmail.com>

	merge trunk

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	Use &vector::front() insetad of data()

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	merge from trunk

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	merge from trunk

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	refactor

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-10  Olaf van der Spek  <olaf@testing>

	drizzletest refactoring

2011-02-09  Olaf van der Spek  <olaf@testing>

	Const fixes

2011-02-09  Olaf van der Spek  <olaf@testing>

	Merge from trunk

2011-02-09  Olaf van der Spek  <olaf@testing>

	Replace macros by const vars

2011-02-09  Olaf van der Spek  <olaf@testing>

	Replace macros by const vars

2011-02-13  Brian Aker  <brian@tangent.org>

	Merge in the last of the header fixes.

2011-02-13  Brian Aker  <brian@tangent.org>

	Merge in all changes for current_session, etc.

2011-02-12  Brian Aker  <brian@tangent.org>

	Remove dependency from session of error handler

2011-02-12  Brian Aker  <brian@tangent.org>

	Shift CopyField out to its own file.

2011-02-12  Brian Aker  <brian@tangent.org>

	sort includes

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in bits for header cleanup.

2011-02-12  Brian Aker  <brian@tangent.org>

	Remove need for current_session in include.

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in all changes for include files.

2011-02-12  Brian Aker  <brian@tangent.org>

	Additional removal of session

2011-02-13  Brian Aker  <brian@tangent.org>

	Merge Monty

2011-02-13  Brian Aker  <brian@tangent.org>

	Fix for not finding strlen

2011-02-13  Monty Taylor  <mordred@inaugust.com>

	And one more file.

2011-02-13  Monty Taylor  <mordred@inaugust.com>

	Fix a distcheck issue.

2011-02-13  Monty Taylor  <mordred@inaugust.com>

	Merged in pkg-config fixes.

2011-02-11  Monty Taylor  <mordred@inaugust.com>

	Actually distribute the pc files.

2011-02-11  Monty Taylor  <mordred@inaugust.com>

	Provide pkg-config files and also stick drizzle plugin files in a place
	where we don't conflict with our tree.

2011-02-13  Monty Taylor  <mordred@inaugust.com>

	Removed the lint stuff.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Removed the cpplint thing. We weren't actually using it and it was taking
	too much time to process the file list during every build.

2011-02-13  Monty Taylor  <mordred@inaugust.com>

	Merged in code to make Windows build work again.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Updated the windows build to be able to build from the command line and not to show warnings on strncpy.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Removed some unused cruft.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	We need this marked with struct on linux.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Merged in various amounts of win32 fixes. Now is quite happy in vs10.

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Update VS format

2011-02-12  Monty Taylor  <mordred@inaugust.com>

	Merged in outstanding changes from the win32 work.

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in Olaf's work.

2011-02-12  Olaf van der Spek  <olafvdspek@gmail.com>

	casts

2011-02-12  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 709648: --gdb in dbqp.py is broken 

2011-02-11  patrick crews  <gleebix@gmail.com>

	Updates to docs

2011-02-11  patrick crews  <gleebix@gmail.com>

	Added in --gdb and --manual-gdb option as well as --drizzled option

2011-02-12  Brian Aker  <brian@tangent.org>

	Additional issue for solaris

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in a possible fix for Solaris

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in solaris tree.

2011-02-12  Brian Aker  <brian@tangent.org>

	Additional removal of session.

2011-02-12  Brian Aker  <brian@tangent.org>

	Merge in optimizer pieces.

2011-02-12  Brian Aker  <brian@tangent.org>

	More removal of session from includes.

2011-02-11  Brian Aker  <brian@tangent.org>

	Another dead use of session.

2011-02-11  Brian Aker  <brian@tangent.org>

	Remove another instance of using session.

2011-02-11  Brian Aker  <brian@tangent.org>

	Further strip out includes.

2011-02-11  Brian Aker  <brian@tangent.org>

	Move up midway include file.

2011-02-11  Brian Aker  <brian@tangent.org>

	Merge in session up and out of sql_select.h

2011-02-11  Brian Aker  <brian@tangent.org>

	Additional cleanup.

2011-02-11  Brian Aker  <brian@tangent.org>

	class Join constructor moved out.

2011-02-11  Brian Aker  <brian@tangent.org>

	Merge in small cleanups.

2011-02-11  Brian Aker  <brian@tangent.org>

	Fix the include list in drizzled.cc (just sorted, and included correctly).

2011-02-11  Brian Aker  <brian@tangent.org>

	This fixes 716459

2011-02-10  Brian Aker  <brian@tangent.org>

	Update headers (more removal of session).

2011-02-10  Brian Aker  <brian@tangent.org>

	Reduce include files for show command.

2011-02-09  Brian Aker  <brian@tangent.org>

	Merge in sun fix.

2011-02-09  Brian Aker  <brian@tangent.org>

	Merge in sort of session.

2011-02-09  Brian Aker  <brian@tangent.org>

	Sort the cursor's include files, see if anything breaks.

2011-02-09  Brian Aker  <brian@tangent.org>

	Merge in header fixes.

2011-02-08  Brian Aker  <brian@tangent.org>

	Remove some of the dependencies from session.h so that we make the include
	structure a bit simpler.

2011-02-08  Brian Aker  <brian@tangent.org>

	Merge in additional fixes found.

2011-02-07  Brian Aker  <brian@tangent.org>

	Remove strdup

2011-02-07  Brian Aker  <brian@tangent.org>

	Remove bits from Session where was providing a service directly.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move ha_data out.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move out subclasses from session.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move transactions out.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move out property map to its own files.

2011-02-07  Brian Aker  <brian@tangent.org>

	Remove/set a couple of headers.

2011-02-07  Brian Aker  <brian@tangent.org>

	Merge in state to its own file.

2011-02-06  Brian Aker  <brian@tangent.org>

	Move table container out so that we aren't directly dealing with it in
	Session.

2011-02-12  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fixes for union

2011-02-11  Brian Aker  <brian@tangent.org>

	Fix for union.

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 716852: drizzle --prompt doesn't work
	Merge Stewart - 716850: day and month names aren't i8n'd in drizzle.cc 	
	Merge Stewart - updates to SEAPITester

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 716852: drizzle --prompt doesn't work

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	drizzle command line client wasn't respecting --prompt cmd line parameter.

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 716850: day and month names aren't i8n'd in drizzle.cc 	

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	make day names and month names in drizzle client (for prompt) internationalizable

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - updates to SEAPITester

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	fix up savepoint states in SEAPITester

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	update savepoint_txn test to check what SEAPI methods being called

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-15  Stewart Smith  <stewart@flamingspork.com>

	start a test for SEAPITester for savepoints. Taking David's small test case r.e. txn log and savepoints and adding engine_state transitions for savepoints. Currently, from looking at the log you can see that the calls are never made to the engine and the test case fails (because the savepoint wasn't created

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 716848: drizzleimport displays wrong program_name
	Merge Stewart - update README file
	Merge Andrew and Joe - Exposes the InnoDB SYS_REPLICATION_LOG to data_dictionary so that it is fast and fixes many issues we have been having

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 716848: drizzleimport displays wrong program_name

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	drizzleimport had incorrect program_name (typo)

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - update README file

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	add some things to the README from the website. give a bit of information about the project in the README

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew and Joe - Exposes the InnoDB SYS_REPLICATION_LOG to data_dictionary so that it is fast and fixes many issues we have been having

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge in transaction reader libdrizzle fixes

2011-02-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix up how we are creating/using drizzle api result set

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge in Shrew's transaction reader fixes

2011-02-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix freeing of result set

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix possible visibility issue

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add message_len column to sys_replication_log and make transaction reader compatible

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge in lp:~dshrews/drizzle/trxrdr_inno_repl_changes

2011-02-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Modify transaction_reader to extract from InnoDB replication table properly.

2011-02-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add DDL safeguards to SYS_REPLICATION_LOG

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix case sensitivity

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add index for Shrews

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix end_timestamp

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge in lp:~skinny.moey/drizzle/inno_seq_commit

2011-02-07  Joseph Daly  <skinny.moey@gmail.com>

	fix test

2011-02-07  Joseph Daly  <skinny.moey@gmail.com>

	add segmented message implementation

2011-02-07  Joseph Daly  <skinny.moey@gmail.com>

	formatting fixes

2011-02-07  Joseph Daly  <skinny.moey@gmail.com>

	move where log_commit_id is being set, startup events were having a problem as they do not call doCommit()

2011-02-07  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2011-02-06  Joseph Daly  <skinny.moey@gmail.com>

	fix valgrind warning during init of trx

2011-02-06  Joseph Daly  <skinny.moey@gmail.com>

	add commit_id_mutex

2011-02-06  Joseph Daly  <skinny.moey@gmail.com>

	fix tests

2011-02-06  Joseph Daly  <skinny.moey@gmail.com>

	use atomic for commit id

2011-02-05  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2011-02-05  Joseph Daly  <skinny.moey@gmail.com>

	log commit id

2011-02-02  Joseph Daly  <skinny.moey@gmail.com>

	fix compiler error

2011-02-02  Joseph Daly  <skinny.moey@gmail.com>

	remove some unused code

2011-02-02  Joseph Daly  <skinny.moey@gmail.com>

	first pass with commit_id, timestamp

2011-02-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix storage and output of replication tables

2011-02-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add basic start of direct access to sys_replication_log.  Broken at the moment

2011-02-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-02-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Limit the amount of RAM needed by the transaction log tests

2011-02-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fixed test case when test is run more than once without restart

2011-02-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add test cases for the innodb_replication_log table

2011-02-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-02-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make transaction_message_threshold a read-only global variable instead of a per-session variable
	Make replication_dictionary column lengths use transation_message_threshold

2011-02-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - add higher precision timer in the drizzle command line client.

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	use boost time_duration to generate our nice query duration stsring instead of math on a double

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	use boost::posix_time::ptime instead of gettimeofday() to be a bit more portable

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	use a higher precision timer in the drizzle command line client. switch to using struct timeval for it, use 6 digit precision.

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - moves mark_transaction_to_rollback to be a method in Session
	Merge Vijay -  715789: test-drizzle, test-jp etc dont run check
	Merge Stewart - 565053: Fork to background

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - moves mark_transaction_to_rollback to be a method in Session

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	replace mark_transaction_to_rollback() with Session::markTransactionForRollback()

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	remove the if(session) from mark_transaction_to_rollback and convert to an assert

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	715789: test-drizzle, test-jp etc dont run check

2011-02-10  vjsamuel1990@gmail.com

	Merge fix for build issue

2011-02-10  vjsamuel1990@gmail.com

	Merge resolved merge conflicts

2011-02-09  vjsamuel1990@gmail.com

	Merge fix bug 715789

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 565053: Fork to background

2011-02-11  Stewart Smith  <stewart@flamingspork.com>

	using signal() instead of sigignore() as it's compatible with FreeBSD < 8.1

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	partition the initialisation of variables and command line options into two phases: the first being the simple one (that we can get out the --daemon option for) and the second being loading plugins, pidfile setup etc. This makes --daemon do the pidfile correctly.

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	three places that had extern current_pid did not use it. remove them.

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	small style fix

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-02-02  Stewart Smith  <stewart@flamingspork.com>

	update daemon.c copyright

2011-02-02  Stewart Smith  <stewart@flamingspork.com>

	wait until after the server has started up properly and about ready to receive connections before returning control if --daemon. Also make errors/logs on stderr still appear.

2011-02-01  Stewart Smith  <stewart@flamingspork.com>

	add a very simple --daemon or -d option to drizzled using the exact same code as memcached to start as a daemon.

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 715885: dbqp needs to return non-zero if tests fail
	Merge Stewart - 715539: (get|set)_session_proc_info() still exists
	Merge Stewart - 715575: misc session_foo() functions exist - should be methods in Session
	Merge Stewart - 712843: SAVEPOINT after rollback due to deadlock with autocommit=off in transaction will call startTransaction with an existing transaction where one shouldn't exist

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 715885: dbqp needs to return non-zero if tests fail

2011-02-09  patrick crews  <gleebix@gmail.com>

	Fix to drizzletest output handling

2011-02-09  patrick crews  <gleebix@gmail.com>

	change to include.am

2011-02-09  patrick crews  <gleebix@gmail.com>

	Updates to allow several dbqp's run run on one system (via uuid) and fix to return a relevant code post-execution (ie 1 if tests failed or timed out))

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 715539: (get|set)_session_proc_info() still exists
	Merge Stewart - 715575: misc session_foo() functions exist - should be methods in Session

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	switch doing_tablespace_operation to doingTablespaceOperation and set_doing_tablespace_operation to setDoingTablespaceOperation

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	switch doing_tablespace_operation to doingTablespaceOperation and set_doing_tablespace_operation to setDoingTablespaceOperation

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	fix Session::tx_isolation to be getTxIsolation to follow coding style, but look weird

2011-02-10  Stewart Smith  <stewart@flamingspork.com>

	switch get_sql_command to getSqlCommand

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	fix up two uses of session->tx_isolation to be correct call

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	properly encapsulate Session::Lex->sql_command and stop using (and remove) session_sql_command(session)

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	removes session_tx_isolation() and replace with Session::tx_isolation()

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	properly encapsulate Session::tablespace_op and stop using (and remove) session_tablespace_op(session)

2011-02-09  Stewart Smith  <stewart@flamingspork.com>

	use Session::(get|set)_proc_info instead of (get|set)_session_proc_info in ARCHIVE engine, which means we can remove the non-member functions.

2011-02-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 712843: SAVEPOINT after rollback due to deadlock with autocommit=off in transaction will call startTransaction with an existing transaction where one shouldn't exist

2011-02-08  Stewart Smith  <stewart@flamingspork.com>

	switch default Statement::isTransactional() to false, have explicit overriding of true where needed.

2011-02-07  Stewart Smith  <stewart@flamingspork.com>

	update test result due to changed error code once the branch that introduced it was merged with trunk

2011-02-07  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-02-07  Stewart Smith  <stewart@flamingspork.com>

	be sure to start a transaction with a startTransaction call on the first statement when autocommit is OFF. The only statements that DO NOT do this are a) DDL and b) SELECT without a table (e.g. SELECT DATABASE() and SHOW STATUS.

2011-02-07  Stewart Smith  <stewart@flamingspork.com>

	fix SERVER_STATUS_IN_TRANS for rollback in autocommitOrRollback

2011-02-04  Stewart Smith  <stewart@flamingspork.com>

	merge removal of implicit commit in START TRANSACTION

2011-02-04  Stewart Smith  <stewart@flamingspork.com>

	reset SEAPITESTER_ERROR_INJECT in test

2011-02-04  Stewart Smith  <stewart@flamingspork.com>

	change Session::startTransaction() to assert that there is not already a transaction in progress before starting one (i.e. NO IMPLICIT COMMIT)

2011-02-04  Stewart Smith  <stewart@flamingspork.com>

	add test for checking behaviour around SAVEPOINT with autocommit=off and deadlock caused rollbacks. This is for Bug lp:712843

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more parser rework

2011-02-09  Brian Aker  <brian@tangent.org>

	Merge parser tree.

2011-02-09  Brian Aker  <brian@tangent.org>

	Merge up parser work for additional column builds.

2011-02-08  Brian Aker  <brian@tangent.org>

	Adding build for unique column

2011-02-08  Brian Aker  <brian@tangent.org>

	Fix serial to be the same in the parser.

2011-02-08  Brian Aker  <brian@tangent.org>

	function for decimal to be pulled out of the parser.

2011-02-08  Brian Aker  <brian@tangent.org>

	Merge in more build bits.

2011-02-08  Brian Aker  <brian@tangent.org>

	Make use of buildBlobColumn().

2011-02-07  Brian Aker  <brian@tangent.org>

	Merge in varbinary build method.

2011-02-07  Brian Aker  <brian@tangent.org>

	Merge in timestamp build parser function.

2011-02-07  Brian Aker  <brian@tangent.org>

	Merge in column varchar build.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move integer building into parser code file.

2011-02-07  Brian Aker  <brian@tangent.org>

	Make additional use of buildKey()

2011-02-07  Brian Aker  <brian@tangent.org>

	Additional encapsulation.

2011-02-07  Brian Aker  <brian@tangent.org>

	buildKey for parser.

2011-02-07  Brian Aker  <brian@tangent.org>

	Move over the collation test to a function outside of the parser.

2011-02-07  Brian Aker  <brian@tangent.org>

	Remove hard coded array for numbers (this also fixes a couple of spots where
	the lengths were off).

2011-02-06  Brian Aker  <brian@tangent.org>

	Additional remove of current_session.

2011-02-06  Brian Aker  <brian@tangent.org>

	Remove a single case of current_sesssion by using assert().

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Don't die on warnings in tarballs
	Merge Olaf - TYPELIB instances need to be replaced with some STL or Boost datastructure
	Merge Vijay - 715312: make test-dbqp should also run 'check' 	

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Don't die on warnings in tarballs

2011-02-09  Monty Taylor  <mordred@inaugust.com>

	Don't build with warnings in a tarball build.

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - TYPELIB instances need to be replaced with some STL or Boost datastructure

2011-02-09  Olaf van der Spek  <olaf@testing>

	Make class of TYPELIB

2011-02-09  Olaf van der Spek  <olaf@testing>

	Make class of TYPELIB

2011-02-09  Olaf van der Spek  <olaf@testing>

	Make class of TYPELIB

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - 715312: make test-dbqp should also run 'check' 	

2011-02-09  vjsamuel1990@gmail.com

	Merge Monty

2011-02-09  Monty Taylor  <mordred@inaugust.com>

	Run check.

2011-02-09  vjsamuel1990@gmail.com

	Merge possible fix for bug 715312

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - update valgrind suppressions on 32bit machines
	Merge Olaf - macro functions should be c++ template functions
	Merge Lee - 714638: [user_locks plugin] Compilation aborts on FreeBSD 8.1 after complaining about overloaded abs function

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - update valgrind suppressions on 32bit machines

2011-02-07  Lee Bieber kalebral@gmail.com

	update valgrind suppressions for 32bit machine

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Olaf - macro functions should be c++ template functions

2011-02-08  Olaf van der Spek  <olaf@testing>

	Replace swap_clone_flag macro by function

2011-02-08  Olaf van der Spek  <olaf@testing>

	Replace TRASH_MEM macro by function

2011-02-08  Olaf van der Spek  <olaf@testing>

	Replace likeconv macro by function

2011-02-08  Olaf van der Spek  <olaf@testing>

	Fix typo

2011-02-08  Olaf van der Spek  <olaf@testing>

	Replace ADD_DIRECTORY macro by function

2011-02-08  Olaf van der Spek  <olaf@testing>

	Replace ADD_COMMON_DIRECTORIES macro by function

2011-02-09  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 714638: [user_locks plugin] Compilation aborts on FreeBSD 8.1 after complaining about overloaded abs function

2011-02-07  Lee Bieber kalebral@gmail.com

	Compile error on freebsd 8.1

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 714911: dbqp needs valgrind to work

2011-02-07  patrick crews  <gleebix@gmail.com>

	Last bit of work to get valgrind working

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 709859: dbqp needs to redirect drizzletest stderr ouput appropriately

2011-02-07  patrick crews  <gleebix@gmail.com>

	Some code cleanup + bug fix + setting up for parallel - using subprocess module for drizzletest calls >: )

2011-02-07  patrick crews  <gleebix@gmail.com>

	Fix of small syntax error in start-and-exit handling

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 713347: Cartesian joins actually work
	Merge Vijay - write encapsulated join_read_system() function name to abide to coding standards
	Merge Patrick - 713802: dbqp needs to fix port management 

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 713347: Cartesian joins actually work

2011-02-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge with trunk

2011-02-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Implicit joins of the form "SELECT * FROM t1, t2" without WHERE or ON now error.

2011-02-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix InnoDB error message

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - write encapsulated join_read_system() function name to abide to coding standards

2011-02-07  vjsamuel1990@gmail.com

	Merge re write encapsulated join_read_system() function name to abide to coding standards.

2011-02-06  vjsamuel1990@gmail.com

	Merge trunk

2011-02-06  vjsamuel1990@gmail.com

	Merge encapsulate join_system_read() into JoinTable

2011-02-07  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 713802: dbqp needs to fix port management 

2011-02-07  patrick crews  <gleebix@gmail.com>

	Further port_management work.  Blow away unused port files on --start-and-exit.  Also removed previous references to port catalog (old method).  Tweaked when we report server information on --start-and-exit

2011-02-07  patrick crews  <gleebix@gmail.com>

	Minor tweak to start-and-exit (report server info prior to exit) and update of port_file_naming

2011-02-07  patrick crews  <gleebix@gmail.com>

	Updates to port management to fix several issues

2011-02-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - table error updates
	Merge Brian - parser updates
	Merge Brian - more catalog work

2011-02-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - table error updates

2011-02-05  Brian Aker  <brian@tangent.org>

	Table error update.

2011-02-05  Brian Aker  <brian@tangent.org>

	Refactor so that the return is simpler to work with from parsing.

2011-02-04  Brian Aker  <brian@tangent.org>

	Switch to scoped_lock

2011-02-04  Brian Aker  <brian@tangent.org>

	Remove double clear when using table.

2011-02-04  Brian Aker  <brian@tangent.org>

	Fix init on table.

2011-02-04  Brian Aker  <brian@tangent.org>

	Hide open_table_error() from interface.

2011-02-04  Brian Aker  <brian@tangent.org>

	Simplify parse_table_proto

2011-02-04  Brian Aker  <brian@tangent.org>

	Just shuffle out the wrapper for message reading.

2011-02-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - parser updates

2011-02-05  Brian Aker  <brian@tangent.org>

	Merge in parser update.

2011-02-05  Brian Aker  <brian@tangent.org>

	Fix bad error in warnings/errors.

2011-02-04  Brian Aker  <brian@tangent.org>

	Remove current_session in building the error count.

2011-02-04  Brian Aker  <brian@tangent.org>

	Remove additional use of current_session.

2011-02-04  Brian Aker  <brian@tangent.org>

	Fix item so that we have session (ie, it always exists within the context so
	we should just handle having it).

2011-02-04  Brian Aker  <brian@tangent.org>

	Remove current_session usage in one location (we have the table's session to
	use).

2011-02-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more catalog work

2011-02-05  Brian Aker  <brian@tangent.org>

	Inno updates.

2011-02-05  Brian Aker  <brian@tangent.org>

	Error log messages from Inno, most, not all are sent to the correct error
	log.
	We now remove the error log plugins last.

2011-02-04  Brian Aker  <brian@tangent.org>

	Remove the need to keep global variables around.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in cleanup of dead class to drizzle structures (its C++ we don't need
	to be doing this any longer).

2011-02-04  Brian Aker  <brian@tangent.org>

	Fix bug where if you changed the innodb commit rate on the fly you could
	screw the pooch on the code using the value to determine its loop.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in last of session void pointers. Who needs sleep.

2011-02-05  Brian Aker  <brian@tangent.org>

	Merge in VJ

2011-02-05  vjsamuel1990@gmail.com

	Merge change nested_join_st to NestedJoin

2011-02-04  vjsamuel1990@gmail.com

	Merge trunk

2011-02-04  vjsamuel1990@gmail.com

	Merge encapsulate join_read_const_table() into JoinTable.

2011-02-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 702575: Need to document bug #622472
	Merge Andrew - 702878: "Show table status" needs an overhaul 	
	Merge Lee - 712123: Remove warnings from unittests
	Merge Patrick - 711273: dbqp not running rabbitmq tests, plus clean up server management

2011-02-04  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 702575: Need to document bug #622472
	Merge Andrew - 702878: "Show table status" needs an overhaul 	

2011-02-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix ownership for temp tables

2011-02-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make SHOW TABLE STATUS show the an AUTO_INCREMENT value
	Basic caveat documentation for SHOW CREATE TABLE and SHOW TABLE STATUS

2011-02-04  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 712123: Remove warnings from unittests

2011-02-04  Lee Bieber kalebral@gmail.com

	remove tests which are no longer valid

2011-02-04  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 711273: dbqp not running rabbitmq tests, plus clean up server management

2011-02-04  patrick crews  <gleebix@gmail.com>

	Overhaul of code.  We can run rabbitmq : )  We now better encapsulate a per-executor working environment = one step closer to --parallel >: ) using subprocess goodness for server control

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in Lee's fixes for the test system to no longer use numbers.

2011-02-04  Lee Bieber kalebral@gmail.com

	remove remaining error numbers for tests, fail if test has error numbers

2011-02-04  Lee Bieber kalebral@gmail.com

	remove remaining error numbers for tests, fail if test has error numbers

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge of all local trees.

2011-02-04  Brian Aker  <brian@tangent.org>

	Update for test conflict (warning number off).

2011-02-04  Brian Aker  <brian@tangent.org>

	Ongoing cleanup to decimal.

2011-02-03  Brian Aker  <brian@tangent.org>

	Remove error type from str convert since we always want an error.

2011-02-03  Brian Aker  <brian@tangent.org>

	Formatting

2011-02-03  Brian Aker  <brian@tangent.org>

	Remove ZEROFILL for decimal.

2011-02-04  Brian Aker  <brian@tangent.org>

	Main bit of this patch is that Inno now just uses the identifier so we only
	have one spot to make changes for paths.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in test "de-importance" (per conversations a few weeks ago, I forgot
	to include it).

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in fix such that we make a little less use of the void pointer.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in fix such that we don't pass session around as a void pointer.

2011-02-03  Brian Aker  <brian@tangent.org>

	Remove normalize command from inno

2011-02-03  Brian Aker  <brian@tangent.org>

	Fix innodb to just directly use the identifier (this way we only need to
	modify one code path).

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in encapsulation so that when laying out catalogs we have folks just
	using the interface.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in fix for not found table (simplifies the caller as well).
	
	Events are now just being processed on shared tables.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in additional test case fixes.

2011-02-04  Brian Aker  <brian@tangent.org>

	Merge in error message fix for just one type of error for unknown table.

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in decomplication of our error system when reading through the table
	message.

2011-02-03  Brian Aker  <brian@tangent.org>

	MErge current work.

2011-02-03  Brian Aker  <brian@tangent.org>

	Move out event so that we don't incur it when using temp/internal tables.

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in Stewart

2011-02-04  Stewart Smith  <stewart@flamingspork.com>

	remove ER_ERROR_LAST as it is completely unused.

2011-02-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-02-03  Stewart Smith  <stewart@flamingspork.com>

	add test for 674719: START TRANSACTION causes implicit COMMIT

2011-02-03  Stewart Smith  <stewart@flamingspork.com>

	on START TRANSACTION being called during a transaction, output a warning that a transaction is already in progress. This is the same behaviour as PostgreSQL. We used to do an implicit commit. This is totally not the right thing to do.

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in fix by crews.

2011-02-03  patrick crews  <gleebix@gmail.com>

	Revert patch for lp:709653.  The patch causes the help menu to be displayed every time the program is run.  Need to reopen the bug / determine if we want to fix this

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in David.

2011-02-03  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-record schema_dictionary.data_dictionary test result.

2011-02-03  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-02-02  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk and fix conflicts

2011-02-02  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-record tests

2011-02-02  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-31  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add segment ID to the InnoDB replication table so that it can be used for sorting messages of the same transaction.

2011-02-03  Brian Aker  <brian@tangent.org>

	Rollup.

2011-02-03  Brian Aker  <brian@tangent.org>

	Fix for haildb

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in boolean tree.

2011-02-02  Brian Aker  <brian@tangent.org>

	Add documentation for BOOL/BOOLEAN type, and add a mysql compatible BOOL for
	folks who are porting software.

2011-02-02  Brian Aker  <brian@tangent.org>

	Move over the convert to be in the type class.

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in boolean convert function so we use the same code for conversion.

2011-02-02  Brian Aker  <brian@tangent.org>

	Small optimization for boolean type.

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in decimal cleanup.

2011-02-03  Brian Aker  <brian@tangent.org>

	Additional decimal.

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in setup for decimal.

2011-02-02  Brian Aker  <brian@tangent.org>

	Move decimal_zero, and a light fix on the decimal_t type (ditch the
	typedef).

2011-02-03  Brian Aker  <brian@tangent.org>

	Merge in table tree.

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in singular (to be be used with temp tables).

2011-02-02  Brian Aker  <brian@tangent.org>

	Switch to scoped_ptr for the table message.

2011-02-02  Brian Aker  <brian@tangent.org>

	Collapse strings used for table.

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in encapsulation of the table message from the main class.

2011-02-02  Brian Aker  <brian@tangent.org>

	Flip name on variable (main to check for poor usage of it).

2011-02-02  Brian Aker  <brian@tangent.org>

	Simple encapsulation for table.

2011-02-02  Brian Aker  <brian@tangent.org>

	Fix init/warnings for Table

2011-02-01  Brian Aker  <brian@tangent.org>

	Init the field class correctly.

2011-02-01  Brian Aker  <brian@tangent.org>

	Remove dead bit from tablelist class.

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in Lee's changes for error numbers.

2011-02-02  Lee Bieber kalebral@gmail.com

	Remove last remaining error numbers from tests, only use enum values

2011-02-02  Brian Aker  <brian@tangent.org>

	Merge in brian's state update.

2011-02-02  Brian Aker  <brian@tangent.org>

	Just shuffle over sql_state to be in the error system.

2011-02-02  Brian Aker  <brian@tangent.org>

	Fix conflict.

2011-02-02  Brian Aker  <brian@tangent.org>

	Add in SQL_STATE for errors.

2011-02-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 710947: Valgrind warning in hello_events.table test 	
	Merge Vijay - 709653: invalid command line option in dbqp.py does not display the entire usage menu
	Merge Andrew - 686135: data_dictionary table for protocol counters need to be added
	Merge Andrew - 710572: Slight change needed in Ubuntu install docs^

2011-02-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 710947: Valgrind warning in hello_events.table test 	

2011-02-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove valgrind suppression

2011-02-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-02-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Don't touch user vars after the have already been cleaned up

2011-02-02  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - 709653: invalid command line option in dbqp.py does not display the entire usage menu

2011-02-01  vjsamuel1990@gmail.com

	Merge fix for bug #709653. My first python contribution :)

2011-02-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 686135: data_dictionary table for protocol counters need to be added
	Merge Andrew - 710572: Slight change needed in Ubuntu install docs^

2011-02-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix counters cleanup

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix compile error in Solaris

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix minor error in Ubuntu install docs

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove old counter tables

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add protocol counters table

2011-02-01  Monty Taylor  <mordred@inaugust.com>

	Merge Lee: Valgrind Suppressions
	Merge Monty: Build tarballs from bzr tags if they're there.

2011-02-01  Monty Taylor  <mordred@inaugust.com>

	Clean up suppressions.

2011-01-31  Lee Bieber kalebral@gmail.com

	add suppression for leak in hello_event.table test bug 710947

2011-01-31  Lee Bieber kalebral@gmail.com

	Clean up valgrind suppressions, remove old suppressions no longer needed and update suppression for https://bugs.launchpad.net/drizzle/+bug/582495

2011-02-01  Monty Taylor  <mordred@inaugust.com>

	Merged in release version tagging.

2011-02-01  Monty Taylor  <mordred@inaugust.com>

	Add support for setting version from a tag.

2011-02-01  Monty Taylor  <mordred@inaugust.com>

	Fixed a distcheck unfortunateness.

2011-02-01  Brian Aker  <brian@tangent.org>

	Merge in all of the error cleanup.

2011-02-01  Brian Aker  <brian@tangent.org>

	At Monty's behest, I am deleting this plugin.

2011-02-01  Brian Aker  <brian@tangent.org>

	Not entirely sure about this plugin (packages are not found on fedora).

2011-02-01  Brian Aker  <brian@tangent.org>

	GTK fix

2011-02-01  Brian Aker  <brian@tangent.org>

	Merge in all of the error fix related patches.

2011-02-01  Brian Aker  <brian@tangent.org>

	Merge in test updates to be enum based.

2011-02-01  Lee Bieber kalebral@gmail.com

	remove error numbers in tests and use enum values only

2011-02-01  Brian Aker  <brian@tangent.org>

	Fix for gearman pieces.

2011-02-01  Brian Aker  <brian@tangent.org>

	Fix lookup for HA error codes.

2011-02-01  Brian Aker  <brian@tangent.org>

	Merge in tip of errors.

2011-02-01  Brian Aker  <brian@tangent.org>

	Additional error cleanup (passing error correctly to the client code).

2011-02-01  Brian Aker  <brian@tangent.org>

	Updates.

2011-01-31  Brian Aker  <brian@tangent.org>

	Merge in header fix for style.

2011-01-31  Brian Aker  <brian@tangent.org>

	Merge in additional error control.

2011-01-31  Brian Aker  <brian@tangent.org>

	Merge in error message rework. Many error messages are fixed in this patch.

2011-01-29  Brian Aker  <brian@tangent.org>

	Merge in removal/need for session in error message plugins.

2011-01-29  Brian Aker  <brian@tangent.org>

	Add bool int patch

2011-02-01  Patrick Crews  <gleebix@gmail.com>

	Updated translations

2011-01-31  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 710942: dbqp not recovering from certain tests with non-started servers
	Merge Patrick - 709861: dbqp not running on mac osx
	Merge Andrew - 702582: SHOW INNODB STATUS should error
	Merge Monty - Remove a leftover warning from a previous attempt at fixing the OSX issue

2011-01-31  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 710942: dbqp not recovering from certain tests with non-started servers

2011-01-31  patrick crews  <gleebix@gmail.com>

	Update to server management code to better deal with a dodgy test case (catching bad / non-running servers)

2011-01-31  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 709861: dbqp not running on mac osx

2011-01-31  patrick crews  <gleebix@gmail.com>

	Fix for mac osx issues.  Had to deal with a bit more weirdness that originally thought ; )

2011-01-31  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 702582: SHOW INNODB STATUS should error

2011-01-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add error telling the user to use data_dictionary for SHOW engine_name STATUS

2011-01-31  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Remove a leftover warning from a previous attempt at fixing the OSX issue

2011-01-31  Monty Taylor  <mordred@inaugust.com>

	Remove a needless require which was causing an aclocal warning.

2011-01-30  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 709881: dbqp needs sphinx documentation

2011-01-30  patrick crews  <gleebix@gmail.com>

	minor fix of docs

2011-01-30  patrick crews  <gleebix@gmail.com>

	Added initial docs for dbqp.py

2011-01-30  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 709861: dbqp not running on mac osx
	Merge Patrick - fix bug 709879: dbqp needs --start-and-exit option

2011-01-30  Patrick Crews  <gleebix@gmail.com>

	Merge trunk

2011-01-30  Patrick Crews  <gleebix@gmail.com>

	Added --start-and-exit option

2011-01-29  Patrick Crews  <gleebix@gmail.com>

	Updates to port management to work with os x.  Also initial changes to how we handle default engine (changed option name).

2011-01-30  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 709948 Can't run drizzle on OSX when building with visibility flag

2011-01-30  Monty Taylor  <mordred@inaugust.com>

	Don't do visibility hidden on OSX, there is a GCC bug (or seems to be) which causes everything to go apeshit-bat-ass-crazy.

2011-01-29  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - changes for catalogs usage of constants for identifier.

2011-01-29  Brian Aker  <brian@tangent.org>

	Merge in changes for catalogs usage of constants for identifier.

2011-01-29  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 709493: incorrect OUTER JOIN result when joined on unique key
	Merge Patrick - Bug 708865: dbqp.py needs better naming for shared memory symlinks
	Merge Patrick - Bug 708970: dbqp.py needs to process master.sh files
	Merge Patrick - Bug 708979: need build target that uses dbqp.py to execute dtr test suite

2011-01-29  Lee Bieber  <kalebral@gmail.com>

	Cleanup test run for 709493

2011-01-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Doh! missed t2 for cleanup

2011-01-29  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 709493: incorrect OUTER JOIN result when joined on unique key

2011-01-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Cleanup test case too

2011-01-28  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport fix for http://bugs.mysql.com/bug.php?id=57034

2011-01-29  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - Bug 708865: dbqp.py needs better naming for shared memory symlinks
	Merge Patrick - Bug 708970: dbqp.py needs to process master.sh files
	Merge Patrick - Bug 708979: need build target that uses dbqp.py to execute dtr test suite

2011-01-29  Patrick Crews  <gleebix@gmail.com>

	Fixes to make test-dbqp

2011-01-29  Patrick Crews  <gleebix@gmail.com>

	Remove some debugging output

2011-01-29  Patrick Crews  <gleebix@gmail.com>

	make target for dbqp! : )

2011-01-28  Patrick Crews  <gleebix@gmail.com>

	Added make target to run with dbqp! : )

2011-01-28  Patrick Crews  <gleebix@gmail.com>

	Tinkering with include.am

2011-01-28  Patrick Crews  <gleebix@gmail.com>

	Added options for top-srcdir and top-builddir to assist with creating a make target for dbqp

2011-01-28  Patrick Crews  <gleebix@gmail.com>

	Added code to allow for the proper processing / handling of dtr master.sh files

2011-01-28  Patrick Crews  <gleebix@gmail.com>

	Updates to system_management.py to have better naming for symlinks in shm

2011-01-28  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Enable -fvisibility=hidden

2011-01-28  Monty Taylor  <mordred@inaugust.com>

	We want to add visibility markers into the headers... not take them away
	from the .cc files. Gah.

2011-01-26  Monty Taylor  <mordred@inaugust.com>

	Fixed a sun studio compile issue.

2011-01-26  Monty Taylor  <mordred@inaugust.com>

	Turns on -fvisibility=hidden by default. Symbols intended to be used by
	plugins need to be marked with DRIZZLED_API.

2011-01-28  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 709126: drizzledump migration utf8 conversion issue 
	Merge Andrew - fix bug 709106: unittests not included in distcheck

2011-01-28  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 709126: drizzledump migration utf8 conversion issue 

2011-01-28  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add option --my-data-is-mangled to drizzledump to prevent further corruption by retrieving UTF8 data stored in a non-UTF8 table during a MySQL -> Drizzle conversion

2011-01-28  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 709106: unittests not included in distcheck

2011-01-28  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix typos in boost::test pandora m4 file which stopped unittests running in make check

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more parser rework
	Merge Patrick - 708899: dbqp.py needs --reorder option 

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more parser rework

2011-01-26  Brian Aker  <brian@tangent.org>

	Remove current_session from a couple of locations, encapsulate where in
	session.

2011-01-26  Brian Aker  <brian@tangent.org>

	Try not to pass session quite as often

2011-01-26  Brian Aker  <brian@tangent.org>

	Merge in additional parser encapsulation.

2011-01-26  Brian Aker  <brian@tangent.org>

	Pull simple_ident into method.

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - 708899: dbqp.py needs --reorder option 	

2011-01-27  patrick crews  <gleebix@gmail.com>

	Merge of freebsd port management fixes

2011-01-27  patrick crews  <gleebix@gmail.com>

	Merge to update suitelist option handling

2011-01-27  patrick crews  <gleebix@gmail.com>

	Merge to update license info

2011-01-27  patrick crews  <gleebix@gmail.com>

	Updates to allow for reorder option.  Also added placeholder for --fast (it is one in test-run.pl as well), and a minor fix of output regarding libtool

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 708879: dbqp.py --suite option should handle comma-separated list
	Merge Brian - more timestamp updates and fixes
	Merge Patrick - fix bug 708861: dbqp.py not running on freebsd 	
	Merge Patrick - Added license text to dbqp-related files

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 708879: dbqp.py --suite option should handle comma-separated list

2011-01-27  patrick crews  <gleebix@gmail.com>

	Updates to option parser to allow for comma separated lists of suites as argument to --suite.  Additional --suite arguments appends the values to previously encountered --suite values

2011-01-27  patrick crews  <gleebix@gmail.com>

	changes to parse netstat output better on freebsd for port management

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more timestamp updates and fixes

2011-01-26  Brian Aker  <brian@tangent.org>

	Fix error message on date.

2011-01-26  Brian Aker  <brian@tangent.org>

	fix test case along with the error message for TIME.

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 708861: dbqp.py not running on freebsd 	

2011-01-27  patrick crews  <gleebix@gmail.com>

	Updates to port / system management to parse netstat output on freebsd

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - Added license text to dbqp-related files

2011-01-27  patrick crews  <gleebix@gmail.com>

	Updated license verbiage

2011-01-27  patrick crews  <gleebix@gmail.com>

	Added licensing text to dbqp files

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 680715: A better /var/drizzle missing error message
	Merge Lee - 702286: libz valgrind warnings should be suppressed

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 680715: A better /var/drizzle missing error message

2011-01-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add a more helpful message when we can't create or access the TMPDIR.

2011-01-27  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 702286: libz valgrind warnings should be suppressed

2011-01-26  Lee Bieber kalebral@gmail.com

	Suppress valgrind warnings in libz

2011-01-26  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - Introduces new test runn dbqp.py which can be run side by side with existing test runner for now

2011-01-26  patrick crews  <gleebix@gmail.com>

	Re-merge with trunk to fix make-distcheck

2011-01-25  patrick crews  <gleebix@gmail.com>

	Merge trunk

2011-01-25  patrick crews  <gleebix@gmail.com>

	Added code to handle valgrind.  Currently not working - getting bad error on malloc-fill=DEADBEEF : (, checking in anyway as it is largely there

2011-01-25  patrick crews  <gleebix@gmail.com>

	Added initial options for controlling valgrind / gdb.  Also added allocation of RABBIT_MQ_NODE_PORT for drizzled servers (we need this for tests)

2011-01-25  patrick crews  <gleebix@gmail.com>

	Updated code to set LD_LIBRARY env vars

2011-01-25  patrick crews  <gleebix@gmail.com>

	Tweak to report output

2011-01-25  patrick crews  <gleebix@gmail.com>

	Minor tweak to time reporting + changes to catch rogue servers prior to shutdown

2011-01-24  patrick crews  <gleebix@gmail.com>

	Minor tweak to test reporting:

2011-01-24  patrick crews  <gleebix@gmail.com>

	Updates to allow for timing of test cases and reporting and whatnot

2011-01-24  patrick crews  <gleebix@gmail.com>

	Fix of drizzle server code to revert bug-hunting hack

2011-01-24  patrick crews  <gleebix@gmail.com>

	Updated server code to better catch non-started servers

2011-01-23  patrick crews  <gleebix@gmail.com>

	Removed innodb_bug53756.test as it was using MTR2 functionality we don't have.  Tweaks to error handling for certain cases (non-existent suite)

2011-01-22  patrick crews  <gleebix@gmail.com>

	Updated code to deal with the dirty-dirty way dtr allows options files to exist ; )  catalogs suite now passes.

2011-01-21  patrick crews  <gleebix@gmail.com>

	Updates to fix an issue with ping failing without user value for certain tests

2011-01-21  patrick crews  <gleebix@gmail.com>

	Updated test case

2011-01-21  patrick crews  <gleebix@gmail.com>

	Further updates to test cases to allow side-by-side running

2011-01-21  patrick crews  <gleebix@gmail.com>

	Updates to filesystem_engine and transaction_log tests to allow dbqp + test-run.pl to live together and execute all tests

2011-01-21  patrick crews  <gleebix@gmail.com>

	Renamed test-run.py to better reflect what it will be doing

2011-01-21  patrick crews  <gleebix@gmail.com>

	Modified test_manager summary report + updated server startup options.  Main suite passes now

2011-01-15  patrick crews  <gleebix@gmail.com>

	updates to include.am

2011-01-15  patrick crews  <gleebix@gmail.com>

	Updates to reporting

2011-01-15  patrick crews  <gleebix@gmail.com>

	Update of server management and option handling / processing

2011-01-15  patrick crews  <gleebix@gmail.com>

	Updates to server management and signalling a bad server start

2011-01-15  patrick crews  <gleebix@gmail.com>

	Update to properly catch skipped test from drizzletest

2011-01-15  patrick crews  <gleebix@gmail.com>

	Update of hack to account for location of 'main' suite

2011-01-15  patrick crews  <gleebix@gmail.com>

	Updated tree so that test-run.pl and test-run.py may live together in peace for a time

2011-01-26  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 707832: float doesn't support float(n) only float(n,m) 
	Merge Andrew - fix bug 707842: drizzle should return the supports transaction capability flag

2011-01-26  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 707832: float doesn't support float(n) only float(n,m) 

2011-01-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Support float(N) in a create table statment, ignore the braces

2011-01-26  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 707842: drizzle should return the supports transaction capability flag

2011-01-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	We support transactions, might be good if we told client apps that instead of saying we don't

2011-01-26  Brian Aker  <brian@tangent.org>

	Merge in fix for show schemas.

2011-01-25  Brian Aker  <brian@tangent.org>

	Fix for show schemas to user generator correctly for output.

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge in time tree.

2011-01-25  Brian Aker  <brian@tangent.org>

	Just  remove second ecapsulated method call.

2011-01-25  Brian Aker  <brian@tangent.org>

	Additional abstract around time (this also makes the abort_on_warnings in
	session private).

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge parser tree

2011-01-25  Brian Aker  <brian@tangent.org>

	Remove duplicate call by using null

2011-01-25  Brian Aker  <brian@tangent.org>

	Remove duplicate code around ident check.

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge in field ident wrap from parser.

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge in schema options enum.

2011-01-25  Brian Aker  <brian@tangent.org>

	Adding build engine options bit.

2011-01-25  Brian Aker  <brian@tangent.org>

	Convert just a single SE engine option to be a bit more concise in parser.

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Merge in latest catalog changes
	Merge Brian remove error numbers in tests

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge in latest catalogs.

2011-01-25  Brian Aker  <brian@tangent.org>

	Encapsulate the condition we use to being a per-session case.

2011-01-25  Brian Aker  <brian@tangent.org>

	Move variable lock into the catalog that the variables belong too.

2011-01-25  Brian Aker  <brian@tangent.org>

	Merge in the error number test fixes.

2011-01-25  Brian Aker  <brian@tangent.org>

	Next pass through of tests (remove number, use label for error).

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 706121: innodb.innodb_bug53756.test relies on functionality not provided by test-run.pl
	Merge Monty - Added inter-plugin dependencies for controlling plugin load order
	Merge Marisa - 684803: Need to update Drizzledump documentation with migration conversions / caveats
	Merge Marisa - 686641: Need to document removal of multi-table update/delete from Drizzle

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 706121: innodb.innodb_bug53756.test relies on functionality not provided by test-run.pl

2011-01-24  Lee Bieber kalebral@gmail.com

	Remove innodb_bug53756 test, not valid for our test suite

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	correction in docs/include.am

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	add docs/functions dir to docs/include.am

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Added inter-plugin dependencies for controlling plugin load order

2011-01-24  Monty Taylor  <mordred@inaugust.com>

	Fixed the dependency graph so that it doesn't get included in sql_yacc.yy.

2011-01-18  Monty Taylor  <mordred@inaugust.com>

	Actually properly process module dependencies. w00t.

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Use the catalog registry.

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Split out module vertex and then actually used it.

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Insert module into the vertex list.

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Add the depend graph to module::Registry.

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Re-purpose the old plugin sysvar slot in the struct to be a depends list.

2011-01-25  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - 684803: Need to update Drizzledump documentation with migration conversions / caveats
	Merge Marisa - 686641: Need to document removal of multi-table update/delete from Drizzle

2011-01-24  Marisa Plumb  <marisa.plumb@gmail.com>

	command for adding EPEL repository

2011-01-24  Marisa Plumb  <marisa.plumb@gmail.com>

	example extract, date_part

2011-01-24  Marisa Plumb  <marisa.plumb@gmail.com>

	adding date time functions

2011-01-22  Marisa Plumb  <marisa.plumb@gmail.com>

	modifying folder structure

2011-01-22  Marisa Plumb  <marisa.plumb@gmail.com>

	removing solaris from supported platforms

2011-01-22  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-01-20  Marisa Plumb  <marisa.plumb@gmail.com>

	edit

2011-01-20  Marisa Plumb  <marisa.plumb@gmail.com>

	new date/time additions

2011-01-19  Marisa Plumb  <marisa.plumb@gmail.com>

	new functions

2011-01-19  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-01-19  Marisa Plumb  <marisa.plumb@gmail.com>

	more license info, logical operators

2011-01-19  Marisa Plumb  <marisa.plumb@gmail.com>

	adding logo w/license file

2011-01-25  Brian Aker  <brian@tangent.org>

	Quote build issue

2011-01-25  Brian Aker  <brian@tangent.org>

	Removed dead "

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in alter/parser

2011-01-24  Brian Aker  <brian@tangent.org>

	MErge in partial show ecap from parser.

2011-01-24  Brian Aker  <brian@tangent.org>

	Encapsulate kill from parser.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in create index encap from parser.

2011-01-24  Brian Aker  <brian@tangent.org>

	Encapsulate more out of the parser.

2011-01-24  Brian Aker  <brian@tangent.org>

	Additional cleanup for bison.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in the last of the sql_command/push it into the statement object
	creation.

2011-01-24  Brian Aker  <brian@tangent.org>

	Pull additional COM to object creation.

2011-01-24  Brian Aker  <brian@tangent.org>

	Minor cleanup, drop one of two needs for current session during parsing.

2011-01-24  Brian Aker  <brian@tangent.org>

	Remove dead structure.

2011-01-24  Brian Aker  <brian@tangent.org>

	Fixed case where parser error message might be null.

2011-01-23  Brian Aker  <brian@tangent.org>

	Encapsulate from parser buildOrderBy()

2011-01-23  Brian Aker  <brian@tangent.org>

	Cleanup test flags for debug options on server startup

2011-01-23  Brian Aker  <brian@tangent.org>

	Removed define

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge in ulong typedef used.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in build/timestamp patches/fixes.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in fix for Solaris and make use of isDatabaseLowByteFirst()

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in time tree.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in reference from pointer.

2011-01-24  Brian Aker  <brian@tangent.org>

	Fix store_time to take reference.

2011-01-24  Brian Aker  <brian@tangent.org>

	Enum was_cut

2011-01-24  Brian Aker  <brian@tangent.org>

	MErge in static to more localized to the switch

2011-01-24  Brian Aker  <brian@tangent.org>

	Additional convert.

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge in more encapsulation of time work.

2011-01-23  Brian Aker  <brian@tangent.org>

	More abstraction around time.

2011-01-23  Brian Aker  <brian@tangent.org>

	Encapsulate str_to_date

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more catalogs update

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in catalogs update.

2011-01-24  Brian Aker  <brian@tangent.org>

	Merge in catalog updates. This also fixes a bug in schema encoding.

2011-01-24  Brian Aker  <brian@tangent.org>

	This fix issue where encoded schema would be lost on restart, and also fixes
	create schema so that we do make sure it actually happened.

2011-01-24  Brian Aker  <brian@tangent.org>

	Small cleanup of creation methods.

2011-01-24  Brian Aker  <brian@tangent.org>

	Fix interface such that no one will mistake it for something they should
	use.

2011-01-24  Brian Aker  <brian@tangent.org>

	Update console to switch to different catalogs.

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge in update to use console for catalog DDL.

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Need to add a "drop table a" in execute.wait test
	Add execute test suite to regular test run
	Merge Lee - fix second part of 705699, check for both client and server before building and testing rabbitmq plugin
	Merge Shrews - Changes TransactionServices methods to use references to Session objects instead of pointers.

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	need to add a drop table a in execute.wait test

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Add execute test suite to regular test run

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - fix second part of 705699, check for both client and server before building and testing rabbitmq plugin

2011-01-24  Lee Bieber kalebral@gmail.com

	Fixes second part of the bug, don't build the plugin unless you have both the client and the server

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Changes TransactionServices methods to use references to Session objects instead of pointers.

2011-01-24  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge with trunk and fix conflicts

2011-01-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Initial change to use references to Session in TransactionServices methods rather than pointers.

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 705699: rabbitmq.variables test blocks asking for sudo password
	Merge Andrew - fix bug 703913: some support-files should be dropped
	Merge Andrew - fix bug 619992: fix disabled unittests 
	Merge Andrew - fix bug #667162: port unittests to boost::test 

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 705699: rabbitmq.variables test blocks asking for sudo password

2011-01-23  Lee Bieber kalebral@gmail.com

	updates for starting and stopping rabbitmq, need to remove the work directory after test has finished. Also need to stop rabbitmq after the tests finishes

2011-01-22  Lee Bieber kalebral@gmail.com

	Fixes first part of 705699, don't sudo to start and stop rabbitmq server

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 703913: some support-files should be dropped

2011-01-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Drop most of the RPM generation stuff, it is all in pkg-drizzle project now

2011-01-24  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 619992: fix disabled unittests 
	Merge Andrew - fix bug #667162: port unittests to boost::test 	

2011-01-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	And add boost::test to the doc

2011-01-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove gtest dependency from docs

2011-01-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2011-01-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove unused file from EXTRA_DIST

2011-01-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Convert all unit tests to boost::test
	Add pandora support for boost::test
	Remove pandora support for gtest

2011-01-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Start of migration to boost::test

2011-01-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Missed off some commented out test which also shouldn't work

2011-01-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove 2 commented-out atomic tests since they test features we don't use/havem't implemented
	Remove generators test since to repair them will require a catalogs plugin

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge in error message number.

2011-01-23  Brian Aker  <brian@tangent.org>

	Fixes the rest of the errors to be symbols, not numbers.

2011-01-23  Brian Aker  <brian@tangent.org>

	More number to error message conversion.

2011-01-23  Brian Aker  <brian@tangent.org>

	Add in all of the error messages, also remove all cases of --error number
	from main tests.

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge in trunk of bootstrap treee.

2011-01-13  Brian Aker  <brian@tangent.org>

	Merge in current work.

2011-01-13  Brian Aker  <brian@tangent.org>

	Merge in code to all plugins to do whatever they need to do once all other
	plugins have been loaded/initialized/warmed up/etc.

2011-01-23  Brian Aker  <brian@tangent.org>

	Additional fix for lcov.

2011-01-23  Brian Aker  <brian@tangent.org>

	Merge lcov fix.

2011-01-22  Brian Aker  <brian@tangent.org>

	Session encapsulation.

2011-01-21  Brian Aker  <brian@tangent.org>

	Make session encapsulated.

2011-01-21  Brian Aker  <brian@tangent.org>

	Merge in timestamp.

2011-01-21  Brian Aker  <brian@tangent.org>

	Additional encapsulation of time.

2011-01-21  Brian Aker  <brian@tangent.org>

	Isolate out the time code/conversion.

2011-01-21  Brian Aker  <brian@tangent.org>

	Merge in uint to int fixes in time type.

2011-01-20  Brian Aker  <brian@tangent.org>

	Remove dead code.

2011-01-21  Brian Aker  <brian@tangent.org>

	Merge in work for parser cleanup.

2011-01-21  Brian Aker  <brian@tangent.org>

	Cut out void ptr pass.

2011-01-21  Brian Aker  <brian@tangent.org>

	Additional parser cleanup.

2011-01-21  Brian Aker  <brian@tangent.org>

	Pull in more C code from parser.

2011-01-21  Brian Aker  <brian@tangent.org>

	Last of format style show commands removed from parser.

2011-01-21  Brian Aker  <brian@tangent.org>

	Additional show to functions.

2011-01-20  Brian Aker  <brian@tangent.org>

	Additional show to function.

2011-01-20  Brian Aker  <brian@tangent.org>

	More shuffle of show into functions.

2011-01-20  Brian Aker  <brian@tangent.org>

	Merge in additional show.

2011-01-20  Brian Aker  <brian@tangent.org>

	Move show create schema into function.

2011-01-20  Brian Aker  <brian@tangent.org>

	Shrink parser code, push C out to function call.

2011-01-20  Brian Aker  <brian@tangent.org>

	Merge in fixes for error messages.

2011-01-19  Brian Aker  <brian@tangent.org>

	Fix key init, stop using memset.

2011-01-19  Brian Aker  <brian@tangent.org>

	Clean up errors and pass information in creation of statement.

2011-01-19  Brian Aker  <brian@tangent.org>

	Have table name added in as early as possible.

2011-01-19  Brian Aker  <brian@tangent.org>

	INT is never unsigned, and this fixes the bug about not showing a unique
	constraint on a colum.

2011-01-19  Brian Aker  <brian@tangent.org>

	Creation size of SERIAL for being UNSIGNED.

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Update test for regression.682563 to add now needed COMMIT statements
	Need to add new doc files to docs/include.am for distcheck target
	update big test, add COMMIT statement per Stewart's recent changes
	Merge Stewart - fix bug 701468: TransactionalStorageEngine::doRollback(session, all) "all" isn't true - need to check session autocommit settings
	Merge Stewart - 682563: TransactionalStorageEngine::doCommit(session, all) "all" isn't true - need to check session autocommit settings
	Merge Andrew - fix bug 705576: Docs need 'How to compile' pages
	Merge Andrew - fix bug 705771: Documentation for common client errors

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Update test for regression.682563 to add now needed COMMIT statements

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Need to add new doc files to docs/include.am for distcheck target

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	update big test, add COMMIT statement per Stewart's recent changes

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 701468: TransactionalStorageEngine::doRollback(session, all) "all" isn't true - need to check session autocommit settings

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	adapt rollback_statement test from storage_engine_api_tester for regression suite just doing a lot of different rollback calls.

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk, doCommit(all) brancH

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-12  Stewart Smith  <stewart@flamingspork.com>

	make the all parameter in TransactionalStorageEngine::doRollback() not be a lie. In Transactionservices, work out if we're commiting the full transaction instead of each engine having to do session_test_options for rollback.

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - 682563: TransactionalStorageEngine::doCommit(session, all) "all" isn't true - need to check session autocommit settings

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	add SQL test for bug682563 which is a combination of trx_isolation_read_committed, statemenT_boundaries and transaction tests. This check that txn commit does commit the txn (trx_isolation_read_committed) and is visible to others, check that statement boundaries are honoured (statement_boundaries) and that more txn things ar etested (transaction). There's a couple of rollback calls too

2011-01-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-12  Stewart Smith  <stewart@flamingspork.com>

	make the all parameter in TransactionalStorageEngine::doCommit() not be a lie. In Transactionservices, work out if we're commiting the full transaction instead of each engine having to do session_test_options for autocommit/begin.

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 705576: Docs need 'How to compile' pages
	Merge Andrew - fix bug 705771: Documentation for common client errors

2011-01-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add compiling and installing section with basic content

2011-01-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add errors page to drizzle client docs
	Add link to specific error in migration docs
	Minor changes to migration docs

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Fix bug 664222: DDL operations have an implicit commit
	Merge Stewart - Fix bug #695201: autocommit=1 not resetting session->server_status properly when committing ongoing txn
	Add BSD copyright file to win32/config.h
	Merge Brian - cleanup user_locks.kill_wait test

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Fix bug 664222: DDL operations have an implicit commit
	Merge Stewart - Fix bug #695201: autocommit=1 not resetting session->server_status properly when committing ongoing txn

2011-01-21  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-07  Stewart Smith  <stewart@flamingspork.com>

	add test for EXECUTE WAIT doing DDL that will actually do the DDL - run a COMMIT first.

2011-01-07  Stewart Smith  <stewart@flamingspork.com>

	revert patch that changed EXECUTE to use AUTOCOMMIT=0 instead of START TRANSACTION. Of course, this means that you cannot do DDL inside EXECUTE, so change the test and result for execute_wait test which did that.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on DROP INDEX inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED.

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on CREATE INDEX inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED.

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	statement_boundaries test relied on implicit commits in schema operations. use explicit commits instead

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	add test for DROP SCHEMA inside a txn erroring out

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on DROP SCHEMA inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED. You may have been mistaken that this would previously error out on ER_LOCK_OR_ACTIVE_TRANSACTION. It didn't.

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on ALTER SCHEMA inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED. Previously this would be ER_LOCK_OR_ACTIVE_TRANSACTION which isn't exactly correct or consistent with others.

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	add test for CREATE SCHEMA inside a txn erroring out

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on CREATE SCHEMA inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	innobase innodb test relied on implicit commits in TRUNCATE TABLE and RENAME TABLE. use explicit commits instead

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on RENAME TABLE inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	error out on TRUNCATE TABLE inside a transaction with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	change EXECUTE to use SET AUTOCOMMIT=0 instead of START TRANSACTION as this continues to allow us to execute DDL using EXECUTE as we won't have an ongoing transaction to cause us to error out.... although if we're running any other statement, we will start a transaction. neat trick(tm)

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	update Transactional DDL not supported error number

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	fix merge conflict that was accidently committed

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	add ddl_transactions to list of default test suites

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	merge run-more-suites (incl trunk

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	add a small test suite for DDL transactions (i.e. that we get an error when doing them

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	innobase innodb test relied on implicit commit in ALTER TABLE. use explicit commit instead

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	myisam mix2 test relied on implicit commit in ALTER TABLE. use explicit commit instead

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	throw ER_TRANSACTIONAL_DDL_NOT_SUPPORTED in ALTER TABLE if there is an ongoing txn

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit commit in haildb.trx_isolation_serializable test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit commit in haildb.trx_isolation_repeatable_read test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit commit in haildb.trx_isolation_read_uncommitted test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit commit in storage_engine_apI_tester.transaction test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in transaction_log.auto_commit test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in innodb_bug51920 test intesad of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in innodb_bug53674 test intesad of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in innodb test intesad of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in innodb-semi-consistent test intesad of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in trx_isolation_read_committed test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in transaction test instead of implicit commit in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in statement_boundaries test instead of relying on implicit COMMIT in DROP TABLE statement

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMITs in savepoints test instead of implicit COMMITs in DROP TABLE statement

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in randgen_queries test instead of implicit COMMIt in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	make insert test use an explicit commit instead of an implicit one in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	update flush_block_commit test to use an explicit COMMIT instead of the implicit one in DROP TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	error out with ER_TRANSACTIONAL_DDL_NOT_SUPPORTED in DROP TABLE if there is an ongoing transaction.

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	update docs on Transactional DDL support

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit COMMIT in innobase unsafe_binlog test

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	use explicit commit in innodb_mysql test instead of implicit in CREATE TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	innobase.innodb test: use explicit COMMIT instead of relying on implicit commit in CREATE TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	transaction log test: use explicit COMMIT instead of relying on implicit in CREATE TABLE

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	select_in_null test was attempting DDL inside txn. remove begin/commit as it's not needed anyway

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	insert.test was setting autocommit=0 but not resetting it. really we just wanted a txn for bulk loading, which we had anyway. remove the set

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	SET AUTOCOMMIT=1 was not completely performing a COMMIT
	
	at least some status variables (session->server_status) weren't being reset correctly, leaving the next statement to incorrectly get a inTransaction()==true
	
	Also update documentation about SET AUTOCOMMIT behaviour (i.e. it commits active txn... which is relatively hinted at in the MySQL manual as the correct behaviour). Of course any mention of what happens when a commit fails is omitted. My guess is there are bugs.

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	remove unneeded and incorrectly added errname.cc.THIS

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	merge fixing test-run --gdb

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	add error message for Transactional DDL not being supported. Throw it in CREATE TABLE instead of implicit commit.

2011-01-21  Lee Bieber  <kalebral@gmail.com>

	Add BSD copyright file to win32/config.h

2011-01-20  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - cleanup user_locks.kill_wait test

2011-01-20  Brian Aker  <brian@tangent.org>

	Fix lcov issue.

2011-01-20  Lee Bieber  <kalebral@gmail.com>

	add BSD copyright to win32/config.h
	Merge Monty - add missing windows files
	Merge Shrews - The transaction_reader utility will use "SET AUTOCOMMIT=0" instead of "START TRANSACTION" for DDL, this allows us to now merge Stewart's branch 

2011-01-20  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - add missing windows files

2011-01-18  Monty Taylor  <mordred@inaugust.com>

	Added some files that were missing from the libdrizzle merge in to the tree.

2011-01-20  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - The transaction_reader utility will use "SET AUTOCOMMIT=0" instead of "START TRANSACTION" for DDL, this allows us to now merge Stewart's branch 

2011-01-18  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use AUTOCOMMIT=0 with DDL output from transaction_reader.

2011-01-20  Brian Aker  <brian@tangent.org>

	Merge of all of the time fixes.

2011-01-19  Brian Aker  <brian@tangent.org>

	Update unit tests.

2011-01-19  Brian Aker  <brian@tangent.org>

	Place limits on timestamp (unforunatly)

2011-01-19  Brian Aker  <brian@tangent.org>

	Remove magic number associated with setting factional seconds.

2011-01-19  Brian Aker  <brian@tangent.org>

	Merge in fix for runaway calls to gmtime.

2011-01-19  Brian Aker  <brian@tangent.org>

	Fix header declare.

2011-01-19  Brian Aker  <brian@tangent.org>

	Remove reference to non-32bit clean mktime

2011-01-19  Brian Aker  <brian@tangent.org>

	Merge in time code.

2011-01-17  Brian Aker  <brian@tangent.org>

	Remove time_t reference.

2011-01-17  Brian Aker  <brian@tangent.org>

	Fix additional output, swaps for the valus.

2011-01-17  Brian Aker  <brian@tangent.org>

	Merge in removal of temporal.

2011-01-17  Brian Aker  <brian@tangent.org>

	Merge in namespace of enum.

2011-01-16  Brian Aker  <brian@tangent.org>

	Stype cleanup, also have session now return epoch_t

2011-01-16  Brian Aker  <brian@tangent.org>

	Merge in goto removal.

2011-01-16  Brian Aker  <brian@tangent.org>

	Format

2011-01-16  Brian Aker  <brian@tangent.org>

	Remove duplicate code around store() for type::Time

2011-01-16  Brian Aker  <brian@tangent.org>

	Fix storage, skip step, use gmtime.

2011-01-16  Brian Aker  <brian@tangent.org>

	Merge in modifications for gmtime to be 64bit on all platforms (that have an
	int64_t)

2011-01-16  Brian Aker  <brian@tangent.org>

	Switch to internal gmtime

2011-01-16  Brian Aker  <brian@gir-3>

	Merge in gmtime.

2011-01-15  Brian Aker  <brian@gir-3>

	Possible solaris fix.

2011-01-15  Brian Aker  <brian@gir-3>

	Merge in time code.

2011-01-15  Brian Aker  <brian@tangent.org>

	Updates to time code.

2011-01-14  Brian Aker  <brian@tangent.org>

	Merge in changes for factor on type::Time

2011-01-14  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2011-01-12  Brian Aker  <brian@tangent.org>

	Make sure we aren't limited to old epoch issues.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix decimal from storage to timestamp.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix issue with return value from unix_timestamp(). Also clean up error
	messages, and remove limit on value for timestamp.

2011-01-11  Brian Aker  <brian@tangent.org>

	Encapsulate a bit more of the logic around making strings from type::Time

2011-01-11  Brian Aker  <brian@tangent.org>

	Small refactoring around type::Time

2011-01-18  Brian Aker  <brian@tangent.org>

	Test cleanup for lcov

2011-01-18  Brian Aker  <brian@tangent.org>

	Fix for lcov random order jittery

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Refactor the TransactionServices public interface
	Merge Monty - fix bug 583375: support configure option to specify static/dynamic build for a plugin
	Merge Shrews - fix bug 702505: transaction_reader utility does not check for errors from statement transformation
	Merge Vijay - Convert structs to classes
	Merge Joe - 702529: PRINT_TRANSACTION_MESSAGE udf does not output UUID

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Refactor the TransactionServices public interface

2011-01-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Clean up TransactionServices inteface by moving several methods from public to private.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 583375: support configure option to specify static/dynamic build for a plugin

2011-01-18  Monty Taylor  <mordred@inaugust.com>

	Make sure we distribute all the source files, even if configure didn't find
	optional libraries.

2011-01-18  Monty Taylor  <mordred@inaugust.com>

	Adds ability to build plugins static.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 702505: transaction_reader utility does not check for errors from statement transformation

2011-01-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make transaction_reader check for error returns from statement_transform.cc code.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - Convert structs to classes

2011-01-17  vjsamuel1990@gmail.com

	Merge trunk

2011-01-17  vjsamuel1990@gmail.com

	Merge conversion of ROLLUP from struct to class.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - 702529: PRINT_TRANSACTION_MESSAGE udf does not output UUID

2011-01-16  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2011-01-16  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2011-01-14  Joseph Daly  <skinny.moey@gmail.com>

	bug 702529 output the uuid in PRINT_TRANSACTION_MESSAGE

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix processlist test, was failing under lcov
	Merge Marisa - fix bug 684803: Need to update Drizzledump documentation with migration conversions / caveats
	Merge Marisa - fix bug #686641: Need to document removal of multi-table update/delete from Drizzle
	Merge Monty - fix bug 567387: quotes now appearing around module name and author in data_dicionary view
	Merge Monty - fix bug 658752: Incorrect datadir value being stored
	Merge Andrew - fix bug 680872: max-connect-errors appears to be unused 
	Merge Stewart - Haildb updates, ANALYZE table as well as improved index statistics

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix processlist test, was failing under lcov

2011-01-18  Brian Aker  <brian@tangent.org>

	Update for additional processes in wait test.

2011-01-18  Brian Aker  <brian@tangent.org>

	Fix issue where if we had additional connections the test would should wrong
	results.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - fix bug 684803: Need to update Drizzledump documentation with migration conversions / caveats
	Merge Marisa - fix bug #686641: Need to document removal of multi-table update/delete from Drizzle

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	remoing backticks

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	table change

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	perhaps a fix to count.rst

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	removed couple bitwise refs

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	new material to address https://bugs.launchpad.net/drizzle/+bug/684803, new functions

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	multi-table exlanation to address https://bugs.launchpad.net/drizzle/+bug/686641

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	modifications to functions

2011-01-17  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to trunk

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 567387: quotes now appearing around module name and author in data_dicionary view

2011-01-17  Monty Taylor  <mordred@inaugust.com>

	Updated the result file.

2011-01-16  Monty Taylor  <mordred@inaugust.com>

	Removed an extra set of quoting.

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 658752: Incorrect datadir value being stored

2011-01-16  Monty Taylor  <mordred@inaugust.com>

	How about let's not overwrite the value. What's that about anyway?

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 680872: max-connect-errors appears to be unused 

2011-01-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove max-connect-error variables since it is completely unused

2011-01-18  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Haildb updates, ANALYZE table as well as improved index statistics

2011-01-12  Stewart Smith  <stewart@flamingspork.com>

	force pandora-build to look for HailDB 2.3.2 (Cairo) or later as it is required

2011-01-12  Stewart Smith  <stewart@flamingspork.com>

	merge Andrew's bug fix for log buffer size being in number of pages instead of bytes

2011-01-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case results as part of bug #578644

2011-01-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	merge warn_unused_result tree to see if it fixes some of teh problems we're having with errors.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	don't try to rollback an already rolled back transaction in HailDB. If the transaction is not started, we can just release the txn.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	HailDB will roll back a transaction itself due to DB_DEADLOCK.
	This means we have to tell Drizzle about it.
	
	so, in error conversion, signal that we rolled back a txn if we did.

2011-01-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-24  Stewart Smith  <stewart@flamingspork.com>

	implement rec_per_key index statistics for HailDB engine (part of HA_STATUS_CONST). Requires HailDB 2.3-cairo

2010-12-24  Stewart Smith  <stewart@flamingspork.com>

	add index_read_res test for HailDB.

2010-12-24  Stewart Smith  <stewart@flamingspork.com>

	add ANALYZE support to HailDB. Requires HailDB 2.3-cairo.

2010-12-21  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-14  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2011-01-18  Patrick Crews  <gleebix@gmail.com>

	Updated translations

2011-01-11  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-01-17  Brian Aker  <brian@tangent.org>

	Merge in update so that test-run.pl runs all of test/suite and fix for
	create table like and FK.

2011-01-13  Brian Aker  <brian@tangent.org>

	Fix test to grab all suites (minus a few exceptions) and run them.

2011-01-13  Brian Aker  <brian@tangent.org>

	Fix for regression 622465.

2011-01-13  Brian Aker  <brian@tangent.org>

	Rework the CREATE TABLE LIKE call.

2011-01-17  Brian Aker  <brian@tangent.org>

	Add in reorder and see if this will speed up builds at all.

2011-01-17  Brian Aker  <brian@tangent.org>

	First pass on fix for UTF-8, this checks all of our schema names.

2011-01-14  Brian Aker  <brian@tangent.org>

	Fix strcasecmp issues (ie, check UTF-8).

2011-01-14  Brian Aker  <brian@tangent.org>

	Check that we have the lock before making the call that requires that we
	have the lock.

2011-01-14  Brian Aker  <brian@tangent.org>

	Fix in style/scope issue/removed dead options to method.

2011-01-17  Brian Aker  <brian@tangent.org>

	Rolls back patch on Inno/static build. Also removes experimental plugins
	from test runs by default.

2011-01-17  Brian Aker  <brian@tangent.org>

	Rolls back Monty's patch.

2011-01-17  Brian Aker  <brian@tangent.org>

	Disable from earlier conversation (ie experimental engines).

2011-01-17  Brian Aker  <brian@tangent.org>

	Merge in disable test suite for hail (Monty, Brian, Lee, confirmed).

2011-01-17  Brian Aker  <brian@tangent.org>

	Move back the option for the file type in Innodb for valgrind.

2011-01-17  Brian Aker  <brian@tangent.org>

	Rollup of all changes for identifier/error

2011-01-17  Brian Aker  <brian@tangent.org>

	I'm not sure how this wasn't found in a previous build, it probably means a
	bad include from /usr/local/include

2011-01-16  Brian Aker  <brian@tangent.org>

	FreeBSD fix.

2011-01-16  Brian Aker  <brian@gir-3>

	Merge in identifier naming.

2011-01-16  Brian Aker  <brian@gir-3>

	Modify TableIdentifier to fit with the rest of the identifiers.

2011-01-16  Brian Aker  <brian@gir-3>

	Merge in schema identifier.

2011-01-16  Brian Aker  <brian@gir-3>

	NULL commit (see if this causes hudson to fire).

2011-01-16  Brian Aker  <brian@gir-3>

	Update entire interface to use error_t

2011-01-16  Brian Aker  <brian@gir-3>

	Entire convert over to time_t.

2011-01-15  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 702571: InnoDB should have file-per-table on by default
	Merge Monty - fix bug 583375: support configure option to specify static/dynamic build for a plugin

2011-01-15  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 702571: InnoDB should have file-per-table on by default

2011-01-14  Monty Taylor  <mordred@inaugust.com>

	Sets innodb_file_per_table. Also sets a default innodb_flush_method and changes default file format to Barracuda.

2011-01-15  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 583375: support configure option to specify static/dynamic build for a plugin

2011-01-14  Monty Taylor  <mordred@inaugust.com>

	Add options to make one plugin or multiple plugins static

2011-01-14  Monty Taylor  <mordred@inaugust.com>

	Fixed innodb warnings.

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - some documentation clean up
	Merge Patrick - fix bug 693130: Tests depending on archive engine should be skipped if archive isn't enabled
	Merge Patrick - fix bug 697292: The have_valgrind include file in the test has the opposite effect

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - some documentation clean up

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	\r, like the Daleks, just keeps coming back

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add FIXME that we should document current implementation of ALTER TABLE

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add some FIXME to analyze docs.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	\r again :(

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add note that text/varchar is valid utf8

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add FIXME for CREATE INDEX implementation should be documented

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	few notes on DATA_DICTIONARY documentation.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	just a syntax fix

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add explanation as to why 0000-00-00 is an invalid date. add fixmes about some of the TIME type restrictions

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add FIXME for EXECUTE doing things inside explicit txn

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add a small note about isolation of DROP SCHEMA from other txns.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add note that impl of DROP INDEX should be documented

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add FIXME that LOAD DATA INFILE should come under DML.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	\r and trailing whitespace removed.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	\r and trailing whitespace removed.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add a FIXME to flesh out insert docs

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	fix up some joins docs. remove \r to prevent injuries to puppies and add a FIXME about documenting our join implementation.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	logging is done by plugins, so imply in docs that new plugins can implement new logging.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add some FIXME for clarifications needed in locks doc

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	rearrange explanation of absence of old weird types in numeric data types doc to be after explanation of what we do have. I think it reads better that way

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add some FIXMEs to ORDER BY docs about what should be added.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	remove \r at end of line as they cause kitten injuries.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	remove \r at end of line as they cause kitten injuries.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	fix tpyo

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	talk about statement rollback (briefly) in replication docs

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add savepoint example

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	clear up explanation on what SHOw commands are. that the tablesa re implemented as table functions is'nt really relevant ot end user

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	remove \r newlines from scalar functions

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add BEGIN to start_transaction docs. also about near future of having error on BEGIn; BEGIN;

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	storage engine docs. add bit about some temp table only engines.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	fix up spinx syntax

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	small note on utf8 and collations for string dataa types - should be expanded into real sentences.

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	notes on transaction docs. statements can be rolled back, celan up some language around definition

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add some notes on TRUNCATE, including things that should be expanded on

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	UPDATE has a condition

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add note about what uuid lib we use

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	add a bit of a note on how variables docs should be expanded

2011-01-14  Stewart Smith  <stewart@flamingspork.com>

	WHERE clause example is just a simple one

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 693130: Tests depending on archive engine should be skipped if archive isn't enabled

2011-01-14  Patrick Crews  <gleebix@gmail.com>

	Fix for bug693130.  Moved drizzledump-max to the archive suite - more logical place.  Can't *really* fix this issue as test-run.pl is too dumb to handle it

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 697292: The have_valgrind include file in the test has the opposite effect

2011-01-14  Patrick Crews  <gleebix@gmail.com>

	Made include/have_valgrind do what the name implies altered not_valgrind to do the job of skipping tests that are in a valgrind run.  Updates to tests and whatnot to accomodate this

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 702881: data_dictionary.tables row_format incorrect
	Merge Marisa - Document new data types and change in build file to treat warnings as errors
	Merge Lee - 690773: RabbitMQ plugin needs to start rabbitmq for its test 

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	add more files that were missig in docs/include.am

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	fix typo

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	add docs/plugins/list.rst in docs/include.am to fix distcheck breakage

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 702881: data_dictionary.tables row_format incorrect

2011-01-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2011-01-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	If ROW_FORMAT was specified then actually show it in data_dictionary.tables

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - Document new data types and change in build file to treat warnings as errors

2011-01-13  Marisa Plumb  <marisa.plumb@gmail.com>

	restoring list.rst to as ref in toc

2011-01-13  Marisa Plumb  <marisa.plumb@gmail.com>

	updating

2011-01-13  Marisa Plumb  <marisa.plumb@gmail.com>

	string data types

2011-01-13  Marisa Plumb  <marisa.plumb@gmail.com>

	update to trunk

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	numeric types

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	addition of date input

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	adding detail to date/time types doc

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	fixes to date/time type, and added info from earlier discussions on time ranges

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	changing build file to treat warnings as errors

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to latest trunk

2011-01-12  Marisa Plumb  <marisa.plumb@gmail.com>

	moved protocol doc to main 'docs' folder

2011-01-10  Marisa Plumb  <marisa.plumb@gmail.com>

	updating to latest trunk

2011-01-10  Marisa Plumb  <marisa.plumb@gmail.com>

	new data types content

2011-01-09  Marisa Plumb  <marisa.plumb@gmail.com>

	create table fixes, index toc adjustments

2011-01-14  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - 690773: RabbitMQ plugin needs to start rabbitmq for its test 

2011-01-13  Lee Bieber kalebral@gmail.com

	add sleep after rabbitmq starts to make sure its up and running

2011-01-13  Lee Bieber kalebral@gmail.com

	add admin.sh to extra_dist in rabbitmq/plugin.ini

2011-01-13  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - track what is being called in the Storage Engine in storage_engine_api_tester

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	cpplint fix for header guard

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	modify storage_engine_api tests to check the new SEAPITESTER_ENGINE_STATE_HISTORY table for what storage engine calls were made.

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	add storing of history of engine states to storage_engine_api_tester. We get a DATA_DICTIONARY table that lists the states and a function to clear it.

2011-01-13  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - fix rabbitmq test to use $TOP_SRCDIR instead of $TOP_BUILDDIR

2011-01-13  Lee Bieber kalebral@gmail.com

	referencing admin.sh should be , not 

2011-01-13  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 582486: valgrind warning in drizzled::mysql_load 

2011-01-13  Stewart Smith  <stewart@flamingspork.com>

	remove suppressions from valgrind.supp for bug 582486 which seems to have been fixed at some point in the past.

2011-01-13  Brian Aker  <brian@gir-3>

	Rollup changes for trunk.

2011-01-13  Brian Aker  <brian@gir-3>

	Merge in rabbitmq patch.

2011-01-12  Lee Bieber kalebral@gmail.com

	Fix bug 690773, make sure rabbitmq is running for this test
	In big test suite add archive-big-master.opt file to load archive plugin for the archive-big test

2011-01-13  Brian Aker  <brian@gir-3>

	Merge in David's ALTER SCHEMA bug fix.

2011-01-13  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Push ALTER SCHEMA through replication stream as proper GPB message instead of RAW_SQL.

2011-01-13  Brian Aker  <brian@gir-3>

	Merge Monty

2011-01-12  Monty Taylor  <mordred@inaugust.com>

	Removed some redundant declarations.

2011-01-13  Brian Aker  <brian@gir-3>

	Cleanup around alter table (mostly harmless stuff, though some lock move).

2011-01-12  Brian Aker  <brian@tangent.org>

	Remove goto from alter table logic

2011-01-12  Brian Aker  <brian@tangent.org>

	Just initialize a class properly.

2011-01-12  Brian Aker  <brian@tangent.org>

	Scope an error in alter table.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix scoping on lock.

2011-01-12  Brian Aker  <brian@tangent.org>

	Add in code for additional locking.

2011-01-12  Brian Aker  <brian@tangent.org>

	Style cleanup around locks for alter table.

2011-01-12  Brian Aker  <brian@tangent.org>

	style cleanup

2011-01-12  Brian Aker  <brian@tangent.org>

	Remove memset on object.

2011-01-11  Brian Aker  <brian@tangent.org>

	Merge in lock/error update for alter table.

2011-01-11  Brian Aker  <brian@tangent.org>

	Remove useless function.

2011-01-13  Brian Aker  <brian@gir-3>

	Rollup of catalog patch.

2011-01-13  Brian Aker  <brian@gir-3>

	Remove file that has not been committed/used yet.

2011-01-13  Brian Aker  <brian@gir-3>

	Merge of current catalogs

2011-01-12  Brian Aker  <brian@tangent.org>

	Merge in catalogs trunk.

2011-01-11  Brian Aker  <brian@tangent.org>

	Remove custom error.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix for test on drop (error message change).

2011-01-12  Brian Aker  <brian@tangent.org>

	Basic DDL for catalog.

2011-01-12  Brian Aker  <brian@tangent.org>

	Merge in fix for catalog error.

2011-01-12  Brian Aker  <brian@gir-3>

	Merge in fix around API (we should be able to move to seeing errors directly
	from SE interface (which solves the wishlist issue, and convoluted issues
	around issuing errors).

2011-01-12  Brian Aker  <brian@tangent.org>

	Merge in changes for table message API.

2011-01-12  Brian Aker  <brian@tangent.org>

	Add additional getTableMessage() method which will have a good return type.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix interface for create table such that it issues error and returns state
	like the rest of the API.

2011-01-12  Brian Aker  <brian@gir-3>

	Merge in all of the fixes for definition to instance.

2011-01-12  Brian Aker  <brian@gir-3>

	Merge in change to POTFILES

2011-01-12  Brian Aker  <brian@tangent.org>

	Addition to POT file.

2011-01-12  Brian Aker  <brian@gir-3>

	Merge lint fix issues.

2011-01-12  Brian Aker  <brian@tangent.org>

	Fix lint issues.

2011-01-12  Brian Aker  <brian@gir-3>

	Merge in the move for share to be the instance for table.

2011-01-12  Brian Aker  <brian@tangent.org>

	Create a shared form of the instance which is a bit more heavier weight then
	the main instance class.

2011-01-10  Brian Aker  <brian@tangent.org>

	Merge in move for share to be instance.

2011-01-10  Brian Aker  <brian@tangent.org>

	Clear up naming convention for table type.

2011-01-10  Brian Aker  <brian@tangent.org>

	A little on the paranoid side, but not the worst plan ever to check our
	deletes in a couple of cases.

2011-01-12  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more parser rework

2011-01-11  Brian Aker  <brian@gir-3>

	Merge in trunk.

2011-01-11  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix bug 527084 - DROP TABLE: getTableDefiniton returns EEXIST but doDropTable returns ENOENT leads to SIGSEGV
	Merge Shrews - fix bug 686781 - Transaction message segmenting does not work in all cases 
	Merge Stewart - fix bug 376299: sum_distinct-big test fails after resetting max_heap_table_size

2011-01-11  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix bug 527084 - DROP TABLE: getTableDefiniton returns EEXIST but doDropTable returns ENOENT leads to SIGSEGV

2011-01-11  Brian Aker  <brian@tangent.org>

	Remove dead call to print error that didn't use a table reference.

2011-01-11  Brian Aker  <brian@tangent.org>

	Merge in protected methods.

2011-01-11  Brian Aker  <brian@tangent.org>

	Merge in work for error messages being standardized by error_t

2011-01-10  Brian Aker  <brian@tangent.org>

	Add assert to make sure we only use this method on temp tables.

2011-01-10  Brian Aker  <brian@tangent.org>

	First pass through error correction in SE interface for drop table.

2011-01-11  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 686781 - Transaction message segmenting does not work in all cases 

2011-01-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Actually use segment info in Transaction message. Cleanup TransactionServices::getXYZStatement() method to a simpler form.

2011-01-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2011-01-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add segment info to Transaction message and re-record tests.

2011-01-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 376299: sum_distinct-big test fails after resetting max_heap_table_size

2011-01-10  Stewart Smith  <stewart@flamingspork.com>

	put the comment out bit of the sum_distinct-big test back in - let's test it in param-build

2011-01-11  Brian Aker  <brian@gir-3>

	Merge in parser work.

2011-01-11  Brian Aker  <brian@tangent.org>

	Cleanup issue of OR in tests.

2011-01-10  Brian Aker  <brian@tangent.org>

	Cut down the number of keywords/small style cleanup.

2011-01-11  Brian Aker  <brian@gir-3>

	Merge in Monty for set_var

2011-01-10  Monty Taylor  <mordred@inaugust.com>

	Removed some guts from set_var.

2011-01-10  Monty Taylor  <mordred@inaugust.com>

	First step in getting that anonymous union out of set_var.

2011-01-10  Brian Aker  <brian@gir-3>

	Merge in catalogs.

2011-01-10  Brian Aker  <brian@tangent.org>

	Remove dead reference call for deleting plugin (we don't need cleanup).

2011-01-10  Brian Aker  <brian@tangent.org>

	Cleanup build process.

2011-01-09  Brian Aker  <brian@tangent.org>

	Remove dead reference in po file.

2011-01-09  Brian Aker  <brian@tangent.org>

	Fix ordering in tests.

2011-01-09  Brian Aker  <brian@tangent.org>

	Solaris fix.

2011-01-09  Brian Aker  <brian@tangent.org>

	Merge in catalog support (basic).

2011-01-09  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2011-01-07  Brian Aker  <brian@tangent.org>

	A few small fixes, plus move the schema lock to the actual catalog.

2011-01-06  Brian Aker  <brian@tangent.org>

	Merge in trunk to catalogs.

2010-12-31  Brian Aker  <brian@tangent.org>

	Update so that CATALOG is correctly being displayed.

2010-12-30  Brian Aker  <brian@tangent.org>

	Catalog is now linked to the user.

2010-12-30  Brian Aker  <brian@tangent.org>

	Merge in local_instance change.

2010-12-30  Brian Aker  <brian@tangent.org>

	Update for session to have a catalog object.

2010-12-29  Brian Aker  <brian@tangent.org>

	Update code to test/handle conflicting create/drop schema.

2010-12-29  Brian Aker  <brian@tangent.org>

	Merge in Catalogs to current trunk.

2010-12-29  Brian Aker  <brian@tangent.org>

	Merge catalog with current trunk.

2010-12-09  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-12-08  Brian Aker  <brian@tangent.org>

	Add in the schema and table make_shared methods.

2010-12-07  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2010-12-03  Brian Aker  <brian@tangent.org>

	Added additional fields for catalog.

2010-12-03  Brian Aker  <brian@tangent.org>

	Merge in lock testing code/additional fix for tests.

2010-12-02  Brian Aker  <brian@tangent.org>

	Big hunk of burning create/drop work.

2010-12-01  Brian Aker  <brian@tangent.org>

	We now display catalogs into the tables correctly.

2010-12-01  Brian Aker  <brian@tangent.org>

	Adding in the engine interface. The filesystem catalog will now handle
	local.

2010-11-30  Brian Aker  <brian@tangent.org>

	Merging in the first pass through the catalog work.

2010-11-29  Brian Aker  <brian@tangent.org>

	First pass through on creating proto.

2010-11-29  Brian Aker  <brian@tangent.org>

	First bit of create framework.

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix bug 700925: inserting into timestamp(6) with now() not preserving microseconds

2011-01-10  Brian Aker  <brian@tangent.org>

	Fix issue with now() not storing fractional seconds in timestamp(6)

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug #701124: wrong intl text domain
	Merge Andrew - fix bug #701137: drizzled --help not translated 	
	Merge Shrews - fix bug 701056: filtered_replicator not filtering all events
	Merge Monty - Changed the plugin_registry to store a pair of plugin_type/plugin_name instead of just plugin_name

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug #701124: wrong intl text domain
	Merge Andrew - fix bug #701137: drizzled --help not translated 	

2011-01-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix intl domain
	Add intl domain for drizzledump
	Fix boost::program_options translation output

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 701056: filtered_replicator not filtering all events

2011-01-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add result files

2011-01-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix to recognize schema name on CREATE TABLE; also added a call to unlock a locked mutex; added new tests for filtered_replicator plugin and removed one test for it that did nothing

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Changed the plugin_registry to store a pair of plugin_type/plugin_name instead of just plugin_name

2011-01-09  Monty Taylor  <mordred@inaugust.com>

	Changed the plugin_registry to store a pair of plugin_type/plugin_name 

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf - Use constrained_check<> classes on kernel sysvars 
	Merge Andrew - fix bug 645004: libuuid configure error message needs changing
	Merge Stewart - fix bug 698315: innobase tests fail with --repeat=2

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf - Use constrained_check<> classes on kernel sysvars 

2011-01-09  Gustaf Thorslund  <gustaf@thorslund.org>

	https://blueprints.launchpad.net/drizzle/+spec/add-constraints-to-kernel-sysvars
	sys_storage_engine
	sys_tmpdir
	sys_scheduler
	sys_system_time_zone

2010-12-06  Gustaf Thorslund  <gustaf@thorslund.org>

	Use constrained_check<> classes on kernel sysvars:
	https://blueprints.launchpad.net/drizzle/+spec/add-constraints-to-kernel-sysvars
	Options done:
	version
	group_concat_max_len
	join_buffer_size
	max_error_count

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 645004: libuuid configure error message needs changing

2011-01-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix pandora error message

2011-01-10  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 698315: innobase tests fail with --repeat=2

2011-01-11  Stewart Smith  <stewart@flamingspork.com>

	code around setting innobase_file_format_max was dodgy.

2011-01-10  Stewart Smith  <stewart@flamingspork.com>

	innobase.innodb was changing some global variables but not restoring them, causing --repeat=2 to fail

2011-01-10  Stewart Smith  <stewart@flamingspork.com>

	innobase.innodb_trx was not cleaning up after itself, causing --repeat=2 to fail

2011-01-10  Brian Aker  <brian@tangent.org>

	MErge in work from proto tree

2011-01-09  Brian Aker  <brian@tangent.org>

	Merge in clarification on lock for drop table.

2011-01-09  Brian Aker  <brian@tangent.org>

	Formattting, etc.

2011-01-09  Brian Aker  <brian@tangent.org>

	Fixes naming conventions and issues around notnull being "true" by default.

2011-01-09  Lee Bieber  <kalebral@gmail.com>

	Merge Andrews - fix bug 673833: Embedded SELECT inside UPDATE or DELETE can timeout without error
	Merge Andrews - fix bug 700099: serveral issues with InnoDB settings

2011-01-09  Lee Bieber  <kalebral@gmail.com>

	Merge Andrews - fix bug 673833: Embedded SELECT inside UPDATE or DELETE can timeout without error

2011-01-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport http://bugs.mysql.com/bug.php?id=40113

2011-01-09  Lee Bieber  <kalebral@gmail.com>

	Merge Andrews - fix bug 700099: serveral issues with InnoDB settings

2011-01-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Trinary constants were cast uint16_t -> uint32_t when displaying which caused bad output.
	In haildb we use uint32_t for trinary constants so do that here too.

2011-01-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make autoextend-increment default the same as MySQL

2011-01-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Get drizzle build system to support Linux native AIO for InnoDB

2011-01-09  Brian Aker  <brian@tangent.org>

	Merge in stewart

2011-01-07  Stewart Smith  <stewart@flamingspork.com>

	add warn_unused_result to Cursor::index_next

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	add attribute(warn_unused_result) to Cursor::startIndexScan

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	check return value of Cursor::startIndexScan in sql_select

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	init_read_record_idx return result should be checked now that it checks startIndexScan result. Fix case in sql_update

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	init_read_record_idx return result should be checked now that it checks startIndexScan result.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	the return value of Cursor::startIndexScan was not being checked in 2 places in item/subselect.cc.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	check return value of Cursor::startIndexScan in read_first_row

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	add warn_unused_result for updateRecord and deleteRecord

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	add warn_unused_result to Cursor::insertRecord

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	remove the saving of previous_error in doStartTableScan in HailDB. Now that we've fixed the upper layer to handle errors returned from doStarttableScan correctly.

2011-01-06  Stewart Smith  <stewart@flamingspork.com>

	doStartTableScan() result not checked.
	
	Add __attribute__((warn_unused_result)) to Cursor::startTableScan()
	and by extension init_read_records
	
	then go and fix the places where we weren't checking for errors.
	
	This patch helped by Monty Widenius' patch to MariaDB. Greatly increased
	confidence that we either handle the errors correctly or are at least
	on par with bugs :)

2011-01-09  Brian Aker  <brian@tangent.org>

	Rollup of changes from staging.

2011-01-08  Brian Aker  <brian@tangent.org>

	Dead parser bits, plus reduce conflicts.

2011-01-08  Brian Aker  <brian@tangent.org>

	Document conflict.

2011-01-08  Brian Aker  <brian@tangent.org>

	Remove undocumented, and untested, option for specifying the index type.

2011-01-07  Brian Aker  <brian@tangent.org>

	Remove dead column format code.

2011-01-08  Brian Aker  <brian@tangent.org>

	Rolling up session cleanup.

2011-01-08  Brian Aker  <brian@tangent.org>

	Remove dead erase call.

2011-01-08  Brian Aker  <brian@tangent.org>

	Begin process to disconnect before moving the connection out of the session
	list.

2011-01-08  Brian Aker  <brian@tangent.org>

	Rollup of retry removal.

2011-01-08  Brian Aker  <brian@tangent.org>

	Remove not_used bit for lock.

2011-01-08  Brian Aker  <brian@tangent.org>

	Merge in changes to remove retry.

2011-01-07  Brian Aker  <brian@tangent.org>

	Fix error control from lock.

2011-01-07  Brian Aker  <brian@tangent.org>

	Remove dead wait table cycle.

2011-01-07  Brian Aker  <brian@tangent.org>

	First pass, remove retry.

2011-01-08  Brian Aker  <brian@tangent.org>

	Merge in fractional seconds to timestamp.

2011-01-07  Brian Aker  <brian@tangent.org>

	Remove the default on the microsecond.

2011-01-07  Brian Aker  <brian@tangent.org>

	Remove default from switch for field types.

2011-01-07  Brian Aker  <brian@tangent.org>

	Remove need for committed type for microtime in proto.

2011-01-06  Brian Aker  <brian@tangent.org>

	A couple of cleanups (the +20 should not be there).

2011-01-06  Brian Aker  <brian@tangent.org>

	Fixed now() to return fractional seconds.

2011-01-06  Brian Aker  <brian@tangent.org>

	We no longer look at the sign of a timestamp.

2011-01-06  Brian Aker  <brian@tangent.org>

	Move the syntax for creation to what the standard has.

2011-01-06  Brian Aker  <brian@tangent.org>

	Merge in fixes for microtimestamp,

2011-01-05  Brian Aker  <brian@tangent.org>

	Update microtime code.

2011-01-05  Brian Aker  <brian@tangent.org>

	Add basic tests for microtime.

2011-01-03  Brian Aker  <brian@tangent.org>

	Basic support added for microstamp as alias to epoch

2011-01-03  Brian Aker  <brian@tangent.org>

	First pass on micro timestamp.

2011-01-07  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - parser clean up
	Merge Marisa - latest doc updates, fix sphinx warnings

2011-01-07  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - parser clean up

2011-01-06  Brian Aker  <brian@tangent.org>

	Look ma, no shift conflicts, and we get the keywords back.

2011-01-06  Brian Aker  <brian@tangent.org>

	Adjust name, we aren't really return an ident, it is just a name.

2011-01-06  Brian Aker  <brian@tangent.org>

	Remove some additional keywords that we don't require.

2011-01-06  Brian Aker  <brian@tangent.org>

	Clarify schema_ident definition.

2011-01-06  Brian Aker  <brian@tangent.org>

	Remove, ie be less anal, about sql keywords.

2011-01-06  Brian Aker  <brian@tangent.org>

	Merge in SQL reserved word patch

2011-01-05  Brian Aker  <brian@tangent.org>

	Remove dead keywords.

2011-01-05  Brian Aker  <brian@tangent.org>

	Modify savepoint to not allow keyword usage.

2011-01-05  Brian Aker  <brian@tangent.org>

	Remove a couple of dead keywords.

2011-01-05  Brian Aker  <brian@tangent.org>

	Add additional gperf for non-reserved SQL keywords.

2011-01-04  Brian Aker  <brian@tangent.org>

	Merge in work for reserved words in SQL standard.

2011-01-02  Brian Aker  <brian@tangent.org>

	Remove dead keywords from MySQL.

2011-01-02  Brian Aker  <brian@tangent.org>

	Reduce the conflicts based on engine options.

2011-01-01  Brian Aker  <brian@tangent.org>

	Shuffle ROW_FORMAT.

2011-01-01  Brian Aker  <brian@tangent.org>

	Merge in change to use row_format spefically *this is backward compatible
	stuff).

2010-12-31  Brian Aker  <brian@tangent.org>

	Reduce dependency on LEX_HOME.

2010-12-30  Brian Aker  <brian@tangent.org>

	Make use of lex for its pointer for field creation.

2010-12-30  Brian Aker  <brian@tangent.org>

	Remove the "no name" option from ALTER SCHEMA.

2010-12-30  Brian Aker  <brian@tangent.org>

	Rely on the try/catch above the parser to handle the unlikely case of a
	memory allocation failure.

2010-12-30  Brian Aker  <brian@tangent.org>

	Last of Lex remove.

2010-12-30  Brian Aker  <brian@tangent.org>

	Fix unneeded move of Lex to a local variable.

2010-12-30  Brian Aker  <brian@tangent.org>

	Remove useless copy.

2010-12-30  Brian Aker  <brian@tangent.org>

	Additional boolean

2010-12-30  Brian Aker  <brian@tangent.org>

	Additional boolean usae in the parser.

2010-12-29  Brian Aker  <brian@tangent.org>

	Merge in boolean type that has been added to the parser.

2010-12-29  Brian Aker  <brian@tangent.org>

	PAren shift

2010-12-29  Brian Aker  <brian@tangent.org>

	Merged in field_list rule.

2010-12-29  Brian Aker  <brian@tangent.org>

	Remove usage of localized variable.

2010-12-29  Brian Aker  <brian@tangent.org>

	Cleanup naming.

2010-12-28  Brian Aker  <brian@tangent.org>

	Clear up names in parser around create table

2010-12-28  Brian Aker  <brian@tangent.org>

	Refactor create table into sections.

2010-12-28  Brian Aker  <brian@tangent.org>

	Move exists into LEX.

2010-12-28  Brian Aker  <brian@tangent.org>

	Remove dead if/else

2010-12-28  Brian Aker  <brian@tangent.org>

	Valid with enum in parser for type

2010-12-28  Brian Aker  <brian@tangent.org>

	Merge in refactor of LIKE up to its own calling pointer in the parser.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge in first pass.

2011-01-07  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - latest doc updates, fix sphinx warnings

2011-01-06  Marisa Plumb  <marisa.plumb@gmail.com>

	adding tungsten doc

2011-01-06  Marisa Plumb  <marisa.plumb@gmail.com>

	fixed build warnings

2011-01-06  Marisa Plumb  <marisa.plumb@gmail.com>

	new orderby doc

2011-01-06  Marisa Plumb  <marisa.plumb@gmail.com>

	merged with up to date trunk

2011-01-05  Marisa Plumb  <marisa.plumb@gmail.com>

	having and distinct clauses

2011-01-04  Marisa Plumb  <marisa.plumb@gmail.com>

	new function and clause files, some placeholders for right now

2011-01-04  Marisa Plumb  <marisa.plumb@gmail.com>

	removing separate file for clauses

2011-01-04  Marisa Plumb  <marisa.plumb@gmail.com>

	added links to clauses section of queries.rst

2011-01-03  Marisa Plumb  <marisa.plumb@gmail.com>

	adjust data for 'activities' table

2011-01-03  Marisa Plumb  <marisa.plumb@gmail.com>

	markup fixes

2011-01-03  Marisa Plumb  <marisa.plumb@gmail.com>

	GROUP BY clause with example

2011-01-03  Marisa Plumb  <marisa.plumb@gmail.com>

	added outline for functions, modified clause related docs

2010-12-30  Marisa Plumb  <marisa.plumb@gmail.com>

	changes to clause file organization

2010-12-30  Marisa Plumb  <marisa.plumb@gmail.com>

	spelling fix

2010-12-30  Marisa Plumb  <marisa.plumb@gmail.com>

	trying out example for "where" clause

2010-12-30  Marisa Plumb  <marisa.plumb@gmail.com>

	flush.rst formatting

2011-01-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 698092: data_dictionary crash

2011-01-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Refix show_dictionary plugin crash when not using 'SHOW' to access.
	Added isShow() to Statement which is true on a Show statement object and is checked by show_dictionary to make sure it is a SHOW that is executed.

2011-01-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 697726: crash in drizzled::JoinTable::readCachedRecord

2011-01-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - test clean up for #697726

2011-01-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2011-01-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 697726: crash in drizzled::JoinTable::readCachedRecord

2011-01-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add (rather large) test case

2011-01-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport http://bugs.mysql.com/bug.php?id=37460

2011-01-05  Brian Aker  <brian@tangent.org>

	Added native functions into the function table.

2011-01-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Fix bug 628398: Crash / segfault in copy_fields (join=0x284f868, end_of_records=false) at drizzled/sql_select.cc:6228
	Merge Andrew - Fix bug #697697: crash in drizzled::optimizer::ExplainPlan::printPlan

2011-01-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport fix from http://bugs.mysql.com/bug.php?id=49630

2011-01-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Clear copy_field completely to avoid stale pointer restore causing crash

2011-01-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 696188: error handling for drizzle client stdin replacement problems

2011-01-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make --silent work again

2011-01-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make --force work again

2011-01-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix hidden connect messages

2011-01-04  Brian Aker  <brian@tangent.org>

	Merge in Andrew

2011-01-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Revert join_cache buffer cleanup, causes valgrind problems and as much as I don't like it I think the current implementation seems to work

2011-01-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Refix using placement new for join code, vector for join cache buffer.
	Also refix a bug in COND_CMP properly

2011-01-05  Lee Bieber  <kalebral@gmail.com>

	Merge Evan - fix bug 682773 libdrizzle performance: in non-blocking mode don't attempt to read after write
	Merge Stewart - add in more tests from the suites directory

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Evan - fix bug 682773 libdrizzle performance: in non-blocking mode don't attempt to read after write

2011-01-02  Evan Jones  <evanj@mit.edu>

	libdrizzle: drizzle_state_read: only call recv() if data is available.
	
	This uses the "read ready" flag that already exists to avoid excess system calls. Without this patch, in non-blocking mode after sending a command, libdrizzle immediately calls recv(), which almost always returns EAGAIN. This patch avoids that, instead returning IO_WAIT. This causes the caller to wait for data on the connection using poll() or epoll() before calling recv().

2011-01-02  Evan Jones  <evanj@mit.edu>

	libdrizzle: fix minor errors in drizzle_state_read
	
	* Return the error code if drizzle_con_set_events fails, not 0 = DRIZZLE_RETURN_OK
	* Remove an excess trailing semi-colon.

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - add in more tests from the suites directory

2011-01-04  Stewart Smith  <stewart@flamingspork.com>

	run more of the test suites by default. We were only running a subset of the test suites by default. We should run all of them that pass. Someone should make sure there's not more that can be enabled too

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Rename of the Loooongggggg   error type over to simply drizzled::error_t
	Merge Brian - Cleanup of error messages.

2011-01-04  Brian Aker  <brian@tangent.org>

	Rename of the Loooongggggg   error type over to simply drizzled::error_t

2011-01-04  Brian Aker  <brian@tangent.org>

	Merge in cleanup of error messages.

2011-01-04  Brian Aker  <brian@tangent.org>

	Merge in change so that we pull out the error_t enum out to its own
	definition.

2011-01-04  Brian Aker  <brian@tangent.org>

	Cleanup error usage around identifier usage.

2011-01-03  Brian Aker  <brian@tangent.org>

	Additional error cleanup.

2011-01-03  Brian Aker  <brian@tangent.org>

	Merge in changes such that we are strict with error type.

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - fix bug 696397: innodb storing bin log offset in trx sys header
	Merge Monty - provide general abort exception to work along side BOOST_THROW_EXCEPTION

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - fix bug 696397: innodb storing bin log offset in trx sys header

2011-01-02  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2011-01-02  Joseph Daly  <skinny.moey@gmail.com>

	696397 dont write bin log offset in trx sys header

2011-01-04  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - provide general abort exception to work along side BOOST_THROW_EXCEPTION

2010-12-30  Monty Taylor  <mordred@inaugust.com>

	Revert unneeded change to the while loop.

2010-12-21  Monty Taylor  <mordred@inaugust.com>

	Added an abort macro and an abort_exception.

2011-01-04  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-12-26  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2011-01-03  Brian Aker  <brian@tangent.org>

	Fix additional member of trans services to handle identifier.

2011-01-03  Brian Aker  <brian@tangent.org>

	Second patch from david which has the transaction services using identifier.

2011-01-03  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Change TransactionServices::dropTable() to take a TableIdentifier rather than strings.

2011-01-03  Brian Aker  <brian@tangent.org>

	Merge in David.

2011-01-03  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-add IF EXISTS support back in to transaction log so we can drop tables on master that are not on the slave.

2011-01-03  Brian Aker  <brian@tangent.org>

	Refactor drop schema so that it can be used for removing tables under
	catalogs.

2011-01-02  Brian Aker  <brian@tangent.org>

	Move to private.

2011-01-02  Brian Aker  <brian@tangent.org>

	Only change schemas if we DROP the schema.

2011-01-02  Brian Aker  <brian@tangent.org>

	Put more of drop schema behind interface.

2010-12-31  Brian Aker  <brian@tangent.org>

	Remove std::cerr messages

2010-12-31  Brian Aker  <brian@tangent.org>

	Fixed issue with drop schema when working with temp tables.

2010-12-31  Brian Aker  <brian@tangent.org>

	Cleanup for error, there is still a failure of all temp tables being closed
	when schema is dropped.

2010-12-31  Brian Aker  <brian@tangent.org>

	Cleanup of drop table.

2010-12-30  Brian Aker  <brian@tangent.org>

	Make it so that tables are sent not as raw but actual drop table commands to
	the replication system.

2010-12-30  Brian Aker  <brian@tangent.org>

	remove goto

2010-12-30  Brian Aker  <brian@tangent.org>

	Just grab the identifiers, and run with them.

2010-12-30  Brian Aker  <brian@tangent.org>

	Improve on drop schema temp tables.

2010-12-30  Brian Aker  <brian@tangent.org>

	Move temp table schema drop inside of API.

2011-01-02  Brian Aker  <brian@tangent.org>

	Merge in Monty

2011-01-02  Monty Taylor  <mordred@inaugust.com>

	Removed an unneeded call to LEX::start

2011-01-02  Monty Taylor  <mordred@inaugust.com>

	Reset the vector in LEX. Stupid class reuse.

2010-12-30  Monty Taylor  <mordred@inaugust.com>

	Replaced List<set_var_base> with
	std::vector<boost::shared_ptr<set_var_base>> (and removed the mem_root)

2010-12-30  Monty Taylor  <mordred@inaugust.com>

	Removed unused no_error bool param.

2010-12-30  Monty Taylor  <mordred@inaugust.com>

	Made find_sys_var take a const std::string& instead.

2010-12-30  Monty Taylor  <mordred@inaugust.com>

	Removed unnecessary intern_find_sys_var.

2011-01-01  Brian Aker  <brian@tangent.org>

	MErge in Andrew's patch for a mysql bug

2011-01-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport fix for MySQL bug #52005

2011-01-01  Brian Aker  <brian@tangent.org>

	Roll up of code around timer issues.

2010-12-31  Brian Aker  <brian@tangent.org>

	Merge in fix for icc find for not normally compiled module

2010-12-31  Brian Aker  <brian@tangent.org>

	Merge in lp:~brianaker/drizzle/timestamp.  This just continues the cleanup
	of the timestamp code (and in particular in this case, how we make calls to
	determine thread time).

2010-12-31  Brian Aker  <brian@tangent.org>

	Remove additional bits around time (more centralize, good...)

2010-12-31  Brian Aker  <brian@tangent.org>

	Merge in additional updates for time usage.

2010-12-31  Brian Aker  <brian@tangent.org>

	Make more time usage private.

2010-12-31  Brian Aker  <brian@tangent.org>

	Merge in Lee's bug fix

2010-12-30  Lee Bieber kalebral@gmail.com

	enable test as bug 316221 is now resolved

2010-12-30  Brian Aker  <brian@tangent.org>

	Partial update to the time code.

2010-12-30  Brian Aker  <brian@tangent.org>

	Scale down the calls to universal_time().

2010-12-30  Brian Aker  <brian@tangent.org>

	First pass on removing some of the calls currently to boost::posix_time. (we
	are keeping it, we just don't need to call it quite so often).

2010-12-30  Brian Aker  <brian@tangent.org>

	Update to time and field.

2010-12-30  Brian Aker  <brian@tangent.org>

	See if the boost atomic counter will work.

2010-12-30  Brian Aker  <brian@tangent.org>

	Ubuntu issue?

2010-12-30  Brian Aker  <brian@tangent.org>

	Merge in connection_count, see how boost handles this.

2010-12-30  Brian Aker  <brian@tangent.org>

	Switched connection_count to use boost atomic.

2010-12-30  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 632755: Crash / assertion failed in drizzled::Session::free_cached_table (this=0x7f83a42c63f0) at drizzled/sql_base.cc:513
	Merge Lee - update tests to run with --repeat=2
	Merge Shrews - 695755: filtered_replicator test hangs after first run when run with --repeat=2

2010-12-30  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 632755: Crash / assertion failed in drizzled::Session::free_cached_table (this=0x7f83a42c63f0) at drizzled/sql_base.cc:513

2010-12-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	There are some cases where join has a join tables but no main tables at cleanup().  So account for this.

2010-12-30  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - update tests to run with --repeat=2

2010-12-30  Lee Bieber  <kalebral@gmail.com>

	fix tests that are failing with --repeat=2

2010-12-30  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - 695755: filtered_replicator test hangs after first run when run with --repeat=2

2010-12-30  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix various test cases failing when run with --repeat=2; also fixes an unlocked mutex issue in filtered_replicator.

2010-12-30  Brian Aker  <brian@tangent.org>

	Rollup of assert(), etc.

2010-12-30  Brian Aker  <brian@tangent.org>

	Update support since we support this syntax now.

2010-12-30  Brian Aker  <brian@tangent.org>

	Update assert test, additional my_error.

2010-12-29  Brian Aker  <brian@tangent.org>

	Mege in dangling call to ptr() and utility functions from catalogs.

2010-12-29  Brian Aker  <brian@tangent.org>

	Merge in the utility functions I have been using in catalogs.

2010-12-29  Brian Aker  <brian@tangent.org>

	Adding typeof() method to determine drizzle type returns

2010-12-29  Brian Aker  <brian@tangent.org>

	result_type() to display the internal type.

2010-12-29  Brian Aker  <brian@tangent.org>

	Update assert() to display what was being evaluated.

2010-12-29  Brian Aker  <brian@tangent.org>

	Create a user available assert() function.

2010-12-29  Brian Aker  <brian@tangent.org>

	Remove case where we called ptr() and instead call c_ptr() (safer this way).

2010-12-29  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 683620: Unhandled exception from boost::thread::start_thread
	Merge Stewart - fix bug 695203: test-run --gdb no longer sets breakpoint 	
	Merge Lee - some minor copyright updates

2010-12-29  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 683620: Unhandled exception from boost::thread::start_thread

2010-12-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	When spawning many sessions it is possible to hit "ulimit -u" (I didn't even realise this affected thread counts).
	
	This caused an exception to be thrown which was uncaught.  We now catch this and deall with it gracefully

2010-12-29  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 695203: test-run --gdb no longer sets breakpoint 	

2010-12-29  Stewart Smith  <stewart@flamingspork.com>

	fix test-run.pl --gdb setting a breakpoint on drizzled::mysql_parse as it's now called drizzled::parse. I guess the dbx thing is correct... I never use it

2010-12-29  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - some minor copyright updates

2010-12-28  Lee Bieber kalebral@gmail.com

	More copyright updates

2010-12-28  Lee Bieber  <kalebral@gmail.com>

	in POTFILES.in change plugin/innobase/srv/srv0start.c to plugin/innobase/srv/srv0start.cc

2010-12-28  Lee Bieber  <kalebral@gmail.com>

	Merge Monty, move innobase from C to C++

2010-12-27  Monty Taylor  <mordred@inaugust.com>

	Fixed ICC warnings.

2010-12-27  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.171

2010-12-27  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-12-27  Monty Taylor  <mordred@inaugust.com>

	Added back INNOBASE_SKIP_WARNINGS for solaris. Also dealt with unused params.

2010-12-26  mordred  <mordred@orisndriz09>

	Removed INNOBASE_SKIP_WARNINGS, but re-added them as PERMISSIVE_WARNINGS so that we can ignore some warnings on Sun Studio for bison-generated code (I don't care).

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Updated for OSX.

2010-12-26  mordred  <mordred@orisndriz09>

	A few 32-bit fixes.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Account for old flex.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Fixed logic error in pandora_vc_changelong.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Fixed typo in pandora macros.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Squash final compile bugs... we're getting somewhere!

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Wow. Got rid of most of INNOBASE_SKIP_WARNINGS.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.170

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	One symbol issue.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	Dear God,
	
	It's possible I may have finished with all of the casting conversions for
	InnoDB. If that's the case, I'd like to offer this goat as a sacrifice for
	the successful completion of the test suite.
	
	Monty

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	More casting. Getting old.

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	More casting

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	More casting.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.167

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Rename.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2010-12-17  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.165

2010-12-26  Monty Taylor  <mordred@inaugust.com>

	More casting.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	More.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Through rem0rec.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Worked through page0zip.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Through page.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Cleaned through ha0ha.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	fixed dict and eval.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	More casting.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Fixing some of the innodb c++ casting issues.

2010-12-25  Monty Taylor  <mordred@inaugust.com>

	Started the process of fixing Sun Studio compile errors.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Need to rename it in POTFILES.in as well.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Changed the bzrignore file.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Fixed lexer symbols.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	A stab at C++-izing InnoDB.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge in boolean.

2010-12-27  Brian Aker  <brian@tangent.org>

	Update test case for filesystem engine, the values that were being stored
	were incorrect.

2010-12-27  Brian Aker  <brian@tangent.org>

	MErge all boolean work.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge in boolean function work.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge in boolean function.

2010-12-27  Brian Aker  <brian@tangent.org>

	Refactor boolean function.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge

2010-12-27  Brian Aker  <brian@tangent.org>

	Fix include file.

2010-12-27  Brian Aker  <brian@tangent.org>

	Make the item call a bit friendlier.

2010-12-27  Brian Aker  <brian@tangent.org>

	Added bool/merge.

2010-12-27  Brian Aker  <brian@tangent.org>

	Manage merge

2010-12-26  Brian Aker  <brian@tangent.org>

	Create an Bool primtive type for item.

2010-12-26  Brian Aker  <brian@tangent.org>

	Merge in additional tests for cast/BOOLEAN

2010-12-26  Brian Aker  <brian@tangent.org>

	Adding in tests for CAST to BOOLEAN

2010-12-24  Brian Aker  <brian@tangent.org>

	Merge in cast() for BOOLEAN.

2010-12-27  Brian Aker  <brian@tangent.org>

	Merge in additional encapsulation of Decimal

2010-12-27  Brian Aker  <brian@tangent.org>

	Improvement for decimal in encapsulation.

2010-12-26  Brian Aker  <brian@tangent.org>

	Further encapsulation for DECIMAL.

2010-12-26  Brian Aker  <brian@tangent.org>

	More encapsulation around Decimal.

2010-12-26  Brian Aker  <brian@tangent.org>

	Add string_length() to Decimal class.

2010-12-26  Brian Aker  <brian@tangent.org>

	Move class_decimal2int to a method on Decimal.

2010-12-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Adds an option for native-aio and turns it on by default if it exists.
	Merge Kent - Updated the Data Types documentation on columntypes.rst.

2010-12-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Adds an option for native-aio and turns it on by default if it exists.

2010-12-24  Monty Taylor  <mordred@inaugust.com>

	Enable native AIO for innodb by default if it's available.

2010-12-24  Monty Taylor  <mordred@inaugust.com>

	Marked some strings for translation.

2010-12-26  Lee Bieber  <kalebral@gmail.com>

	Merge Kent - Updated the Data Types documentation on columntypes.rst.

2010-12-23  Kent  <kent@KentLaptop>

	docs first revision data types

2010-12-25  Brian Aker  <brian@tangent.org>

	Fix bad include.

2010-12-25  Brian Aker  <brian@tangent.org>

	Update for linted.

2010-12-25  Brian Aker  <brian@tangent.org>

	MErge in the include changes.

2010-12-25  Brian Aker  <brian@tangent.org>

	Merge in modification for naming around types.

2010-12-24  Brian Aker  <brian@tangent.org>

	Update for moving DRIZZLE_TIME to type::Time

2010-12-24  Brian Aker  <brian@tangent.org>

	Change my_decimal to Decimal

2010-12-24  Brian Aker  <brian@tangent.org>

	Second pass through function names.

2010-12-24  Brian Aker  <brian@tangent.org>

	First pass in refactoring of the name of my_decimal.

2010-12-24  Brian Aker  <brian@tangent.org>

	Small set of symbol updates.

2010-12-24  Brian Aker  <brian@tangent.org>

	Merge in BOOLEAN

2010-12-24  Brian Aker  <brian@tangent.org>

	Merge in fixes for DD to make use of BOOLEAN as a type.

2010-12-23  Brian Aker  <brian@tangent.org>

	Merge in BOOL change to BOOLEAN.

2010-12-23  Brian Aker  <brian@tangent.org>

	Merge in BOOL type. 

2010-12-24  Brian Aker  <brian@tangent.org>

	Merge in Monty's rename patch.

2010-12-23  Monty Taylor  <mordred@inaugust.com>

	Renamed things prefixed mysql_ or mysqld_

2010-12-23  Brian Aker  <brian@tangent.org>

	Merge in CAST.

2010-12-23  Brian Aker  <brian@tangent.org>

	Finish up issues with unsigned/int by fixing cast().

2010-12-23  Brian Aker  <brian@tangent.org>

	Merge in CAST operators for SIGNED/UNSIGNED

2010-12-24  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Update to tests, we just want to look at our own tables, not global.
	Merge Brian - Final bits of encapsulation work

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Update to tests, we just want to look at our own tables, not global.

2010-12-23  Brian Aker  <brian@tangent.org>

	Update to tests, we just want to look at our own tables, not global.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Final bits of encapsulation work

2010-12-23  Brian Aker  <brian@tangent.org>

	Final bit of encapsulation.

2010-12-22  Brian Aker  <brian@tangent.org>

	Additional encapsulation around the SE api. 

2010-12-22  Brian Aker  <brian@tangent.org>

	Cleanup error messages around bad table definitions.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug  674471: DROP SCHEMA/TABLE IF EXISTS being logged even if the object didn't exis

2010-12-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-record failing storage_engine_api_tester tests

2010-12-23  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-12-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-12-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	No longer pass DROP SCHEMA/TABLE through the replication stream if it uses IF EXISTS and does not drop anything. Fix up test cases for this change.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - session list cleanup

2010-12-23  Brian Aker  <brian@tangent.org>

	Merge in session list.

2010-12-22  Brian Aker  <brian@tangent.org>

	Cleanup around session list. Only a partial solution.

2010-12-22  Brian Aker  <brian@tangent.org>

	Update disconnect code.

2010-12-22  Brian Aker  <brian@tangent.org>

	We just need to use a pointer, we already hold the lock for the shared
	pointer from the container.

2010-12-22  Brian Aker  <brian@tangent.org>

	Encapsulate client call. Also remove the need to call current_session when
	looking for privs for processlist.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 687582: libdrizzle: performance: don't memset(0) drizzle_column_st
	Merge Monty - clean up valgrind suppressions

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 687582: libdrizzle: performance: don't memset(0) drizzle_column_st

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Updated patch from Evan - which passes tests and also seems to be faster for
	him!

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Alternate option for clearing the drizzle_column_st.

2010-12-09  Evan Jones  <evanj@MIT.EDU>

	This structure is HUGE (~6636 bytes): memset is too expensive

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - clean up valgrind suppressions

2010-12-21  Monty Taylor  <mordred@inaugust.com>

	Fixed some valgrind warning suppressions which were getting fooled by a
	different stack.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - update storage engine api for testing
	Merge Andrew - Docs for the drizzleadmin tool and the new protocol options

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - update storage engine api for testing

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	drop table at end of SEAPITester select test

2010-12-11  Stewart Smith  <stewart@flamingspork.com>

	merge dshrews branch

2010-12-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	merge trunk

2010-12-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-record txn_log_rollback_large_stmt test now that statement rollback works

2010-12-08  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-01  Stewart Smith  <stewart@flamingspork.com>

	add error insert for rnd_next causing lock wait timeout in SEAPITester. This means we can write a test (included) that tests stmt rollback for txn log in large INSERT SELECT. Result file isn't valid yet due to test failing

2010-12-01  Stewart Smith  <stewart@flamingspork.com>

	start server for txn_log_insert test correctly

2010-12-01  Stewart Smith  <stewart@flamingspork.com>

	add SEAPITester test for incorrect txn log contents on LOCK WAIT TIMEOUT
	
	This patch:
	- adds error injection to SEAPITester (and just it)
	- adds txn_log_insert test for SEAPITester that examines transaction log:
	- currently fails due to bug in server! (YAY)
	- adds a couple of state transitions for Cursor

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	also need correct code in doRollback for strange-arse stupid way we do autocommit.

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	because of fixing SEAPITester rollback statement/txn, we need to have the extra Engine state transition of end statemnet -> rollback stmt

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	add storage_engine_api_tester.transaction test. fix rollback code to be rollback statement/txn correct

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	properly distinguish between COMMIT for statement when autocommit is on

2010-11-29  Stewart Smith  <stewart@flamingspork.com>

	actually make storage_engine_api_tester rnd_pos test actually use our engine. Modify our wrapper so taht it does go through all the correct things. OH MY THE BUGS (or weird ways that the API gets called

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	starting a table scaan always goes thorugh store lock, not directly from open

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	add update record and rnd_pos ability to SEAPITester. This means we can do the rnd_pos test

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	have SEAPITester be a friend of StorageEngine instead of changing 'protected' to 'public' for some methods.

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	initial go at having SEAPITesterCursor wrap innobase cursor. does basic insert and table scan.

2010-11-24  Stewart Smith  <stewart@flamingspork.com>

	storage_engine_api_tester starts to become a filter to a 'real' engine (innobase) verifying the call sequence of things rather than just an isolated engine that does nothing. We also need to get access at some more things from StorageEngine. Yes, they should be protected - but C++ is being hateful to me.

2010-11-24  Stewart Smith  <stewart@flamingspork.com>

	extent Storage Engine API Tester plugin to test simple multi statement transactions and expand around COMMIT/ROLLBACK of individual statements.

2010-12-23  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Docs for the drizzleadmin tool and the new protocol options

2010-12-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add admin tool and protocol docs (which include the new settings)

2010-12-22  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Update innobase plugin to be based on innodb 1.1.4 from MySQL 5.5.8 
	Merge Marisa - fixed markup in 'administrative.rst', which was throwing an error in the build

2010-12-22  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Update innobase plugin to be based on innodb 1.1.4 from MySQL 5.5.8 

2010-12-21  Stewart Smith  <stewart@flamingspork.com>

	add a macro for UNIV_WARN_UNUSED_RESULT_NONNULL as only GCC knows what that's about... i.e. SunStudio doesn't

2010-12-20  Stewart Smith  <stewart@flamingspork.com>

	remove a innobase test as (unlike mysql) drizzle isn't buggy r.e. table names

2010-12-20  Stewart Smith  <stewart@flamingspork.com>

	remove innodb test that is not currently really applicable

2010-12-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-20  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101115070804-gz1z4s7l3u4p48f5 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101115070804-gz1z4s7l3u4p48f5
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #16290 Unclear error message when adding foreign key constraint
	
	rb://502 approved by Sunny Bains

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101111131239-wosl62ufdczj2pk7 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101111131239-wosl62ufdczj2pk7
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Fix a debug assertion failure in the Bug#57802 fix.
	
	thr_local_create(): Initialize local->slot_no to ULINT_UNDEFINED.
	thr_local_validate(): Allow local->slot_no to be ULINT_UNDEFINED.

2010-12-20  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101111111152-go9r1lgbtpvcmfd0 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101111111152-go9r1lgbtpvcmfd0
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Remove unused parameter has_dict_mutex of dict_update_statistics_low()
	
	Also delete dict_update_statistics() and rename dict_update_statistics_low()
	to dict_update_statistics() because the only thing that distinguished those
	two functions was the removed parameter.

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101111095535-nmwbjfcenfjhdpg1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101111095535-nmwbjfcenfjhdpg1
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#57802 Empty ASSERTION parameter passed to the HASH_SEARCH macro
	
	thr_local_validate(), i_s_locks_row_validate(): New validate
	functions, used in UNIV_DEBUG code for checking the state of internal
	memory structures.

2010-12-20  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101111065041-tn07yzd1ne9x8cz8 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101111065041-tn07yzd1ne9x8cz8
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB version from 1.1.3 to 1.1.4 
	InnoDB 1.1.3 was released with MySQL 5.5.7-rc

2010-12-20  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101111053212-lo5nmbn8hnrjkwm0 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101111053212-lo5nmbn8hnrjkwm0
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #48026 Log start and end of InnoDB buffer pool initialization
	to the error log
	
	rb://513 approved by Sunny Bains

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101104131215-pfxnpidlrzd4krg0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101104131215-pfxnpidlrzd4krg0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	row_ins_index_entry(): Note that only CREATE INDEX sets foreign=FALSE.

2010-12-20  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101103224136-0odvewpmt1rnvmd2 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101103224136-0odvewpmt1rnvmd2
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Add change log entry for bug#54538 fix.

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101103123836-kob2w9vj7yb5j41n from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101103123836-kob2w9vj7yb5j41n
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	rw_lock_debug_print(): Output the thread ID in unsigned format.

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101103091912-tlsgb3c8yp1mx6m1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101103091912-tlsgb3c8yp1mx6m1
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#57947 InnoDB diagnostics shows btr_block_get calls instead of real callers
	
	Improve the diagnostics of buffer pool accesses for B-trees,
	so that the file names and line numbers of the real calls are shown
	instead of the line of the buf_page_get() call in btr_block_get().
	
	btr_page_get(): Replaced with a macro.
	
	btr_block_get_func(): Renamed from btr_block_get(). Add file, line.
	
	btr_block_get(): A macro that passes the __FILE__, __LINE__ to
	btr_block_get_func().
	
	dict_truncate_index_tree(): Replace a btr_page_get() call
	with btr_block_get(), since we are only latching the page, not accessing it.

2010-12-20  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101103091611-a3x9p0yivkvu5u9i from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101103091611-a3x9p0yivkvu5u9i
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Non-functional change: Remove bogus const qualifiers
	and make some function comments more accurate.

2010-12-20  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101103014053-rlghb3z1wfbc45al from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101103014053-rlghb3z1wfbc45al
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix Bug #54538 - use of exclusive innodb dictionary lock limits performance.
	
	This patch doesn't get rid of the need to acquire the dict_sys->mutex but
	reduces the need to keep the mutex locked for the duration of the query
	to fsp_get_available_space_in_free_extents() from ha_innobase::info().
	
	This is a port of revno:3548 from the builtin to the plugin.
	
	rb://501 Approved by Jimmy Yang and Marko Makela.

2010-12-20  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101103093008-l1nbhzqxrnfscm1q from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101103093008-l1nbhzqxrnfscm1q
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add ChangeLog entry for Bug#53046

2010-12-20  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101102165720-164z3666y3tut4c2 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101102165720-164z3666y3tut4c2
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#53046 dict_update_statistics_low can still be run concurrently on same table
	
	Replace the array of mutexes that used to protect
	dict_index_t::stat_n_diff_key_vals[] with an array of rw locks that protects
	all the stats related members in dict_table_t and all of its indexes.
	
	Approved by:	Jimmy (rb://503)

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101102072848-uufe0c5xztb51p0m from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101102072848-uufe0c5xztb51p0m
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#57799 READ UNCOMMITTED access failure of off-page DYNAMIC or COMPRESSED
	columns again
	
	This is follow-up to Bug #54358. Not all occurrences of the bug were fixed.
	We need to check all calls to btr_copy_externally_stored_field_prefix_low()
	and do the right thing when the pointer to the off-page column is null
	(full of zero bytes).
	
	It turns out that only the call to btr_copy_externally_stored_field_prefix()
	in row_sel_sec_rec_is_for_blob() needs to be changed.
	
	For fetching complete off-page columns rather than prefixes, the function
	btr_rec_copy_externally_stored_field() already checks if the pointer
	is null (all-zero).  Two of its callers (row_merge_copy_blobs() and
	row_sel_fetch_columns()) are never executed as READ COMMITTED and can
	rightfully assert that the fetch succeeded.  The third caller,
	row_sel_store_mysql_rec(), already does the right thing.
	
	The calls in row_upd_ext_fetch() and trx_undo_page_fetch_ext() must
	expect that the off-page column exists. Update and rollback are
	locking operations, never READ UNCOMMITTED.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101102072805-gvnw87pfiufe4axu from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101102072805-gvnw87pfiufe4axu
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	White-space corrections in the InnoDB Plugin ChangeLog

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101101084928-ablf6soqj81v0epg from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101101084928-ablf6soqj81v0epg
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Start preprocessor directive from column 1.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101101081833-em4abq3hfkijwz6f from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101101081833-em4abq3hfkijwz6f
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug #57579 blobs cause a thread to wait for itself endlessly
	
	btr_estimate_n_rows_in_range_on_level(): Always do mtr_commit(),
	so that the page will not remain pinned indefinitely.

2010-12-17  Jon Olav Hauglid  <jon.hauglid@oracle.com>

	Merge Revision revid:jon.hauglid@oracle.com-20101101131259-acwkly6fdpj61l64 from MySQL InnoDB
	
	Original revid:jon.hauglid@oracle.com-20101101131259-acwkly6fdpj61l64
	
	Original Authors: Jon Olav Hauglid <jon.hauglid@oracle.com>
	Original commit message:
	Backport from mysql-trunk-bugfixing of:
	
	------------------------------------------------------------
	revno: 3309
	committer: Tor Didriksen <tor.didriksen@oracle.com>
	branch nick: trunk-bugfixing
	timestamp: Mon 2010-11-01 08:58:27 +0100
	message:
	Bug#45288: pb2 returns a lot of compilation warnings
	
	DBG build broken on binary-werror-linux-x86_64-tar-gz
	storage/innobase/os/os0sync.c:659: warning: 'timed_out' may be used uninitialized in this function

2010-12-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101028171223-10w9wn069a80lenx from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101028171223-10w9wn069a80lenx
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix a compilation warning:
	
	/export/home/pb2/build/sb_0-2459340-1288264809.63/mysql-5.5.8-ga/storage/innobase/os/os0sync.c: In function 'os_cond_wait_timed':
	/export/home/pb2/build/sb_0-2459340-1288264809.63/mysql-5.5.8-ga/storage/innobase/os/os0sync.c:184: warning: format '%lu' expects type 'long unsigned int', but argument 4 has type 'time_t'
	gmake[2]: *** [storage/innobase/CMakeFiles/innobase.dir/os/os0sync.c.o] Error 1 

2010-12-17  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20101028053453-2ekjdge2edt1a425 from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20101028053453-2ekjdge2edt1a425
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Bug#52062: Compiler warning in os0file.c on windows 64-bit
	On Windows, the parameter for number of bytes passed into WriteFile()
	and ReadFile() is DWORD. Casting is needed to silence the warning on
	64-bit Windows.
	
	Also, adding several asserts to ensure the variable for number of bytes
	is no more than 32 bits, even on 64-bit Windows.
	
	rb://415
	Approved by: Inaam

2010-12-17  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20101027220620-9nywy62a4499hagu from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20101027220620-9nywy62a4499hagu
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Fixed a C89 violation when atomic builtins are not defined, causing
	a compile error with MSVC. The problem was introduced in Revision: 3150
	revid:marko.makela@oracle.com-20100809085837-s1nfx6gjf7l6ttab

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101027185045-uec2xx1mxc3a602h from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101027185045-uec2xx1mxc3a602h
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Fix a bogus debug assertion in the fix of Bug #57707.
	
	buf_pool_init(): Replace ut_ad(n_instances < MAX_BUFFER_POOLS)
	with ut_ad(n_instances <= MAX_BUFFER_POOLS).
	(Spotted by Michael Izioumtchenko.)
	Add ut_ad(n_instances > 0).

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101027065656-gru5r7k3qqyu64l9 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101027065656-gru5r7k3qqyu64l9
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug #57707 InnoDB buf_page_t size has doubled on 32-bit systems
	
	buf_page_t: Remove the buf_pool pointer. Add buf_pool_index:6 next to
	buf_fix_count:19 (it was buf_fix_count:25). This will limit the number
	of concurrent transactions to somewhere around 524,288.
	
	buf_pool_index(buf_pool): A new function to determine the index of a
	buffer pool in buf_pool_ptr[].
	
	buf_pool_ptr: Make this a dynamically allocated array instead of an
	array of pointers. Allocate the array in buf_pool_init() and free in
	buf_pool_free().
	
	buf_pool_free_instance(): No longer free the buf_pool object, as it is
	allocated from a big array.
	
	buf_pool_from_bpage(), buf_pool_from_block(): Move the definitions to
	the beginning of the files, because some compilers have (had) problems
	with forward definitions of inline functions. Calculate the buffer
	pool from buf_pool_index.
	
	buf_pool_from_array(): Add debug assertions for input validation.

2010-12-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20101027014558-ax7egimco5r8zp42 from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20101027014558-ax7egimco5r8zp42
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Fix compiler warning introduced by previous commit.

2010-12-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20101026210624-6nh7s4nv9kb440m8 from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20101026210624-6nh7s4nv9kb440m8
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Bug #57611    ibdata file and continuous growing undo logs
	rb://498
	
	Fix handling of update_undo_logs at trx commit. Previously, when
	rseg->update_undo_list grows beyond 500 the update_undo_logs were
	marked with state TRX_UNDO_TO_FREE which should have been
	TRX_UNDO_TO_PURGE.
	In 5.5 we don't need the heuristic as we support multiple rollback
	segments.
	
	Approved by: Sunny Bains

2010-12-17  kevin.lewis@oracle.com

	Merge Revision revid:kevin.lewis@oracle.com-20101026191831-1zm2j4vs0gchqxq0 from MySQL InnoDB
	
	Original revid:kevin.lewis@oracle.com-20101026191831-1zm2j4vs0gchqxq0
	
	Original Authors: kevin.lewis@oracle.com
	Original commit message:
	Bug#57720 - Windows Vista and possibly Windows 7 can return ERROR_TIMEOUT instead of WAIT_TIMEOUT from calls to SleepConditionVariableCS() which is used in os0sync.c; os_cond_wait_timeout() where it is mapped to sleep_condition_variable().   
	
	Consider ERROR_TIMEOUT to be a timeout just like WAIT_TIMEOUT.  
	
	In addition, test for EINTR as a possible return value from pthread_cond_timeout() in the posix section of os_cond_wait_timeout(), even though it is not supposed to be returned, but just to be safe.

2010-12-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101022063457-xvbhs4519wljgxu1 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101022063457-xvbhs4519wljgxu1
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #56791 Remove ios_mutex from InnoDB code
	
	rb://495 approved by Inaam

2010-12-17  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20101021172900-uqm9vmhcgmhs7cfm from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20101021172900-uqm9vmhcgmhs7cfm
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Fix an error introduced in a follow-up fix of Bug#57232 by Sunny Bains
	revno: 3185
	revid: sunny.bains@oracle.com-20101018060544-wo81q6kbl3la1uq0

2010-12-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101025033151-m3n4moml1868uobt from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101025033151-m3n4moml1868uobt
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #57700 Latching order violation in row_truncate_table_for_mysql().
	
	Approved by Sunny Bains

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101011085943-50pskvsbbsujbukg from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101011085943-50pskvsbbsujbukg
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug #56947 InnoDB leaks memory when failing to create a table
	
	row_create_table_for_mysql(): When the table creation fails,
	free the dict_table_t object.

2010-12-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101021112227-bbr5izx2h3tykqmi from MySQL InnoDB
	
	For Drizzle, we only take the remvoal of active_trans - which is unused in Drizzle.
	
	Original revid:sunny.bains@oracle.com-20101021112227-bbr5izx2h3tykqmi
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug #57243 Inconsistent use of trans_register_ha() API in InnoDB
	
	Remove trx_t::active_trans. Split into two separate fields with distinct
	responsibilities. trx_t::is_registered and trx_t::owns_prepare_mutex.
	There are wrapper functions for using this fields in ha_innodb.cc. The
	wrapper functions check for invariants.
	
	Fix some formatting to conform to InnoDB guidelines.
	
	Remove innobase_register_stmt() and innobase_register_trx_and_stmt().
	
	Add:
	trx_is_started()
	trx_deregister_from_2pc()
	trx_register_for_2pc()
	trx_is_registered_for_2pc()
	trx_owns_prepare_commit_mutex_set()
	trx_has_prepare_commit_mutex()
	
	rb://479, Approved by Jimmy Yang.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101021073241-utf04lcju53ss871 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101021073241-utf04lcju53ss871
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	lock_rec_validate_page(): Disable the debug printout.
	It is filling the error log when testing the debug version of the server.
	The printout only seems to be useful when debugging a crash, not when
	testing an instrumented version of the server.

2010-12-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101021025642-u6edswvwcnmj8xs6 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101021025642-u6edswvwcnmj8xs6
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #57616 Sig 11 in dict_load_table() when failed to load
	index or foreign key
	
	Approved by Sunny Bains

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101020125847-g0flbamnsu8jzoc1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101020125847-g0flbamnsu8jzoc1
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Fix a compiler warning caused by fixing Bug #57588 (compiler warning).
	
	Declare DATA_MBMAXLEN with the same data type as DATA_MBMINLEN.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101020114628-ly1tyc8etgxr985x from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101020114628-ly1tyc8etgxr985x
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Fix bit-rot left by the multiple buffer pools patch.
	
	Rename buf_pool_watch, buf_pool_mutex, buf_pool_zip_mutex
	to buf_pool->watch, buf_pool->mutex, buf_pool->zip_mutex
	in comments. Refer to buf_pool->flush_list_mutex instead of
	flush_list_mutex.
	
	Remove obsolete declarations of buf_pool_mutex and buf_pool_zip_mutex.

2010-12-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101020033931-ulug8q18lzvnr3lp from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101020033931-ulug8q18lzvnr3lp
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug #57588 - Compiler warning in InnoDB due to comparison between signed and unsigned
	
	For DATA_MBMINLEN(), cast the result of UNIV_EXPECT to ulint because in GCC
	it returns a long causing unsigned/signed comparison warnings.
	
	Approved by Jimmy Yang on IM.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101019064438-gfls1n6fign1brrh from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101019064438-gfls1n6fign1brrh
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ibuf_set_del_mark(): Do not complain about already delete-marked records.
	
	According to a comment in row_upd_sec_index_entry(), it is a
	legitimate situation that can be caused by a lock wait.

2010-12-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101019060415-bj3u6ewk022mk4nr from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101019060415-bj3u6ewk022mk4nr
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug #56680 wrong InnoDB results from a case-insensitive covering index
	
	row_search_for_mysql(): When a secondary index record might not be
	visible in the current transaction's read view and we consult the
	clustered index and optionally some undo log records, return the
	relevant columns of the clustered index record to MySQL instead of the
	secondary index record.
	
	ibuf_insert_to_index_page_low(): New function, refactored from
	ibuf_insert_to_index_page().
	
	ibuf_insert_to_index_page(): When we are inserting a record in place
	of a delete-marked record and some fields of the record differ, update
	that record just like row_ins_sec_index_entry_by_modify() would do.
	
	btr_cur_update_alloc_zip(): Make the function public.
	
	mysql_row_templ_t: Add clust_rec_field_no.
	
	row_sel_store_mysql_rec(), row_sel_push_cache_row_for_mysql(): Add the
	flag rec_clust, for returning data at clust_rec_field_no instead of
	rec_field_no. Resurrect the debug assertion that the record not be
	marked for deletion. (Bug #55626)
	
	[UNIV_DEBUG || UNIV_IBUF_DEBUG] ibuf_debug, buf_page_get_gen(),
	buf_flush_page_try():
	Implement innodb_change_buffering_debug=1 for evicting pages from the
	buffer pool, so that change buffering will be attempted more
	frequently.

2010-12-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101018060544-wo81q6kbl3la1uq0 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101018060544-wo81q6kbl3la1uq0
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug encountered during testing on BSD. In the original fix for bug# 55681
	the check for overflow was wrong and the OS_SYNC_INFINITE_TIME was handled
	incorrectly.
	
	Approved by Jimmy Yang (IM)

2010-12-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101015143032-ew9dikyv6c5ynsa3 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101015143032-ew9dikyv6c5ynsa3
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add InnoDB Plugin ChangeLog entry for Bug#56143

2010-12-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101014092825-hkcbcxu0hums53mn from MySQL InnoDB
	
	For drizzle, this changeset is just the test case
	
	Original revid:vasil.dimov@oracle.com-20101014092825-hkcbcxu0hums53mn
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#56143 too many foreign keys causes output of show create table to become invalid
	
	This is a port of the following changeset from
	5.1/storage/innobase to 5.1/storage/innodb_plugin:
	
	------------------------------------------------------------
	revno: 3626
	revision-id: vasil.dimov@oracle.com-20101013171859-gi9n558yj89x9v3w
	parent: klewis@mysql.com-20101012175933-ce9kkgl0z8oeqffa
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-10-13 20:18:59 +0300
	message:
	Fix Bug#56143 too many foreign keys causes output of show create table to become invalid
	
	Just remove the check whether the file is "too big".
	A similar code exists in ha_innobase::update_table_comment() but that
	method does not seem to be used.
	
	Also use a CREATE statement with all the FKs instead of ALTERing the
	table 550 times because it is faster.

2010-12-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20101013171859-3pejpfs1brn4iv68 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20101013171859-3pejpfs1brn4iv68
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#56143 too many foreign keys causes output of show create table to become invalid
	
	Just remove the check whether the file is "too big".
	A similar code exists in ha_innobase::update_table_comment() but that
	method does not seem to be used.

2010-12-17  Stewart Smith  <stewart@flamingspork.com>

	fix includes in os0sync.c

2010-12-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101014041700-2co2rfb4qbug54zw from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101014041700-2co2rfb4qbug54zw
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #57397 io_handler_thread() will never cleanup
	
	rb://483 approved by Inaam

2010-12-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101014031202-36pv7sr5deftdrl4 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101014031202-36pv7sr5deftdrl4
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug# 55681 - MTR slowdown after default storage engine was changed to InnoDB
	Add new function os_cond_wait_timed(). Change the os_thread_sleep() calls
	to timed conditional waits. Signal the background threads during the shutdown
	phase so that we avoid waiting for the sleep to timeout thus saving some time.
	
	rb://439 -- Approved by Jimmy Yang

2010-12-17  klewis@mysql.com

	Merge Revision revid:klewis@mysql.com-20101013183210-ppi7oridmk65cnzm from MySQL InnoDB
	
	Original revid:klewis@mysql.com-20101013183210-ppi7oridmk65cnzm
	
	Original Authors: klewis@mysql.com
	Original commit message:
	Bug#55632 - Fix testcase for 5.1 plugin

2010-12-17  Davi Arnaut  <davi.arnaut@oracle.com>

	Merge Revision revid:davi.arnaut@oracle.com-20101019141243-xy2znwu0qo35ooub from MySQL InnoDB
	
	Original revid:davi.arnaut@oracle.com-20101019141243-xy2znwu0qo35ooub
	
	Original Authors: Davi Arnaut <davi.arnaut@oracle.com>
	Original commit message:
	Bug#45288: pb2 returns a lot of compilation warnings on linux
	
	Tag unused arguments.
	
	Approved by: Marko (via IRC)

2010-12-17  Stewart Smith  <stewart@flamingspork.com>

	merge trnk

2010-12-22  Lee Bieber  <kalebral@gmail.com>

	Merge Marisa - fixed markup in 'administrative.rst', which was throwing an error in the build

2010-12-22  Marisa Plumb  <marisa.plumb@gmail.com>

	added what is drizzle back, fixed administrative commands syntax

2010-12-22  Marisa Plumb  <marisa.plumb@gmail.com>

	removed 'what_is_drizzle'

2010-12-22  Brian Aker  <brian@tangent.org>

	Update for protocol tweak/unittest update.

2010-12-22  Brian Aker  <brian@tangent.org>

	This takes time and turns it into a fuzzy type so that we can do
	conversions. We ignore the other parts of it or other operations.
	
	EXTRACT should be fixed so that this is not required.

2010-12-22  Brian Aker  <brian@tangent.org>

	Merge in change to allow for SQL Server style patterns.

2010-12-22  Brian Aker  <brian@tangent.org>

	Rollup of build.

2010-12-22  Brian Aker  <brian@tangent.org>

	Fix for 693309.

2010-12-21  Brian Aker  <brian@tangent.org>

	Merge in code for time type, other cleanups.

2010-12-21  Brian Aker  <brian@tangent.org>

	Remove MyISAM flip bit, and make sure that we only pass in a good time_t to
	the timestamp translator.

2010-12-20  Brian Aker  <brian@tangent.org>

	Additional cleanup for int32t time type

2010-12-20  Brian Aker  <brian@tangent.org>

	Small cleanup on translating double to a time

2010-12-20  Brian Aker  <brian@tangent.org>

	Fix tests where not cleaning them up after running.

2010-12-20  Brian Aker  <brian@tangent.org>

	Regression on session list.

2010-12-20  Brian Aker  <brian@tangent.org>

	Fix for Solaris

2010-12-20  Brian Aker  <brian@tangent.org>

	Update of the time code. Epoch is now used for timestamp internall (this is
	not a user level change). This fixes the issue where some DD were not
	displaying the correct column type.

2010-12-20  Brian Aker  <brian@tangent.org>

	Remove unsigned flag.

2010-12-20  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-12-20  Brian Aker  <brian@tangent.org>

	Adds additional testing, and fixes CAST again.

2010-12-19  Brian Aker  <brian@tangent.org>

	Fix issues with some columns incorrectly reporting NULL if they were of
	BOOLEAN type.

2010-12-19  Brian Aker  <brian@tangent.org>

	This fixes the bug where we were not displaying the correct field type in
	columns.

2010-12-18  Brian Aker  <brian@tangent.org>

	Created EPOCH

2010-12-17  Brian Aker  <brian@tangent.org>

	Adding in time type.

2010-12-17  Brian Aker  <brian@tangent.org>

	Merge in first pass of TIME type (closer to EPOCH time).

2010-12-17  Brian Aker  <brian@tangent.org>

	Fix pack/unpack to go through common functions.

2010-12-16  Brian Aker  <brian@tangent.org>

	Get all of the endian stuff out of the classes.

2010-12-16  Brian Aker  <brian@tangent.org>

	First pass through on timestamp.

2010-12-21  Patrick Crews  <gleebix@gmail.com>

	Updated translations

2010-12-18  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-16  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-15  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-14  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-12  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-11  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-20  Brian Aker  <brian@tangent.org>

	A rather large and tasty cleanup of issues around ints, and one additional
	fix for alter table.

2010-12-20  Brian Aker  <brian@tangent.org>

	Test case for bug solution for 685803.

2010-12-20  Brian Aker  <brian@tangent.org>

	Merge in additional fixes for sign, plus alter table, plus TIME on
	processlist.

2010-12-20  Brian Aker  <brian@tangent.org>

	Fixing up a, somewhat, hidden unsigned type to solve a few issues around
	numbers.

2010-12-19  Brian Aker  <brian@tangent.org>

	Remove MyISAM byte bit flip.

2010-12-17  Brian Aker  <brian@tangent.org>

	Removed low byte from int32  (we don't port myisam tables, so this doesn't
	much matter).

2010-12-19  Brian Aker  <brian@tangent.org>

	Merge in doc updates.

2010-12-19  Marisa Plumb  <marisa.plumb@gmail.com>

	few updates and modifications to admin commands

2010-12-14  Marisa Plumb  <marisa.plumb@gmail.com>

	modified transaction docs

2010-12-13  Marisa Plumb  <marisa.plumb@gmail.com>

	doc modifications

2010-12-19  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Updates to pandora-build to support features of gcc 4.5.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.163

2010-12-12  Monty Taylor  <mordred@inaugust.com>

	Revert -Wc++-compat change.

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.162

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	We need to inject a BOOST define for boost headers to do the right thing.

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Added support for GCC Profile Mode (new in 4.5)

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Added check for and usage of -floop-parallelize-all.

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Cleaned up for additional gcc 4.5 warnings.

2010-12-10  Monty Taylor  <mordred@inaugust.com>

	Fixed c++-compat warnings in libdrizzle.

2010-12-19  Brian Aker  <brian@tangent.org>

	Merge in Andrew

2010-12-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Change most places to use 'schema' instead of 'database'

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Move to using I_S instead of SHOW for hash lookup table.  Also kill bug in fields list in the processes

2010-12-18  Brian Aker  <brian@tangent.org>

	Merge Dave.

2010-12-17  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for when SAVEPOINT or ROLLBACK TO SAVEPOINT starts a transaction with AUTOCOMMIT off and no BEGIN; also fix temp_tables test so it runs correctly independent of other tests

2010-12-18  Brian Aker  <brian@tangent.org>

	Merge Andrew

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Re-fix after discussion with Krow

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix broken test case

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Trying to get a copy of a query string when it is empty triggers assert, commonly hit on an idle transaction when using the data_dictionary.innodb_trx

2010-12-18  Brian Aker  <brian@tangent.org>

	Merge in Lee's copyright header fix

2010-12-17  Lee Bieber kalebral@gmail.com

	fix more permission issues

2010-12-17  Lee Bieber kalebral@gmail.com

	fix permissions on config/autorun.sh

2010-12-17  Lee Bieber kalebral@gmail.com

	update Copyright strings to a more common format to help with creating the master debian copyright file

2010-12-18  Brian Aker  <brian@tangent.org>

	Merge of user identifier work

2010-12-18  Brian Aker  <brian@tangent.org>

	Remove dead file.

2010-12-17  Brian Aker  <brian@tangent.org>

	Found a few issues in the merge.

2010-12-17  Brian Aker  <brian@tangent.org>

	Adding user identifier that makes use of a shared ptr to handle concurrency
	issues around looking at the state of a connection.

2010-12-17  Brian Aker  <brian@tangent.org>

	Formatting + remove default from switch/case.

2010-12-17  Brian Aker  <brian@tangent.org>

	Refactor naming for integers.

2010-12-17  Brian Aker  <brian@tangent.org>

	Merge of Andrew

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix CSV and Memory tests

2010-12-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-12-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make the test look for drizzleadmin failure instead of success as this test is not possible to fix for success on our FreeBSD 8.0 box

2010-12-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix drizzleadmin test to work on IPV6 servers too

2010-12-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix prototest test result (forgot to re-record after changing prototest)

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	testMaxRangeClientHandshake was toggling the admin flag causing a different error to that intended.  When correcting this the test turned out be the same as the following test, so instead made this test expect the admin error.

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix extra output in drizzleadmin test

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Modify dtr to cope with drizzleadmin and create test case

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Drop the drizzleadmin client and use ifdef instead

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add ip address limitation for admin connections

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix counters

2010-12-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-12-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add basic client tool (a cut-down modified clone of drizzle.cc)

2010-12-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-12-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add admin connection to client/server protocols

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in change to default byte order.

2010-12-16  Brian Aker  <brian@tangent.org>

	Remove dead order bits from table definition.

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in Andrew's fix

2010-12-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Re-fix bug#628912

2010-12-16  Brian Aker  <brian@tangent.org>

	Rollup for field encapsulation, monty fix for bzrignore, and Andrew bug
	fixes.

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in field/optimization on tbale sort/encap position

2010-12-16  Brian Aker  <brian@tangent.org>

	Minor optimization for sorting tables.

2010-12-16  Brian Aker  <brian@tangent.org>

	Encapsulate the field's position.

2010-12-16  Brian Aker  <brian@tangent.org>

	First pass through, removing the need for us track the position in this
	manner.

2010-12-16  Brian Aker  <brian@tangent.org>

	This applies Monty's fix and simplifies down processlist so that you can't
	hit nulls.

2010-12-16  Monty Taylor  <mordred@inaugust.com>

	Merged in a small change to .bzrignore from the debian packaging branch to
	prevent further merge conflicts.

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge Andrew.

2010-12-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Backport MySQL Bug#36465

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge Andrew

2010-12-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge with trunk

2010-12-16  Brian Aker  <brian@tangent.org>

	I've mentioned this to Paul. Once we have the bits in for session around
	thread he will go in and fix what he needs to fix. 

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in identifier work.

2010-12-16  Brian Aker  <brian@tangent.org>

	Patch for cleaning up how we look at result enum.

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in identifier work.

2010-12-15  Brian Aker  <brian@tangent.org>

	Merge in trunks.

2010-12-12  Brian Aker  <brian@tangent.org>

	Simple additions to printing objects.

2010-12-09  Brian Aker  <brian@tangent.org>

	Additional cerr output bits for a few classes (Item, Field,...)

2010-12-11  Brian Aker  <brian@tangent.org>

	Update code for testing identifiers/table/schema name correctness.

2010-12-16  Brian Aker  <brian@tangent.org>

	Rollup of error work done by Monty.

2010-12-16  Brian Aker  <brian@tangent.org>

	Remove bad change. The test does not run in isolation.

2010-12-16  Brian Aker  <brian@tangent.org>

	Fix up the tests, remove flush.

2010-12-16  Brian Aker  <brian@tangent.org>

	Test correction.

2010-12-16  Brian Aker  <brian@tangent.org>

	Merge in Monty. Two changes were made:
	1) The test program now issues a flush on startup after it collects its
	data.
	
	2) I've updated the test cases in logging_stats to handle concurrency
	problems a bit more. One of them still has sleep(1) calls in it, and it
	should be fixed (ie remove them).
	
	The flush() trick should be considered for the CLI as well. 

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Update logging_stats test results to account for the extra query which pulls
	in error code mapping.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Resolve error messages earlier, so that we can avoid clashes with
	MAX_RESULT_SIZE.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Replaced static error code mapping with a query of data_dictionary.errors.

2010-12-15  Brian Aker  <brian@tangent.org>

	Fix compile issue because of new error messages.

2010-12-15  Brian Aker  <brian@tangent.org>

	Merge in error message DD.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Fixed information_schema_dictionary test result.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Update data_dictionary test to include new standard table/columns.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Update information_schema test with new default D_D table.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Add error message data dictionary table.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Add API for getting at ErrorMap information.

2010-12-15  Monty Taylor  <mordred@inaugust.com>

	Add error code name into ErrorMap.

2010-12-15  Brian Aker  <brian@tangent.org>

	Merge in uuid tree.

2010-12-15  Brian Aker  <brian@tangent.org>

	uuid type code.

2010-12-15  Brian Aker  <brian@tangent.org>

	1) Rename of tables to meet common naming.
	2) moved "crash" to be in a debug plugin.

2010-12-15  Brian Aker  <brian@tangent.org>

	Moved crash function to being debug.

2010-12-15  Brian Aker  <brian@tangent.org>

	Update name usage for user defined objects.

2010-12-15  Brian Aker  <brian@tangent.org>

	Reverse patch with memory leak.

2010-12-15  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 628912: Crash / segfault in drizzled::Item_func::arguments (this=0x35) at ./drizzled/function/func.h
	Merge Andrew - 663919: next query after KILL QUERY will error

2010-12-15  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 628912: Crash / segfault in drizzled::Item_func::arguments (this=0x35) at ./drizzled/function/func.h

2010-12-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	OK, so it turns out, push_back on a vector you are currently iterating over is bad because the vector makes a copy of itself in another memory position.

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add pcrews' test case

2010-12-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	vector push_back on COND_CMP struct was causing an extra empty element to be added to the vector when vector size reached 3 (compiler bug?).  Changed to std::pair pointers instead.

2010-12-15  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - 663919: next query after KILL QUERY will error

2010-12-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Don't kill a query with KILL QUERY if there is no query running

2010-12-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 655805 - HailDB Cursor not resetting this->cursor to clustered index after secondary index operations
	Merge Andrew - fix bug 690083: Wrong results with regular expressions

2010-12-14  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 655805 - HailDB Cursor not resetting this->cursor to clustered index after secondary index operations

2010-12-14  Stewart Smith  <stewart@flamingspork.com>

	read set IS A LIE. It does *NOT* give you what you need. single threaded sysbench now works with HailDB if we ignore doing the right thing and just violate the API. arse.

2010-12-14  Stewart Smith  <stewart@flamingspork.com>

	fix comment

2010-12-14  Stewart Smith  <stewart@flamingspork.com>

	HailDB doDeleteRecord do error conversion properly

2010-12-13  Stewart Smith  <stewart@flamingspork.com>

	HailDB cursor not reset to clustered index.
	
	Initial symptom was Sysbench failing with HailDB.
	
	Investigation showed that we weren't resetting the cursor we track in the HailDBCursor object (to help avoid lots of malloc/free cycles we keep a cursor around) back to the clustered index after an operation on a secondary index (e.g. index scan). This mean we were attempting the UPDATE on the wrong index, ending up with a DB_ERROR from ib_cursor_update_row(), which translates to -1 (hence "error -1 from engine").

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	some more correctino of error conversion in HailDB

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	improve errors being returned from read_row_from_haildb

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	properly translate haildb error code in delete_all_rows

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	properly return errors from HailDB doUpdateRecord and doDeleteRecord. we weren't using the proper translation function before

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	return success/failure from HailDB doStartTransaction

2010-12-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 690083: Wrong results with regular expressions

2010-12-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix REGEXP which was using the match against value for the regex as well

2010-12-13  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 686773: TableFunction::Generator::push() needs assert
	Merge Stewart - ON DUPLICATE KEY UPDATE support for HailDB
	Merge Monty - fix bug 688819: drizzle fails to build from source in natty 

2010-12-13  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 686773: TableFunction::Generator::push() needs assert

2010-12-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	More test case fixes

2010-12-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Enforce TableFunction::Generator::push() should only be used on a nullable field
	Also fix cases where this isn't the case and fix test case results for altered output

2010-12-13  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - ON DUPLICATE KEY UPDATE support for HailDB

2010-12-12  Stewart Smith  <stewart@flamingspork.com>

	add basic ON DUPLICATE KEY UPDATE test for HailDB

2010-12-10  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-10  Stewart Smith  <stewart@flamingspork.com>

	properly support INSERT ON DUPLICATE KEY UPDATE for HailDB engine. Also needed to fix a bug where there was a missing move_field_offset(-offset) call in read_row_from_haildb. This could have caused all sorts of other bugs too

2010-12-08  Stewart Smith  <stewart@flamingspork.com>

	HailDB: make write_row_to_haildb_tuple take a parameter for the row buffer to read from

2010-12-08  Stewart Smith  <stewart@flamingspork.com>

	basic support for returning index name for duplicate key error for HailDB: use ib_get_duplicate_key() to find the index name that was violated, then search for the errkey id and return to user.

2010-12-13  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 688819: drizzle fails to build from source in natty 	

2010-12-12  Monty Taylor  <mordred@inaugust.com>

	Use LT version of lib instead in link step

2010-12-10  Lee Bieber  <kalebral@gmail.com>

	Merge Evan - Add some extra details to the libdrizzle documentation
	Merge Shrews - Fix compiler warning about "comparison between signed and unsigned integer expressions
	Merge Monty - We were leaving link-warning.h out of the tarball

2010-12-10  Lee Bieber  <kalebral@gmail.com>

	Merge Evan - Add some extra details to the libdrizzle documentation

2010-12-10  Evan Jones  <evanj@mit.edu>

	libdrizzle: Add detail to API docs for column and row *_read()

2010-12-10  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Fix compiler warning about "comparison between signed and unsigned integer exp
	ressions

2010-12-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix compiler warning in transaction_reader code regarding type comparison

2010-12-10  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - We were leaving link-warning.h out of the tarball

2010-12-09  Monty Taylor  <mordred@inaugust.com>

	Distribute link-warning.h and distribute it with the right copyright header.

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Remove disabling of drizzleslap test
	Merge Shrews - fix bug 683147: Large row affecting statements failing mid-transaction may not get undone properly by TransactionServices if part of multi-message Transaction

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Remove disabling of drizzleslap test

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 683147: Large row affecting statements failing mid-transaction may not get undone properly by TransactionServices if part of multi-message Transaction

2010-12-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-12-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Re-record transaction_log tests that were failing because we now enforce 1 protobuf Statement message per SQL statement.

2010-12-06  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make transaction_reader work with new statement rollback code.

2010-12-06  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Support rollback of segmented statements ; removed unnecessary code for --replicate-query (didn't work correctly anyway).

2010-12-06  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add ability to rollback a statement, change to use 1 GPB Statement message per SQL statement. NOTE: segmented statements not handled yet.

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - First part of admin client blueprint. Add max-connections per-protocol 

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge with trunk

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Completely redo max-connections so it is independant per-protocol.  Also make counters independant

2010-12-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make max-connections unique per-protocol
	Fix limit to n instead of n-1

2010-11-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	For a number of reasons max_connections has to happen after auth handshake

2010-11-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add UNIX socket protocol variable

2010-11-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add Drizzle protocol support for max-connections (shared with MySQL protocol for now as other stats are shared)

2010-11-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add max_connections for mysql_protocol

2010-12-08  Brian Aker  <brian@tangent.org>

	Fixed table issue (I was not removing some tables after the test was done).

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Use ib_logger to have HailDB messages go to Drizzle loggers 

2010-12-08  Stewart Smith  <stewart@flamingspork.com>

	use ib_logger_set() to send HailDB messages to the Drizzle logging plugins

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - fix bug 685709: trans id assignment for schema commands should be in interface not engine 

2010-12-07  Joseph Daly  <skinny.moey@gmail.com>

	move trx id assignment outside of schema engine and in plugin/schema_engine/schema.cc

2010-12-09  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Allow EXECUTE() to work with SELECT as well as stand alone.

2010-12-07  Brian Aker  <brian@tangent.org>

	Added WAIT to the execute() function.

2010-12-07  Brian Aker  <brian@tangent.org>

	Extended the test to call kill() on its own children.

2010-12-07  Brian Aker  <brian@tangent.org>

	Adding execute command to go along with main command.

2010-12-07  Brian Aker  <brian@tangent.org>

	Added compatible REGEX for Drizzle to MySQL's syntax.

2010-12-08  Brian Aker  <brian@tangent.org>

	Merge in Stewart's changes, 1.3 changes.

2010-12-08  Stewart Smith  <stewart@flamingspork.com>

	remove ut0auxconf_pause.c from POTFILES.in

2010-12-07  Stewart Smith  <stewart@flamingspork.com>

	remove ut0auxconf from make dist

2010-12-07  Stewart Smith  <stewart@flamingspork.com>

	remove innobase COPYING.Sun_Microsystems file from extra_dist. has been removed (redundant copy of GPL)

2010-12-07  Stewart Smith  <stewart@flamingspork.com>

	remove innobase COPYING file from extra_dist. has been removed (redundant copy of GPL

2010-12-07  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-07  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101011123613-guz1qgdktywmel1g from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101011123613-guz1qgdktywmel1g
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	A more complete fix for bug #57345 btr_pcur_store_position abort for load
	with concurrent lock/unlock tables
	
	Approved by Marko

2010-12-07  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20101011002649-4toze0n7mkztk93u from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20101011002649-4toze0n7mkztk93u
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug# 56982 Assertion Failure from ha_innobase::innobase_peek_autoinc() when auto_inc > 0
	
	Print an error message to stderr an get rid of the assertion.
	
	Approved by: Jimmy Yang (over IM)

2010-12-07  Martin Hansson  <martin.hansson@oracle.com>

	Merge Revision revid:martin.hansson@oracle.com-20101007081311-zb72jgqjx2rs831z from MySQL InnoDB
	
	Original revid:martin.hansson@oracle.com-20101007081311-zb72jgqjx2rs831z
	
	Original Authors: Martin Hansson <martin.hansson@oracle.com>
	Original commit message:
	Bug#56423: Different count with SELECT and CREATE SELECT queries
	
	This is a regression from the fix for bug no 38999. A storage engine capable
	of reading only a subset of a table's columns updates corresponding bits in
	the read buffer to signal that it has read NULL values for the corresponding
	columns. It cannot, and should not, update any other bits. Bug no 38999
	occurred because the implementation of UPDATE statements compare the NULL bits
	using memcmp, inadvertently comparing bits that were never requested from the
	storage engine. The regression was caused by the storage engine trying to
	alleviate the situation by writing to all NULL bits, even those that it had no
	knowledge of. This has devastating effects for the index merge algorithm,
	which relies on all NULL bits, except those explicitly requested, being left
	unchanged.
	
	The fix reverts the fix for bug no 38999 in both InnoDB and InnoDB plugin and
	changes the server's method of comparing records. For engines that always read
	entire rows, we proceed as usual. For engines capable of reading only select
	columns, the record buffers are now compared on a column by column basis. An
	assertion was also added so that non comparable buffers are never read. Some
	relevant copy-pasted code was also consolidated in a new function.

2010-12-07  Stewart Smith  <stewart@flamingspork.com>

	make innodb_bug57255 test run 10-20 times faster (use a txn when loading data)

2010-12-07  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101006104126-0p2gt52pjl98eews from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101006104126-0p2gt52pjl98eews
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #57255 Cascade Delete results in "Got error -1 from storage engine".
	
	rb://477 approved by Marko

2010-12-07  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20101006135534-6m2rb97xpbrkxux5 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20101006135534-6m2rb97xpbrkxux5
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Manual port Bug #Bug #54582 "stack overflow when opening many tables
	linked with foreign keys at once" from mysql-5.1-security to
	mysql-5.5-security again.
	
	rb://391 approved by Heikki

2010-12-06  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20101004100521-qx6fw489swrr29io from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20101004100521-qx6fw489swrr29io
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#56716 InnoDB locks a record gap without locking the table
	
	row_search_for_mysql(): Acquire an intention lock on the table
	before locking the first record gap.

2010-12-06  Bjorn Munch  <bjorn.munch@oracle.com>

	Merge Revision revid:bjorn.munch@oracle.com-20100930082822-o02tihhlov344ged from MySQL InnoDB
	
	Original revid:bjorn.munch@oracle.com-20100930082822-o02tihhlov344ged
	
	Original Authors: Bjorn Munch <bjorn.munch@oracle.com>
	Original commit message:
	Small test fix after 56753

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100927170812-jma17im0ni8ve7ku from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100927170812-jma17im0ni8ve7ku
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Use C-style comment instead of C++ in a C header.
	
	Spotted by:	Davi Arnaut

2010-12-06  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100923223709-6p3eiyrznpc1axmq from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100923223709-6p3eiyrznpc1axmq
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	This patch comes from Michael: See bug#56933.

2010-12-06  Mark Leith  <mark.leith@oracle.com>

	Merge Revision revid:mark.leith@oracle.com-20100923081209-ftyn1ft7dw642kc0 from MySQL InnoDB
	
	Original revid:mark.leith@oracle.com-20100923081209-ftyn1ft7dw642kc0
	
	Original Authors: Mark Leith <mark.leith@oracle.com>
	Original commit message:
	Bug#56922 SHOW ENGINE INNODB STATUS truncation limit is too strict and not instrumented
	
	rb://459 approved by Jimmuy / Inaam

2010-12-06  Stewart Smith  <stewart@flamingspork.com>

	fix build problem in moving some error checking to debug only in row0purge.c

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100920160930-wqevqvxlnto1dh24 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100920160930-wqevqvxlnto1dh24
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(row0purge.c:789) Bug#55227 Fix compiler warnings in innodb with gcc 4.6

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100920155307-to2r2trzpg8qr662 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100920155307-to2r2trzpg8qr662
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(log0recv.c:1660) Bug#55227 Fix compiler warnings in innodb with gcc 4.6

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100920155111-o9250uv5mgiv8aq9 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100920155111-o9250uv5mgiv8aq9
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(ibuf0ibuf.c:1300) Bug#55227 Fix compiler warnings in innodb with gcc 4.6

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100920145959-6vpeqj2wjmvixqac from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100920145959-6vpeqj2wjmvixqac
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(btr0btr.c:606) Bug#55227 Fix compiler warnings in innodb with gcc 4.6

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100920123134-m2tj3punu1yerzhq from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100920123134-m2tj3punu1yerzhq
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB version from 1.1.2 to 1.1.3
	
	InnoDB 1.1.2 was released with MySQL 5.5.6-rc

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100910095214-lj6d1vvi2n5dux6z from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100910095214-lj6d1vvi2n5dux6z
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Whitespace fixup on ha_innodb.cc:9561

2010-12-06  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100909112752-ac5w7zyzbv10nvi1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100909112752-ac5w7zyzbv10nvi1
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Remove ut0auxconf.h.
	It was needed when InnoDB Plugin was distributed independently of MySQL.
	Approved by Vasil Dimov.

2010-12-06  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100909104800-rr27pzs6rnqvwc29 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100909104800-rr27pzs6rnqvwc29
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ibuf_insert_to_index_page(): Remove bogus code added for delete buffering.
	In early development of delete buffering, we did allow B-tree pages
	to become empty as a result of buffered deletes. That caused fundamental
	problems. The fix was to refuse buffering purge operations unless
	the page can be guaranteed to be nonempty. Remove an attempt to
	cope with empty pages when merging inserts.

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100907180950-jr484yzqnj4132re from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100907180950-jr484yzqnj4132re
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#56384 Remove two COPYING files from innobase directory
	
	Remove non applicable licensing files
	
	storage/innobase/COPYING is in the MySQL top level directory and
	storage/innobase/COPYING.Sun_Microsystems is not applicable anymore
	now that Oracle and Sun are one company.

2010-12-06  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100825072546-9pzhdk52gwpb1b0a from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100825072546-9pzhdk52gwpb1b0a
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Add a space indentation to InnoDB buffer pool size and log sequence
	number boot up message.

2010-12-06  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100820163904-vdwn6uflh3ymvwau from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100820163904-vdwn6uflh3ymvwau
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	When flushing from LRU we try to keep a certain number of pages over
	and above the general requirement free. We call them
	BUF_FLUSH_EXTRA_MARGIN. With multiple buffer pools we may end up keeping
	this amount of pages for each buffer pool. This patch, diagnosed and fixed
	by Michael, throttles flushing in such cases.
	
	rb://435
	bug#54346

2010-12-06  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100819103637-objk0u6uvc6vj4m5 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100819103637-objk0u6uvc6vj4m5
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#56114 Disallow trx->dict_operation_lock_mode==RW_X_LATCH in srv_suspend_mysql_thread()
	
	Issue an error message to the error log when
	trx->dict_operation_lock_mode == RW_X_LATCH in
	srv_suspend_mysql_thread(). Transactions that modify InnoDB
	data dictionary tables must be free of lock waits, because they
	must be holding the data dictionary latch in exclusive mode.
	The transactions must not be accessing any other tables other than
	the data dictionary tables.
	
	The handling of RW_X_LATCH was accidentally added in the InnoDB Plugin,
	as a wrong fix of an assertion failure. (Fast index creation was accessing
	both data dictionary tables and user tables in the same transaction.)

2010-12-06  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100819041647-wx9t9jtukdtb23jv from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100819041647-wx9t9jtukdtb23jv
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Bug #48026 Log start and end of InnoDB buffer pool initialization to
	the error log

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100930124844-yglojy7c3vaji6dx from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100930124844-yglojy7c3vaji6dx
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#56340 innodb updates index stats too frequently after non-index updates
	
	This is a simple optimization issue. All stats are related to only indexed
	columns, index size or number of rows in the whole table. UPDATEs that touch
	only non-indexed columns cannot affect stats and we can avoid calling the
	function row_update_statistics_if_needed() which may result in unnecessary I/O.
	
	Approved by:	Marko (rb://466)

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100930102618-s9f9ytbytr3eqw9h from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100930102618-s9f9ytbytr3eqw9h
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix a potential bug when using __sync_lock_test_and_set()
	
	TYPE __sync_lock_test_and_set (TYPE *ptr, TYPE value, ...)
	
	it is not documented what happens if the two arguments are of different
	type like it was before: the first one was lock_word_t (byte) and the
	second one was 1 or 0 (int).
	
	Approved by:	Marko (via IRC)

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915165836-zydiy6urspd3xsva from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915165836-zydiy6urspd3xsva
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix typo, should be UNIV_SYNC_DEBUG.

2010-12-06  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915164735-jh9wtp8pgss2fuft from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915164735-jh9wtp8pgss2fuft
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0sys.c: In function 'trx_sys_create_doublewrite_buf':
	trx/trx0sys.c:244:15: error: variable 'new_block' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Stewart Smith  <stewart@flamingspork.com>

	undo fix that ,well, wasn't

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915153724-fxxitd5t0lt3oju8 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915153724-fxxitd5t0lt3oju8
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	row/row0purge.c: In function 'row_purge_step':
	row/row0purge.c:687:9: error: variable 'err' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915150049-dq0o9cm8zbgx1ym6 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915150049-dq0o9cm8zbgx1ym6
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	dict/dict0dict.c: In function 'dict_index_print_low':
	dict/dict0dict.c:4444:14: error: variable 'type_string' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915083349-0769etk2r0v68urm from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915083349-0769etk2r0v68urm
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	dict/dict0crea.c: In function 'dict_create_index_tree_step':
	dict/dict0crea.c:630:16: error: variable 'table' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100915082951-gozoxylx5bk6982s from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100915082951-gozoxylx5bk6982s
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	buf/buf0flu.c: In function 'buf_flush_delete_from_flush_rbt':
	buf/buf0flu.c:131:8: error: variable 'ret' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914183537-l9az03oeh5suf349 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914183537-l9az03oeh5suf349
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	btr/btr0pcur.c: In function 'btr_pcur_move_backward_from_page':
	btr/btr0pcur.c:455:9: error: variable 'space' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914183302-h2bb9l76w41n3uhh from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914183302-h2bb9l76w41n3uhh
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	btr/btr0cur.c: In function 'btr_free_externally_stored_field':
	btr/btr0cur.c:4281:16: error: variable 'rec_block' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914183037-22cokxcg6i3gbr4v from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914183037-22cokxcg6i3gbr4v
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	btr/btr0cur.c: In function 'btr_cur_optimistic_update':
	btr/btr0cur.c:1839:10: error: variable 'orig_rec' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914181442-k11lo1htxexmx92l from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914181442-k11lo1htxexmx92l
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	btr/btr0btr.c: In function 'btr_compress':
	btr/btr0btr.c:2564:9: error: variable 'level' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914181219-i7zb17nqdqf43sd0 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914181219-i7zb17nqdqf43sd0
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	btr/btr0btr.c: In function 'btr_page_split_and_insert':
	btr/btr0btr.c:1898:11: error: variable 'insert_page' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914152541-a2g2lducroo9w12g from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914152541-a2g2lducroo9w12g
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	handler/ha_innodb.cc: In function 'bool innodb_show_status(handlerton*, THD*, bool (*)(THD*, const char*, uint, const char*, uint, const char*, uint))':
	handler/ha_innodb.cc:7539:7: error: variable 'result' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914145544-xp2eiv5z5a8i75p9 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914145544-xp2eiv5z5a8i75p9
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0undo.c: In function 'trx_undo_set_state_at_prepare':
	trx/trx0undo.c:1798:16: error: variable 'page_hdr' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914145349-jb7s9w0o2arde36r from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914145349-jb7s9w0o2arde36r
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0undo.c: In function 'trx_undo_truncate_end':
	trx/trx0undo.c:1015:14: error: variable 'rseg' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914123026-qgqdx7rdmgngpy9v from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914123026-qgqdx7rdmgngpy9v
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0trx.c: In function 'trx_prepare_off_kernel':
	trx/trx0trx.c:1830:11: error: variable 'update_hdr_page' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914122132-s335hvzul7jxpler from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914122132-s335hvzul7jxpler
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warnings:
	trx/trx0roll.c: In function 'trx_undo_arr_remove_info':
	trx/trx0roll.c:717:9: error: variable 'n' set but not used [-Werror=unused-but-set-variable]
	trx/trx0roll.c:716:9: error: variable 'n_used' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914121904-hyblrdlttytc8zvv from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914121904-hyblrdlttytc8zvv
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0purge.c: In function 'trx_purge_rec_release':
	trx/trx0purge.c:1007:18: error: variable 'arr' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914121748-7ntj5dwdskjnamg4 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914121748-7ntj5dwdskjnamg4
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0purge.c: In function 'trx_purge_rseg_get_next_history_log':
	trx/trx0purge.c:599:15: error: variable 'seg_hdr' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914120403-fe6ee6d3rvla2oyp from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914120403-fe6ee6d3rvla2oyp
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	trx/trx0purge.c: In function 'trx_purge_add_update_undo_to_history':
	trx/trx0purge.c:254:16: error: variable 'page_header' set but not used [-Werror=unused-but-set-variable]
	trx/trx0purge.c:252:15: error: variable 'seg_header' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914115013-k373nvkkgoi1hxul from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914115013-k373nvkkgoi1hxul
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	row/row0vers.c: In function 'row_vers_impl_x_locked_off_kernel':
	row/row0vers.c:62:9: error: variable 'err' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914110936-n60pbh1m3x0o1e5q from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914110936-n60pbh1m3x0o1e5q
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	row/row0umod.c: In function 'row_undo_mod_clust_low':
	row/row0umod.c:92:9: error: variable 'success' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914105629-mh9i2j3y953qwt8h from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914105629-mh9i2j3y953qwt8h
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	row/row0purge.c: In function 'row_purge_step':
	row/row0purge.c:660:9: error: variable 'err' set but not used [-Werror=unused-but-set-variable]
	
	(row_purge() always returns DB_SUCCESS)

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914103821-zkdfmaao60vcsgub from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914103821-zkdfmaao60vcsgub
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	que/que0que.c: In function 'que_run_threads_low':
	que/que0que.c:1295:9: error: variable 'cumul_resource' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914100125-62n60nfyg2h7fqnc from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914100125-62n60nfyg2h7fqnc
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warnings:
	os/os0file.c: In function 'os_file_create':
	os/os0file.c:1318:14: error: variable 'purpose_str' set but not used [-Werror=unused-but-set-variable]
	os/os0file.c:1317:14: error: variable 'type_str' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914094623-pts0tx27pgxybddk from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914094623-pts0tx27pgxybddk
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	log/log0recv.c: In function 'recv_synchronize_groups':
	log/log0recv.c:403:10: error: variable 'limit_lsn' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914094100-rer3zs5vjof4u3df from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914094100-rer3zs5vjof4u3df
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	log/log0recv.c: In function 'recv_recovery_from_checkpoint_start':
	log/log0recv.c:2509:10: error: variable 'archived_lsn' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914091100-rujjqlwtu4oykis3 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914091100-rujjqlwtu4oykis3
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Remove redundant variable

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914090647-ddbybe5t545gcp4x from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914090647-ddbybe5t545gcp4x
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	eval/eval0eval.c: In function 'eval_notfound':
	eval/eval0eval.c:371:14: error: variable 'arg2' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100914083934-11s4vrnuff6077zw from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100914083934-11s4vrnuff6077zw
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warnings:
	btr/btr0sea.c: In function 'btr_search_update_hash_on_delete':
	btr/btr0sea.c:1404:9: error: variable 'found' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100913133325-59l9pyvgbphv76xx from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100913133325-59l9pyvgbphv76xx
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	(partially) Fix Bug#55227 Fix compiler warnings in innodb with gcc 4.6
	
	Fix compiler warning:
	
	storage/innobase/include/ut0rnd.ic:70:8: error: variable 'n_bits' set but not used [-Werror=unused-but-set-variable]

2010-12-03  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100907054137-tpuior7hez4f5ghl from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100907054137-tpuior7hez4f5ghl
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for bug #53756 from 5.1 built-in to 5.1 plugin.

2010-12-03  Stewart Smith  <stewart@flamingspork.com>

	remove duplicate innodb test case

2010-12-03  Georgi Kodinov  <Georgi.Kodinov@Oracle.com>

	Merge Revision revid:georgi.kodinov@oracle.com-20100820085216-qun679n9hg6n0q4k from MySQL InnoDB
	
	Original revid:georgi.kodinov@oracle.com-20100820085216-qun679n9hg6n0q4k
	
	Original Authors: Georgi Kodinov <Georgi.Kodinov@Oracle.com>
	Original commit message:
	Bug #55826: create table .. select crashes with when 
	KILL_BAD_DATA is returned
	
	Two problems discovered with the LEAST()/GREATEST() 
	functions:
	1. The check for a null value should happen even 
	after the second call to val_str() in the args. This is
	important because two subsequent calls to the same
	Item::val_str() may yield different results.
	Fixed by checking for NULL value before dereferencing
	the string result.
	
	2. While looping over the arguments and evaluating them 
	the loop should stop if there was an error evaluating so far
	or the statement was killed. Fixed by checking for error
	and bailing out.

2010-12-03  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100816001222-xqc447tr6jwh8c53 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100816001222-xqc447tr6jwh8c53
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Add test to the plugin branch from fix for bug# 55277.

2010-12-03  Stewart Smith  <stewart@flamingspork.com>

	disable test that requires restarting server - we don't seem to have that test functionality yet

2010-12-03  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100805092434-tvxxzjgqgslo14en from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100805092434-tvxxzjgqgslo14en
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix Bug #55277 - Failing assertion: auto_inc > 0
	
	Handle overflow when reading value from SELECT MAX(C) FROM T;
	
	Call ha_innobase::info() after initializing the autoinc value
	in ha_innobase::open().
	
	Fix for both the builtin and plugin.
	
	rb://402

2010-12-03  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100805091817-nsk8q8dzz47puv9p from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100805091817-nsk8q8dzz47puv9p
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug# 55543 - InnoDB Plugin: Signal 6: Assertion failure in file fil/fil0fil.c line 4306
	
	The bug is due to a double delete of a BLOB, once via:
	
	rollback -> btr_cur_pessimistic_delete()
	
	and the second time via purge.
	
	The bug is in row_upd_clust_rec_by_insert(). There we relinquish ownership
	of the non-updated BLOB columns in btr_cur_mark_extern_inherited_fields()
	before building the row entry that will be inserted and whose contents will
	be logged in the UNDO log. However, we don't set the BLOB column later to
	INHERITED so that a possible rollback will not free the original row's
	non-updated BLOB entries. This is because the condition that checks for
	that is in :
	
	if (node->upd_ext) {}.
	
	node->upd_ext is non-NULL only if a BLOB column was updated and that column
	is part of some key ordering (see row_upd_replace()). This results in the
	non-update BLOB columns being deleted during a rollback and subsequently by
	purge again.
	
	rb://413

2010-12-03  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100804103744-vbpeghipkz6pyc9z from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100804103744-vbpeghipkz6pyc9z
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #54678, InnoDB, TRUNCATE, ALTER, I_S SELECT, crash or deadlock
	
	rb://399 approved by Sunny Bains

2010-12-03  Magne Mahre  <magne.mahre@sun.com>

	Merge Revision revid:magne.mahre@sun.com-20100901173834-7lrqgycyuxsg4ab7 from MySQL InnoDB
	
	Original revid:magne.mahre@sun.com-20100901173834-7lrqgycyuxsg4ab7
	
	Original Authors: Magne Mahre <magne.mahre@sun.com>
	Original commit message:
	Bug#39932 "create table fails if column for FK is in different
	case than in corr index".
	
	Server was unable to find existing or explicitly created supporting
	index for foreign key if corresponding statement clause used field
	names in case different than one used in key specification and created
	yet another supporting index.
	In cases when name of constraint (and thus name of generated index)
	was the same as name of existing/explicitly created index this led
	to duplicate key name error.
	
	The problem was that unlike all other code Key_part_spec::operator==()
	compared field names in case sensitive fashion. As result routines
	responsible for getting rid of redundant generated supporting indexes
	for foreign key were not working properly for versions of field names
	using different cases.
	
	(backported from mysql-trunk)

2010-12-03  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100824081003-v4ecy0tga99cpxw2 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100824081003-v4ecy0tga99cpxw2
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#55832: selects crash too easily when innodb_force_recovery>3
	
	dict_update_statistics_low(): Create bogus statistics for those
	indexes that cannot be accessed because of the innodb_force_recovery
	setting.
	
	ha_innobase::info(): Calculate statistics for each index, even if
	innodb_force_recovery is set. Fill in bogus data for those indexes
	that are not accessed because of the innodb_force_recovery setting.

2010-12-02  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100820025704-eysnxu47epgkyx5e from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100820025704-eysnxu47epgkyx5e
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix Bug #55027: assertion: mutex_own(&dict_sys->mutex) in dict_table_get_on_id()
	
	The callers should indicate that the dictionary is locked or not using
	the trx->dict_operation_lock_mode == RW_X_LATCH mode. Checking explicitly
	for system tables is unnecessary.
	
	Approved by Marko on IRC.

2010-12-02  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100818110110-zfs0i1vfrccfb4yw from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100818110110-zfs0i1vfrccfb4yw
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#55626: MIN and MAX reading a delete-marked record from secondary index
	
	Remove a bogus debug assertion that triggered the bug.
	Add assertions precisely where records must not be delete-marked.
	And a comment to clarify when the record is allowed to be delete-marked.

2010-12-02  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100804032055-28jqkofiy2colvgb from MySQL InnoDB
	
	just the changelog entry for drizzle
	
	Original revid:jimmy.yang@oracle.com-20100804032055-28jqkofiy2colvgb
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Backport "NULL pointer check for ut_free()" from mysql-trunk-innodb to
	mysql-5.1-innodb plugin to fix bug #55627 segv in ut_free pars_lexer_close
	innobase_shutdown innodb-use-sys-malloc=0.

2010-12-02  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100802052557-xol1ay5srtcs00wm from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100802052557-xol1ay5srtcs00wm
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #55382 Assignment with SELECT expressions takes unexpected S locks
	in READ COMMITTED
	
	rb://410 Approved by Sunny Bains

2010-12-08  Brian Aker  <brian@tangent.org>

	Merge in 686197.

2010-12-07  Brian Aker  <brian@tangent.org>

	Updating the test system to allow for "make test-mem"

2010-12-07  Brian Aker  <brian@tangent.org>

	Remove some debug code.

2010-12-07  Brian Aker  <brian@tangent.org>

	This is a fix for bug lp:686197

2010-12-08  Brian Aker  <brian@tangent.org>

	Merge Marisa, docs changes.

2010-12-08  Marisa Plumb  <marisa.plumb@gmail.com>

	changes in cross-references

2010-12-08  Marisa Plumb  <marisa.plumb@gmail.com>

	fixes to some rst markup

2010-12-08  Marisa Plumb  <marisa.plumb@gmail.com>

	commiting locks.rst

2010-12-07  Marisa Plumb  <marisa.plumb@gmail.com>

	add bzrignore

2010-12-07  Marisa Plumb  <marisa.plumb@gmail.com>

	more sql doc modifications

2010-12-06  Marisa Plumb  <marisa.plumb@gmail.com>

	SQL edits and rewrites 

2010-12-03  Marisa Plumb  <marisa.plumb@gmail.com>

	updates to a few sql docs 

2010-12-01  Marisa Plumb  <marisa.plumb@gmail.com>

	edited mysql differences doc

2010-11-29  Marisa Plumb  <marisa.plumb@gmail.com>

	edits and basic rewrites to the introduction docs

2010-12-08  Brian Aker  <brian@tangent.org>

	MErge in fix for session

2010-12-08  Brian Aker  <brian@tangent.org>

	Update schema, make sure that it always ruturns a valid string (it just
	makes the entire interface simpler to use).

2010-12-08  Brian Aker  <brian@tangent.org>

	Fix for dtrace/systemtap

2010-12-07  Brian Aker  <brian@tangent.org>

	This resolves the issue where one thread may be looking at schema while
	another thread could be updating it.

2010-12-06  Brian Aker  <brian@tangent.org>

	This fixes the issue of a crash because of one thread touching the session
	query string while another thread access it.

2010-12-08  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Fix bug 684453: Server crash accessing data dictionary table while a transaction is open

2010-12-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Empty strings were pushed instead of an empty push triggering an assert.

2010-12-08  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Bug #683931: Drizzledump not preserving column comments during migration from MySQL
	Merge Andrew - Bug #684434: drizzledump --databases option does not appear to work
	Merge Andrew - Bug #685700: Drizzledump not handling FLOAT UNSIGNED when migrating from MySQL 
	Merge Andrew - Bug #685701: Drizzledump not preserving FLOAT precisions during MySQL migration if no decimal value given 	

2010-12-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Removed something I shouldn't have by accident

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make --databases option work again

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add field level comments back in to drizzledump

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix migration of FLOAT without a scale set

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	MySQL migration assumed unsigned data type in the form "float(2,0) unsigned".  If the braces are missing (ie. "float unsigned") a bad conversion happened.

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix for drizzledump bugs
	Merge Brian - Fixed a couple of assert() and added abort where program logic would corrupt the instance
	Merge Monty - more sys_var work, pbms and pbxt and some vars in innodb

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge with trunk

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix 32 bit test failures and debug build break

2010-12-07  Monty Taylor  <mordred@inaugust.com>

	Merged in build fixes.

2010-12-07  Monty Taylor  <mordred@inaugust.com>

	Disable check of the commit_concurrency validator - there is oddness on 32-bit, but I think it's always been there and now that we validate properly it's just showing up

2010-12-07  Monty Taylor  <mordred@inaugust.com>

	Fixed the pbms debug build for now.

2010-12-07  Monty Taylor  <mordred@inaugust.com>

	Removed first stab at plugin_sysvar.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Merge ICC fix.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Hopefully fix debug build and ICC warnings.

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix for drizzledump bugs

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix uninitialized bool

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Fixed a couple of assert() and added abort where program logic would corrupt the instance

2010-12-06  Brian Aker  <brian@tangent.org>

	Fixed a couple of assert() and added abort where program logic would corrupt
	the instance.

2010-12-07  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - more sys_var work, pbms and pbxt and some vars in innodb

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Always load the replication dictionary.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Ding-dong. no more use of plugin_sysvar. Anywhere.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	One more to go...

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Down to 2.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	old blocks.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	More innodb variables.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	read and write io threads. Also slight change to replication-log option.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Fixed up test cases around commit-concurrency.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	commit_concurrency settings.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Add ability to add a validation function to any sys_var. duh.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Updated the adaptive_hash_index variable.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	Removed log-arch params... we don't actually use them.

2010-12-06  Monty Taylor  <mordred@inaugust.com>

	four more variables

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	buffer_pool_size, buffer_pool_instances, log_file_size

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	More innodb migration.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	autoextend_increment, and additional_mem_pool.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	Break pbxt sysvars... we'll come back to them later.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded defines.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	Updated PBMS.

2010-12-07  Patrick Crews  <gleebix@gmail.com>

	Added disabled.def file to disable drizzleslap due to Bug#684269.  Need to skip for tarball release this round

2010-12-07  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-12-06  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-05  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-12-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 684986: Drizzledump migration does not appear to handle BIT datatype gracefully
	Merge Andrew - fix bug #685003: Drizzledump adding extra ')' to CREATE TABLE output when dealing with foreign key
	Merge Andrew - fix bug #685046: Drizzledump not handling MySQL CHAR(0) /VARCHAR(0) columns gracefully
	Merge Andrew - fix bug #685173: drizzledump should error if > max bigint value found
	Merge Andrew - fix bug #685176: drizzledump migration SET with default value failure

2010-12-06  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix problem found in transaction log testing

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Oops, this line shouldn't have been committed

2010-12-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make BIGINT range check only happen on MySQL BIGINT UNSIGNED as it is tripping up on negative BIGINT values.
	
	Also, don't quote BIGINT values

2010-12-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 684986: Drizzledump migration does not appear to handle BIT datatype gracefully 
	Merge Andrew - fix bug #685003: Drizzledump adding extra ')' to CREATE TABLE output when dealing with foreign keys
	Merge Andrew - fix bug #685046: Drizzledump not handling MySQL CHAR(0) /VARCHAR(0) columns gracefully
	Merge Andrew - fix bug #685173: drizzledump should error if > max bigint value found
	Merge Andrew - fix bug #685176: drizzledump migration SET with default value failure

2010-12-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Drop the default when converting SET data type.  Ugly but I can't think of a better way until we support SET properly

2010-12-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	MySQL support CHAR(0), erm.. OK.  Lets at least make this 1 char long.

2010-12-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	If migrating a BIGINT UNISIGNED value > BIGINT signed max value, error.  We cannot store it.
	
	Also fix a bug on NULLs within varbinary data

2010-12-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add BIT support when converting MySQL.  We convert this to a varbinary and covert the bit length to a byte length.
	
	Values are therefore automaticaly converted to printed hex due to previous rules.

2010-12-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Drizzledump MySQL migration fkey regex was too greedy causing output errors

2010-12-05  Lee Bieber  <kalebral@gmail.com>

	Merge Padraig - Fix for query rewrite plugin.
	Merge Monty: more plugin_sysvar removal work.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of icc warnings.

2010-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed a silly mistake - string needed std::

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Merge fix for query rewrite plugin.

2010-12-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	merge with trunk.

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	tiny formatting fix.

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Some re-factoring based on feedback from Monty on IRC.

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modifying the query rewriting plugin API so that it allows a plugin to modify the query string.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Merge Monty: plugin_sysvar removal work.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged source.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	hello_events.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged in vj's LDAP changes.

2010-12-04  vjsamuel1990@gmail.com

	Merge introduction of variables_map into auth_ldap

2010-12-04  vjsamuel1990@gmail.com

	Merge sysvar changes for auth_ldap

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	filtered_replicator

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	logging_gearman

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Did logging_query. Fixed rabbitmq.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	took care of innodb SessionVAR usage.

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	memache qc

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	RabbitMQ.

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	logging_stats

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	Fixed a few more variables that were experiencing ass-y casting.

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	Changed show SHOW_INT works ... man, trying to cast things as a method of data storage is lame.

2010-12-03  Monty Taylor  <mordred@inaugust.com>

	All protocol stuff except for the buffer_length. WTF?

2010-12-02  Monty Taylor  <mordred@inaugust.com>

	Updated memcached_stats plugin.

2010-12-02  Monty Taylor  <mordred@inaugust.com>

	Refactored syslog module and changed it to use sys_var directly.

2010-12-02  Monty Taylor  <mordred@inaugust.com>

	Merged Trunk

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Padraig - Small fix needed when building a plugin out-of-tree.
	Merge Joe - More work on storing transaction log in innodb

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Padraig - Small fix needed when building a plugin out-of-tree.

2010-12-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Put the schema and table header files in the correct directive...

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Actually correct the right file this time...

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Correct indentation.

2010-12-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Make sure that schema and table headers in message directory are installed since storage_engine header includes them.

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - More work on storing transaction log in innodb

2010-12-03  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-12-03  Joseph Daly  <skinny.moey@gmail.com>

	update POTFILES.in

2010-12-02  Joseph Daly  <skinny.moey@gmail.com>

	remove replication test, this functionality is tested in the transaction_log tests

2010-12-02  Joseph Daly  <skinny.moey@gmail.com>

	fix non deterministic test

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	test fixes

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	clean up diffs

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	revert change

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	better error handling in transaction_reader

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	sort in asc order

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-12-01  Joseph Daly  <skinny.moey@gmail.com>

	port additional tests

2010-11-30  Joseph Daly  <skinny.moey@gmail.com>

	move more tests to use inno replication log

2010-11-30  Joseph Daly  <skinny.moey@gmail.com>

	insert/alter tests and added new option to transaction_reader

2010-11-29  Joseph Daly  <skinny.moey@gmail.com>

	fix a problem where a create table A, and insert into A were having a trx number that was lower for the insert then the create.

2010-11-27  Joseph Daly  <skinny.moey@gmail.com>

	disable by default

2010-11-27  Joseph Daly  <skinny.moey@gmail.com>

	fix up transaction reader to work with inno replication log

2010-11-18  Joseph Daly  <skinny.moey@gmail.com>

	use trx_id from message

2010-11-17  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-11-11  Joseph Daly  <skinny.moey@gmail.com>

	enable innodb replication by default for testing

2010-11-11  Joseph Daly  <skinny.moey@gmail.com>

	fix up transaction log column

2010-11-10  Joseph Daly  <skinny.moey@gmail.com>

	merge steward innodb fixes

2010-11-10  Brian Aker  <brian@tangent.org>

	Merge Stewart

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	migrate innobase insert_replication_mesasge to instead use the INNOBASE API directly instead of through the InnoDB parser. This means it should be reentrant. We construct our own prebuilt structure, set the row data and write the row as part of the transaction (as before). We currently do *NOT* handle any row lock conflicts. i.e. if you ever write code that can block the insert into the table, this will explode horribly. You also probably want to take note that the create table statement for the innobase parser only creates 4 byte integers, so i've had to just take the low 32bits of txn id.

2010-11-09  Joseph Daly  <skinny.moey@gmail.com>

	only allocate a trx if one is not associated with the session

2010-11-09  Joseph Daly  <skinny.moey@gmail.com>

	fix up trans id code, still allocating multiple txns

2010-11-08  Joseph Daly  <skinny.moey@gmail.com>

	dont call trx_free_for_mysql() and call check_trx_exists() this will allocate if the trx does not exist

2010-11-08  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2010-10-01  Brian Aker  <brian@gir-3.local>

	Clean up some of the worst of the memory abuses in the plugin.

2010-10-01  Brian Aker  <brian@gir-3.local>

	First pass over replicating to the guts of Innodb.

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	fix build break on Solaris

2010-12-04  Brian Aker  <brian@tangent.org>

	STD max_element

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more cleanup of share pointers

2010-12-03  Brian Aker  <brian@tangent.org>

	Did a grep for _if(

2010-12-03  Brian Aker  <brian@tangent.org>

	Merge in some additional std namespace finds.

2010-12-03  Brian Aker  <brian@tangent.org>

	Fix for solaris find for std::find.

2010-12-03  Brian Aker  <brian@tangent.org>

	More std! 

2010-12-03  Brian Aker  <brian@tangent.org>

	Adding find for std

2010-12-03  Brian Aker  <brian@tangent.org>

	Fix issue where ifdef nailed the use of cerr

2010-12-03  Brian Aker  <brian@tangent.org>

	Remove the use of "using std" from the plugin interface .cc files.

2010-12-03  Brian Aker  <brian@tangent.org>

	Merge with trunk

2010-12-03  Brian Aker  <brian@tangent.org>

	Small fix.

2010-12-02  Brian Aker  <brian@tangent.org>

	This is from the catalog patch (I'm pushing it up as its own little thing
	just because it is fairly invasive).

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - more licensing updates
	Merge Lee - Update files that did not have a license or had incorrect license structure
	Merge Vijay - refactor sysvar strings for innobase

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - more licensing updates

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Shell scripts don't grok C-style comments.

2010-12-04  Monty Taylor  <mordred@inaugust.com>

	Updated ut0auxconf.h by deleting it.

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	incorrect comment syntax for shell

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - Update files that did not have a license or had incorrect license structure

2010-12-03  Lee Bieber kalebral@gmail.com

	a few more updates of files that did not have license or had incorrect license structure

2010-12-03  Lee Bieber kalebral@gmail.com

	update files that did not have license or had incorrect license structure

2010-12-04  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - refactor sysvar strings for innobase

2010-12-03  vjsamuel1990@gmail.com

	Merge fixes for merge conflicts

2010-12-02  vjsamuel1990@gmail.com

	Merge refactor sys var strings of innobase to comply with the new system

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - update Innobase plugin based on InnoDB 1.1.2

2010-12-02  Sergey Vojtovich  <svoj@sun.com>

	Merge Revision revid:svoj@sun.com-20100826112344-gt7f3ia1fxs3k8ss from MySQL InnoDB
	
	Original revid:svoj@sun.com-20100826112344-gt7f3ia1fxs3k8ss
	
	Original Authors: Sergey Vojtovich <svoj@sun.com>
	Original commit message:
	Fixed race condition in a test case for BUG#55580.

2010-12-02  Georgi Kodinov  <Georgi.Kodinov@Oracle.com>

	Merge Revision revid:georgi.kodinov@oracle.com-20100813080739-27p9rgxvo26a6psh from MySQL InnoDB
	
	Original revid:georgi.kodinov@oracle.com-20100813080739-27p9rgxvo26a6psh
	
	Original Authors: Georgi Kodinov <Georgi.Kodinov@Oracle.com>
	Original commit message:
	Bug #55580 : segfault in read_view_sees_trx_id
	
	The server was not checking for errors generated during
	the execution of Item::val_xxx() methods when copying
	data to the group, order, or distinct temp table's row.
	Fixed by extending the copy_funcs() to return an error
	code and by checking for that error code on the places
	copy_funcs() is called. 
	Test case added.

2010-12-02  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100817120754-98rp2bojkw5f38nf from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100817120754-98rp2bojkw5f38nf
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	A non-functional change:
	
	dict_load_index_low(): Rename the parameter "cached" to "allocated"
	and clarify the comments.

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	fix TRX_ID_FMT and associated printf()

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	update select and subselect_mat test results EXPLAIN output due to improvements in innodb stats

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified user_var test rusult due to EXPLAIN output change because of innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified subselect test rusult due to EXPLAIN output change because of innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified range test rusult due to EXPLAIN output change because of innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified order_by EXPLAIN output due to innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified negation_elimination EXPLAIN output due to innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	modified join_nested EXPLAIN output due to innodb stats changes

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	make myisam.basic test actually use MyISAM everywhere.

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	fix func_in test result due to changed innodb statistics

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	update endspace test - now with --sorted_result

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	EXPLAIN in test result changes due to modified InnoDB stats

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	build fix for data_dictionary now that innobase uses real uint64

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	merge update-innobase-1.1.1 branch (incl fixes for trunk)

2010-12-02  Stewart Smith  <stewart@flamingspork.com>

	fix innodb result file for changed index stats and remove innodb_gis test (not needed on drizzle - no GIS types)

2010-11-19  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100817081924-i5vfwmvsszboeb0o from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100817081924-i5vfwmvsszboeb0o
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #53496 Use Lock_time in slow query log output for InnoDB row
	lock wait time. Including the InnoDB lock time in the exiting "Lock_time"
	output.

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	update test result due to better innodb stats: better EXPLAIn output

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	fix innodb_mysql test result due to updated index stats

2010-11-19  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100817062433-rt4140mywoux0b1e from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100817062433-rt4140mywoux0b1e
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Adjust innodb_gis.result
	
	This is a followup to vasil.dimov@oracle.com-20100816142329-yimenbuktd416z1a
	which improved the sampling algorithm.

2010-11-19  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100816142329-yimenbuktd416z1a from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100816142329-yimenbuktd416z1a
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#53761 RANGE estimation for matched rows may be 200 times different
	
	Improve the range estimation algorithm.
	
	Previously:
	For a given level the algo knows the number of pages in the requested range and the n
	
	With this change:
	Same idea, but peek a few (10) of the intermediate pages to get a better estimate of 
	
	In the bug report one of the examples has a btree with a snippet of the leaf level li
	page1(899 records), page2(1 record), page3(1 record), page4(1 record)
	so when trying to estimate, the previous algo, assumed there are average (899+1)/2=45
	Fix Bug#53761 RANGE estimation for matched rows may be 200 times different
	
	Improve the range estimation algorithm.
	
	Previously:
	For a given level the algo knows the number of pages in the requested range
	and the number of records on the leftmost and the rightmost page. Then it
	assumes all pages in between contain the average between the two border pages
	and multiplies this average number by the number of intermediate pages.
	
	With this change:
	Same idea, but peek a few (10) of the intermediate pages to get a better
	estimate of the average number of records per page. If there are less than 10
	intermediate pages then all of them will be scanned and the result will be
	precise, not an estimation.
	
	In the bug report one of the examples has a btree with a snippet of the leaf
	level like this:
	page1(899 records), page2(1 record), page3(1 record), page4(1 record)
	so when trying to estimate, the previous algo, assumed there are average
	(899+1)/2=450 records per page which went terribly wrong. With this change
	page2 and page3 will be read and the exact number of records will be returned.
	
	Approved by:	Sunny (rb://401)

2010-11-19  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100813161459-94a6xdimw3g965bz from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100813161459-94a6xdimw3g965bz
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Undo changes to innodb_strict_mode that went in by mistake in r3149

2010-11-19  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100810102248-xrdjie2de4r9h3ed from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100810102248-xrdjie2de4r9h3ed
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54914: InnoDB: performance drop with innodb_change_buffering=all
	
	Reduce ibuf_mutex and ibuf_pessimistic_insert_mutex contention further.
	
	Protect ibuf->empty by the insert buffer root page latch, not ibuf_mutex.
	
	ibuf_tree_root_get(): Assert that ibuf_mutex is owned by the
	caller. Assert that the stamped page number is correct. Assert that
	ibuf->empty agrees with the root page.
	
	ibuf_size_update(): Do not update ibuf->empty.
	
	ibuf_init_at_db_start(): Update ibuf->empty while holding the root page latch.
	
	ibuf_add_free_page(): Return TRUE/FALSE instead of DB_SUCCESS/DB_STRONG_FAIL.
	
	ibuf_remove_free_page(): Release ibuf_pessimistic_insert_mutex as
	early as possible.
	
	ibuf_contract_ext(): Rely on a dirty read of ibuf->empty, unless the
	server is being shut down. Never acquire ibuf_mutex. Eliminate n_stored.
	
	ibuf_contract_after_insert(): Never acquire ibuf_mutex. Perform dirty
	reads of ibuf->size and ibuf->max_size.
	
	ibuf_insert_low(): Only acquire ibuf_mutex for mode==BTR_MODIFY_TREE.
	Perform dirty reads of ibuf->size and ibuf->max_size. Update
	ibuf->empty while holding the root page latch.
	
	ibuf_delete_rec(): Update ibuf->empty while holding the root page latch.
	
	ibuf_is_empty(): Release ibuf_mutex earlier.

2010-11-19  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100809085837-s1nfx6gjf7l6ttab from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100809085837-s1nfx6gjf7l6ttab
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Reduce the ibuf_mutex hold time. This does not fix the update
	regression in Bug #54914, but it does speed up the execution for
	innodb_change_buffering=inserts.
	
	ibuf_add_ops(), ibuf_merge_or_delete_for_page(),
	ibuf_delete_for_discarded_space(): Use atomic built-ins instead of
	ibuf_mutex, when available.
	
	ibuf_add_free_page(), ibuf_remove_free_page(), ibuf_contract_ext():
	Release ibuf_mutex earlier.
	
	ibuf_free_excess_pages(): Release ibuf_mutex before a conditional branch.
	
	ibuf_insert_low(): Release ibuf_mutex before a conditional
	branch. Create ibuf_entry before re-acquiring ibuf_mutex. Simplify a
	loop to reduce code footprint. Release ibuf_mutex before mtr_commit()
	[btr_pcur_close()].
	
	ibuf_is_empty(): Release ibuf_mutex before mtr_commit().

2010-11-19  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20100803061203-v35h8tde0gvf2qmx from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20100803061203-v35h8tde0gvf2qmx
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Bug #54702: revert the default of innodb_strict_mode to false.

2010-11-19  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100805150905-egfos37tprx6mmfu from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100805150905-egfos37tprx6mmfu
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Currently we do a full validation of AHI whenever check tables is
	called on any table. This patch fixes this by only doing this full
	check in debug versions.
	
	bug#55716
	rb://423
	approved by: Marko

2010-11-19  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100730143916-uch6xe702dbu8oqb from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100730143916-uch6xe702dbu8oqb
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	When the caller of buf_flush_list() provides us with the number of
	pages that it wants to flush then we should honor that value as in
	not going beyond that in our eagerness to flush the neighbors of
	the selected victim.

2010-11-18  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629131219-pjbkpk5rsqztmw27 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629131219-pjbkpk5rsqztmw27
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ChangeLog entry for Bug #54408

2010-11-18  MySQL Build Team<build@mysql.com>

	Merge Revision revid:build@mysql.com-20100622200931-wphbrypulhqvm4ep from MySQL InnoDB
	
	Original revid:build@mysql.com-20100622200931-wphbrypulhqvm4ep
	
	Original Authors: MySQL Build Team<build@mysql.com>
	Original commit message:
	Backport into 5.1.46sp1:
	
	> revno: 3351.14.56
	> committer: Marko Mdkeld <marko.makela@oracle.com>
	> branch nick: 5.1-innodb
	> timestamp: Mon 2010-04-26 14:08:56 +0300
	> message:
	>   Add a test case for Bug #52745.

2010-11-18  MySQL Build Team<build@mysql.com>

	Merge Revision revid:build@mysql.com-20100622195935-i5cctxhtgganeuxr from MySQL InnoDB
	
	Original revid:build@mysql.com-20100622195935-i5cctxhtgganeuxr
	
	Original Authors: MySQL Build Team<build@mysql.com>
	Original commit message:
	Backport into build-201006221614-5.1.46sp1
	
	> ------------------------------------------------------------
	> revno: 3351.14.47
	> revision-id: marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a
	> parent: marko.makela@oracle.com-20100421094032-ir4glqk46qvg2ywn
	> committer: Marko Mkel <marko.makela@oracle.com>
	> branch nick: 5.1-innodb
	> timestamp: Wed 2010-04-21 12:50:33 +0300
	> message:
	>   dtuple_convert_big_rec(): Store locally any fields whose maximum length
	>   is less than 256 bytes. (Bug #52745)
	>   Add related comments and debug assertions to the "offsets"
	>   functions in rem0rec.c.
	>   Approved by Sunny Bains

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100722044612-ry7seaor64bczxvk from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100722044612-ry7seaor64bczxvk
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Remove code that was added during the flush list mutex refactoring. We cannot
	release a dirty page in the middle of a mini-transaction. Replace the code
	with an assertion that checks for this condition.
	
	Original svn revision was: r6330.

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100721231619-lys5zrqq2damrm69 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100721231619-lys5zrqq2damrm69
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug#54583 InnoDB: Assertion failure sync/sync0sync.c:1226
	
	Silence the UNIV_SYNC_DEBUG assertion failure while upgrading old data files
	to multiple rollback segments during server startup. Because the upgrade
	takes place while InnoDB is running a single thread, we can safely ignore the
	latching order checks without fearing deadlocks.
	
	innobase_start_or_create_for_mysql(): Set srv_is_being_started = FALSE
	only after trx_sys_create_rsegs() has completed.
	
	sync_thread_add_level(): If srv_is_being_started, ignore latching order
	violations for SYNC_TRX_SYS_HEADER and SYNC_IBUF_BITMAP.
	
	Create all the non-IO threads after creating the extra rollback segments.
	
	Patch originally from Marko with some additions by Sunny.

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100721214151-r4dy4ozdeng56laq from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100721214151-r4dy4ozdeng56laq
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Bug 54617 - During shutdown: Failing assertion: arr->n_reserved == 0
	
	Get rid of at least on suspicious path. Ensure that the purge thread
	doesn't acquire a mutex after it has signalled shutdown.

2010-11-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100721171959-auz3vhvc5p8dovu0 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100721171959-auz3vhvc5p8dovu0
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB version to 1.1.2
	InnoDB 1.1.1 was released with MySQL 5.5.5-m3

2010-11-17  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20100720204231-h3nw0d9q3h79krr4 from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20100720204231-h3nw0d9q3h79krr4
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Improve InnoDB synchronization primitives on Windows
	This patch was originally developed by Vladislav Vaintroub.
	The main changes are:
	
	* Use TryEnterCriticalSection in os_fast_mutex_trylock().
	* Use lightweight condition variables on Vista or later Windows;
	but fall back to events on older Windows, such as XP.
	
	This patch also fixes the following bugs:
	bug# 52102 InnoDB Plugin shows performance drop compared to InnoDB
	on Windows
	bug# 53204 os_fastmutex_trylock is implemented incorrectly on Windows
	
	rb://363 approved by Inaam Rana

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100715015515-7juwgsmtkzvj3bn5 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100715015515-7juwgsmtkzvj3bn5
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug# 54901 assert during recovery when binlog enabled.
	Remove the pure attribute from a function. The function doesn't qualify as
	a pure function because it has a side-effect (modifies its parameter). Add
	a clarifying comment to another function's declaration.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100708070559-mnzs6ta5ayoozxgx from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100708070559-mnzs6ta5ayoozxgx
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #54764 memory allocated in os_aio_array_create is not
	freed at shutdown
	
	rb://395, approved by Sunny Bains

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100701045247-i401uazuf4ewfiz9 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100701045247-i401uazuf4ewfiz9
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #54311 Crash on CHECK PARTITION after concurrent LOAD DATA
	and adaptive_hash_index=OFF
	
	rb://389 approved by Marko

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100630095241-bietgukdy2g6k7x4 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100630095241-bietgukdy2g6k7x4
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge Bug #54358 comment corrections from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3533
	revision-id: marko.makela@oracle.com-20100630093149-wmc37t128gic933v
	parent: marko.makela@oracle.com-20100629131219-pjbkpk5rsqztmw27
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-06-30 12:31:49 +0300
	message:
	Correct some comments that were added in the fix of Bug #54358
	(READ UNCOMMITTED access failure of off-page DYNAMIC or COMPRESSED columns).
	
	Records that lack incompletely written externally stored columns may
	be accessed by READ UNCOMMITTED transaction even without involving a
	crash during an INSERT or UPDATE operation. I verified this as follows.
	
	(1) added a delay after the mini-transaction for writing the clustered
	index 'stub' record was committed (patch attached)
	(2) started mysqld in gdb, setting breakpoints to the where the
	assertions about READ UNCOMMITTED were added in the bug fix
	(3) invoked ibtest3 --create-options=key_block_size=2
	to create BLOBs in a COMPRESSED table
	(4) invoked the following:
	yes 'set transaction isolation level read uncommitted;
	checksum table blobt3;select sleep(1);'|mysql -uroot test
	(5) noted that one of the breakpoints was triggered
	(return(NULL) in btr_rec_copy_externally_stored_field())
	
	=== modified file 'storage/innodb_plugin/row/row0ins.c'
	--- storage/innodb_plugin/row/row0ins.c	2010-06-30 08:17:25 +0000
	+++ storage/innodb_plugin/row/row0ins.c	2010-06-30 08:17:25 +0000
	@@ -2120,6 +2120,7 @@ function_exit:
	rec_t*	rec;
	ulint*	offsets;
	mtr_start(&mtr);
	+		os_thread_sleep(5000000);
	
	btr_cur_search_to_nth_level(index, 0, entry, PAGE_CUR_LE,
	BTR_MODIFY_TREE, &cursor, 0,
	
	=== modified file 'storage/innodb_plugin/row/row0upd.c'
	--- storage/innodb_plugin/row/row0upd.c	2010-06-30 08:11:55 +0000
	+++ storage/innodb_plugin/row/row0upd.c	2010-06-30 08:11:55 +0000
	@@ -1763,6 +1763,7 @@ row_upd_clust_rec(
	rec_offs_init(offsets_);
	
	mtr_start(mtr);
	+		os_thread_sleep(5000000);
	
	ut_a(btr_pcur_restore_position(BTR_MODIFY_TREE, pcur, mtr));
	rec = btr_cur_get_rec(btr_cur);

2010-11-17  Mark Leith  <mark.leith@oracle.com>

	Merge Revision revid:mark.leith@oracle.com-20100630091104-yxpjqu3ruebif2jb from MySQL InnoDB
	
	Original revid:mark.leith@oracle.com-20100630091104-yxpjqu3ruebif2jb
	
	Original Authors: Mark Leith <mark.leith@oracle.com>
	Original commit message:
	Bug#54726 - Inconsistent reporting between mutex and RW lock spin rounds
	- Add round counts to the output for RW s/x locks

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629132105-zzdqxv00w8r8hq6r from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629132105-zzdqxv00w8r8hq6r
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge Bug#54408 fix from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3531
	revision-id: marko.makela@oracle.com-20100629130058-1ilqaj51u9sj9vqe
	parent: marko.makela@oracle.com-20100629125653-t799e5x30h31cvrd
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-29 16:00:58 +0300
	message:
	Bug#54408: txn rollback after recovery: row0umod.c:673
	dict_table_get_format(index->table)
	
	The REDUNDANT and COMPACT formats store a local 768-byte prefix of
	each externally stored column. No row_ext cache is needed, but we
	initialized one nevertheless. When the BLOB pointer was zero, we would
	ignore the locally stored prefix as well. This triggered an assertion
	failure in row_undo_mod_upd_exist_sec().
	
	row_build(): Allow ext==NULL when a REDUNDANT or COMPACT table
	contains externally stored columns.
	
	row_undo_search_clust_to_pcur(), row_upd_store_row(): Invoke
	row_build() with ext==NULL on REDUNDANT and COMPACT tables.
	
	rb://382 approved by Jimmy Yang

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629131907-epjs6h2rv457h7qv from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629131907-epjs6h2rv457h7qv
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge Bug#54358 fix from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3529
	revision-id: marko.makela@oracle.com-20100629125518-m3am4ia1ffjr0d0j
	parent: jimmy.yang@oracle.com-20100629024137-690sacm5sogruzvb
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-29 15:55:18 +0300
	message:
	Bug#54358: READ UNCOMMITTED access failure of off-page DYNAMIC or COMPRESSED
	columns
	
	When the server crashes after a record stub has been inserted and
	before all its off-page columns have been written, the record will
	contain incomplete off-page columns after crash recovery. Such records
	may only be accessed at the READ UNCOMMITTED isolation level or when
	rolling back a recovered transaction in recv_recovery_rollback_active().
	Skip these records at the READ UNCOMMITTED isolation level.
	
	TODO: Add assertions for checking the above assumptions hold when an
	incomplete BLOB is encountered.
	
	btr_rec_copy_externally_stored_field(): Return NULL if the field is
	incomplete.
	
	row_prebuilt_t::templ_contains_blob: Clarify what "BLOB" means in this
	context. Hint: MySQL BLOBs are not the same as InnoDB BLOBs.
	
	row_sel_store_mysql_rec(): Return FALSE if not all columns could be
	retrieved. Previously this function always returned TRUE.  Assert that
	the record is not delete-marked.
	
	row_sel_push_cache_row_for_mysql(): Return FALSE if not all columns
	could be retrieved.
	
	row_search_for_mysql(): Skip records containing incomplete off-page
	columns. Assert that the transaction isolation level is READ
	UNCOMMITTED.
	
	rb://380 approved by Jimmy Yang

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629113248-fvl48lnzr44z94gg from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629113248-fvl48lnzr44z94gg
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#52199 utf32: mbminlen=4, mbmaxlen=4, type->mbminlen=0, type->mbmaxlen=4
	
	Merge and adjust a forgotten change to fix this bug.
	rb://393 approved by Jimmy Yang
	------------------------------------------------------------------------
	r3794 | marko | 2009-01-07 14:14:53 +0000 (Wed, 07 Jan 2009) | 18 lines
	
	branches/6.0: Allow the minimum length of a multi-byte character to be
	up to 4 bytes. (Bug #35391)
	
	dtype_t, dict_col_t: Replace mbminlen:2, mbmaxlen:3 with mbminmaxlen:5.
	In this way, the 5 bits can hold two values of 0..4, and the storage size
	of the fields will not cross the 64-bit boundary.  Encode the values as
	DATA_MBMAX * mbmaxlen + mbminlen.  Define the auxiliary macros
	DB_MBMINLEN(mbminmaxlen), DB_MBMAXLEN(mbminmaxlen), and
	DB_MINMAXLEN(mbminlen, mbmaxlen).
	
	Try to trim and pad UTF-16 and UTF-32 with spaces as appropriate.
	
	Alexander Barkov suggested the use of cs->cset->fill(cs, buff, len, 0x20).
	ha_innobase::store_key_val_for_row() now does that, but the added function
	row_mysql_pad_col() does not, because it doesn't have the MySQL TABLE object.
	
	rb://49 approved by Heikki Tuuri
	------------------------------------------------------------------------

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100624072140-zp22g2u908nifuwi from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100624072140-zp22g2u908nifuwi
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	trx_undo_parse_page_header(): Silence a bogus warning.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100624060929-z7dj4btnkyhqm229 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100624060929-z7dj4btnkyhqm229
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	After-review cleanup of Bug#57428: replace the dulint struct with a 64-bit int
	
	trx_undo_build_roll_ptr(): Clarify the assertion on is_insert being 0 or 1.
	
	TRX_SYS_FILE_FORMAT_TAG: Remove "extra" space after period in the comment.
	See also http://desktoppub.about.com/cs/typespacing/a/onetwospaces.htm

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100624060842-bkagpd3u6qii6odd from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100624060842-bkagpd3u6qii6odd
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	mach_ull_parse_compressed(): Move to .ic file to silence a GCC warning
	about trx_id being possibly uninitialized in trx_undo_parse_page_header().
	The warning remains when UNIV_DEBUG or UNIV_MUST_NOT_INLINE is enabled.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100624060146-enwqipupmqrghgcq from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100624060146-enwqipupmqrghgcq
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ut_ull_create(): Fix a typo in ut_ad(): ULINT32_MASK instead of ULINT32_MAX.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100623110659-pk5bqnmo0j7hj6md from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100623110659-pk5bqnmo0j7hj6md
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#54728: Replace the dulint struct with a 64-bit integer.

2010-11-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100623071721-l8mend26quaybmwb from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100623071721-l8mend26quaybmwb
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge Bug#47991 fix from mysql-5.1-innodb
	
	------------------------------------------------------------
	revno: 3517
	revision-id: vasil.dimov@oracle.com-20100622163043-dc0lxy0byg74viet
	parent: marko.makela@oracle.com-20100621095148-8g73k8k68dpj080u
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Tue 2010-06-22 19:30:43 +0300
	message:
	Fix Bug#47991 InnoDB Dictionary Cache memory usage increases indefinitely
	when renaming tables
	
	Allocate the table name using ut_malloc() instead of table->heap because
	the latter cannot be freed.
	
	Adjust dict_sys->size calculations all over the code.
	
	Change dict_table_t::name from const char* to char* because we need to
	ut_malloc()/ut_free() it.
	
	Reviewed by:	Inaam, Marko, Heikki (rb://384)
	Approved by:	Heikki (rb://384)
	------------------------------------------------------------

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	again, incorrect ha_innodb.cc automerge

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622120533-yki7l4uo5kw0fu6e from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622120533-yki7l4uo5kw0fu6e
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge Bug#54686 fix from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3517
	revision-id: marko.makela@oracle.com-20100622115215-kxtzx7xuugcxd375
	parent: marko.makela@oracle.com-20100621095148-8g73k8k68dpj080u
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-22 14:52:15 +0300
	message:
	Bug#54686 "field->col->mtype == type" assertion error at row/row0sel.c
	ha_innobase::index_read(), ha_innobase::records_in_range(): Check that
	the index is useable before invoking row_sel_convert_mysql_key_to_innobase().
	
	This fix is based on a suggestion by Yasufumi Kinoshita.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622104317-5xl3suwp1hqjtd80 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622104317-5xl3suwp1hqjtd80
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	buf_flush_insert_in_flush_rbt(), buf_flush_validate_low():
	Silence GCC warnings about dereferencing a type-punned pointer.
	Approved by Jimmy Yang.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622104239-0lpbu70us50jaqfs from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622104239-0lpbu70us50jaqfs
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	dict_load_column_low(): Initialize pos. Improve documentation.
	Approved by Jimmy Yang.

2010-11-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100621155209-1pu7nwq05x7tbfoo from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100621155209-1pu7nwq05x7tbfoo
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Fixes bug#39168.
	Make a call to log_free_check() on all DML paths.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100709083920-tjr02w26k7b1d97i from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100709083920-tjr02w26k7b1d97i
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #55039 Failing assertion: space_id > 0 in fil0fil.c.
	
	rb://396, approved by Sunny Bains.

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	revert patch tha was just incorrect for ha_innodb.cc

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100625081841-ppulnkjk1qlazh82 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100625081841-ppulnkjk1qlazh82
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug#54583. This change reverses rsvn:1350 by getting rid of a bogus assertion
	and clarifies the invariant in dict_table_get_on_id().
	
	In Mar 2007 Marko observed a crash during recovery, the crash resulted from
	an UNDO operation on a system table. His solution was to acquire an X lock on
	the data dictionary, this in hindsight was an overkill. It is unclear what
	caused the crash, current hypothesis is that it was a memory corruption.
	
	The X lock results in performance issues by when undoing changes due to
	rollback during normal operation on regular tables.
	
	Why the change is safe:
	======================
	The InnoDB code has changed since the original X lock change was made. In the
	new code we always lock the data dictionary in X mode during startup when
	UNDOing operations on the system tables (this is a given). This ensures that
	the crash Marko observed cannot happen as long as all transactions that update
	the system tables follow the standard rules by setting the appropriate DICT_OP
	flag when writing the log records when they make the changes.
	
	If transactions violate the above mentioned rule then during recovery (at
	startup) the rollback code (see trx0roll.c) will not acquire the X lock
	and we will see the crash again.  This will however be a different bug.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100623023920-l74rw5x4y35o81rl from MySQL InnoDB
	
	just changelog entry
	
	Original revid:jimmy.yang@oracle.com-20100623023920-l74rw5x4y35o81rl
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for "bug #54044 Create temporary tables and using innodb crashes"
	to 5.1 plugin codeline.
	
	rb://378, approved by Marko

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622115215-kxtzx7xuugcxd375 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622115215-kxtzx7xuugcxd375
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54686 "field->col->mtype == type" assertion error at row/row0sel.c
	ha_innobase::index_read(), ha_innobase::records_in_range(): Check that
	the index is useable before invoking row_sel_convert_mysql_key_to_innobase().
	
	This fix is based on a suggestion by Yasufumi Kinoshita.

2010-11-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100622163043-dc0lxy0byg74viet from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100622163043-dc0lxy0byg74viet
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#47991 InnoDB Dictionary Cache memory usage increases indefinitely
	when renaming tables
	
	Allocate the table name using ut_malloc() instead of table->heap because
	the latter cannot be freed.
	
	Adjust dict_sys->size calculations all over the code.
	
	Change dict_table_t::name from const char* to char* because we need to
	ut_malloc()/ut_free() it.
	
	Reviewed by:	Inaam, Marko, Heikki (rb://384)
	Approved by:	Heikki (rb://384)

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100621094008-o9fa153s3f09merw from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100621094008-o9fa153s3f09merw
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug #54658: InnoDB: Warning: allocated tablespace %lu, old maximum was 0
	
	dict_check_tablespaces_and_store_max_id(): Initialize max_space_id
	and fil_system->max_assigned_id from DICT_HDR_MAX_SPACE_ID.
	
	fil_space_create(): Suppress the warning unless !recv_recovery_on
	(do not complain while applying the redo log).

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100617173303-ch2wopgfzw60b73s from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100617173303-ch2wopgfzw60b73s
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix an overly asserted assertion during previous checkin for bug #54330.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100617021204-x3790up7eeezox2c from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100617021204-x3790up7eeezox2c
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #54330 Broken fast index creation. Add additional array to
	account for each merge run's start offset, so correct offsets are
	paired up for multiple merge runs.
	
	rb://377 approved by Marko

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100615093326-m1346n02w0nduzmv from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100615093326-m1346n02w0nduzmv
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Add checkin description for bug #47622 to ChangeLog.

2010-11-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100610143128-ps1a6jmfyakzwhya from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100610143128-ps1a6jmfyakzwhya
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Add a debug assertion.

2010-11-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100610135811-1jxs81q050wpabyc from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100610135811-1jxs81q050wpabyc
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Formatting changes

2010-11-17  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100608181408-c5xsjlom5olr4mxt from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100608181408-c5xsjlom5olr4mxt
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Add call to log_free_check() in the DML code paths that were missing
	this before.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100603134448-itzduhwgbw0b8nlh from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100603134448-itzduhwgbw0b8nlh
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Remove unncessary name comapre in innobase_get_mysql_key_number_for_index()
	introduced in bug fix #53592, since dict_table_t can sufficiently unique
	identify the the table.

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	fix merge probleM: had enum twice

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602103714-0nwxdqskeb1ihozj from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602103714-0nwxdqskeb1ihozj
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#53674: InnoDB: Error: unlock row could not find a 4 mode lock on the record
	
	In semi-consistent read, only unlock freshly locked non-matching records.
	
	lock_rec_lock_fast(): Return LOCK_REC_SUCCESS,
	LOCK_REC_SUCCESS_CREATED, or LOCK_REC_FAIL instead of TRUE/FALSE.
	
	enum db_err: Add DB_SUCCESS_LOCKED_REC for indicating a successful
	operation where a record lock was created.
	
	lock_sec_rec_read_check_and_lock(),
	lock_clust_rec_read_check_and_lock(), lock_rec_enqueue_waiting(),
	lock_rec_lock_slow(), lock_rec_lock(), row_ins_set_shared_rec_lock(),
	row_ins_set_exclusive_rec_lock(), sel_set_rec_lock(),
	row_sel_get_clust_rec_for_mysql(): Return DB_SUCCESS_LOCKED_REC if a
	new record lock was created. Adjust callers.
	
	row_unlock_for_mysql(): Correct the function documentation.
	
	row_prebuilt_t::new_rec_locks: Correct the documentation.

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	build fix: DRIZZLE_TYPE_NULL fix not needed at this level, dealt with in upper layer

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	build fix

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601135802-hgplcpr8089ura8g from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601135802-hgplcpr8089ura8g
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document Bug #48197 fix

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100624084922-e7ha8t8xxhwa0oi5 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100624084922-e7ha8t8xxhwa0oi5
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for bug #54044 from mysql-5.1-security to mysql-trunk-security:
	
	------------------------------------------------------------
	revno: 3438
	committer: Jimmy Yang <jimmy.yang@oracle.com>
	branch nick: mysql-5.1-security
	timestamp: Thu 2010-06-24 01:20:25 -0700
	message:
	Fix Bug #54044 Create temporary tables and using innodb crashes.

2010-11-17  Davi Arnaut  <Davi.Arnaut@Sun.COM>

	Merge Revision revid:davi.arnaut@sun.com-20100702183047-fyw33fu1rc9j6qzw from MySQL InnoDB
	
	For drizzle, it's just one fix in Innobase that (obviously) doesn't show up
	in our GCC versions (but maybe does elsewhere)
	
	Original revid:davi.arnaut@sun.com-20100702183047-fyw33fu1rc9j6qzw
	
	Original Authors: Davi Arnaut <Davi.Arnaut@Sun.COM>
	Original commit message:
	Bug#53445: Build with -Wall and fix warnings that it generates
	
	Apart strict-aliasing warnings, fix the remaining warnings
	generated by GCC 4.4.4 -Wall and -Wextra flags.
	
	One major source of warnings was the in-house function my_bcmp
	which (unconventionally) took pointers to unsigned characters
	as the byte sequences to be compared. Since my_bcmp and bcmp
	are deprecated functions whose only difference with memcmp is
	the return value, every use of the function is replaced with
	memcmp as the special return value wasn't actually being used
	by any caller.
	
	There were also various other warnings, mostly due to type
	mismatches, missing return values, missing prototypes, dead
	code (unreachable) and ignored return values.

2010-11-17  Davi Arnaut  <Davi.Arnaut@Sun.COM>

	Merge Revision revid:davi.arnaut@sun.com-20100715111330-r5dynkv3c5catk8s from MySQL InnoDB
	
	For Drizzle, just removes NETWARE support from INNOBASE
	
	Original revid:davi.arnaut@sun.com-20100715111330-r5dynkv3c5catk8s
	
	Original Authors: Davi Arnaut <Davi.Arnaut@Sun.COM>
	Original commit message:
	WL#5486: Remove code for unsupported platforms

2010-11-17  Marc Alff  <marc.alff@oracle.com>

	Merge Revision revid:marc.alff@oracle.com-20100714162321-v9yj1jv00ahezzmr from MySQL InnoDB
	
	Original revid:marc.alff@oracle.com-20100714162321-v9yj1jv00ahezzmr
	
	Original Authors: Marc Alff <marc.alff@oracle.com>
	Original commit message:
	Implemented code review comments.
	
	Fixed style according to the specific innodb style, for innodb code.

2010-11-17  Marc Alff  <marc.alff@oracle.com>

	Merge Revision revid:marc.alff@oracle.com-20100709230024-33ewzyn4cxqcsjky from MySQL InnoDB
	
	For Drizzle we just merge the Innobase part. This should all be #ifdef'd away
	
	Original revid:marc.alff@oracle.com-20100709230024-33ewzyn4cxqcsjky
	
	Original Authors: Marc Alff <marc.alff@oracle.com>
	Original commit message:
	Bug#55087 Performance schema: optimization of the instrumentation interface
	
	This change is for performance optimization.
	
	Fixed the performance schema instrumentation interface as follows:
	- simplified mysql_unlock_mutex()
	- simplified mysql_unlock_rwlock()
	- simplified mysql_cond_signal()
	- simplified mysql_cond_broadcast()
	
	Changed the get_thread_XXX_locker apis to have one extra parameter,
	to provide memory to the instrumentation implementation.
	This API change allows to use memory provided by the caller,
	to avoid having to use thread local storage.
	Using this extra parameter will be done in a separate fix,
	this change is for the interface only.
	
	Adjusted all the code and unit tests accordingly.

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 683940: Drizzledump not preserving FOREIGN KEY information during migration from MySQL
	Merge Andrew - fix bug 683917: Drizzledump fails when trying to migrate MEMORY tables from MySQL

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 683940: Drizzledump not preserving FOREIGN KEY information during migration from MySQL 

2010-12-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	In some cases the migration of MySQL foreign keys failed.  It also performed badly.  Switch to using SHOW CREATE TABLE instead

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 683917: Drizzledump fails when trying to migrate MEMORY tables from MySQL

2010-12-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	During MySQL migration convert MEMORY engine to InnoDB since MEMORY as a non-temporary table is not yet supported

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - Merge refactor of bool type sys_vars to the new system
	Merge Monty - fix bug 683842: remove generic catch blocks 	
	Merge Monty sys_var cleanup for haildb

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - Merge refactor of bool type sys_vars to the new system

2010-12-02  vjsamuel1990@gmail.com

	Merge removed unnecessary readonly functions from previous commit.

2010-12-02  vjsamuel1990@gmail.com

	Merge trunk

2010-12-02  vjsamuel1990@gmail.com

	Merge revert changes to adaptive_hash_index back to the old sys_var system.

2010-12-01  vjsamuel1990@gmail.com

	Merge refactor of bool type sys_vars to the new system.

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 683842: remove generic catch blocks 	

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Use std::exception instead of catch(...)

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Monty sys_var cleanup for haildb

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	did the last of haildb. good grief that was boring.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	max-purge-lag.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Remove need for casts out of constrained_value - use get() method as well -
	to make Stewart happy.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	max_dirty_pages.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Converted all the rest of the haildb bool options.

2010-12-02  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - shared pointer style cleanup

2010-12-01  Brian Aker  <brian@tangent.org>

	Style change around session list.

2010-12-01  Brian Aker  <brian@tangent.org>

	Style cleanup.

2010-12-01  Brian Aker  <brian@tangent.org>

	Fix another style issue.

2010-12-01  Brian Aker  <brian@tangent.org>

	Merge in change to push session list in to its own directory above first
	level.

2010-12-01  Brian Aker  <brian@tangent.org>

	Clean up style for shared_ptr for messages around table/schema.

2010-12-01  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - more sys_var clean up work
	Merge Shrews - fix bug 682799: Multiple queries sharing same GPB Statement msg not recorded when using --replicate-query

2010-12-01  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - more sys_var clean up work

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Change how we deal with error_info, because on karmic it's returning a shared_ptr. Sigh.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Use boost::exception data bundling instead of co-opting the exceptions
	what() string.

2010-12-01  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded include

2010-11-30  Monty Taylor  <mordred@inaugust.com>

	Fixed error message thrown when we try to set a variable to an incorrect
	value.

2010-11-29  Monty Taylor  <mordred@inaugust.com>

	Updated more sys_vars.

2010-12-01  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 682799: Multiple queries sharing same GPB Statement msg not recorded when using --replicate-query

2010-12-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-11-29  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Record SQL query strings for statements sharing a GPB Statement message

2010-12-01  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - clean up kill function
	Merge Brian - add test case for bug 683310 - sqlbench performance regression

2010-11-30  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - clean up kill function

2010-11-30  Brian Aker  <brian@tangent.org>

	Fix test case. We weren't dropped a table out of one test.

2010-11-30  Brian Aker  <brian@tangent.org>

	Updated test so that it should always be deterministic.

2010-11-30  Brian Aker  <brian@tangent.org>

	Fixed error message and fixed bug introduced where kill was not doing the
	correct type of kill.

2010-11-29  Brian Aker  <brian@tangent.org>

	Fix sleep() so that a kill command will kill it.

2010-11-29  Brian Aker  <brian@tangent.org>

	Fixing up the kill function.

2010-11-30  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - add test case for bug 683310 - sqlbench performance regression

2010-11-30  Brian Aker  <brian@tangent.org>

	Test case for regression 683310.

2010-11-29  Brian Aker  <brian@tangent.org>

	Modify test so that non-deterministic row is not selected for

2010-11-29  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 682008: Valgrind warning in unix socket 
	Merge Monty - fix bug 682010: session header file includes files from internal directory
	Merge Vijay - fix bug 664049: users_file in auth_file should be an fs::path 	

2010-11-29  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 682008: Valgrind warning in unix socket 
	Merge Monty - fix bug 682010: session header file includes files from internal directory

2010-11-26  Monty Taylor  <mordred@inaugust.com>

	We were strcpy-ing too many bytes. This should only copy as many bytes as
	either we have in the source or are available in the destination.

2010-11-26  Monty Taylor  <mordred@inaugust.com>

	Removed the need for getrusage.h by doing a define check and an AC_DEFINE in
	pandora-build. I imagine this is something we'll run in to in other projects
	and it's good to just have a test for it.

2010-11-29  Lee Bieber  <kalebral@gmail.com>

	Merge Vijay - fix bug 664049: users_file in auth_file should be an fs::path 	

2010-11-27  vjsamuel1990@gmail.com

	Merge fix for bug-664049

2010-11-28  Brian Aker  <brian@tangent.org>

	I am going to disable the user_concurrent test while I look into why this is
	having an issue on OSX.

2010-11-28  Brian Aker  <brian@tangent.org>

	Rollup of scoped lock.

2010-11-28  Brian Aker  <brian@tangent.org>

	Move mutex behind scoped ().

2010-11-28  Brian Aker  <brian@tangent.org>

	Remove dead code in wait, pass session.

2010-11-28  Brian Aker  <brian@tangent.org>

	This extends our coverage of interrupting active threads. With no crash
	capabilities in the testing framework, we can't really test for the issue
	this solves,....

2010-11-28  Brian Aker  <brian@tangent.org>

	Merge in table identifier work.

2010-11-27  Brian Aker  <brian@tangent.org>

	Remove quick_rm_table().

2010-11-27  Brian Aker  <brian@tangent.org>

	Update tableidentifier so that it is const in many callers.

2010-11-27  Brian Aker  <brian@tangent.org>

	Merge in trunk

2010-11-26  Brian Aker  <brian@tangent.org>

	getSQLPath() modified to take a string so that we can const the table
	identifier in most cases.

2010-11-28  Brian Aker  <brian@tangent.org>

	Merge in WAIT

2010-11-27  Brian Aker  <brian@tangent.org>

	Add additional test case.

2010-11-27  Brian Aker  <brian@tangent.org>

	Fix clash in parser with wait().

2010-11-27  Brian Aker  <brian@tangent.org>

	Merge in additiona fixes, includes a number of bug fixes.

2010-11-27  Brian Aker  <brian@tangent.org>

	Mrge Trunk.

2010-11-26  Brian Aker  <brian@tangent.org>

	Fix issued from merge (table count off for DD).

2010-11-26  Brian Aker  <brian@tangent.org>

	Merge trunk

2010-11-26  Brian Aker  <brian@tangent.org>

	Fix for bug 682037.

2010-11-26  Brian Aker  <brian@tangent.org>

	Check state of unlock to make sure we still have the global read lock in our
	session.

2010-11-26  Brian Aker  <brian@tangent.org>

	Fix reset() to be in file for DrizzleLock class, and set it to either end on
	count or on end of vector.

2010-11-26  Brian Aker  <brian@tangent.org>

	I need to file a bug on flush tables where there is a drop table afterward.
	I am noticing that we can get a crash afterward.

2010-11-26  Brian Aker  <brian@tangent.org>

	Modify how we go about getting the information about the global lock from
	the processlist.

2010-11-26  Brian Aker  <brian@tangent.org>

	Adding "HAS_GLOBAL_LOCK" to processlist.

2010-11-26  Brian Aker  <brian@tangent.org>

	Added function global_read_lock(), this way a session can know if it has
	issued/has the global_read_lock().

2010-11-26  Brian Aker  <brian@tangent.org>

	Adding select for update test with flush locks engaged.

2010-11-26  Brian Aker  <brian@tangent.org>

	Fix ID return for 680028.

2010-11-24  Brian Aker  <brian@tangent.org>

	Update on lock count.

2010-11-23  Brian Aker  <brian@tangent.org>

	Merge in change where we remove the need for the additional variable for
	count of tables/locks.

2010-11-23  Brian Aker  <brian@tangent.org>

	Fix for 680028, crash on SELECT FOR UPDATE afer FLUSH TABLES WITH READ LOCKS

2010-11-27  Brian Aker  <brian@tangent.org>

	remove dead code around old locks

2010-11-26  Brian Aker  <brian@tangent.org>

	Dead bits inside of the global reference for lock status.

2010-11-26  Brian Aker  <brian@tangent.org>

	Remove need for calling the thread_end piece.

2010-11-26  Brian Aker  <brian@tangent.org>

	Remove pthread_self() calll. We no longer access/make use of it.

2010-11-26  Brian Aker  <brian@tangent.org>

	Dead use of pthread_t in thr_lock.cc

2010-11-27  Brian Aker  <brian@tangent.org>

	Rollup of staging, mostly UDL

2010-11-27  Brian Aker  <brian@tangent.org>

	Fix bad master.opt file for PBMS.

2010-11-27  Brian Aker  <brian@tangent.org>

	Update such that we can now do a lock test with a wait.

2010-11-26  Brian Aker  <brian@tangent.org>

	Finally added pieces so that you can do a drop lock and wait.

2010-11-26  Monty Taylor  <mordred@inaugust.com>

	Stewart - InnoDB 1.1.1
	Monty - Fixed some autoconf tests which were returning false positives.

2010-11-26  Monty Taylor  <mordred@inaugust.com>

	Fixed an ordering/logic error in pandora_warnings.

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Merged in Stewart.

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	fix ICC warning in Innobase. transfer of control bypasses initialization of space and page_no in buf0buddy.c

2010-11-26  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Merged in brian's client changes.

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Fixed an ICC warning.

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Merge Monty - fix configure tests

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Removed setting flags for ICC that aren't, well, for ICC.

2010-11-25  Monty Taylor  <mordred@inaugust.com>

	Fixed formats on 32-bit.

2010-11-24  Monty Taylor  <mordred@inaugust.com>

	Re-enabled -Wformat and then cleaned up the carnage.

2010-11-24  Monty Taylor  <mordred@inaugust.com>

	Fixed some issues with out of tree plugin building.

2010-11-24  Monty Taylor  <mordred@inaugust.com>

	protobuf requires pthread. It's just the way it is.

2010-11-24  Monty Taylor  <mordred@inaugust.com>

	Fixed the -Wformat test

2010-11-23  Monty Taylor  <mordred@inaugust.com>

	Removed warning injection into check for PAUSE instruction. The warning is
	actually on bogus autoconf instructions.

2010-11-24  Monty Taylor  <mordred@inaugust.com>

	Merge Stewart - InnoDB 1.1.1

2010-11-23  Stewart Smith  <stewart@flamingspork.com>

	fix os0file.c for SunStudio warnings about unreached statement

2010-11-23  Stewart Smith  <stewart@flamingspork.com>

	make warn_unused_result sit behind an #ifdef for GNUC as SunStudio doesn't support it.

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	fix schema_dictionary.data_dictionary test result for new INNOBASE datadict tables

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	fix innobase test cmp_mem_reset. Only resets stats *AFTER* returning results. So we need to run the query twice to see the actual results.

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	a few more build fixes

2010-11-19  Stewart Smith  <stewart@flamingspork.com>

	do proper static_casts in innobase data dictionary code.

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	merge innobase 1.0.11 tree

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	only warn_unused_result in innobase if GNUC

2010-11-16  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-17  Stewart Smith  <stewart@flamingspork.com>

	test resultfix

2010-11-17  Magne Mahre  <magne.mahre@sun.com>

	Merge Revision revid:magne.mahre@sun.com-20100617205135-74yw3t2pxs4i23px from MySQL InnoDB
	
	The only things we're taking from this are:
	- file_per_table as default
	- file_format defaulting to Barracuda
	
	
	Original revid:magne.mahre@sun.com-20100617205135-74yw3t2pxs4i23px
	
	Original Authors: Magne Mahre <magne.mahre@sun.com>
	Original commit message:
	WL#5349 Change default storage engine to InnoDB
	
	The default storage engine is changed from MyISAM to
	InnoDB, in all builds except for the embedded server.
	
	In addition, the following system variables are 
	changed:
	
	* innodb_file_per_table is enabled
	* innodb_strict_mode is enabled
	* innodb_file_format_name_update is changed
	to 'Barracuda'
	
	The test suite is changed so that tests that do not
	explicitly include the have_innodb.inc are run with
	--default-storage-engine=MyISAM.  This is to ease the
	transition, so that most regression tests are run
	with the same engine as before.
	
	Some tests are disabled for the embedded server
	regression test, as the output of certain statements
	will be different that for the regular server
	(i.e SELECT @@default_storage_engine).  This is to
	ease transition.

2010-11-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100617093523-n8cuzlzthp33oq0w from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100617093523-n8cuzlzthp33oq0w
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Decrement version number from 1.1.2 to 1.1.1, this latest tree
	is going to be 1.1.1.

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100617091353-5zga8o5hxpi0l15q from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100617091353-5zga8o5hxpi0l15q
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	This change splits innodb_file_format_check into innodb_file_format_check
	and innodb_file_format_max two system variables. And this also fixes
	bug #53654 after 2nd shutdown innodb_file_format_check attains strange
	values.
	
	rb://366 approved by Marko

2010-11-17  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100615145157-qng1aowt3ivp3yu1 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100615145157-qng1aowt3ivp3yu1
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB version number from 1.1.1 to 1.1.2,
	the 1.1.1 release will be included inside MySQL 5.5.5 and is
	up to (inclusive):
	vasil.dimov@oracle.com-20100602124314-21l3cb27w4rbfqrq

2010-11-17  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100617010613-ihrj0lulityr0n4c from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100617010613-ihrj0lulityr0n4c
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Revert a change that should have been a part of 3008.2.76..3008.2.78.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100614063501-k55k1188wsovx36r from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100614063501-k55k1188wsovx36r
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3506
	revision-id: sergey.glukhov@sun.com-20100609121718-04mpk5kjxvnrxdu8
	parent: sergey.glukhov@sun.com-20100609120734-ndy2281wau9067zv
	committer: Sergey Glukhov <Sergey.Glukhov@sun.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-06-09 16:17:18 +0400
	message:
	Bug#38999 valgrind warnings for update statement in function compare_record()
	(InnoDB plugin branch)
	
	@ mysql-test/suite/innodb_plugin/r/innodb_mysql.result
	test case
	
	@ mysql-test/suite/innodb_plugin/t/innodb_mysql.test
	test case
	
	@ storage/innodb_plugin/row/row0sel.c
	init null bytes with default values as they might be
	left uninitialized in some cases and these uninited bytes
	might be copied into mysql record buffer that leads to
	valgrind warnings on next use of the buffer.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100608122645-psnrclg7j7n1ynvs from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100608122645-psnrclg7j7n1ynvs
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3503
	revision-id: marko.makela@oracle.com-20100608121041-l7t9r6lrpx6lh361
	parent: marko.makela@oracle.com-20100608114055-7b04ytuqz0lde6v1
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-08 15:10:41 +0300
	message:
	Bug#54009: Server crashes when data is selected from non backed up table
	for InnoDB plugin
	
	dict_load_table(): Pass the correct tablespace flags to
	fil_open_single_table_tablespace(). For ROW_FORMAT=COMPACT and REDUNDANT,
	the tablespace flags are 0. The table flags would be 0 or DICT_TF_COMPACT.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100608114734-zr70kxe26ztgwbat from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100608114734-zr70kxe26ztgwbat
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3502
	revision-id: marko.makela@oracle.com-20100608114055-7b04ytuqz0lde6v1
	parent: jimmy.yang@oracle.com-20100603134448-itzduhwgbw0b8nlh
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-08 14:40:55 +0300
	message:
	buf_page_get_gen(): Pass file,line to rw_lock_x_lock().

2010-11-17  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100528131737-oate5117atm11vbz from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100528131737-oate5117atm11vbz
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	This is to fix a special case for the fix on bug #53592, where the
	err_index could be not a member of the share structure or prebuilt
	structure passed from MySQL. For now, we resort to the traditional
	way of scanning index->table for the index number.

2010-11-17  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100525125352-hgafpmqhrrj7pv5i from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100525125352-hgafpmqhrrj7pv5i
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	row_search_for_mysql(): Add assertions to track down Bug #53627.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512104603-vfwkgy2fgjqtohiv from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512104603-vfwkgy2fgjqtohiv
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document the Bug #53591 fix in the ChangeLog.

2010-11-16  Stewart Smith  <stewart@flamingspork.com>

	fix compiler warning dict0load.c:877: 'pos' may be used uninitialized

2010-11-16  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100510132433-pmbvh3vu4h8bgdg9 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100510132433-pmbvh3vu4h8bgdg9
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Make dict_index_stat_mutex[] static because it is only used in dict0dict.c

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505115011-f7zr3tgzf8vpkqhd from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505115011-f7zr3tgzf8vpkqhd
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document Bug #53256

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505114513-zg790p5lu5u1eie7 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505114513-zg790p5lu5u1eie7
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Note the 1.0.7 release

2010-11-16  Stewart Smith  <stewart@flamingspork.com>

	update information_schema_dictionary tables test result due to new INNODB system tables

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504124744-c1ivf5tm90nv7lc1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504124744-c1ivf5tm90nv7lc1
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Add Valgrind checks to catch uninitialized writes to data files.
	buf_flush_insert_into_flush_list(),
	buf_flush_insert_sorted_into_flush_list(),
	buf_flush_post_to_doublewrite_buf(): Check that the page is initialized.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602115211-y3udux1qmrulsxcc from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602115211-y3udux1qmrulsxcc
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ut_strerr(): Handle DB_SUCCESS_LOCKED_REC.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602113733-fslfv73nhi0d17t4 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602113733-fslfv73nhi0d17t4
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3495
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-06-02 13:37:14 +0300
	message:
	Bug#53674: InnoDB: Error: unlock row could not find a 4 mode lock on the record
	
	In semi-consistent read, only unlock freshly locked non-matching records.
	
	lock_rec_lock_fast(): Return LOCK_REC_SUCCESS,
	LOCK_REC_SUCCESS_CREATED, or LOCK_REC_FAIL instead of TRUE/FALSE.
	
	enum db_err: Add DB_SUCCESS_LOCKED_REC for indicating a successful
	operation where a record lock was created.
	
	lock_sec_rec_read_check_and_lock(),
	lock_clust_rec_read_check_and_lock(), lock_rec_enqueue_waiting(),
	lock_rec_lock_slow(), lock_rec_lock(), row_ins_set_shared_rec_lock(),
	row_ins_set_exclusive_rec_lock(), sel_set_rec_lock(),
	row_sel_get_clust_rec_for_mysql(): Return DB_SUCCESS_LOCKED_REC if a
	new record lock was created. Adjust callers.
	
	row_unlock_for_mysql(): Correct the function documentation.
	
	row_prebuilt_t::new_rec_locks: Correct the documentation.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602113441-96fny74sm5os2l2s from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602113441-96fny74sm5os2l2s
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3493
	revision-id: marko.makela@oracle.com-20100602101940-60x32xiivtqj9va1
	parent: marko.makela@oracle.com-20100601135802-hgplcpr8089ura8g
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-06-02 13:19:40 +0300
	message:
	fil_print_orphaned_tablespaces(): Unused function, remove.

2010-11-16  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100602110400-568a3b2gd9uxxxvg from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100602110400-568a3b2gd9uxxxvg
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port bug fix #53592 from mysql-5.1-innodb to mysql-trunk-innodb.

2010-11-16  Stewart Smith  <stewart@flamingspork.com>

	update schema_dictionary data_dictionary test because of new INNODB data_dict tables

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601140355-u3kxl0yl0ljl5tx9 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601140355-u3kxl0yl0ljl5tx9
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3491
	revision-id: marko.makela@oracle.com-20100601134335-ccthwwru23kn09qw
	parent: marko.makela@oracle.com-20100601120751-1uq7bbta5n7ts0qr
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-01 16:43:35 +0300
	message:
	Bug#48197: Concurrent rw_lock_free may cause assertion failure
	
	rw_lock_t: Remove magic_n unless UNIV_DEBUG is defined.
	rw_lock_free(): Invalidate magic_n only after removing from rw_lock_list.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601120933-r8fnhig5m5qnnohz from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601120933-r8fnhig5m5qnnohz
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3490
	revision-id: marko.makela@oracle.com-20100601120751-1uq7bbta5n7ts0qr
	parent: marko.makela@oracle.com-20100601120521-q48hk05ne4j1s2o0
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-01 15:07:51 +0300
	message:
	Minor cleanup.
	
	lock_rec_unlock(): Cache first_lock and rewrite while() loops as for().
	
	btr_cur_optimistic_update(): Use common error handling return.
	
	row_create_prebuilt(): Add Valgrind instrumentation.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601120501-rw667o3up7hh750p from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601120501-rw667o3up7hh750p
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3488
	revision-id: marko.makela@oracle.com-20100601103738-upm8awahesmeh9dr
	parent: vasil.dimov@oracle.com-20100531163540-9fu3prbn2asqwdi5
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-06-01 13:37:38 +0300
	message:
	Bug#53812: assert row/row0umod.c line 660 in txn rollback after crash recovery
	row_undo_mod_upd_exist_sec(): Tolerate a failure to build the index entry
	for a DYNAMIC or COMPRESSED table during crash recovery.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601115622-9wa4r31b2lsu17ti from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601115622-9wa4r31b2lsu17ti
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3478.1.3
	revision-id: marko.makela@oracle.com-20100525123748-pmpehbg29oyhc1ns
	parent: marko.makela@oracle.com-20100524114349-5kaw52sz0yh4szkb
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-25 15:37:48 +0300
	message:
	Suppress bogus Valgrind warnings about buf_buddy_relocate()
	accessing uninitialized memory in Valgrind-instrumented builds.

2010-11-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601114015-n30uofphhbi71z1v from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601114015-n30uofphhbi71z1v
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3478.1.4
	revision-id: marko.makela@oracle.com-20100525125352-hgafpmqhrrj7pv5i
	parent: marko.makela@oracle.com-20100525123748-pmpehbg29oyhc1ns
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-25 15:53:52 +0300
	message:
	row_search_for_mysql(): Add assertions to track down Bug #53627.

2010-11-16  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100531152341-x2d4hma644icamh1 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100531152341-x2d4hma644icamh1
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug #53947 InnoDB: Assertion failure in thread 4224 in file .\sync\sync0sync.c line 324
	
	Destroy the rw-lock object before freeing the memory it is occupying.
	If we do not do this, then the mutex that is contained in the rw-lock
	object btr_search_latch_temp->mutex gets "freed" and subsequently
	mutex_free() from sync_close() hits a mutex whose memory has been
	freed and crashes.
	
	Approved by:	Heikki (via IRC)
	Discussed with:	Calvin

2010-11-16  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100531105923-kpjwl4rbgfpfj13c from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100531105923-kpjwl4rbgfpfj13c
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix coding style

2010-11-16  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100527165339-mgo505v2aby6joe9 from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100527165339-mgo505v2aby6joe9
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Fix the printout for long semaphore waits to not
	list a thread doing a wait_ex as an s-lock waiter.

2010-11-16  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100527173008-6hcc1ruke4uophsc from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100527173008-6hcc1ruke4uophsc
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add two debug assertions and a comment to make it clear that
	consecutive_ios[0] cannot be NULL when slot is assigned.

2010-11-16  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100527111554-713nh2ja2xgd24zc from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100527111554-713nh2ja2xgd24zc
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix an assertion failure with UNIV_DEBUG is set. Initialize a
	dict_index_t structure to NULL in dict_load_index(), we could
	enter SYS_INDEXES and got table id value comparision failure
	for system tables such as SYS_TABLES. In addition, remove
	dict_sys mutex assertion when fill I_S table, as we no longer
	hold mutex accross the fill operation.
	
	rb://367 approved by Marko.

2010-11-16  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100527055103-4sxia6wsyaj1apbn from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100527055103-4sxia6wsyaj1apbn
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix a compiler warning introduced in
	jimmy.yang@oracle.com-20100526014433-bx0t9794mnvkiaft

2010-11-16  Stewart Smith  <stewart@flamingspork.com>

	update information_schema test result due to added INNODB system tables

2010-11-16  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100526014433-bx0t9794mnvkiaft from MySQL InnoDB
	
	For Drizzle, this means we re-implement all the I_S views as table functions. 
	
	Original revid:jimmy.yang@oracle.com-20100526014433-bx0t9794mnvkiaft
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Check in the support for Information Schema System Table Views. Users
	can now view the content of InnoDB System Tables through following
	information schema tables:
	
	information_schema.INNODB_SYS_TABLES
	information_schema.INNODB_SYS_INDEXES
	information_schema.INNODB_SYS_COUMNS
	information_schema.INNODB_SYS_FIELDS
	information_schema.INNODB_SYS_FOREIGN
	information_schema.INNODB_SYS_FOREIGN_COLS
	information_schema.INNODB_SYS_TABLESTATS
	
	rb://330 Approved by Marko

2010-11-15  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100524114524-gih3txff2p9rz4rs from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100524114524-gih3txff2p9rz4rs
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3479
	revision-id: marko.makela@oracle.com-20100524110439-fazi70rlmt07tzd9
	parent: vasil.dimov@oracle.com-20100520133157-42uk5q3pp0vsinac
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-05-24 14:04:39 +0300
	message:
	Bug#53578: assert on invalid page access, in fil_io()
	
	Store the max_space_id in the data dictionary header in order to avoid
	space_id reuse.
	
	DICT_HDR_MIX_ID: Renamed to DICT_HDR_MAX_SPACE_ID, DICT_HDR_MIX_ID_LOW.
	
	dict_hdr_get_new_id(): Return table_id, index_id, space_id or a subset of them.
	
	fil_system_t: Add ibool space_id_reuse_warned.
	
	fil_create_new_single_table_tablespace(): Get the space_id from the caller.
	
	fil_space_create(): Issue a warning if the fil_system->max_assigned_id
	is exceeded.
	
	fil_assign_new_space_id(): Return TRUE/FALSE and take a pointer to the
	space_id as a parameter. Make the function public.
	
	fil_init(): Initialize all fil_system fields by mem_zalloc(). Remove
	explicit initializations of certain fields to 0 or NULL.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100523201131-to9c5bn0a599jyce from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100523201131-to9c5bn0a599jyce
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix function decoration in Performance Schema code

2010-11-11  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20100521213009-y35aa7ewi8si3siz from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20100521213009-y35aa7ewi8si3siz
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	mysql-trunk-innodb: fix compile errors on Windows with UNIV_DEBUG defined.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100521180951-mef23h24k023xuwq from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100521180951-mef23h24k023xuwq
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Use the correct len instead of sizeof(void) in posix_fadvise()
	
	Also explain in the comment the units of the "offset" parameter

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100521175647-2oh2c1y4uoymijrh from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100521175647-2oh2c1y4uoymijrh
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Move os_file_write() before posix_fadvise(POSIX_FADV_DONTNEED).
	
	It is wrong to tell the OS that a block is not going to be accessed and
	write to it immediately afterwards.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100521175337-c1b1lqxgizqegb0w from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100521175337-c1b1lqxgizqegb0w
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix comment on row_merge_write()

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100520131632-qvwrzeun5jbhv24d from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100520131632-qvwrzeun5jbhv24d
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3475
	revision-id: marko.makela@oracle.com-20100520130734-ueow9mn60czp7o4m
	parent: marko.makela@oracle.com-20100520104042-ma2nsscqdvwoph8k
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Thu 2010-05-20 16:07:34 +0300
	message:
	buf_LRU_free_block(): Correct an error in the comment.

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100520114306-oz8mce7y8m7y6p1g from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100520114306-oz8mce7y8m7y6p1g
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	TO DO: Enable this in CMake-based builds.
	
	------------------------------------------------------------
	revno: 3474
	revision-id: marko.makela@oracle.com-20100520104042-ma2nsscqdvwoph8k
	parent: marko.makela@oracle.com-20100519081618-h38q02qxuvcowbtk
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Thu 2010-05-20 13:40:42 +0300
	message:
	Bug#53593: Add some instrumentation to improve Valgrind sensitivity
	
	BUILD/*: Add valgrind_configs=--with-valgrind.
	BUILD/*: Remove -USAFEMALLOC from valgrind_flags.
	
	configure.in: Add AC_ARG_WITH(valgrind) and HAVE_VALGRIND.
	
	include/my_sys.h: Define a number of MEM_ wrappers for VALGRIND_ functions.
	include/my_sys.h: Make TRASH do MEM_UNDEFINED().
	
	include/m_string.h: Remove unused macro bzero_if_purify(A,B).
	
	_mymalloc(): Declare MEM_UNDEFINED() on the allocated memory.
	
	_myfree(): Declare MEM_NOACCESS() on the freed memory.
	
	storage/innobase/include/univ.i: Enable UNIV_DEBUG_VALGRIND based on
	HAVE_VALGRIND rather than HAVE_purify.
	
	Possible things to do:
	* In my_global.h, remove the defined(HAVE_purify) condition
	from the _WIN32 uint3korr().
	* In my_global.h *int*korr(), use | instead of +
	in order to keep the Valgrind V bits accurate
	* Consider replacing HAVE_purify with HAVE_VALGRIND
	* Use VALGRIND_CREATE_BLOCK, VALGRIND_DISCARD in mem_root and similar places

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100519093721-tjpgfv9in6fkhtst from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100519093721-tjpgfv9in6fkhtst
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3472
	revision-id: marko.makela@oracle.com-20100519080743-5myf1g7v6pfysidt
	parent: marko.makela@oracle.com-20100519080152-h3555oqmu3wo95so
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-19 11:07:43 +0300
	message:
	Make UNIV_DEBUG Valgrind friendly. Use | instead of +,
	and mask out the dont-care bits in debug assertions.

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100519093627-nasfm1bo837lyrkm from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100519093627-nasfm1bo837lyrkm
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a change from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3471
	revision-id: marko.makela@oracle.com-20100519080152-h3555oqmu3wo95so
	parent: marko.makela@oracle.com-20100519075843-4gl3uijo6cwjtcf9
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-19 11:01:52 +0300
	message:
	Silence some more bogus Valgrind warnings on non-32-bit systems. (Bug #53307)

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100519101927-2mq6xfohtsmeylx1 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100519101927-2mq6xfohtsmeylx1
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix a bug reported by PushBuild on OSX 10.6.3. It turned out to be a compiler
	bug. The code has been changed to work around it. To reprocude the bug simply
	revert this change and build the binary with:
	
	GCC Using built-in specs.
	Target: i686-apple-darwin10
	Configured with: /var/tmp/gcc/gcc-5659~1/src/configure --disable-checking --enable-werror --prefix=/usr --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin10 --program-prefix=i686-apple-darwin10- --host=x86_64-apple-darwin10 --target=i686-apple-darwin10 --with-gxx-include-dir=/include/c++/4.2.1
	Thread model: posix
	gcc version 4.2.1 (Apple Inc. build 5659)
	
	export LDFLAGS='-g -arch i386'
	export CFLAGS='-g -no-cpp-precomp -arch i386 -O2'
	export CXXFLAGS='-g -no-cpp-precomp -arch i386 -O2'
	
	./configure --enable-thread-safe-client --enable-local-infile --with-pic --with-client-ldflags=-static --with-mysqld-ldflags=-static --with-zlib-dir=bundled --without-ndb-debug --with-big-tables --with-ssl --with-readline --with-embedded-server --with-archive-storage-engine --with-blackhole-storage-engine --with-csv-storage-engine --with-example-storage-engine --with-federated-storage-engine --with-partition --with-extra-charsets=all --with-innodb --with-ndbcluster --with-libevent --target=i386-apple-darwin --program-transform-name=
	
	Approved by Marko on IM.

2010-11-11  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100518165302-ovf5fqn6a0u212rc from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100518165302-ovf5fqn6a0u212rc
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Initialize block->is_hashed to avoid valgrind warning.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100518135254-pb5whzztc5vphjd4 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100518135254-pb5whzztc5vphjd4
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add more valgrind checks for initialized memory.
	
	Author:	Marko

2010-11-11  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100517085742-kx3nqxrjbyxk5tkk from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100517085742-kx3nqxrjbyxk5tkk
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #52546, crash on shutdown of plugin with innodb_use_sys_malloc=0.
	
	rb://339, approved by Sunny Bains.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100517063206-nr3y1zsm1piv6cx1 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100517063206-nr3y1zsm1piv6cx1
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Silence a spurious valrgind warning:
	
	==2229== Uninitialised byte(s) found during client check request
	==2229==    at 0x9A599D: buf_page_get_gen (buf0buf.c:3003)
	==2229==    by 0x9D58CD: fsp_header_init (fsp0fsp.c:974)
	==2229==    by 0x95BEAE: innobase_start_or_create_for_mysql (srv0start.c:1537)
	==2229==    by 0x91DDBB: innobase_init(void*) (ha_innodb.cc:2409)
	==2229==    by 0x73AF1F: ha_initialize_handlerton(st_plugin_int*) (handler.cc:475)
	==2229==    by 0x5DBAE3: plugin_initialize(st_plugin_int*) (sql_plugin.cc:1057)
	==2229==    by 0x5DD185: plugin_init(int*, char**, int) (sql_plugin.cc:1343)
	==2229==    by 0x53830A: init_server_components() (mysqld.cc:4141)
	==2229==    by 0x539048: mysqld_main(int, char**) (mysqld.cc:4742)
	==2229==    by 0x52D412: main (main.cc:24)
	==2229==  Address 0x998B00C is not stack'd, malloc'd or (recently) free'd
	==2229== (Memcheck does not allow error to be suppressed)
	
	Approved by:	Marko (rb://345)

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix innodb_cmp test to be deterministic

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix innodb test innodb_bug53591 for drizzle

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	remove test innodb_bug52745: doesn't apply to Drizzle as we don't allow invalid data

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix test innodB_bug49164 for Drizzle

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100514133144-fe0l0b89tea4x4uu from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100514133144-fe0l0b89tea4x4uu
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	Post-merge fixes: Remove the MYSQL_VERSION_ID checks, because they only
	apply to the InnoDB Plugin. Fix potential race condition accessing
	trx->op_info and trx->detailed_error.
	------------------------------------------------------------
	revno: 3466
	revision-id: marko.makela@oracle.com-20100514130815-ym7j7cfu88ro6km4
	parent: marko.makela@oracle.com-20100514130228-n3n42nw7ht78k0wn
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb2
	timestamp: Fri 2010-05-14 16:08:15 +0300
	message:
	Make the InnoDB FOREIGN KEY parser understand multi-statements. (Bug #48024)
	Also make InnoDB thinks that /*/ only starts a comment. (Bug #53644).
	
	This fixes the bugs in the InnoDB Plugin.
	
	ha_innodb.h: Use trx_query_string() instead of trx_query() when
	available (MySQL 5.1.42 or later).
	
	innobase_get_stmt(): New function, to retrieve the currently running
	SQL statement.
	
	struct trx_struct: Remove mysql_query_str. Use innobase_get_stmt() instead.
	
	dict_strip_comments(): Add and observe the parameter sql_length. Treat
	/*/ as the start of a comment.
	
	dict_create_foreign_constraints(), row_table_add_foreign_constraints():
	Add the parameter sql_length.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100514133832-unwj9x313jfvn5ev from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100514133832-unwj9x313jfvn5ev
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add a debug assertion to make it clear that we expect
	to own the kernel mutex in fill_trx_row().

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100512205843-8e85wyl5ya3egxuo from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100512205843-8e85wyl5ya3egxuo
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Cover the srv_suspend_thread() call by the kernel mutex. This change was
	forgotten when I reverted the kernel mutex split patch.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100513074652-0cvlhgkesgbb2bfh from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100513074652-0cvlhgkesgbb2bfh
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Followup to Bug#51920, fix binlog.binlog_killed
	
	This is a followup to the fix of
	
	Bug#51920 Innodb connections in row lock wait ignore KILL until lock wait
	timeout
	
	in that fix (rb://279) the behavior was changed to honor when a trx is
	interrupted during lock wait, but the returned error code was still
	"lock wait timeout" when it should be "interrupted".
	
	This change fixes the non-deterministically failing test binlog.binlog_killed,
	that failed like this:
	
	binlog.binlog_killed 'stmt'              [ fail ]
	Test ended at 2010-05-12 11:39:08
	
	CURRENT_TEST: binlog.binlog_killed
	mysqltest: At line 208: query 'reap' failed with wrong errno 1205: 'Lock wait timeout exceeded; try restarting transaction', instead of 0...
	
	Approved by:	Sunny Bains (rb://344)

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100512173700-byf8xntxjur1hqov from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100512173700-byf8xntxjur1hqov
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix whitespace breakage introduced in
	jimmy.yang@oracle.com-20100512153945-zg3suquj1ps6xn5z

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix EXPLAIN test result for innodb_mysql test

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	update innodb_trx test for added columns

2010-11-11  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100512153945-zg3suquj1ps6xn5z from MySQL InnoDB
	
	Also include Stewart's fix to our CMPMEM table due to multi buffer pool patch
	
	Original revid:jimmy.yang@oracle.com-20100512153945-zg3suquj1ps6xn5z
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Check in patch for bug #53336, Improved InnoDB Transaction Reporting.
	
	rb://335, Approved by Sunny Bains

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512111926-jaz947yfip1exxix from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512111926-jaz947yfip1exxix
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3462
	revision-id: marko.makela@oracle.com-20100512104212-e2h9n1obxjb8tfg4
	parent: marko.makela@oracle.com-20100512060922-oh716ugpukfakwvh
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-05-12 13:42:12 +0300
	message:
	ha_innobase::add_index(): Reset trx->error_state in error handling.
	(Bug #53591)

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	build fixes due to Drizzle having stricter compile flags to innobase

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512062146-mkmcuocfya2ccpmz from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512062146-mkmcuocfya2ccpmz
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3460
	revision-id: marko.makela@oracle.com-20100512053925-ovwmpo0838fs2roo
	parent: marko.makela@oracle.com-20100511165845-lsw7seixftgzpfqt
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-05-12 08:39:25 +0300
	message:
	row_merge_drop_temp_indexes(): Do not reference freed memory.
	(Bug #53471)

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100512023359-1kycbqgcpp3zolfx from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100512023359-1kycbqgcpp3zolfx
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Remove UNIV_DEBUG and UNIV_SYNC_DEBUG from univ.i. Left over from testing
	the revert of kernel mutex split patch.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100512022026-52bimkncuus4evgf from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100512022026-52bimkncuus4evgf
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Remove references to srv0que.h.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100512011810-oevtsyyudf6wusbi from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100512011810-oevtsyyudf6wusbi
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Revert the kernel mutex split phase I patch. Some artefacts have been left
	in the code but they have nothing to do with the kernel mutex split code.
	Some subsequent commits use the new functions. This patch has been tested
	with: ./mtr --suite=innodb with UNIV_DEBUG and UNIV_SYNC_DEBUG enabled.
	All tests were successful.

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511161828-9reevde6i3sjlwuc from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511161828-9reevde6i3sjlwuc
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3459
	revision-id: marko.makela@oracle.com-20100511105308-grp2t3prh3tqivw0
	parent: marko.makela@oracle.com-20100511105012-b2t7wvz6mu6bll74
	parent: marko.makela@oracle.com-20100505123901-xjxu93h1xnbkfkq0
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Tue 2010-05-11 13:53:08 +0300
	message:
	Merge a patch from Facebook to fix Bug #53290
	
	commit e759bc64eb5c5eed4f75677ad67246797d486460
	Author: Ryan Mack
	Date:   3 days ago
	
	Bugfix for 53290, fast unique index creation fails on duplicate null values
	
	Summary:
	Bug in the fast index creation code incorrectly considers null
	values to be duplicates during block merging.  Innodb policy is that
	multiple null values are allowed in a unique index.  Null duplicates
	were correctly ignored while sorting individual blocks and with slow
	index creation.
	
	Test Plan:
	mtr, including new test, load dbs using deferred index creation
	
	License:
	Copyright (C) 2009-2010 Facebook, Inc.  All Rights Reserved.
	
	Dual licensed under BSD license and GPLv2.
	
	Redistribution and use in source and binary forms, with or without
	modification, are permitted provided that the following conditions are met:
	1. Redistributions of source code must retain the above copyright notice,
	this list of conditions and the following disclaimer.
	2. Redistributions in binary form must reproduce the above copyright notice,
	this list of conditions and the following disclaimer in the documentation
	and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY FACEBOOK, INC. ``AS IS'' AND ANY EXPRESS OR
	IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
	MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO
	EVENT SHALL FACEBOOK, INC. BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
	SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
	PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
	OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
	WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
	OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
	ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	
	This program is free software; you can redistribute it and/or modify it
	under the terms of the GNU General Public License as published by the Free
	Software Foundation; version 2 of the License.
	
	This program is distributed in the hope that it will be useful, but WITHOUT
	ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
	FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
	more details.
	
	You should have received a copy of the GNU General Public License along with
	this program; if not, write to the Free Software Foundation, Inc., 59 Temple
	Place, Suite 330, Boston, MA  02111-1307  USA
	------------------------------------------------------------
	revno: 3453.2.1
	revision-id: marko.makela@oracle.com-20100505123901-xjxu93h1xnbkfkq0
	parent: marko.makela@oracle.com-20100505120555-ukoq1gklpheslrxs
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-05 15:39:01 +0300
	message:
	Merge a contribution from Ryan Mack at Facebook:
	
	Bugfix for 53290, fast unique index creation fails on duplicate null values
	
	Summary:
	Bug in the fast index creation code incorrectly considers null
	values to be duplicates during block merging.  Innodb policy is that
	multiple null values are allowed in a unique index.  Null duplicates
	were correctly ignored while sorting individual blocks and with slow
	index creation.
	
	Test Plan:
	mtr, including new test, load dbs using deferred index creation
	
	DiffCamp Revision: 110840
	Reviewed By: mcallaghan
	CC: mcallaghan, mysql-devel@lists
	Revert Plan:
	OK

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511154617-4ipeglopbpdiwzy0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511154617-4ipeglopbpdiwzy0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3458
	revision-id: marko.makela@oracle.com-20100511105012-b2t7wvz6mu6bll74
	parent: marko.makela@oracle.com-20100511104910-nim8kgguawpis7zo
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Tue 2010-05-11 13:50:12 +0300
	message:
	Do not demand that buf_page_t be fully initialized on 64-bit systems.
	There may be padding before buf_page_t::zip. (Bug #53307)

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511154244-7p4t8o3y5n3lhqiz from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511154244-7p4t8o3y5n3lhqiz
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3457
	revision-id: marko.makela@oracle.com-20100511104910-nim8kgguawpis7zo
	parent: marko.makela@oracle.com-20100511104500-c6kzd0bg5s42p8e9
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Tue 2010-05-11 13:49:10 +0300
	message:
	btr_page_split_and_insert(): Add an assertion
	suggested by Sunny Bains when reviewing Bug #52964.

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511153919-hjw6khgh4my3fio0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511153919-hjw6khgh4my3fio0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3456
	revision-id: marko.makela@oracle.com-20100511104500-c6kzd0bg5s42p8e9
	parent: vasil.dimov@oracle.com-20100510132852-cz457uqvj8iiy9mm
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: mysql-5.1-innodb2
	timestamp: Tue 2010-05-11 13:45:00 +0300
	message:
	Remove a stray expression. Spotted by Sunny Bains.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100511035547-3dg52goh0w3xoasc from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100511035547-3dg52goh0w3xoasc
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Add missing ';'.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100511030324-lh8ljn1oau4wdrpi from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100511030324-lh8ljn1oau4wdrpi
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix for bug#53541. We need to check whether the slot has been freed or not
	before trying to access the transaction instance.
	
	rb://336

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100511025711-ur7bbef75eh9bsk6 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100511025711-ur7bbef75eh9bsk6
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Second part of the fix for bug#53499. We decrement the active thread count
	when the purge thread completes by calling srv_suspend_thread().

2010-11-11  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100510131445-m2z6h2m6synypunn from MySQL InnoDB
	
	Original revid:mmakela@bk-internal.mysql.com-20100510131445-m2z6h2m6synypunn
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	------------------------------------------------------------
	revno: 3454
	committer: Marko Makela <mmakela@bk-internal.mysql.com>
	branch nick: mysql-5.1-innodb
	timestamp: Mon 2010-05-10 13:37:52 +0200
	message:
	Add an innodb test case for Bug #49164.

2010-11-11  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100510123414-6htdu5jr2h1mtn3b from MySQL InnoDB
	
	Original revid:mmakela@bk-internal.mysql.com-20100510123414-6htdu5jr2h1mtn3b
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3450
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-05 14:24:11 +0300
	message:
	row_merge_drop_temp_indexes(): Load the table via the dictionary cache.
	Allow multiple indexes to be dropped. (Bug #53256)

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100510031717-vw5a99w2v7rot6f9 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100510031717-vw5a99w2v7rot6f9
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug#53499 - purge thread is active during shutdown, assert buf/buf0buf.c line 4115.
	
	Check that all background threads are suspended or shutdown instead of just
	checking for the master thread.
	rb://333

2010-11-11  Calvin Sun  <calvin.sun@oracle.com>

	Merge Revision revid:calvin.sun@oracle.com-20100507214030-cap6783iuooqrxkx from MySQL InnoDB
	
	Original revid:calvin.sun@oracle.com-20100507214030-cap6783iuooqrxkx
	
	Original Authors: Calvin Sun <calvin.sun@oracle.com>
	Original commit message:
	Fix compile errors on x64 Windows.
	Change types of srv_purge_batch_size and srv_n_purge_threads
	from ulint to ulong.

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	update defalut value innodb.change-buffering

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505101406-u4low2x26q6itck0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505101406-u4low2x26q6itck0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3446
	revision-id: marko.makela@oracle.com-20100505100507-6kcd2hf32hruxbv7
	parent: marko.makela@oracle.com-20100505095328-vetnl0flhmhao7p5
	committer: Marko Mäkelä <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-05 13:05:07 +0300
	message:
	Add Valgrind diagnostics to track down Bug #38999.
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100505101358-jj67fx4z35kycasi from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100505101358-jj67fx4z35kycasi
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix path to include file in innodb_bug52745.test

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504135709-j4vbpx8o4asagm0u from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504135709-j4vbpx8o4asagm0u
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3441
	revision-id: marko.makela@oracle.com-20100504130917-qmvzbj3pgil2nuat
	parent: marko.makela@oracle.com-20100504125510-gemcfhj7mefrhalo
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-04 16:09:17 +0300
	message:
	fsp_init_file_page_low(): Zero out the page. (Bug #53306)
	modified:
	storage/innodb_plugin/fsp/fsp0fsp.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffsp%2Ffsp0fsp.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504135008-logeqhlpxram7opm from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504135008-logeqhlpxram7opm
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3439
	revision-id: marko.makela@oracle.com-20100504124744-c1ivf5tm90nv7lc1
	parent: marko.makela@oracle.com-20100504105546-4ew7a77e9uhxmhho
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-04 15:47:44 +0300
	message:
	Add Valgrind checks to catch uninitialized writes to data files.
	buf_flush_insert_into_flush_list(),
	buf_flush_insert_sorted_into_flush_list(),
	buf_flush_post_to_doublewrite_buf(): Check that the page is initialized.
	modified:
	storage/innodb_plugin/buf/buf0flu.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0flu.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504134747-3ad6xxv0z8zmm5j9 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504134747-3ad6xxv0z8zmm5j9
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3438
	revision-id: marko.makela@oracle.com-20100504105546-4ew7a77e9uhxmhho
	parent: marko.makela@oracle.com-20100504093128-44v6glupe1dsh0ug
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-04 13:55:46 +0300
	message:
	Remove UNIV_BTR_AVOID_COPY. It was broken because btr_attach_half_pages()
	would get the block, new_block in the wrong order.
	Fixing that would have complicated the function even further
	for this marginal case.
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/btr/btr0btr.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	storage/innodb_plugin/include/univ.i 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504134544-l42haggcwaytwswa from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504134544-l42haggcwaytwswa
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3437
	revision-id: marko.makela@oracle.com-20100504093128-44v6glupe1dsh0ug
	parent: marko.makela@oracle.com-20100503122859-k73bl51re93o0mt4
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-05-04 12:31:28 +0300
	message:
	btr_page_split_and_insert(): Correct the fix of Bug #52964.
	When split_rec==NULL, choose the correct node pointer key (first_rec).
	modified:
	storage/innodb_plugin/btr/btr0btr.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	------------------------------------------------------------

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix mutex create (missing parameter due to this performance_schema stuff

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504105843-2z9fw3x17id69vb8 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504105843-2z9fw3x17id69vb8
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3436
	revision-id: marko.makela@oracle.com-20100503122859-k73bl51re93o0mt4
	parent: vasil.dimov@oracle.com-20100430100236-9ncldjxpi14ec7el
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-05-03 15:28:59 +0300
	message:
	buf_zip_decompress(): Allow BUF_NO_CHECKSUM_MAGIC as the stamped checksum.
	buf_page_get_gen(): Assert that buf_zip_decompress() succeeds.
	Callers are not prepared for a NULL return value. (Bug #53248)
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/buf/buf0buf.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504105413-g3d1l1nlysxbtdvo from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504105413-g3d1l1nlysxbtdvo
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3433
	revision-id: mmakela@bk-internal.mysql.com-20100429133750-7ggyepb4erfg8eqe
	parent: mmakela@bk-internal.mysql.com-20100429132945-l4gm15tsmkjm24kv
	committer: Marko Makela <mmakela@bk-internal.mysql.com>
	branch nick: mysql-5.1-innodb
	timestamp: Thu 2010-04-29 15:37:50 +0200
	message:
	recv_sys_init(), recv_sys_empty_hash(): Shrink recv_sys->addr_hash.
	recv_addr_t: Turn space,page_no into bitfields to save space on 64-bit.
	This addresses Bug #53122 in the InnoDB Plugin.
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/include/log0recv.h 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0recv.h
	storage/innodb_plugin/log/log0recv.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504105214-ljj5sy3bk21zl7og from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504105214-ljj5sy3bk21zl7og
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3431
	revision-id: mmakela@bk-internal.mysql.com-20100429132743-8rjjgoqbvddr2i5x
	parent: vasil.dimov@oracle.com-20100428103452-6btsq4xv6v1etb5b
	committer: Marko Makela <mmakela@bk-internal.mysql.com>
	branch nick: mysql-5.1-innodb
	timestamp: Thu 2010-04-29 15:27:43 +0200
	message:
	Reduce the next-key locking of READ UNCOMMITTED to match that of
	READ COMMITTED in the InnoDB Plugin. (Bug #48607)
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	storage/innodb_plugin/lock/lock0lock.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	storage/innodb_plugin/row/row0mysql.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	storage/innodb_plugin/row/row0sel.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0sel.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504104629-0ovtc5lae2ghn7he from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504104629-0ovtc5lae2ghn7he
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3430
	revision-id: vasil.dimov@oracle.com-20100428103452-6btsq4xv6v1etb5b
	parent: vasil.dimov@oracle.com-20100428103200-vs5nzx245sv2qy7n
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:34:52 +0300
	message:
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Followup to vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr :
	
	Add more asserions, which I forgot.
	modified:
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	------------------------------------------------------------
	revno: 3429
	revision-id: vasil.dimov@oracle.com-20100428103200-vs5nzx245sv2qy7n
	parent: vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:32:00 +0300
	message:
	Revert the fix of Bug#38996 Race condition in ANALYZE TABLE
	
	This is branches/zip@r6032 in SVN and _is part_ of
	revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6113
	in BZR.
	
	This is being reverted because now the code is serialized directly on
	index->stat_n_diff_key_vals[] as the fix for
	Bug#53046 dict_update_statistics_low can still be run concurrently on same table
	goes.
	modified:
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	------------------------------------------------------------
	revno: 3428
	revision-id: vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr
	parent: vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:20:33 +0300
	message:
	Followup to vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7:
	
	Address Marko's suggestions wrt the fix of
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	modified:
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	------------------------------------------------------------
	revno: 3427
	revision-id: vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7
	parent: mmakela@bk-internal.mysql.com-20100428063325-irts4ze9et5bsqdq
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 11:46:27 +0300
	message:
	Fix Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Protect dict_index_t::stat_n_diff_key_vals[] with an array of
	mutexes.
	
	Testing: tested all code paths under UNIV_SYNC_DEBUG
	for the one in dict_print() one has to enable the InnoDB table monitor:
	CREATE TABLE innodb_table_monitor (a int) ENGINE=INNODB;
	modified:
	storage/innodb_plugin/btr/btr0cur.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0cur.c
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	storage/innodb_plugin/include/dict0dict.h 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0dict.h
	------------------------------------------------------------
	
	stewart@willster:~/drizzle/update-innobase$ cat commit_msg 
	bzr commit --author="Vasil Dimov <vasil.dimov@oracle.com>" --author="Stewart Smith <stewart@flamingspork.com>" 
	
	Merge Revision revid:vasil.dimov@oracle.com-20100504104629-0ovtc5lae2ghn7he from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504104629-0ovtc5lae2ghn7he
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3430
	revision-id: vasil.dimov@oracle.com-20100428103452-6btsq4xv6v1etb5b
	parent: vasil.dimov@oracle.com-20100428103200-vs5nzx245sv2qy7n
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:34:52 +0300
	message:
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Followup to vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr :
	
	Add more asserions, which I forgot.
	modified:
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	------------------------------------------------------------
	revno: 3429
	revision-id: vasil.dimov@oracle.com-20100428103200-vs5nzx245sv2qy7n
	parent: vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:32:00 +0300
	message:
	Revert the fix of Bug#38996 Race condition in ANALYZE TABLE
	
	This is branches/zip@r6032 in SVN and _is part_ of
	revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6113
	in BZR.
	
	This is being reverted because now the code is serialized directly on
	index->stat_n_diff_key_vals[] as the fix for
	Bug#53046 dict_update_statistics_low can still be run concurrently on same table
	goes.
	modified:
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	------------------------------------------------------------
	revno: 3428
	revision-id: vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr
	parent: vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 13:20:33 +0300
	message:
	Followup to vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7:
	
	Address Marko's suggestions wrt the fix of
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	modified:
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	------------------------------------------------------------
	revno: 3427
	revision-id: vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7
	parent: mmakela@bk-internal.mysql.com-20100428063325-irts4ze9et5bsqdq
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-5.1-innodb
	timestamp: Wed 2010-04-28 11:46:27 +0300
	message:
	Fix Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Protect dict_index_t::stat_n_diff_key_vals[] with an array of
	mutexes.
	
	Testing: tested all code paths under UNIV_SYNC_DEBUG
	for the one in dict_print() one has to enable the InnoDB table monitor:
	CREATE TABLE innodb_table_monitor (a int) ENGINE=INNODB;
	modified:
	storage/innodb_plugin/btr/btr0cur.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0cur.c
	storage/innodb_plugin/dict/dict0dict.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	storage/innodb_plugin/include/dict0dict.h 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0dict.h
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504102133-7vblclsnrvntooyf from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504102133-7vblclsnrvntooyf
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3422
	revision-id: marko.makela@oracle.com-20100427134738-1poi5n4hn29ndne5
	parent: marko.makela@oracle.com-20100426131029-1ffja69h6n88q6bo
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-04-27 16:47:38 +0300
	message:
	row_merge_drop_temp_indexes(): Remove a bogus char-to-ulint cast.
	modified:
	storage/innodb_plugin/row/row0merge.c 1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504101937-6zf92hovzgialaqb from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504101937-6zf92hovzgialaqb
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3421
	revision-id: marko.makela@oracle.com-20100426131029-1ffja69h6n88q6bo
	parent: marko.makela@oracle.com-20100426112609-f7lgl8crw4x4sfkk
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-26 16:10:29 +0300
	message:
	lock_rec_queue_validate(): Disable a bogus check that
	a transaction that holds a lock on a clustered index record
	also holds a lock on the secondary index record.
	modified:
	storage/innobase/lock/lock0lock.c 2@cee13dc7-1704-0410-992b-c9b4543f1246:trunk%2Flock%2Flock0lock.c
	storage/innodb_plugin/lock/lock0lock.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504101726-a931qnj02bc4stex from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504101726-a931qnj02bc4stex
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3420
	revision-id: marko.makela@oracle.com-20100426112609-f7lgl8crw4x4sfkk
	parent: marko.makela@oracle.com-20100426110856-14tc8re1f5kp5j3g
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-26 14:26:09 +0300
	message:
	recv_sys_init(): Skip the red-black tree in Hot Backup.
	modified:
	storage/innodb_plugin/log/log0recv.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504101546-bauc2r1imt8wi8ah from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504101546-bauc2r1imt8wi8ah
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3419
	revision-id: marko.makela@oracle.com-20100426110856-14tc8re1f5kp5j3g
	parent: marko.makela@oracle.com-20100426105215-2e9nzq8z0nfwxjky
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-26 14:08:56 +0300
	message:
	Add a test case for Bug #52745.
	added:
	mysql-test/suite/innodb_plugin/r/innodb_bug52745.result innodb_bug52745.resu-20100426110444-2211220xcgz0el4v-1
	mysql-test/suite/innodb_plugin/t/innodb_bug52745.test innodb_bug52745.test-20100426110444-2211220xcgz0el4v-2
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504095125-bntiicm626cnsvmj from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504095125-bntiicm626cnsvmj
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3417
	revision-id: marko.makela@oracle.com-20100426102725-as2vc44ddykg1786
	parent: marko.makela@oracle.com-20100426073949-txnbqldrl9fdlapx
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-26 13:27:25 +0300
	message:
	row_search_for_mysql(): Never try semi-consistent read in unique searches.
	They are only useful in table scans. (Bug #52663)
	added:
	mysql-test/suite/innodb/r/innodb_bug52663.result innodb_bug52663.resu-20100426102328-fymyevkummgyc3gm-1
	mysql-test/suite/innodb/t/innodb_bug52663-master.opt innodb_bug52663maste-20100426102328-fymyevkummgyc3gm-2
	mysql-test/suite/innodb/t/innodb_bug52663.test innodb_bug52663.test-20100426102328-fymyevkummgyc3gm-3
	mysql-test/suite/innodb_plugin/r/innodb_bug52663.result innodb_bug52663.resu-20100426102328-fymyevkummgyc3gm-4
	mysql-test/suite/innodb_plugin/t/innodb_bug52663.test innodb_bug52663.test-20100426102328-fymyevkummgyc3gm-5
	modified:
	storage/innobase/row/row0sel.c 2@cee13dc7-1704-0410-992b-c9b4543f1246:trunk%2Frow%2Frow0sel.c
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/row/row0sel.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0sel.c
	------------------------------------------------------------

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100504094625-s7bfma803kaczmy8 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100504094625-s7bfma803kaczmy8
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3416
	revision-id: marko.makela@oracle.com-20100426073949-txnbqldrl9fdlapx
	parent: calvin.sun@oracle.com-20100422191614-2atswbilyyxep6rm
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-26 10:39:49 +0300
	message:
	btr_page_split_and_insert(): Silence a compiler warning
	about possibly uninitialized variable insert_left.
	modified:
	storage/innodb_plugin/btr/btr0btr.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	------------------------------------------------------------

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100504000751-ni0gkqrhpfs1exg1 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100504000751-ni0gkqrhpfs1exg1
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Set the slot to NULL when creating a query thread.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100430215414-uifyc22h6bcpzuin from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100430215414-uifyc22h6bcpzuin
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix failing tests.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100430113812-56x04cowg2g5ka3p from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100430113812-56x04cowg2g5ka3p
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Add missing semi-colon.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100430110021-j59l8mzkhxb33z05 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100430110021-j59l8mzkhxb33z05
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix Bug#52983.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100430105456-733h2ir5s9ezm0dx from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100430105456-733h2ir5s9ezm0dx
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix Bug#52983.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100427204747-ztbx98k0n7euxlrt from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100427204747-ztbx98k0n7euxlrt
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug introduced by r3038. When a transaction is rolled back by the
	lock monitor thread, it may have locks that are granted to waited to
	waiting transactions. These waiting transactions will need to be woken
	up but their trx->lock_wait_timeout flag will be FALSE causing the old
	code to break. What we need is a flag that covers the entire lock
	release process not individual transactions. The fix is to move the
	flag out of trx_t and into srv_sys_t.

2010-11-11  Inaam Rana  <inaam.rana@Oracle.Com  <mailto:inaam.rana@Oracle.Com>>

	Merge Revision revid:inaam.rana@oracle.com-20100427032445-64n11p6f80qm9lfe from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100427032445-64n11p6f80qm9lfe
	
	Original Authors: Inaam Rana <inaam.rana@Oracle.Com <mailto:inaam.rana@Oracle.Com>>
	Original commit message:
	buf_flush_list() should return failure if one of the buffer pool
	was skipped because another flush batch was active. This is to
	ensure that the when we return success then it is guaranteed that
	all pages up to the lsn_limit have been flushed to the disk.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100423075209-vqiklw66rncpcq8d from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100423075209-vqiklw66rncpcq8d
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Add a debug assertion for the case where the waiting thread is being woken
	up because of a lock wait timeout.

2010-11-11  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100423051917-0j5k1k544whhugap from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100423051917-0j5k1k544whhugap
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix a race condition introduced by r7004. We need to acquire the srv_sys->mutex
	for all other cases where we release a suspended thread waiting on a lock other
	than those released by the lock wait timer thread.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100422112442-enb8mpw7jla5uvaz from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100422112442-enb8mpw7jla5uvaz
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge r3403..3414 from mysql-5.1-innodb:
	
	------------------------------------------------------------
	revno: 3414
	revision-id: marko.makela@oracle.com-20100422093342-jf9ojlzdqsdebohn
	parent: marko.makela@oracle.com-20100421185359-8qaxoa2yyrpzwdd7
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Thu 2010-04-22 12:33:42 +0300
	message:
	Correct the definition of DICT_SYS_INDEXES_NAME_FIELD.
	When row_merge_drop_temp_indexes() was reworked to drop the indexes
	via the data dictionary cache, the code was broken because it would
	read the index name from the wrong field.
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/dict/dict0boot.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0boot.c
	storage/innodb_plugin/include/dict0boot.h 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0boot.h
	------------------------------------------------------------
	revno: 3413
	revision-id: marko.makela@oracle.com-20100421185359-8qaxoa2yyrpzwdd7
	parent: marko.makela@oracle.com-20100421102723-0i80uezbyu0ekj5d
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 21:53:59 +0300
	message:
	btr_page_split_and_insert(): Avoid an infinite loop. (Bug #52964)
	
	btr_page_tuple_smaller(): New function, refactored from
	btr_page_split_and_insert().
	
	btr_page_get_split_rec(): Renamed from btr_page_get_sure_split_rec().
	Note that a NULL return may mean that the tuple is to be inserted into
	either the lower or upper page, to be determined by btr_page_tuple_smaller().
	
	btr_page_split_and_insert(): When btr_page_get_split_rec() returns NULL,
	invoke btr_page_tuple_smaller() to determine which half-page the tuple
	belongs to.
	
	Reviewed by Sunny Bains
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/btr/btr0btr.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	------------------------------------------------------------
	revno: 3412
	revision-id: marko.makela@oracle.com-20100421102723-0i80uezbyu0ekj5d
	parent: marko.makela@oracle.com-20100421100029-mji6lmdgvuqh96qq
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 13:27:23 +0300
	message:
	dict_create_index_step(): Be strict about DYNAMIC and COMPRESSED tables.
	Bug #50495 is about REDUNDANT and COMPACT tables, after all.
	modified:
	mysql-test/suite/innodb_plugin/r/innodb-zip.result 2252@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-zip.result
	mysql-test/suite/innodb_plugin/t/innodb-zip.test 2252@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-zip.test
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/dict/dict0crea.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0crea.c
	------------------------------------------------------------
	revno: 3411
	revision-id: marko.makela@oracle.com-20100421100029-mji6lmdgvuqh96qq
	parent: marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 13:00:29 +0300
	message:
	ha_innobase::add_index(): Only check for duplicate indexes
	when the data dictionary is locked.
	This fixes a UNIV_DEBUG assertion failure in innodb-index.test.
	modified:
	storage/innodb_plugin/handler/handler0alter.cc 1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	------------------------------------------------------------
	revno: 3410
	revision-id: marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a
	parent: marko.makela@oracle.com-20100421094032-ir4glqk46qvg2ywn
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 12:50:33 +0300
	message:
	dtuple_convert_big_rec(): Store locally any fields whose maximum length
	is less than 256 bytes. (Bug #52745)
	Add related comments and debug assertions to the "offsets"
	functions in rem0rec.c.
	Approved by Sunny Bains
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/data/data0data.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdata%2Fdata0data.c
	storage/innodb_plugin/rem/rem0rec.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frem%2Frem0rec.c
	------------------------------------------------------------
	revno: 3409
	revision-id: marko.makela@oracle.com-20100421094032-ir4glqk46qvg2ywn
	parent: marko.makela@oracle.com-20100421091611-uu46iygmv5sizjru
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 12:40:32 +0300
	message:
	Adjust tests for the Bug #50495 fix.
	modified:
	mysql-test/suite/innodb_plugin/r/innodb-zip.result 2252@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-zip.result
	mysql-test/suite/innodb_plugin/t/innodb-zip.test 2252@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-zip.test
	mysql-test/suite/innodb_plugin/t/innodb_bug36169.test 2418@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug36169.test
	------------------------------------------------------------
	revno: 3408
	revision-id: marko.makela@oracle.com-20100421091611-uu46iygmv5sizjru
	parent: marko.makela@oracle.com-20100421063916-h3gwjea7jzjilyww
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 12:16:11 +0300
	message:
	rec_convert_dtuple_to_rec(): Correct the debug check.
	The "extern" accessor functions return zero or nonzero, not 0 or 1.
	modified:
	storage/innodb_plugin/rem/rem0rec.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frem%2Frem0rec.c
	------------------------------------------------------------
	revno: 3407
	revision-id: marko.makela@oracle.com-20100421063916-h3gwjea7jzjilyww
	parent: marko.makela@oracle.com-20100420201550-cax1xywvlcdshgfg
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-04-21 09:39:16 +0300
	message:
	rec_convert_dtuple_to_rec(): Add a debug check.
	modified:
	storage/innodb_plugin/rem/rem0rec.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frem%2Frem0rec.c
	------------------------------------------------------------
	revno: 3406
	revision-id: marko.makela@oracle.com-20100420201550-cax1xywvlcdshgfg
	parent: marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me
	committer: Marko Makela <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-04-20 23:15:50 +0300
	message:
	btr_cur_optimistic_insert(): Remove unused variable "heap".
	modified:
	storage/innodb_plugin/btr/btr0cur.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0cur.c
	------------------------------------------------------------
	revno: 3405
	revision-id: marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me
	parent: marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb
	committer: Marko Makela <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-04-20 14:42:22 +0300
	message:
	dict_create_index_step(): Invoke dict_index_add_to_cache()
	in strict mode only if innodb_strict_mode is set. (Bug #50495)
	
	trx_is_strict(): New function, for checking innodb_strict_mode.
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/dict/dict0crea.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0crea.c
	storage/innodb_plugin/handler/ha_innodb.cc 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	storage/innodb_plugin/include/trx0trx.h 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0trx.h
	------------------------------------------------------------
	revno: 3404
	revision-id: marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb
	parent: marko.makela@oracle.com-20100419103603-u5pz4qc6hfhx4nua
	committer: Marko M?kel? <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Tue 2010-04-20 11:29:08 +0300
	message:
	Implement UNIV_BTR_AVOID_COPY, an optimization of page splits.
	modified:
	storage/innodb_plugin/ChangeLog 2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	storage/innodb_plugin/btr/btr0btr.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	storage/innodb_plugin/include/univ.i 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	------------------------------------------------------------
	revno: 3403
	revision-id: marko.makela@oracle.com-20100419103603-u5pz4qc6hfhx4nua
	parent: marko.makela@oracle.com-20100419094405-fd3xwadullishv07
	committer: Marko =?ISO-8859-1?Q?M=E4kel=E4?= <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Mon 2010-04-19 13:36:03 +0300
	message:
	Enable UNIV_DEBUG_VALGRIND when HAVE_purify is set.
	modified:
	storage/innobase/include/univ.i 2@cee13dc7-1704-0410-992b-c9b4543f1246:trunk%2Finclude%2Funiv.i
	storage/innodb_plugin/include/univ.i 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	Merge initial InnoDB+ import.
	
	This was applied by generating a patch between MySQL 5.1.50 InnoDB plugin and
	the just-merged innodb+ from mysql-trunk revision-id: vasil.dimov@oracle.com-20100422110752-1zowoqxel5xx3z2e
	
	Then, some manual merge resolving and it worked. This should make it much
	easier to merge the rest of InnoDB 1.1 and 1.2 from the mysql tree using
	my bzr-reapply script.
	
	This takes us to InnoDB 1.1.1(ish).

2010-11-11  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100728102044-1l801vzl3ki14mf8 from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100728102044-1l801vzl3ki14mf8
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #55581 by backporting fix of #52546 from mysql-trunk-innodb
	to mysql-5.1-innodb plugin.

2010-11-11  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100723163238-6ccbty884tyuptf7 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100723163238-6ccbty884tyuptf7
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB Plugin version to 1.0.11.
	InnoDB Plugin 1.0.10 has been released with MySQL 5.1.49.

2010-11-11  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100706022638-1x1aooc44k08gg2u from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100706022638-1x1aooc44k08gg2u
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Add innodb_bug53756-master.opt for innodb_bug53756 test.

2010-11-11  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100701050601-i58b3e1c1o78w8ou from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100701050601-i58b3e1c1o78w8ou
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for bug #54311 from mysql-trunk-innodb to mysql-5.1-innodb codeline.
	Bug #54311: Crash on CHECK PARTITION after concurrent LOAD DATA
	and adaptive_hash_index=OFF

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100630093847-7gkr1lh3bh2xksy0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100630093847-7gkr1lh3bh2xksy0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54358 follow-up: Correct some error handling.

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100630093149-wmc37t128gic933v from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100630093149-wmc37t128gic933v
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Correct some comments that were added in the fix of Bug #54358
	(READ UNCOMMITTED access failure of off-page DYNAMIC or COMPRESSED columns).
	
	Records that lack incompletely written externally stored columns may
	be accessed by READ UNCOMMITTED transaction even without involving a
	crash during an INSERT or UPDATE operation. I verified this as follows.
	
	(1) added a delay after the mini-transaction for writing the clustered
	index 'stub' record was committed (patch attached)
	(2) started mysqld in gdb, setting breakpoints to the where the
	assertions about READ UNCOMMITTED were added in the bug fix
	(3) invoked ibtest3 --create-options=key_block_size=2
	to create BLOBs in a COMPRESSED table
	(4) invoked the following:
	yes 'set transaction isolation level read uncommitted;
	checksum table blobt3;select sleep(1);'|mysql -uroot test
	(5) noted that one of the breakpoints was triggered
	(return(NULL) in btr_rec_copy_externally_stored_field())
	
	=== modified file 'storage/innodb_plugin/row/row0ins.c'
	--- storage/innodb_plugin/row/row0ins.c	2010-06-30 08:17:25 +0000
	+++ storage/innodb_plugin/row/row0ins.c	2010-06-30 08:17:25 +0000
	@@ -2120,6 +2120,7 @@ function_exit:
	rec_t*	rec;
	ulint*	offsets;
	mtr_start(&mtr);
	+		os_thread_sleep(5000000);
	
	btr_cur_search_to_nth_level(index, 0, entry, PAGE_CUR_LE,
	BTR_MODIFY_TREE, &cursor, 0,
	
	=== modified file 'storage/innodb_plugin/row/row0upd.c'
	--- storage/innodb_plugin/row/row0upd.c	2010-06-30 08:11:55 +0000
	+++ storage/innodb_plugin/row/row0upd.c	2010-06-30 08:11:55 +0000
	@@ -1763,6 +1763,7 @@ row_upd_clust_rec(
	rec_offs_init(offsets_);
	
	mtr_start(mtr);
	+		os_thread_sleep(5000000);
	
	ut_a(btr_pcur_restore_position(BTR_MODIFY_TREE, pcur, mtr));
	rec = btr_cur_get_rec(btr_cur);

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629131219-pjbkpk5rsqztmw27 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629131219-pjbkpk5rsqztmw27
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ChangeLog entry for Bug #54408

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629130058-1ilqaj51u9sj9vqe from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629130058-1ilqaj51u9sj9vqe
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54408: txn rollback after recovery: row0umod.c:673
	dict_table_get_format(index->table)
	
	The REDUNDANT and COMPACT formats store a local 768-byte prefix of
	each externally stored column. No row_ext cache is needed, but we
	initialized one nevertheless. When the BLOB pointer was zero, we would
	ignore the locally stored prefix as well. This triggered an assertion
	failure in row_undo_mod_upd_exist_sec().
	
	row_build(): Allow ext==NULL when a REDUNDANT or COMPACT table
	contains externally stored columns.
	
	row_undo_search_clust_to_pcur(), row_upd_store_row(): Invoke
	row_build() with ext==NULL on REDUNDANT and COMPACT tables.
	
	rb://382 approved by Jimmy Yang

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629125653-t799e5x30h31cvrd from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629125653-t799e5x30h31cvrd
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ChangeLog entry for Bug #54358

2010-11-11  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100629125518-m3am4ia1ffjr0d0j from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100629125518-m3am4ia1ffjr0d0j
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54358: READ UNCOMMITTED access failure of off-page DYNAMIC or COMPRESSED
	columns
	
	When the server crashes after a record stub has been inserted and
	before all its off-page columns have been written, the record will
	contain incomplete off-page columns after crash recovery. Such records
	may only be accessed at the READ UNCOMMITTED isolation level or when
	rolling back a recovered transaction in recv_recovery_rollback_active().
	Skip these records at the READ UNCOMMITTED isolation level.
	
	TODO: Add assertions for checking the above assumptions hold when an
	incomplete BLOB is encountered.
	
	btr_rec_copy_externally_stored_field(): Return NULL if the field is
	incomplete.
	
	row_prebuilt_t::templ_contains_blob: Clarify what "BLOB" means in this
	context. Hint: MySQL BLOBs are not the same as InnoDB BLOBs.
	
	row_sel_store_mysql_rec(): Return FALSE if not all columns could be
	retrieved. Previously this function always returned TRUE.  Assert that
	the record is not delete-marked.
	
	row_sel_push_cache_row_for_mysql(): Return FALSE if not all columns
	could be retrieved.
	
	row_search_for_mysql(): Skip records containing incomplete off-page
	columns. Assert that the transaction isolation level is READ
	UNCOMMITTED.
	
	rb://380 approved by Jimmy Yang

2010-11-11  Davi Arnaut  <davi.arnaut@oracle.com>

	Merge Revision revid:davi.arnaut@oracle.com-20100720173615-yc08nbtrfxsuh8mb from MySQL InnoDB
	
	Just merging test case for Drizzle
	
	Original revid:davi.arnaut@oracle.com-20100720173615-yc08nbtrfxsuh8mb
	
	Original Authors: Davi Arnaut <davi.arnaut@oracle.com>
	Original commit message:
	Bug#54453: Failing assertion: trx->active_trans when renaming a
	table with active trx
	
	Essentially, the problem is that InnoDB does a implicit commit
	when a cursor (table handler) is unlocked/closed, creating
	a dissonance between the transaction state within the server
	layer and the storage engine layer. Theoretically, a statement
	transaction can encompass several table instances in a similar
	manner to a multiple statement transaction, hence it does not
	make sense to limit a statement transaction to the lifetime of
	the table instances (cursors) used within it.
	
	Since this particular instance of the problem is only triggerable
	on 5.1 and is masked on 5.5 due 2PC being skipped (assertion is in
	the prepare phase of a 2PC), the solution (which is less risky) is
	to explicitly end the transaction before the cached table is unlock
	on rename table.
	
	The patch is to be null merged into trunk.

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	remove innodb test as we don't have bad data being accepted

2010-11-11  MySQL Build Team<build@mysql.com>

	Merge Revision revid:build@mysql.com-20100622200931-wphbrypulhqvm4ep from MySQL InnoDB
	
	Original revid:build@mysql.com-20100622200931-wphbrypulhqvm4ep
	
	Original Authors: MySQL Build Team<build@mysql.com>
	Original commit message:
	Backport into 5.1.46sp1:
	
	> revno: 3351.14.56
	> committer: Marko Mdkeld <marko.makela@oracle.com>
	> branch nick: 5.1-innodb
	> timestamp: Mon 2010-04-26 14:08:56 +0300
	> message:
	>   Add a test case for Bug #52745.

2010-11-11  MySQL Build Team<build@mysql.com>

	Merge Revision revid:build@mysql.com-20100622195935-i5cctxhtgganeuxr from MySQL InnoDB
	
	Original revid:build@mysql.com-20100622195935-i5cctxhtgganeuxr
	
	Original Authors: MySQL Build Team<build@mysql.com>
	Original commit message:
	Backport into build-201006221614-5.1.46sp1
	
	> ------------------------------------------------------------
	> revno: 3351.14.47
	> revision-id: marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a
	> parent: marko.makela@oracle.com-20100421094032-ir4glqk46qvg2ywn
	> committer: Marko Mkel <marko.makela@oracle.com>
	> branch nick: 5.1-innodb
	> timestamp: Wed 2010-04-21 12:50:33 +0300
	> message:
	>   dtuple_convert_big_rec(): Store locally any fields whose maximum length
	>   is less than 256 bytes. (Bug #52745)
	>   Add related comments and debug assertions to the "offsets"
	>   functions in rem0rec.c.
	>   Approved by Sunny Bains

2010-11-11  MySQL Build Team<build@mysql.com>

	Merge Revision revid:build@mysql.com-20100622195047-sddeu4986bbxhkl7 from MySQL InnoDB
	
	Original revid:build@mysql.com-20100622195047-sddeu4986bbxhkl7
	
	Original Authors: MySQL Build Team<build@mysql.com>
	Original commit message:
	Backport into build-201006221614-5.1.46sp1
	
	> ------------------------------------------------------------
	> revno: 3351.14.50
	> revision-id: marko.makela@oracle.com-20100421185359-8qaxoa2yyrpzwdd7
	> parent: marko.makela@oracle.com-20100421102723-0i80uezbyu0ekj5d
	> committer: Marko Mkel <marko.makela@oracle.com>
	> branch nick: 5.1-innodb
	> timestamp: Wed 2010-04-21 21:53:59 +0300
	> message:
	>   btr_page_split_and_insert(): Avoid an infinite loop. (Bug #52964)
	>   
	>   btr_page_tuple_smaller(): New function, refactored from
	>   btr_page_split_and_insert().
	>   
	>   btr_page_get_split_rec(): Renamed from btr_page_get_sure_split_rec().
	>   Note that a NULL return may mean that the tuple is to be inserted into
	>   either the lower or upper page, to be determined by btr_page_tuple_smaller().
	>   
	>   btr_page_split_and_insert(): When btr_page_get_split_rec() returns NULL,
	>   invoke btr_page_tuple_smaller() to determine which half-page the tuple
	>   belongs to.
	>   
	>   Reviewed by Sunny Bains

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	fix test result

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	add missing test for Innobase http://bugs.mysql.com/54044

2010-11-10  karen.langford@oracle.com

	Merge Revision revid:karen.langford@oracle.com-20100709122348-pbgrcz2zgvzlqzld from MySQL InnoDB
	
	Original revid:karen.langford@oracle.com-20100709122348-pbgrcz2zgvzlqzld
	
	Original Authors: karen.langford@oracle.com
	Original commit message:
	Fix bug #55039 Failing assertion: space_id > 0 in fil0fil.c.

2010-11-10  Sunny Bains  <Sunny.Bains@Oracle.Com>

	Merge Revision revid:sunny.bains@oracle.com-20100625081841-ppulnkjk1qlazh82 from MySQL InnoDB
	
	Original revid:sunny.bains@oracle.com-20100625081841-ppulnkjk1qlazh82
	
	Original Authors: Sunny Bains <Sunny.Bains@Oracle.Com>
	Original commit message:
	Fix bug#54583. This change reverses rsvn:1350 by getting rid of a bogus assertion
	and clarifies the invariant in dict_table_get_on_id().
	
	In Mar 2007 Marko observed a crash during recovery, the crash resulted from
	an UNDO operation on a system table. His solution was to acquire an X lock on
	the data dictionary, this in hindsight was an overkill. It is unclear what
	caused the crash, current hypothesis is that it was a memory corruption.
	
	The X lock results in performance issues by when undoing changes due to
	rollback during normal operation on regular tables.
	
	Why the change is safe:
	======================
	The InnoDB code has changed since the original X lock change was made. In the
	new code we always lock the data dictionary in X mode during startup when
	UNDOing operations on the system tables (this is a given). This ensures that
	the crash Marko observed cannot happen as long as all transactions that update
	the system tables follow the standard rules by setting the appropriate DICT_OP
	flag when writing the log records when they make the changes.
	
	If transactions violate the above mentioned rule then during recovery (at
	startup) the rollback code (see trx0roll.c) will not acquire the X lock
	and we will see the crash again.  This will however be a different bug.

2010-11-10  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100624124450-2m3mg1238ewvakgx from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100624124450-2m3mg1238ewvakgx
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Add ChangeLog for bug#39168

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100624104820-p4ojmxcmq8qeos6d from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100624104820-p4ojmxcmq8qeos6d
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Add ChangeLog entry for Bug#54679

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100623023920-l74rw5x4y35o81rl from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100623023920-l74rw5x4y35o81rl
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for "bug #54044 Create temporary tables and using innodb crashes"
	to 5.1 plugin codeline.
	
	rb://378, approved by Marko

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100623020431-0r2gopb1zlplgu0o from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100623020431-0r2gopb1zlplgu0o
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix bug #54044, Create temporary tables and using innodb crashes. Screen
	out NULL type columns, and return without creating the table.
	
	rb://378 approved by Marko

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	merge bug fix for CREATE TABLE with column of type NULL

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	merge innobase 1.0.9 build fixes

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	fix patch for Fix Bug#54686: 'field->col->mtype == type' assertion error at row/row0sel.c

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	add innodb test case that was missing

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622115949-xkn2akkjppwhhs5c from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622115949-xkn2akkjppwhhs5c
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	ChangeLog for Bug#54686 "field->col->mtype == type" assertion error at row/row0sel.c

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100622115215-kxtzx7xuugcxd375 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100622115215-kxtzx7xuugcxd375
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54686 "field->col->mtype == type" assertion error at row/row0sel.c
	ha_innobase::index_read(), ha_innobase::records_in_range(): Check that
	the index is useable before invoking row_sel_convert_mysql_key_to_innobase().
	
	This fix is based on a suggestion by Yasufumi Kinoshita.

2010-11-10  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100622170454-vgjujmv3pvj4qhhy from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100622170454-vgjujmv3pvj4qhhy
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Add ChangeLog entry for the fix of Bug#47991

2010-11-10  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100622163043-dc0lxy0byg74viet from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100622163043-dc0lxy0byg74viet
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#47991 InnoDB Dictionary Cache memory usage increases indefinitely
	when renaming tables
	
	Allocate the table name using ut_malloc() instead of table->heap because
	the latter cannot be freed.
	
	Adjust dict_sys->size calculations all over the code.
	
	Change dict_table_t::name from const char* to char* because we need to
	ut_malloc()/ut_free() it.
	
	Reviewed by:	Inaam, Marko, Heikki (rb://384)
	Approved by:	Heikki (rb://384)

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100621095148-8g73k8k68dpj080u from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100621095148-8g73k8k68dpj080u
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54658: Add ChangeLog entry

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100621094008-o9fa153s3f09merw from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100621094008-o9fa153s3f09merw
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug #54658: InnoDB: Warning: allocated tablespace %lu, old maximum was 0
	
	dict_check_tablespaces_and_store_max_id(): Initialize max_space_id
	and fil_system->max_assigned_id from DICT_HDR_MAX_SPACE_ID.
	
	fil_space_create(): Suppress the warning unless !recv_recovery_on
	(do not complain while applying the redo log).

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100617173303-ch2wopgfzw60b73s from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100617173303-ch2wopgfzw60b73s
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix an overly asserted assertion during previous checkin for bug #54330.

2010-11-10  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100618070001-cvi29zps9ap46zuz from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100618070001-cvi29zps9ap46zuz
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Increment InnoDB Plugin version from 1.0.9 to 1.0.10, after
	1.0.9 has been released with MySQL 5.1.48.

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100617021204-x3790up7eeezox2c from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100617021204-x3790up7eeezox2c
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #54330 Broken fast index creation. Add additional array to
	account for each merge run's start offset, so correct offsets are
	paired up for multiple merge runs.
	
	rb://377 approved by Marko

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100615093326-m1346n02w0nduzmv from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100615093326-m1346n02w0nduzmv
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Add checkin description for bug #47622 to ChangeLog.

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	no multi table UPDATE. remove innodb test

2010-11-10  Sergey Glukhov  <Sergey.Glukhov@sun.com>

	Merge Revision revid:sergey.glukhov@sun.com-20100609120734-ndy2281wau9067zv from MySQL InnoDB
	
	Original revid:sergey.glukhov@sun.com-20100609120734-ndy2281wau9067zv
	
	Original Authors: Sergey Glukhov <Sergey.Glukhov@sun.com>
	Original commit message:
	Bug#38999 valgrind warnings for update statement in function compare_record()
	Valgrind warning happpens because of uninitialized null bytes.
	In row_sel_push_cache_row_for_mysql() function we fill fetch cache
	with necessary field values, row_sel_store_mysql_rec() is called
	for this and leaves null bytes untouched.
	Later row_sel_pop_cached_row_for_mysql() rewrites table record
	buffer with uninited null bytes. We can see the problem from the
	test case:
	At 'SELECT...' we call row_sel_push...->row_sel_store...->row_sel_pop_cached...
	chain which rewrites table->record[0] buffer with uninitialized null bytes.
	When we call 'UPDATE...' statement, compare_record uses this buffer and
	valgrind warning occurs.
	The fix is to init null bytes with default values.

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	remove requirement of have_innodb_plugin from innodb_bug53592 test. incorrectly set in one of merged revisions

2010-11-10  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100610143128-ps1a6jmfyakzwhya from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100610143128-ps1a6jmfyakzwhya
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Add a debug assertion.

2010-11-10  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100610135811-1jxs81q050wpabyc from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100610135811-1jxs81q050wpabyc
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Formatting changes

2010-11-10  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100608181408-c5xsjlom5olr4mxt from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100608181408-c5xsjlom5olr4mxt
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Add call to log_free_check() in the DML code paths that were missing
	this before.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100608121215-4mbisu3fyk3reuyq from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100608121215-4mbisu3fyk3reuyq
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document Bug#54009 in the InnoDB Plugin ChangeLog.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100608121041-l7t9r6lrpx6lh361 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100608121041-l7t9r6lrpx6lh361
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#54009: Server crashes when data is selected from non backed up table
	for InnoDB plugin
	
	dict_load_table(): Pass the correct tablespace flags to
	fil_open_single_table_tablespace(). For ROW_FORMAT=COMPACT and REDUNDANT,
	the tablespace flags are 0. The table flags would be 0 or DICT_TF_COMPACT.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100608114055-7b04ytuqz0lde6v1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100608114055-7b04ytuqz0lde6v1
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	buf_page_get_gen(): Pass file,line to rw_lock_x_lock().

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100603134448-itzduhwgbw0b8nlh from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100603134448-itzduhwgbw0b8nlh
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Remove unncessary name comapre in innobase_get_mysql_key_number_for_index()
	introduced in bug fix #53592, since dict_table_t can sufficiently unique
	identify the the table.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100603094637-416gmypymgstj2ll from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100603094637-416gmypymgstj2ll
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Source have_innodb_plugin.inc in the plugin tests.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602103903-33byixs3xlqcwsj0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602103903-33byixs3xlqcwsj0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document the Bug #53674 fix in the InnoDB Plugin

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602103714-0nwxdqskeb1ihozj from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602103714-0nwxdqskeb1ihozj
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Bug#53674: InnoDB: Error: unlock row could not find a 4 mode lock on the record
	
	In semi-consistent read, only unlock freshly locked non-matching records.
	
	lock_rec_lock_fast(): Return LOCK_REC_SUCCESS,
	LOCK_REC_SUCCESS_CREATED, or LOCK_REC_FAIL instead of TRUE/FALSE.
	
	enum db_err: Add DB_SUCCESS_LOCKED_REC for indicating a successful
	operation where a record lock was created.
	
	lock_sec_rec_read_check_and_lock(),
	lock_clust_rec_read_check_and_lock(), lock_rec_enqueue_waiting(),
	lock_rec_lock_slow(), lock_rec_lock(), row_ins_set_shared_rec_lock(),
	row_ins_set_exclusive_rec_lock(), sel_set_rec_lock(),
	row_sel_get_clust_rec_for_mysql(): Return DB_SUCCESS_LOCKED_REC if a
	new record lock was created. Adjust callers.
	
	row_unlock_for_mysql(): Correct the function documentation.
	
	row_prebuilt_t::new_rec_locks: Correct the documentation.

2010-11-10  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100510132433-pmbvh3vu4h8bgdg9 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100510132433-pmbvh3vu4h8bgdg9
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Make dict_index_stat_mutex[] static because it is only used in dict0dict.c

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505115011-f7zr3tgzf8vpkqhd from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505115011-f7zr3tgzf8vpkqhd
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document Bug #53256

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505114513-zg790p5lu5u1eie7 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505114513-zg790p5lu5u1eie7
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Note the 1.0.7 release

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100505100219-fwuux50ypjclvr8n from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100505100219-fwuux50ypjclvr8n
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Update ChangeLog for bug fix of #53165

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505095328-vetnl0flhmhao7p5 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505095328-vetnl0flhmhao7p5
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Add Valgrind diagnostics to track down Bug #38999.

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100505045224-9022uyn2moifp0sp from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100505045224-9022uyn2moifp0sp
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Port fix for 53165 to InnoDB 5.1 plugin. The change buffering options
	are different in 5.1 comparing to that of 5.5, so a hand port is
	necessary to avoid wrong default option to be set by a simple
	branch merge.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504131517-61itprcj13i9zhdf from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504131517-61itprcj13i9zhdf
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Document Bug #53306 in the InnoDB Plugin ChangeLog.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504130917-qmvzbj3pgil2nuat from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504130917-qmvzbj3pgil2nuat
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	fsp_init_file_page_low(): Zero out the page. (Bug #53306)

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504124744-c1ivf5tm90nv7lc1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504124744-c1ivf5tm90nv7lc1
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Add Valgrind checks to catch uninitialized writes to data files.
	buf_flush_insert_into_flush_list(),
	buf_flush_insert_sorted_into_flush_list(),
	buf_flush_post_to_doublewrite_buf(): Check that the page is initialized.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504105546-4ew7a77e9uhxmhho from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504105546-4ew7a77e9uhxmhho
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Remove UNIV_BTR_AVOID_COPY. It was broken because btr_attach_half_pages()
	would get the block, new_block in the wrong order.
	Fixing that would have complicated the function even further
	for this marginal case.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100602101940-60x32xiivtqj9va1 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100602101940-60x32xiivtqj9va1
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	fil_print_orphaned_tablespaces(): Unused function, remove.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601135802-hgplcpr8089ura8g from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601135802-hgplcpr8089ura8g
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document Bug #48197 fix

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601134335-ccthwwru23kn09qw from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601134335-ccthwwru23kn09qw
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#48197: Concurrent rw_lock_free may cause assertion failure
	
	rw_lock_t: Remove magic_n unless UNIV_DEBUG is defined.
	rw_lock_free(): Invalidate magic_n only after removing from rw_lock_list.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601120751-1uq7bbta5n7ts0qr from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601120751-1uq7bbta5n7ts0qr
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Minor cleanup.
	
	lock_rec_unlock(): Cache first_lock and rewrite while() loops as for().
	
	btr_cur_optimistic_update(): Use common error handling return.
	
	row_create_prebuilt(): Add Valgrind instrumentation.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601120521-q48hk05ne4j1s2o0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601120521-q48hk05ne4j1s2o0
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Document the Bug #53812 fix.

2010-11-10  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100601103738-upm8awahesmeh9dr from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100601103738-upm8awahesmeh9dr
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#53812: assert row/row0umod.c line 660 in txn rollback after crash recovery
	
	row_undo_mod_upd_exist_sec(): Tolerate a failure to build the index entry
	for a DYNAMIC or COMPRESSED table during crash recovery.

2010-11-10  Vasil Dimov  <vasil.dimov@oracle.com>

	Null merge for the following innodb fix:
	
	Merge Revision revid:vasil.dimov@oracle.com-20100531163540-9fu3prbn2asqwdi5 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100531163540-9fu3prbn2asqwdi5
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge a change from mysql-trunk-innodb:
	
	------------------------------------------------------------
	revno: 3127
	revision-id: vasil.dimov@oracle.com-20100531152341-x2d4hma644icamh1
	parent: vasil.dimov@oracle.com-20100531105923-kpjwl4rbgfpfj13c
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-trunk-innodb
	timestamp: Mon 2010-05-31 18:23:41 +0300
	message:
	Fix Bug #53947 InnoDB: Assertion failure in thread 4224 in file .\sync\sync0sync.c line 324
	
	Destroy the rw-lock object before freeing the memory it is occupying.
	If we do not do this, then the mutex that is contained in the rw-lock
	object btr_search_latch_temp->mutex gets "freed" and subsequently
	mutex_free() from sync_close() hits a mutex whose memory has been
	freed and crashes.
	
	Approved by:	Heikki (via IRC)
	Discussed with:	Calvin

2010-11-25  Brian Aker  <brian@tangent.org>

	This adds the command "shutdown" to the command line client. It does require
	that you have authenticated/have privs to do this.

2010-11-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - 677522: libdrizzle: crashes when used with MySQL 5.5.7

2010-11-21  Monty Taylor  <mordred@inaugust.com>

	Cleaned up a minor style violation.

2010-11-19  Evan Jones  <evanj@MIT.EDU>

	Adds protocol support for MySQL 5.5.7

2010-11-23  patrick crews  <gleebix@gmail.com>

	Updated innobase plugin.ini file to fix tarball for release

2010-11-23  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-11-19  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-11-13  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-11-12  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-11-11  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-11-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 675395: checking for x86 PAUSE instruction... no is wrong

2010-11-23  Monty Taylor  <mordred@inaugust.com>

	A warning was masking the ability to use PAUSE.

2010-11-23  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - add execute tests

2010-11-22  patrick crews  <gleebix@gmail.com>

	Additional test cases for EXECUTE

2010-11-23  Brian Aker  <brian@tangent.org>

	Merge in changes for barriers (update for kill, etc).

2010-11-22  Brian Aker  <brian@tangent.org>

	Work out some non-deterministic test cases.

2010-11-22  Brian Aker  <brian@tangent.org>

	Remove sessions table, there is not enough to make it unique at this point.

2010-11-22  Brian Aker  <brian@tangent.org>

	Merge trunk.

2010-11-21  Brian Aker  <brian@tangent.org>

	Disable session table (it is just too much of a duplicate of processlist at
	the moment). Found bug where proceslist was not accurate 100% due to kill
	command.

2010-11-19  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2010-11-19  Brian Aker  <brian@tangent.org>

	Updating test to have a bit more deterministic behavior.

2010-11-19  Brian Aker  <brian@tangent.org>

	Break out observer to its own class, same with lock.

2010-11-19  Brian Aker  <brian@tangent.org>

	Enforce table share return lengths on string types.

2010-11-19  Brian Aker  <brian@tangent.org>

	Merge in the ability to kill off locks as well as barriers.

2010-11-19  Brian Aker  <brian@tangent.org>

	Update user locks to allow for interruption based on boost.

2010-11-19  Brian Aker  <brian@tangent.org>

	Have session store a copy of its current thread.

2010-11-18  Brian Aker  <brian@tangent.org>

	Move kill over to just being in the execute layer for now.

2010-11-18  Brian Aker  <brian@tangent.org>

	Added a sessions table function, and a "THREAD_ID" column to it.

2010-11-22  Brian Aker  <brian@tangent.org>

	Refactor basic lock bits (ie, encapsulate!)

2010-11-22  Brian Aker  <brian@tangent.org>

	Merge in lock encapsulation.

2010-11-22  Brian Aker  <brian@tangent.org>

	Merge in change to rename to encapsulate the lock.

2010-11-21  Brian Aker  <brian@tangent.org>

	Merge in lock refactor, this just encapsulates.

2010-11-21  Brian Aker  <brian@tangent.org>

	Scoped locks a bit better.

2010-11-21  Brian Aker  <brian@tangent.org>

	Convert LOCK_open to lock in mutex

2010-11-23  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 675670: Drizzle falsely reporting conflicts with tmp/mysql.socket but starts normally

2010-11-22  Monty Taylor  <mordred@inaugust.com>

	We were overrunning the buffer everywhere, but glibc on ubuntu was
	notificing for us.

2010-11-19  Monty Taylor  <mordred@inaugust.com>

	Added clobber option which will make drizzle delete/overwrite an existing
	socket file.

2010-11-18  Monty Taylor  <mordred@inaugust.com>

	Make it non-fatal.

2010-11-18  Monty Taylor  <mordred@inaugust.com>

	zomg. I was passing in a reference to a temporary. Jeeze.

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Fixes the issues with socket

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Updates to haildb and auth_http.

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Add better support in constrained_check for min/max support. Add string ref class.

2010-11-18  Brian Aker  <brian@tangent.org>

	We move the unix socket file aside, and then start up. Any clients already
	connected will be fine, and any new ones will instead connect to the server.

2010-11-21  Brian Aker  <brian@tangent.org>

	Merge in simple change such that we use the KEY we already have, instead of
	recalculating one.

2010-11-19  Brian Aker  <brian@tangent.org>

	There is no need to calculate the identifier since we have a key.

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - refactor share

2010-11-19  Brian Aker  <brian@tangent.org>

	Narrow lock areas.

2010-11-19  Brian Aker  <brian@tangent.org>

	Adding a slap specific test to see if we are hitting issues when slamming
	the server with the same create table

2010-11-19  Brian Aker  <brian@tangent.org>

	Arrange share creation so that we make it happen at the end of parsing, not
	the beginning.

2010-11-19  Brian Aker  <brian@tangent.org>

	REmove the allowance for seeing the raw cache, and remove the ability for an
	outside source to touch the mutex.

2010-11-19  Brian Aker  <brian@tangent.org>

	Remove dead getShare() call which should have been a call on the cache
	directly.

2010-11-18  Brian Aker  <brian@tangent.org>

	Added generator for table_definition cache. Now no one can touch the guts :)

2010-11-18  Brian Aker  <brian@tangent.org>

	Fix style issue around table for message (though this is imperfect,...)

2010-11-18  Brian Aker  <brian@tangent.org>

	Fix style on naming of shared_ptr for tableshare.

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Merge Lee -  Run bzr ignore for leftover files
	Merge Shrews - Add a --replicate-query option to the server which controls whether or not the SQL query string is included in the GPB Statement messages.
	Merge Andrew - fix bug 665119: drizzleslap has -i mapped to two options
	Merge Andrew fix bug 674145: Table Names Not Case Matched

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Run bzr ignore for:
	po/drizzle7.pot
	plugin/transaction_log/utilities/transaction_reader
	plugin/storage_engine_api_tester/engine_states_to_dot
	plugin/storage_engine_api_tester/cursor_states_to_dot

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Add a --replicate-query option to the server which controls whether or not the SQL query string is included in the GPB Statement messages.

2010-11-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add --replicate-query option.

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 665119: drizzleslap has -i mapped to two options

2010-11-19  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Revert -v fix

2010-11-19  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-11-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make -v take a numeric value

2010-11-11  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make -i work again

2010-11-20  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew fix bug 674145: Table Names Not Case Matched

2010-11-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2010-11-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make mixed case table names work again

2010-11-19  Lee Bieber  <kalebral@gmail.com>

	Merge Billy - removed my_getsysdate, my_micro_time and my_micro_time_and_time and replaced with boost::date_time for compatibility.

2010-11-14  billy-earney billy.earney@gmail.com


	resolved conflict in sql_parse.cc

2010-10-28  Billy Earney  <earney@oseda-archive.missouri.edu>

	modified to remove my_getsystime

2010-10-27  Billy Earney  <earney@oseda-archive.missouri.edu>

	bringing repo up to current revision

2010-10-27  Billy Earney  <earney@oseda-archive.missouri.edu>

	removed my_micro_time, my_micro_time_and_time, along with my_getsystime and replaced with boost:date_time for compatibility between OS.

2010-11-19  Brian Aker  <brian@tangent.org>

	Merge in Monty

2010-11-18  Monty Taylor  <mordred@inaugust.com>

	Actually set default paths appropriately.

2010-11-19  Brian Aker  <brian@tangent.org>

	Rollup merge for barrier patch

2010-11-19  Brian Aker  <brian@tangent.org>

	Fix tests so that they have ORDER BY on them.

2010-11-19  Brian Aker  <brian@tangent.org>

	header not included in plugin.ini

2010-11-19  Brian Aker  <brian@tangent.org>

	Merge with trunk

2010-11-18  Brian Aker  <brian@tangent.org>

	Update DD for tables.

2010-11-18  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2010-11-18  Brian Aker  <brian@tangent.org>

	Double, super, check that we make a point of always releasing everything.

2010-11-18  Brian Aker  <brian@tangent.org>

	Additional documentation and testing.

2010-11-18  Brian Aker  <brian@tangent.org>

	Updating so of the concurrency test.

2010-11-18  Brian Aker  <brian@tangent.org>

	Merge in wait_until command.

2010-11-18  Brian Aker  <brian@tangent.org>

	Add additional test for barriers.

2010-11-17  Brian Aker  <brian@tangent.org>

	Implemented barrier wait_count feature.

2010-11-17  Brian Aker  <brian@tangent.org>

	Fix errror messages and namespace.

2010-11-17  Brian Aker  <brian@tangent.org>

	First pass though barriers.

2010-11-18  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 677013: Drizzle client hash completion generates SQL errors
	Merge Andrew - fix bug 676735: boost::iostreams compile failure in Fedora 14
	Merge Lee - don't run valgrind on pbms test

2010-11-18  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 677013: Drizzle client hash completion generates SQL errors

2010-11-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Quote marks incorrect in hash completion build query

2010-11-18  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 676735: boost::iostreams compile failure in Fedora 14

2010-11-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Cleanup after bug fix

2010-11-18  Lee Bieber  <kalebral@gmail.com>

	Merge Lee - don't run valgrind on pbms test

2010-11-18  Lee Bieber kalebral@gmail.com

	don't run valgrind on pbms tests, so include the --source include/have_valgrind.inc at the top of each pbms test

2010-11-18  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - more session work and clean up

2010-11-17  Brian Aker  <brian@tangent.org>

	Shorten the length of the lock hold when we loop through sessions.

2010-11-17  Brian Aker  <brian@tangent.org>

	Cleanup session ownership rules such that we know exactly when session has
	been removed

2010-11-17  Brian Aker  <brian@tangent.org>

	We were calling the event observer for session twice.

2010-11-17  Brian Aker  <brian@tangent.org>

	Fix dtrace issue.

2010-11-17  Brian Aker  <brian@tangent.org>

	Modify to use insert inside of session list.

2010-11-16  Brian Aker  <brian@tangent.org>

	Encapsulate insert of Session to list.

2010-11-16  Brian Aker  <brian@tangent.org>

	Remove need lock/mutex around deleting session.

2010-11-16  Brian Aker  <brian@tangent.org>

	Connection count restructure.

2010-11-16  Brian Aker  <brian@tangent.org>

	Move to find() push lock out into the structure.

2010-11-16  Brian Aker  <brian@tangent.org>

	Finish change so that we use a shared_ptr for the session list.

2010-11-16  Brian Aker  <brian@tangent.org>

	Move counter lock so that ownership is held by session_list.

2010-11-16  Brian Aker  <brian@tangent.org>

	Pull in code to abstract out the session list a bit.

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 676653: out of source tree build failed
	Merge Andrew - fix bug 676735: boost::iostreams compile failure in Fedora 14 	

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 676653: out of source tree build failed

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Fix usage of -I flags for pkg-config.

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Removed needless ${top_builddir}

2010-11-17  Monty Taylor  <mordred@inaugust.com>

	Add vpath info into pars0grm rules.

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 676735: boost::iostreams compile failure in Fedora 14 	

2010-11-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Work around Fedora 14 boost compiled without depreated iostream functions

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - binlog clean up
	Merge Joe - fix bug 674588: Transaction ID not unique

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - binlog clean up

2010-11-16  Joseph Daly  <skinny.moey@gmail.com>

	cleanup function that is no longer used or implemented

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - fix bug 674588: Transaction ID not unique

2010-11-16  Joseph Daly  <skinny.moey@gmail.com>

	move the call to allocate the trx id  to the exact place its needed having it in write_bin_log will result in it being allocated where it is not needed

2010-11-16  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-11-16  Joseph Daly  <skinny.moey@gmail.com>

	merge changes to fix duplicate trx ids for raw sql 674588

2010-11-17  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Add user_savepoints table function.

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - fix build break

2010-11-16  Brian Aker  <brian@tangent.org>

	Fix define, make sure that all tests are updated.

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Add user_savepoints table function.

2010-11-16  Brian Aker  <brian@tangent.org>

	Add user_savepoints table function.

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - session fixes

2010-11-15  Brian Aker  <brian@tangent.org>

	1) Make sure the query string always has an std::string in it. 
	2) Fix performance schema such that we pass down the shared_ptr.

2010-11-15  Brian Aker  <brian@tangent.org>

	Merge all of the session fixes into one patch.

2010-11-15  Brian Aker  <brian@tangent.org>

	Merge in additional fixes for plugin.

2010-11-15  Brian Aker  <brian@tangent.org>

	Additional D-trace fixes.

2010-11-15  Brian Aker  <brian@tangent.org>

	Yet another Dtrace find.

2010-11-15  Brian Aker  <brian@tangent.org>

	Updates for D-trace

2010-11-15  Brian Aker  <brian@tangent.org>

	Dtrace fix.

2010-11-15  Brian Aker  <brian@tangent.org>

	MErge Session fix.

2010-11-14  Brian Aker  <brian@tangent.org>

	Update to tighten up query string.

2010-11-14  Brian Aker  <brian@tangent.org>

	Fix issue where session info might not be correct.

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Adds --summarize option to transaction_reader
	Merge David - Move transaction_reader out of drizzed/messages, Extract the code that reads GPB messages out of a file

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Adds --summarize option to transaction_reader

2010-11-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Added --summarize option to transaction_reader

2010-11-16  Lee Bieber  <kalebral@gmail.com>

	Merge David - Move transaction_reader out of drizzed/messages, Extract the code that reads GPB messages out of a file

2010-11-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix up po/POTFILES.in

2010-11-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Update filtered_replicator tests

2010-11-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Move transaction_reader from drizzled/message to transaction_log plugin; also pulled transaction_reader file operations out into separate class.

2010-11-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 674381: global_status test failure
	Merge Monty - fix bug 669635: Boolean options in config file require a value while command line does not 
	Merge Monty- fix bug #669707: Crash from boost::condition_variable assert fail when datadir is not full path

2010-11-14  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 674381: global_status test failure

2010-11-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix broken Global Status test
	Fix some stats not reset
	Cleanup code a little
	
	Note: local session stats are not reset, they will be added to the global stats after flush if any query is executed on those sessions.

2010-11-14  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 669635: Boolean options in config file require a value while command line does not 
	Merge Monty- fix bug #669707: Crash from boost::condition_variable assert fail when datadir is not full path

2010-11-13  Monty Taylor  <mordred@inaugust.com>

	Cleaned up stylewq

2010-11-12  Monty Taylor  <mordred@inaugust.com>

	Make sure we pop the pid-file path out to an absolute path in fix_paths,
	else the chdir() will screw us up later.

2010-11-12  Monty Taylor  <mordred@inaugust.com>

	Add better boolean parsing and size suffix parsing.

2010-11-14  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 672372: some functions use > 32k stack

2010-11-11  Monty Taylor  <mordred@inaugust.com>

	You really want to use scoped_array with new[].

2010-11-10  Monty Taylor  <mordred@inaugust.com>

	Added one more thing to the header to make down_cast work on debug builds.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Replaced auto_ptr with scoped_ptr.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Added implicit_cast<> and down_cast<> to the code.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Fixed the check for Wframe-larger-than

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Wrap -Wframe-larger-than in a pandora test.

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	one last sqlite_server stack fix

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	typo

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix sqlite_server stack usage

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usag ein examples/sqlite_server.c:
	../examples/sqlite_server.c: In function ‘main’:
	../examples/sqlite_server.c:172: error: the frame size of 79792 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix excessive stack usage in examples/proxy.c:
	examples/proxy.c: In function ‘main’:
	examples/proxy.c:179: error: the frame size of 116336 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix alloc in simple_multi.c from stack usage fix

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix missing include in simple_multi.c

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix examples/server.c stack usage:
	examples/server.c: In function ‘main’:
	examples/server.c:140: error: the frame size of 79760 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix simple_multi stack size fix

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage of examples/simple.c
	examples/simple.c: In function ‘main’:
	examples/simple.c:123: error: the frame size of 38816 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack ussage of examples/simple_multi.c:
	examples/simple_multi.c: In function ‘main’:
	examples/simple_multi.c:96: error: the frame size of 368544 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in PBMS backup_ms for non-debug builds

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in example/pipe_query.c
	
	examples/pipe_query.c: In function main:
	examples/pipe_query.c:173: error: the frame size of 38864 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	another large stack user in ARCHIVE concurrency_test

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	missing include

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in archive concurrency_test by using auto_ptr for azio_stream
	
	plugin/archive/archive_performance.cc: In function int main(int, char**):
	plugin/archive/archive_performance.cc:96: error: the frame size of 82416 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in archive_performance. azio_stream as auto_ptr
	
	plugin/archive/archive_performance.cc: In function int main(int, char**):
	plugin/archive/archive_performance.cc:96: error: the frame size of 82416 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	even more archive_reader stack usage:
	
	plugin/archive/archive_reader.cc: In function int main(int, char**):
	plugin/archive/archive_reader.cc:353: error: the frame size of 84464 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in archive_reader by using auto_ptr
	
	plugin/archive/archive_reader.cc: In function int main(int, char**):
	plugin/archive/archive_reader.cc:350: error: the frame size of 249136 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix huge stack usage in archive_test size_test()
	
	use auto_ptr
	
	plugin/archive/archive_test.cc: In function int size_test(uint64_t, uint64_t, az_method):
	plugin/archive/archive_test.cc:361: error: the frame size of 164784 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix huge stack usage in archive_test small_test()
	
	use an auto_ptr for azio_stream
	
	plugin/archive/archive_test.cc: In function int small_test(az_method):
	plugin/archive/archive_test.cc:283: error: the frame size of 164768 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in drizzleslap
	
	use an auto_ptr
	
	client/drizzleslap.cc: In function int main(int, char**):
	client/drizzleslap.cc:725: error: the frame size of 38336 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in drizzleslap:
	
	use auto_ptr
	
	client/drizzleslap.cc: In function void run_task(ThreadContext*):
	client/drizzleslap.cc:394: error: the frame size of 44880 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in handle_sigint in drizzle client
	
	use auto_ptr:
	
	client/drizzle.cc: In function void handle_sigint(int):
	client/drizzle.cc:1860: error: the frame size of 36640 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in PBMS trans_log_ms by using calloc() and free(). Not using scoped_array due to a #define new in CSOBject.h

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	namespace fix for gearman_logging stack size fix

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in logging_gearman:
	
	use a auto_ptr for the buffer (which was 32k itself).
	
	plugin/logging_gearman/logging_gearman.cc: In member function virtual bool LoggingGearman::post(drizzled::Session*):
	plugin/logging_gearman/logging_gearman.cc:292: error: the frame size of 33216 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix excessive stack usage in ARCHIVE
	
	use auto_ptr for azio_stream:
	
	plugin/archive/ha_archive.cc: In member function int ha_archive::optimize():
	plugin/archive/ha_archive.cc:1064: error: the frame size of 82432 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in ARCHIVE:
	
	use auto_ptr for azio_stream
	
	plugin/archive/ha_archive.cc: In member function virtual int ArchiveEngine::doCreateTable(drizzled::Session&, drizzled::Table&, const drizzled::TableIdentifier&, drizzled::message::Table&):
	plugin/archive/ha_archive.cc:592: error: the frame size of 82480 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in ARCHIVE engine:
	
	use auto_ptr for azio_stream:
	
	plugin/archive/ha_archive.cc: In member function bool ArchiveShare::prime(uint64_t*):
	plugin/archive/ha_archive.cc:286: error: the frame size of 82368 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in ARCHIVE:
	
	use an auto_ptr for the azio_stream object.
	
	plugin/archive/ha_archive.cc: In member function virtual int ArchiveEngine::doGetTableDefinition(drizzled::Session&, const drizzled::TableIdentifier&, drizzled::message::Table&):
	plugin/archive/ha_archive.cc:195: error: the frame size of 82560 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	Fix large stack usage in MyISAM mi_open():
	
	use auto_ptr to help out:
	
	MYISAM_SHARE got ~1kb
	plugin/myisam/mi_open.cc: In function MI_INFO* mi_open(const drizzled::TableIdentifier&, int, uint32_t):
	plugin/myisam/mi_open.cc:534: error: the frame size of 42848 bytes is larger than 32768 bytes [-Wframe-larger-than=]
	
	rec_per_key_part got ~32k
	plugin/myisam/mi_open.cc: In function MI_INFO* mi_open(const drizzled::TableIdentifier&, int, uint32_t):
	plugin/myisam/mi_open.cc:537: error: the frame size of 41984 bytes is larger than 32768 bytes [-Wframe-larger-than=]
	
	mi_open() now ~9.5kb stack

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in MyISAM:
	plugin/myisam/ha_myisam.cc: In member function ‘virtual int ha_myisam::enable_indexes(uint32_t)’:
	plugin/myisam/ha_myisam.cc:939: error: the frame size of 34976 bytes is larger than 32768 bytes [-Wframe-larger-than=]
	
	Use a auto_ptr to alloc it

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix large stack usage in innobase:
	plugin/innobase/row/row0merge.c: In function ‘row_merge_blocks_copy’:
	plugin/innobase/row/row0merge.c:1560: error: the frame size of 49248 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	fix larg stack usage in innobase: plugin/innobase/row/row0merge.c:1487: error: the frame size of 49264 bytes is larger than 32768 bytes [-Wframe-larger-than=]

2010-11-06  Monty Taylor  <mordred@inaugust.com>

	Force a 32k stackframe.

2010-11-14  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - add execute with no return

2010-11-13  Brian Aker  <brian@tangent.org>

	Removed non-deteriminte test.

2010-11-13  Brian Aker  <brian@tangent.org>

	Merge with Trunk, modification to not look at info during concurrency test.

2010-11-12  Brian Aker  <brian@tangent.org>

	Moved the tests over to their own suite. You can run concurrent by hand, but
	it will not pass on all platforms because we have no way of doing a barrier
	in the code (it does work, pass valgrind, etc...).
	
	Next up,... barrier.

2010-11-12  Brian Aker  <brian@tangent.org>

	Added in functionality for testing transactions in execute statements.

2010-11-12  Brian Aker  <brian@tangent.org>

	Merge in test for user locks.

2010-11-12  Brian Aker  <brian@tangent.org>

	Test for issues on CONCURRENT to be sure it operates in a single
	transaction.

2010-11-12  Brian Aker  <brian@tangent.org>

	Fix so that an error causes a statement to fail/exit.

2010-11-12  Brian Aker  <brian@tangent.org>

	Fixing up support so that even when not using a new thread, we can execute
	multipart statements.

2010-11-11  Brian Aker  <brian@tangent.org>

	Fix for Solaris.

2010-11-11  Brian Aker  <brian@tangent.org>

	Merge in changes for multi-string

2010-11-11  Brian Aker  <brian@tangent.org>

	Adding in concurrent execute support.

2010-11-10  Brian Aker  <brian@tangent.org>

	Adding in support for EXECUTE to have WITH NO RETURN.

2010-11-13  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Add table function so that you can see set @var style variables

2010-11-12  Brian Aker  <brian@tangent.org>

	Add a small amount of documentation for table function.

2010-11-12  Brian Aker  <brian@tangent.org>

	Merge up the tree.

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 673988: random failures in flush_block_commit test
	Merge Monty - remove unused files
	Merge Andrew - fix bug 673552: drizzle client cannot load user config files

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 673988: random failures in flush_block_commit test

2010-11-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Quick docs fix Lee requested

2010-11-11  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	I *think* sleep 0.1 is not long enough in this test and it gets out-of-sync

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - remove unused files

2010-11-12  Monty Taylor  <mordred@inaugust.com>

	Remove errmsg_notify tests - they don't actually test anything, and it
	causes our valgrind output to vomit warnings which are all inside of glib
	anyway and we can't do anything about them.

2010-11-12  Monty Taylor  <mordred@inaugust.com>

	Removed two empty files. They keep showing me warnings from bzr builddeb and
	it's driving me batty.

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 673552: drizzle client cannot load user config files

2010-11-11  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Using '~' to represent home is a shell standard, POSIX functions do not understand it.  So for home config file loading substitute it for env variable $HOME if possible (also a POSIX standard)

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Encapsulate up the cache we use in Session for tracking table proto for temp tables.

2010-11-11  Brian Aker  <brian@tangent.org>

	Encapsulate up the cache we use in Session for tracking table proto for temp
	tables.

2010-11-11  Brian Aker  <brian@tangent.org>

	Encapsulate derived tables

2010-11-11  Brian Aker  <brian@tangent.org>

	Encapsulate temporary tables.

2010-11-11  Brian Aker  <brian@tangent.org>

	Merge patch into trunk.

2010-11-10  Brian Aker  <brian@tangent.org>

	Move temp tables down to open_table class. (first pass)

2010-11-12  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 673380: can create tables with columns of type NULL 	

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	throw an error on trying to create a table with a column of type NULL. Yes, the error message here isn't ideal...

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	add tset for bug673380: CREATE TABLE AS can create a table with a column type of NULL

2010-11-11  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 672312: Some drizzle command line options are still using underscores 

2010-11-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix some drizzle client options that were still using '_' instead of '-'

2010-11-11  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - update to innodb 1.0.9

2010-11-11  Stewart Smith  <stewart@flamingspork.com>

	fix ICC build failure

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	fix the session->killed  to session->getKilled() API transition for innobase

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-10  Stewart Smith  <stewart@flamingspork.com>

	merge build fixes from innobase 1.0.7 tree

2010-11-09  Stewart Smith  <stewart@flamingspork.com>

	API change: session_killed() -> session->killed

2010-11-09  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100528131737-oate5117atm11vbz from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100528131737-oate5117atm11vbz
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	This is to fix a special case for the fix on bug #53592, where the
	err_index could be not a member of the share structure or prebuilt
	structure passed from MySQL. For now, we resort to the traditional
	way of scanning index->table for the index number.

2010-11-10  Inaam Rana  <inaam.rana@oracle.com>

	Merge Revision revid:inaam.rana@oracle.com-20100527163100-ncndxqsc23961ze2 from MySQL InnoDB
	
	Original revid:inaam.rana@oracle.com-20100527163100-ncndxqsc23961ze2
	
	Original Authors: Inaam Rana <inaam.rana@oracle.com>
	Original commit message:
	Fix the printout in for long semaphore waits to not
	list a thread doing a wait_ex as an s-lock waiter.

2010-11-10  Jimmy Yang  <jimmy.yang@oracle.com>

	Merge Revision revid:jimmy.yang@oracle.com-20100526053127-g0y0zrlcevj5z5mj from MySQL InnoDB
	
	Original revid:jimmy.yang@oracle.com-20100526053127-g0y0zrlcevj5z5mj
	
	Original Authors: Jimmy Yang <jimmy.yang@oracle.com>
	Original commit message:
	Fix Bug #53592 in plugin code, "crash replacing duplicates into table
	after fast alter table added unique key". Look up MySQL index number should
	go through index translation table.
	
	rb://347, approved by Marko

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100525123748-pmpehbg29oyhc1ns from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100525123748-pmpehbg29oyhc1ns
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Suppress bogus Valgrind warnings about buf_buddy_relocate()
	accessing uninitialized memory in Valgrind-instrumented builds.

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100524114349-5kaw52sz0yh4szkb from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100524114349-5kaw52sz0yh4szkb
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Document the Bug #53578 fix.

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100524110439-fazi70rlmt07tzd9 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100524110439-fazi70rlmt07tzd9
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Bug#53578: assert on invalid page access, in fil_io()
	
	Store the max_space_id in the data dictionary header in order to avoid
	space_id reuse.
	
	DICT_HDR_MIX_ID: Renamed to DICT_HDR_MAX_SPACE_ID, DICT_HDR_MIX_ID_LOW.
	
	dict_hdr_get_new_id(): Return table_id, index_id, space_id or a subset of them.
	
	fil_system_t: Add ibool space_id_reuse_warned.
	
	fil_create_new_single_table_tablespace(): Get the space_id from the caller.
	
	fil_space_create(): Issue a warning if the fil_system->max_assigned_id
	is exceeded.
	
	fil_assign_new_space_id(): Return TRUE/FALSE and take a pointer to the
	space_id as a parameter. Make the function public.
	
	fil_init(): Initialize all fil_system fields by mem_zalloc(). Remove
	explicit initializations of certain fields to 0 or NULL.

2010-11-09  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100525080103-1r5loasor392qiou from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100525080103-1r5loasor392qiou
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix comments on row_merge_write()
	
	This is a port of
	vasil.dimov@oracle.com-20100521175337-c1b1lqxgizqegb0w and
	vasil.dimov@oracle.com-20100521180951-mef23h24k023xuwq
	from mysql-trunk-innodb

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100520130734-ueow9mn60czp7o4m from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100520130734-ueow9mn60czp7o4m
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	buf_LRU_free_block(): Correct an error in the comment.

2010-11-09  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100520075007-trv2g54v9tsq8oam from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100520075007-trv2g54v9tsq8oam
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Merge from mysql-trunk-innodb into mysql-5.1-innodb/storage/innodb_plugin:
	
	------------------------------------------------------------
	revno: 3094
	revision-id: vasil.dimov@oracle.com-20100513074652-0cvlhgkesgbb2bfh
	parent: vasil.dimov@oracle.com-20100512173700-byf8xntxjur1hqov
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-trunk-innodb
	timestamp: Thu 2010-05-13 10:46:52 +0300
	message:
	Followup to Bug#51920, fix binlog.binlog_killed
	
	This is a followup to the fix of
	
	Bug#51920 Innodb connections in row lock wait ignore KILL until lock wait
	timeout
	
	in that fix (rb://279) the behavior was changed to honor when a trx is
	interrupted during lock wait, but the returned error code was still
	"lock wait timeout" when it should be "interrupted".
	
	This change fixes the non-deterministically failing test binlog.binlog_killed,
	that failed like this:
	
	binlog.binlog_killed 'stmt'              [ fail ]
	Test ended at 2010-05-12 11:39:08
	
	CURRENT_TEST: binlog.binlog_killed
	mysqltest: At line 208: query 'reap' failed with wrong errno 1205: 'Lock wait timeout exceeded; try restarting transaction', instead of 0...
	
	Approved by:	Sunny Bains (rb://344)
	------------------------------------------------------------

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100519080743-5myf1g7v6pfysidt from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100519080743-5myf1g7v6pfysidt
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Make UNIV_DEBUG Valgrind friendly. Use | instead of +,
	and mask out the dont-care bits in debug assertions.

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100519080152-h3555oqmu3wo95so from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100519080152-h3555oqmu3wo95so
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Silence some more bogus Valgrind warnings on non-32-bit systems. (Bug #53307)

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100519075843-4gl3uijo6cwjtcf9 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100519075843-4gl3uijo6cwjtcf9
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Add Valgrind checks to compressed BLOB access.

2010-11-09  Stewart Smith  <stewart@flamingspork.com>

	update tests from innobase merges

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100514130815-ym7j7cfu88ro6km4 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100514130815-ym7j7cfu88ro6km4
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Make the InnoDB FOREIGN KEY parser understand multi-statements. (Bug #48024)
	Also make InnoDB thinks that /*/ only starts a comment. (Bug #53644).
	
	This fixes the bugs in the InnoDB Plugin.
	
	ha_innodb.h: Use trx_query_string() instead of trx_query() when
	available (MySQL 5.1.42 or later).
	
	innobase_get_stmt(): New function, to retrieve the currently running
	SQL statement.
	
	struct trx_struct: Remove mysql_query_str. Use innobase_get_stmt() instead.
	
	dict_strip_comments(): Add and observe the parameter sql_length. Treat
	/*/ as the start of a comment.
	
	dict_create_foreign_constraints(), row_table_add_foreign_constraints():
	Add the parameter sql_length.

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512104603-vfwkgy2fgjqtohiv from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512104603-vfwkgy2fgjqtohiv
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Document the Bug #53591 fix in the ChangeLog.

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512060922-oh716ugpukfakwvh from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512060922-oh716ugpukfakwvh
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Document recent fixes in ChangeLog.

2010-11-09  Stewart Smith  <stewart@flamingspork.com>

	revno: 2661.607.83
	committer: Marko Mkel <marko.makela@oracle.com>
	branch nick: 5.1-innodb
	timestamp: Wed 2010-05-05 14:24:11 +0300
	message:
	row_merge_drop_temp_indexes(): Load the table via the dictionary cache.
	Allow multiple indexes to be dropped. (Bug #53256)
	modified:
	storage/innodb_plugin/row/row0merge.c

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100512053925-ovwmpo0838fs2roo from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100512053925-ovwmpo0838fs2roo
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	row_merge_drop_temp_indexes(): Do not reference freed memory.
	(Bug #53471)

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100505123901-xjxu93h1xnbkfkq0 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100505123901-xjxu93h1xnbkfkq0
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Merge a contribution from Ryan Mack at Facebook:
	
	Bugfix for 53290, fast unique index creation fails on duplicate null values
	
	Summary:
	Bug in the fast index creation code incorrectly considers null
	values to be duplicates during block merging.  Innodb policy is that
	multiple null values are allowed in a unique index.  Null duplicates
	were correctly ignored while sorting individual blocks and with slow
	index creation.
	
	Test Plan:
	mtr, including new test, load dbs using deferred index creation
	
	DiffCamp Revision: 110840
	Reviewed By: mcallaghan
	CC: mcallaghan, mysql-devel@lists
	Revert Plan:
	OK

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511105012-b2t7wvz6mu6bll74 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511105012-b2t7wvz6mu6bll74
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Do not demand that buf_page_t be fully initialized on 64-bit systems.
	There may be padding before buf_page_t::zip. (Bug #53307)

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100511104910-nim8kgguawpis7zo from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100511104910-nim8kgguawpis7zo
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	btr_page_split_and_insert(): Add an assertion
	suggested by Sunny Bains when reviewing Bug #52964.

2010-11-09  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100511105828-m2nrb685siixb44z from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100511105828-m2nrb685siixb44z
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Raise InnoDB Plugin version from 1.0.8 to 1.0.9.
	1.0.8 will be released in MySQL 5.1.47, so
	1.0.9 will be released in MySQL 5.1.48

2010-11-09  Stewart Smith  <stewart@flamingspork.com>

	bump innobase version number for MySQL 5.1.47 equiv. We missed the revision with this single change during import (human error)

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100504093128-44v6glupe1dsh0ug from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100504093128-44v6glupe1dsh0ug
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	btr_page_split_and_insert(): Correct the fix of Bug #52964.
	When split_rec==NULL, choose the correct node pointer key (first_rec).

2010-11-09  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100503122859-k73bl51re93o0mt4 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100503122859-k73bl51re93o0mt4
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	buf_zip_decompress(): Allow BUF_NO_CHECKSUM_MAGIC as the stamped checksum.
	buf_page_get_gen(): Assert that buf_zip_decompress() succeeds.
	Callers are not prepared for a NULL return value. (Bug #53248)

2010-11-03  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100429133750-7ggyepb4erfg8eqe from MySQL InnoDB
	
	Original revid:mmakela@bk-internal.mysql.com-20100429133750-7ggyepb4erfg8eqe
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	recv_sys_init(), recv_sys_empty_hash(): Shrink recv_sys->addr_hash.
	recv_addr_t: Turn space,page_no into bitfields to save space on 64-bit.
	This addresses Bug #53122 in the InnoDB Plugin.

2010-11-03  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100429132743-8rjjgoqbvddr2i5x from MySQL InnoDB
	
	Fix handler parts for drizzle handler.
	
	Original revid:mmakela@bk-internal.mysql.com-20100429132743-8rjjgoqbvddr2i5x
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	Reduce the next-key locking of READ UNCOMMITTED to match that of
	READ COMMITTED in the InnoDB Plugin. (Bug #48607)

2010-11-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100428103452-6btsq4xv6v1etb5b from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100428103452-6btsq4xv6v1etb5b
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Followup to vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr :
	
	Add more asserions, which I forgot.

2010-11-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100428102033-dt3caf531rs3lidr
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Followup to vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7:
	
	Address Marko's suggestions wrt the fix of
	Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table

2010-11-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7 from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100428084627-wtrmc66wqvjsdgj7
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Fix Bug#53046 dict_update_statistics_low can still be run concurrently
	on same table
	
	Protect dict_index_t::stat_n_diff_key_vals[] with an array of
	mutexes.
	
	Testing: tested all code paths under UNIV_SYNC_DEBUG
	for the one in dict_print() one has to enable the InnoDB table monitor:
	CREATE TABLE innodb_table_monitor (a int) ENGINE=INNODB;

2010-11-03  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100428063325-irts4ze9et5bsqdq from MySQL InnoDB
	
	Original revid:mmakela@bk-internal.mysql.com-20100428063325-irts4ze9et5bsqdq
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	Merge r6103 from InnoDB Plugin to the built-in InnoDB to fix Bug #53202:
	------------------------------------------------------------------------
	r6103 | marko | 2009-10-26 15:46:18 +0200 (Mon, 26 Oct 2009) | 4 lines
	Changed paths:
	M /branches/zip/row/row0ins.c
	
	branches/zip: row_ins_alloc_sys_fields(): Zero out the system columns
	DB_TRX_ID, DB_ROLL_PTR and DB_ROW_ID, in order to avoid harmless
	Valgrind warnings about uninitialized data.  (The warnings were
	harmless, because the fields would be initialized at a later stage.)
	------------------------------------------------------------------------

2010-11-03  Vasil Dimov  <vasil.dimov@oracle.com>

	Merge Revision revid:vasil.dimov@oracle.com-20100427140541-epdca22sywgpzvcu from MySQL InnoDB
	
	Original revid:vasil.dimov@oracle.com-20100427140541-epdca22sywgpzvcu
	
	Original Authors: Vasil Dimov <vasil.dimov@oracle.com>
	Original commit message:
	Do not define UNIV_DEBUG_VALGRIND when HAVE_purify because
	this results in some valgrind errors.
	
	Bug#53202 valgrind: uninitialized bytes in dtuple_print()
	has been opened to track this.

2010-11-03  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100427134738-1poi5n4hn29ndne5 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100427134738-1poi5n4hn29ndne5
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	row_merge_drop_temp_indexes(): Remove a bogus char-to-ulint cast.

2010-11-03  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100426131029-1ffja69h6n88q6bo from MySQL InnoDB
	
	Take innodb_plugin version of patch, not innobase.
	
	Original revid:marko.makela@oracle.com-20100426131029-1ffja69h6n88q6bo
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	lock_rec_queue_validate(): Disable a bogus check that
	a transaction that holds a lock on a clustered index record
	also holds a lock on the secondary index record.

2010-11-03  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100426112609-f7lgl8crw4x4sfkk from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100426112609-f7lgl8crw4x4sfkk
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	recv_sys_init(): Skip the red-black tree in Hot Backup.

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-29  Stewart Smith  <stewart@flamingspork.com>

	INNODB data_dictionary tables other than INNODB_TRX were given incorrect row count and meant that we'd segfault trying to access incorrect cached rows in innodb. We need to get the right number of rows for each table.

2010-10-27  Stewart Smith  <stewart@flamingspork.com>

	merge READ COMMITTED bug fix

2010-10-19  Stewart Smith  <stewart@flamingspork.com>

	add test for innobase bug 52663 (mysql bugs system). from the mysql tree, missed in merging revid:marko.makela@oracle.com-20100426102725-as2vc44ddykg1786 from MySQL InnoDB

2010-10-16  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-16  Stewart Smith  <stewart@flamingspork.com>

	return statement now reachable on SunStudio

2010-10-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100426102725-as2vc44ddykg1786 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100426102725-as2vc44ddykg1786
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	row_search_for_mysql(): Never try semi-consistent read in unique searches.
	They are only useful in table scans. (Bug #52663)

2010-10-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100426073949-txnbqldrl9fdlapx from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100426073949-txnbqldrl9fdlapx
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	btr_page_split_and_insert(): Silence a compiler warning
	about possibly uninitialized variable insert_left.

2010-10-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100422093342-jf9ojlzdqsdebohn from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100422093342-jf9ojlzdqsdebohn
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Correct the definition of DICT_SYS_INDEXES_NAME_FIELD.
	When row_merge_drop_temp_indexes() was reworked to drop the indexes
	via the data dictionary cache, the code was broken because it would
	read the index name from the wrong field.

2010-10-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421185359-8qaxoa2yyrpzwdd7 from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421185359-8qaxoa2yyrpzwdd7
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	btr_page_split_and_insert(): Avoid an infinite loop. (Bug #52964)
	
	btr_page_tuple_smaller(): New function, refactored from
	btr_page_split_and_insert().
	
	btr_page_get_split_rec(): Renamed from btr_page_get_sure_split_rec().
	Note that a NULL return may mean that the tuple is to be inserted into
	either the lower or upper page, to be determined by btr_page_tuple_smaller().
	
	btr_page_split_and_insert(): When btr_page_get_split_rec() returns NULL,
	invoke btr_page_tuple_smaller() to determine which half-page the tuple
	belongs to.
	
	Reviewed by Sunny Bains

2010-10-16  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421102723-0i80uezbyu0ekj5d from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421102723-0i80uezbyu0ekj5d
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	dict_create_index_step(): Be strict about DYNAMIC and COMPRESSED tables.
	Bug #50495 is about REDUNDANT and COMPACT tables, after all.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421100029-mji6lmdgvuqh96qq from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421100029-mji6lmdgvuqh96qq
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	ha_innobase::add_index(): Only check for duplicate indexes
	when the data dictionary is locked.
	This fixes a UNIV_DEBUG assertion failure in innodb-index.test.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421095033-0acvzxb8um8cms0a
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	dtuple_convert_big_rec(): Store locally any fields whose maximum length
	is less than 256 bytes. (Bug #52745)
	Add related comments and debug assertions to the "offsets"
	functions in rem0rec.c.
	Approved by Sunny Bains

2010-10-15  Stewart Smith  <stewart@flamingspork.com>

	fix check for thread in innodb_bug51920.test

2010-10-15  Stewart Smith  <stewart@flamingspork.com>

	fix trx_is_strict for drizzle

2010-10-15  Marko Makela  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me
	
	Original Authors: Marko Makela <marko.makela@oracle.com>
	Original commit message:
	dict_create_index_step(): Invoke dict_index_add_to_cache()
	in strict mode only if innodb_strict_mode is set. (Bug #50495)
	
	trx_is_strict(): New function, for checking innodb_strict_mode.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb
	
	Original Authors: Marko Mkel <marko.makela@oracle.com>
	Original commit message:
	Implement UNIV_BTR_AVOID_COPY, an optimization of page splits.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421091611-uu46iygmv5sizjru from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421091611-uu46iygmv5sizjru
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	rec_convert_dtuple_to_rec(): Correct the debug check.
	The "extern" accessor functions return zero or nonzero, not 0 or 1.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100421063916-h3gwjea7jzjilyww from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100421063916-h3gwjea7jzjilyww
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	rec_convert_dtuple_to_rec(): Add a debug check.

2010-10-15  Marko Makela  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100420201550-cax1xywvlcdshgfg from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100420201550-cax1xywvlcdshgfg
	
	Original Authors: Marko Makela <marko.makela@oracle.com>
	Original commit message:
	btr_cur_optimistic_insert(): Remove unused variable "heap".

2010-10-15  Marko Makela  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100420114222-diq7h2hiom9ww6me
	
	Original Authors: Marko Makela <marko.makela@oracle.com>
	Original commit message:
	dict_create_index_step(): Invoke dict_index_add_to_cache()
	in strict mode only if innodb_strict_mode is set. (Bug #50495)
	
	trx_is_strict(): New function, for checking innodb_strict_mode.

2010-10-15  Marko Mäkelä  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100420082908-tpako8jd4imkh1xb
	
	Original Authors: Marko Mäkelä <marko.makela@oracle.com>
	Original commit message:
	Implement UNIV_BTR_AVOID_COPY, an optimization of page splits.

2010-10-15  Marko =?ISO-8859-1?Q?M=E4kel=E4?=  <marko.makela@oracle.com>

	Merge Revision revid:marko.makela@oracle.com-20100419103603-u5pz4qc6hfhx4nua from MySQL InnoDB
	
	Original revid:marko.makela@oracle.com-20100419103603-u5pz4qc6hfhx4nua
	
	Original Authors: Marko =?ISO-8859-1?Q?M=E4kel=E4?= <marko.makela@oracle.com>
	Original commit message:
	Enable UNIV_DEBUG_VALGRIND when HAVE_purify is set.

2010-10-15  Marko Makela  <mmakela@bk-internal.mysql.com>

	Merge Revision revid:mmakela@bk-internal.mysql.com-20100415070122-1nxji8ym4mao13ao from MySQL InnoDB
	
	Original revid:mmakela@bk-internal.mysql.com-20100415070122-1nxji8ym4mao13ao
	
	Original Authors: Marko Makela <mmakela@bk-internal.mysql.com>
	Original commit message:
	storage/innodb_plugin: Relax too strict assertions about prefix
	indexed BLOBs for ROW_FORMAT=DYNAMIC and ROW_FORMAT_COMPRESSED tables
	(Bug #52746). In these tables, the locally stored prefix of a BLOB can
	be as small as 20 bytes (BTR_EXTERN_FIELD_REF_SIZE). ROW_FORMAT=REDUNDANT
	and ROW_FORMAT=COMPACT store a prefix of 768 bytes (REC_MAX_INDEX_COL_LEN).
	
	trx_undo_rec_get_col_val(): Relax the ut_ad() assertion and add a
	reference to dtuple_convert_big_rec().
	
	trx_undo_rec_get_partial_row(): Relax the ut_a() assertion that
	prompted Bug #52746.

2010-10-15  Stewart Smith  <stewart@flamingspork.com>

	can also get errno 2 or innodb_bug51920.test.... I think we have a bug here

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6960 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6960
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: buf_flush_block_cmp(): Do not mix declarations and code.
	Stick to C90, because some build platforms are not C99 yet.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6957 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6957
	
	Original Authors: vdimov
	Original commit message:
	branches/zip: Whitespace fixup

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6949 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6949
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: Add debug checks to track down Issue #461.
	
	dict_table_check_for_dup_indexes(): Add the flag tmp_ok.  If !tmp_ok,
	check that no index name starts with TEMP_INDEX_PREFIX.
	
	ha_innobase::add_index(), ha_innobase::prepare_drop_index(),
	ha_innobase::final_drop_index(): Call dict_table_check_for_dup_indexes().

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6925 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6925
	
	Also fix wait_condition for drizzle, and queries in the test.
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: Merge revisions 6921:6924 from branches/5.1:
	
	------------------------------------------------------------------------
	r6924 | mmakela | 2010-03-31 15:28:25 +0300 (Wed, 31 Mar 2010) | 1 line
	Changed paths:
	M /branches/5.1/mysql-test/innodb_bug51920.test
	
	branches/5.1: innodb_bug51920.test: Fix a race condition.
	------------------------------------------------------------------------

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6922 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6922
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: Merge revisions 6918:6921 from branches/5.1:
	
	------------------------------------------------------------------------
	r6921 | mmakela | 2010-03-31 14:33:04 +0300 (Wed, 31 Mar 2010) | 2 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb_bug51920.result
	M /branches/5.1/mysql-test/innodb_bug51920.test
	
	branches/5.1: innodb_bug51920.test: Make the test quicker and more
	deterministic.  Suggested by Vasil Dimov.
	------------------------------------------------------------------------

2010-10-15  mmakela

	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6919
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: Merge revisions 6788:6918 from branches/5.1:
	
	------------------------------------------------------------------------
	r6822 | vasil | 2010-03-15 10:17:31 +0200 (Mon, 15 Mar 2010) | 12 lines
	Changed paths:
	M /branches/5.1/row/row0sel.c
	
	branches/5.1:
	
	Typecast to silence a compiler warning:
	
	row/row0sel.c: 4548
	C4244: '=' : conversion from 'float' to 'ib_ulonglong', possible loss of data
	row/row0sel.c: 4553
	C4244: '=' : conversion from 'double' to 'ib_ulonglong', possible loss of data
	
	Reported by:	Jonas Oreland <Jonas.Oreland@Sun.COM>
	Discussed with:	Sunny Bains <sunny.bains@oracle.com>
	------------------------------------------------------------------------
	r6884 | vdimov | 2010-03-26 13:05:03 +0200 (Fri, 26 Mar 2010) | 6 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb_bug38231.test
	
	branches/5.1:
	
	Fix a non-determinism in innodb_bug38231.
	
	Reported by:	Sergey Vojtovich <svoj@Sun.COM>
	------------------------------------------------------------------------
	r6911 | vdimov | 2010-03-30 11:39:02 +0300 (Tue, 30 Mar 2010) | 2 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Whitespace fixup
	------------------------------------------------------------------------
	r6912 | vdimov | 2010-03-30 12:18:46 +0300 (Tue, 30 Mar 2010) | 2 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Whitespace fixup on line 354
	------------------------------------------------------------------------
	r6918 | mmakela | 2010-03-31 11:14:51 +0300 (Wed, 31 Mar 2010) | 6 lines
	Changed paths:
	A /branches/5.1/mysql-test/innodb_bug51920.result
	A /branches/5.1/mysql-test/innodb_bug51920.test
	M /branches/5.1/srv/srv0srv.c
	
	branches/5.1: Obey KILL during a lock wait (Bug #51920).
	
	srv_suspend_mysql_thread(), srv_lock_timeout_and_monitor_thread():
	Check trx_is_interrupted() in addition to checking the lock wait timeout.
	
	rb://279 approved by Sunny Bains
	------------------------------------------------------------------------

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6900 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6900
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: Merge c6899 from branches/innodb+:
	
	Add debug assertions to track down Bug #52360.
	hash_table_t::magic_n: Add HASH_TABLE_MAGIC_N checks, which were fully absent.
	ut_hash_ulint(): Assert table_size > 0 before division.

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6897 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6897
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: innodb_mutex_show_status(): Fix a condition
	that was accidentally negated in r6781, making SHOW ENGINE INNODB MUTEX STATUS
	display only locks with no OS waits.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6891 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6891
	
	Original Authors: vdimov
	Original commit message:
	Non-functional change: update copyright year to 2010 of the files
	that have been modified after 2010-01-01 according to svn.
	
	for f in $(svn log -v -r{2010-01-01}:HEAD |grep "^   M " |cut -b 16- |sort -u) ; do sed -i "" -E 's/(Copyright \(c\) [0-9]{4},) [0-9]{4}, (.*Innobase Oy.+All Rights Reserved)/\1 2010, \2/' $f ; done

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6875 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6875
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Wrap line at 78 column in ChangeLog.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6874 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6874
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Wrap ChangeLog at 78th column

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6873 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6873
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Use Bug#N instead of Bug #N to be consistent with the rest of the fil.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6872 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6872
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Fix ChangeLog - write only the bug title in bugs.mysql.com-related entires.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6871 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6871
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Whitespace fixup to be consistent with the rest of the file.

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6868 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6868
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: page_validate(): Check the buf[] bounds.

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6864 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6864
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: dtype_new_store_for_order_and_null_size(): Add ut_ad() on mtype.

2010-10-15  vdimov

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6861 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6861
	
	Original Authors: vdimov
	Original commit message:
	branches/zip:
	
	Merge joerg@mysql.com-20100322150231-vdq0afbqtmbs6phy from BZR,
	
	Including univ.i before mysql/plugin.h is needed to avoid this
	compiler error:
	
	o  This is how gcc puts it:
	o  > > ccache /usr/local/gcc-4.3.2/bin/gcc -static-libgcc -DHAVE_CONFIG_H -I. -I../../include -I../../include -I../../include -I../../regex -I./include -I../../sql -I. -I../../zlib    -g -O3 -march=i686   -DUNIV_LINUX -MT libinnobase_a-trx0i_s.o -MD -MP -MF .deps/libinnobase_a-trx0i_s.Tpo -c -o libinnobase_a-trx0i_s.o `test -f 'trx/trx0i_s.c' || echo './'`trx/trx0i_s.c
	o  > > In file included from ./include/univ.i:114,
	o  > >                  from trx/trx0i_s.c:36:
	o  > > ../../include/my_pthread.h:628: error: expected ')' before '*' token
	o  > > In file included from ../../include/my_pthread.h:732,
	o  > >                  from ./include/univ.i:114,
	o  > >                  from trx/trx0i_s.c:36:
	o  > > ../../include/mysql/psi/mysql_thread.h:100: error: expected specifier-qualifier-list before 'pthread_rwlock_t'
	o  > > ../../include/mysql/psi/mysql_thread.h:116: error: expected specifier-qualifier-list before 'pthread_rwlock_t'
	o  > > ../../include/mysql/psi/mysql_thread.h: In function 'inline_mysql_rwlock_init':
	o  > > ../../include/mysql/psi/mysql_thread.h:711: error: 'mysql_rwlock_t' has no member named 'm_psi'
	o  > > ../../include/mysql/psi/mysql_thread.h:716: error: 'mysql_rwlock_t' has no member named 'm_rwlock'
	o  > > .... ((continued))
	o  
	o  Intel's icc gives slightly clearer messages:
	o  > > icc -static-intel -static-libgcc -DHAVE_CONFIG_H -I. -I../../include -I../../include -I../../include -I../../regex -I./include -I../../sql -I. -I../../zlib    -O3 -g -unroll2 -ip -mp -restrict -no-ftz -no-prefetch   -DUNIV_LINUX -MT libinnobase_a-trx0i_s.o -MD -MP -MF .deps/libinnobase_a-trx0i_s.Tpo -c -o libinnobase_a-trx0i_s.o `test -f 'trx/trx0i_s.c' || echo './'`trx/trx0i_s.c
	o  > > ../../include/my_pthread.h(628): error: identifier "pthread_rwlock_t" is undefined
	o  > >   extern int rw_pr_init(rw_pr_lock_t *);
	o  > >                         ^
	o  > > 
	o  > > ../../include/mysql/psi/mysql_thread.h(100): error: identifier "pthread_rwlock_t" is undefined
	o  > >     rw_lock_t m_rwlock;
	o  > >     ^
	o  > > 
	o  > > ../../include/mysql/psi/mysql_thread.h(116): error: identifier "pthread_rwlock_t" is undefined
	o  > >     rw_pr_lock_t m_prlock;
	o  > >     ^

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6860 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6860
	
	Original Authors: jyang
	Original commit message:
	branches/zip: This is patch from Inaam that uses red-black tree
	to speed up insertions into the flush_list and thus the recovery
	process. The patch has been tested by Nokia.

2010-10-15  Stewart Smith  <stewart@flamingspork.com>

	fix merge of revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6805 - went in the wrong place.

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6858 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6858
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: innodb_read_ahead_threshold: Add missing space to help string.

2010-10-15  mmakela

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6857 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6857
	
	Original Authors: mmakela
	Original commit message:
	branches/zip: innodb_change_buffering: Correct the documentation.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6853 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6853
	
	Original Authors: marko
	Original commit message:
	branches/zip: mutex_own(), rw_lock_own(): Add attribute((warn_unused_result)).

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6830 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6830
	
	Original Authors: marko
	Original commit message:
	branches/zip: buf_page_peek_if_too_old(): Use 32-bit arithmetics
	when comparing the age of access_time to buf_LRU_old_threshold_ms.
	This fixes a bug on 64-bit systems.

2010-10-15  calvin

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6828 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6828
	
	This doesn't apply to drizzle at all - empty commit.
	
	Original Authors: calvin
	Original commit message:
	branches/zip: rename IB_HAVE_PAUSE_INSTRUCTION to
	HAVE_IB_PAUSE_INSTRUCTION in CMakeLists.txt.
	
	The rename was done as r5871, but CMakeLists.txt was
	forgotten. Also, add INNODB_RW_LOCKS_USE_ATOMICS to
	CMake.

2010-10-15  inaam

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6805 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6805
	
	Original Authors: inaam
	Original commit message:
	branches/zip issue#463
	
	Fixed compiler warning about uninitialized variable.
	
	Non-functional change.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6801 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6801
	
	Original Authors: marko
	Original commit message:
	branches/zip: mtr_memo_contains(): Relax the assertion of r6800,
	allowing mtr->state == MTR_COMMITTING.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6800 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6800
	
	Original Authors: marko
	Original commit message:
	branches/zip: Add ut_ad(mtr->state == MTR_ACTIVE) to various places.

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6799 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6799
	
	Original Authors: jyang
	Original commit message:
	branches/zip: Once change in bug #47621 merges into zip branch,
	zip only test innodb_bug44571 needs to be updated to reflect the
	column name change would be successful be done in InnoDB as well.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6798 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6798
	
	Original Authors: marko
	Original commit message:
	branches/zip: Fix and clarify the latching of some buf_block_t members.
	
	buf_block_t::check_index_page_at_flush: Note that this field is not
	protected by any mutex. Make it a separate field, not a bitfield that
	could share the machine word with other fields.
	
	buf_block_t::lock_hash_val: Note that this field is protected by
	buf_block_t::lock (or during block creation, by buf_pool_mutex and
	buf_block_t::mutex).
	
	buf_block_get_lock_hash_val(): Assert that block->lock is held by the
	current thread.
	
	Issue #465, rb://267 approved by Inaam Rana

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6793 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6793
	
	the handler patch doesn't apply to Drizzle: alter table codepath is different.
	However, we should stil have the test.
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6669:6788 from branches/5.1:
	
	------------------------------------------------------------------------
	r6774 | calvin | 2010-03-03 23:56:10 +0200 (Wed, 03 Mar 2010) | 2 lines
	Changed paths:
	M /branches/5.1/trx/trx0sys.c
	
	branches/5.1: fix bug#51653: outdated reference to set-variable
	Non functional change.
	------------------------------------------------------------------------
	r6780 | vasil | 2010-03-08 19:13:20 +0200 (Mon, 08 Mar 2010) | 4 lines
	Changed paths:
	M /branches/5.1/plug.in
	
	branches/5.1:
	
	Whitespace fixup.
	------------------------------------------------------------------------
	r6783 | jyang | 2010-03-09 17:54:14 +0200 (Tue, 09 Mar 2010) | 9 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb_bug21704.result
	A /branches/5.1/mysql-test/innodb_bug47621.result
	A /branches/5.1/mysql-test/innodb_bug47621.test
	
	branches/5.1: Fix bug #47621 "MySQL and InnoDB data dictionaries
	will become out of sync when renaming columns". MySQL does not
	provide new column name information to storage engine to
	update the system table. To avoid column name mismatch, we shall
	just request a table copy for now.
	
	rb://246 approved by Marko.
	------------------------------------------------------------------------
	r6785 | vasil | 2010-03-10 09:04:38 +0200 (Wed, 10 Mar 2010) | 11 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb_bug38231.test
	
	branches/5.1:
	
	Add the missing --reap statements in innodb_bug38231.test. Probably MySQL
	enforced the presence of those recently and the test started failing like:
	
	main.innodb_bug38231                     [ fail ]
	Test ended at 2010-03-10 08:48:32
	
	CURRENT_TEST: main.innodb_bug38231
	mysqltest: At line 49: Cannot run query on connection between send and reap
	------------------------------------------------------------------------
	r6788 | vasil | 2010-03-10 10:53:21 +0200 (Wed, 10 Mar 2010) | 8 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb_bug38231.test
	
	branches/5.1:
	
	In innodb_bug38231.test: replace the fragile sleep 0.2 that depends on timing
	with a more robust condition which waits for the TRUNCATE and LOCK commands
	to appear in information_schema.processlist. This could also break if there
	are other sessions executing the same SQL commands, but there are none during
	the execution of the mysql test.
	------------------------------------------------------------------------

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6792 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6792
	
	Original Authors: marko
	Original commit message:
	branches/zip: Copy tests from branches/5.1 that were lost in some merge.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6791 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6791
	
	Original Authors: marko
	Original commit message:
	branches/zip: Add ChangeLog entries for r6789, r6790.

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6790 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6790
	
	Original Authors: jyang
	Original commit message:
	branches/zip: Fix bug #51356: "many valgrind errors in error messages
	with concurrent ddl". Null terminate the name string returned
	from innobase_convert_identifier() call when reporting DB_DUPLICATE_KEY
	error in create_table_def().
	rb://266 approved by Marko

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6789 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6789
	
	Original Authors: jyang
	Original commit message:
	branches/zip: If a unique index is on a column prefix, such
	unique index cannot be upgrade to primary index even if there
	is no primary index already defined. Also fix possible corruption
	when initialize "ref_length" value in case there is a mismatch
	between MySQL and InnoDB primary key. Fix bug #51378: "Init
	'ref_length'  to correct value, in case an out of bound MySQL
	primary_key".
	rb://262 approved by Marko.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6787 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6787
	
	Original Authors: marko
	Original commit message:
	branches/zip: recv_parse_log_rec(): Remove a bogus assertion about page_no.
	TODO: We might also consider removing recv_max_parsed_page_no, because
	it does not make much sense with *.ibd files.
	
	recv_report_corrupt_log(), recv_scan_log_recs(): Abort when a
	corrupted log record has been found, unless innodb_force_recovery has
	been set.
	
	This fixes Issue #464.
	rb://265 approved by Heikki Tuuri

2010-10-15  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6786 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6786
	
	Currently doesn't apply to drizzle: we need to merge these tests.
	
	Original Authors: vasil
	Original commit message:
	branches/zip:
	
	Fix typo in comment

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6782 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6782
	
	Original Authors: marko
	Original commit message:
	branches/zip: fil0fil.c: Update comments on table->flags as of r6252.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6781 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6781
	
	Original Authors: marko
	Original commit message:
	branches/zip: Make SHOW ENGINE INNODB MUTEX display SUM(os_waits)
	for block mutexes and blocks.
	
	Designed by Michael and Marko. rb://188, Issue #358

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6779 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6779
	
	Original Authors: marko
	Original commit message:
	branches/zip: Fix IMPORT TABLESPACE of compressed tables.  Previously,
	a wrong parameter was passed to buf_flush_init_for_writing().
	
	fil_reset_too_high_lsns(): Set up page_zip and use it if needed.
	
	rb://264, Issue #352

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6777 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6777
	
	Original Authors: marko
	Original commit message:
	branches/zip: trx_undo_update_rec_get_update(): Silence a bogus GCC warning
	about a possibly uninitialized variable.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6773 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6773
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_raw_format(): Silence a GCC 4.4.2 warning
	of possibly uninitialized variable format_in_hex.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6771 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6771
	
	Original Authors: marko
	Original commit message:
	Document r6770.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6770 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6770
	
	Original Authors: marko
	Original commit message:
	branches/zip: Disallow duplicate index name when creating an index.
	This should fix Mantis Issue #461.
	
	innodb.test, innodb.result, innodb-index.test, innodb-index.result:
	Adjust the test result and mention that the introduced restriction
	has been reported as MySQL Bug #51451.
	
	innobase_check_index_keys(): Add a parameter for the InnoDB table and
	check that no duplicate index name is added.  Report errors by
	my_error() instead of sql_print_error().
	
	rb://260 approved by Sunny Bains

2010-10-15  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6768 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6768
	
	Original Authors: vasil
	Original commit message:
	branches/zip:
	
	Add a NOTE to the comment of btr_node_ptr_get_child_page_no()
	to prevent mysterious bugs.

2010-10-15  calvin

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6767 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6767
	
	Original Authors: calvin
	Original commit message:
	branches/zip: fix bug#51587
	Non-functional change.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6754 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6754
	
	Original Authors: marko
	Original commit message:
	branches/zip: Allocate the merge sort buffers from a heap, not stack.
	
	The merge sort can use up to 48KiB of buffers when merging blocks.
	That can cause a stack overflow, especially on 64-bit systems when not
	building with inlined functions.  This was reported as Issue #462.
	
	row_merge_dup_report(): Allocate buf and offsets from a heap.
	
	row_merge_heap_create(): Allocate space for buf[3] too. Fix bogus
	sizeof arithmetics that happened to work, because
	sizeof(ulint)==sizeof(void*).
	
	row_merge_blocks(), row_merge_blocks_copy(): Allocate buf[3] from heap.
	
	row_merge_insert_index_tuples(): Allocate buf from graph_heap.
	
	rb://258 approved and tested by Sunny Bains

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6750 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6750
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_fetch_store_uint4(): Remove unused function.
	This was added to trunk in r435.

2010-10-15  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6749 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6749
	
	Original Authors: vasil
	Original commit message:
	Non-functional change: update copyright year to 2010 of the files
	that have been modified after 2010-01-01 according to svn.
	
	for f in $(svn log -v -r{2010-01-01}:HEAD |grep "^   M " |cut -b 16- |sort -u) ; do sed -i "" -E 's/(Copyright \(c\) [0-9]{4},) [0-9]{4}, (.*Innobase Oy.+All Rights Reserved)/\1 2010, \2/' $f ; done

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6740 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6740
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Don't print the entire lock bit set if the block was not
	found in the buffer pool. Only print the bits that are set and that
	information is in the lock and not in the block.
	
	See rb://256 approved by Marko.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6728 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6728
	
	Original Authors: marko
	Original commit message:
	branches/zip: Remove UNIV_BASIC_LOG_DEBUG.
	This fixes the FILE_FLUSH_LSN printouts mentioned in Issue #341.
	Suggested by Heikki.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6727 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6727
	
	Original Authors: marko
	Original commit message:
	branches/zip: fsp_init_file_page_low(): Declare the page uninitialized
	for Valgrind.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6726 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6726
	
	Original Authors: marko
	Original commit message:
	branches/zip: FIL_PAGE_FILE_FLUSH_LSN: Note that the field is only valid
	for the first page of each ibdata* file, not *.ibd files.
	Suggested by Heikki, in connection with the LSN warning noted in Issue #341.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6724 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6724
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6613:6669 from branches/5.1:
	------------------------------------------------------------------------
	r6669 | jyang | 2010-02-11 12:24:19 +0200 (Thu, 11 Feb 2010) | 7 lines
	
	branches/5.1: Fix bug #50691, AIX implementation of readdir_r
	causes InnoDB errors. readdir_r() returns an non-NULL value
	in the case of reaching the end of a directory. It should
	not be treated as an error return.
	
	rb://238 approved by Marko
	------------------------------------------------------------------------

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6723 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6723
	
	Original Authors: marko
	Original commit message:
	branches/zip: lock_table_other_has_incompatible():
	Return an incompatible lock or NULL instead of TRUE or FALSE.
	Approved by Sunny over IM.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6718 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6718
	
	Original Authors: marko
	Original commit message:
	branches/zip: Fix a comment.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6717 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6717
	
	Original Authors: marko
	Original commit message:
	branches/zip: log_reserve_and_write_fast(): Correct a race condition
	in UNIV_LOG_LSN_DEBUG.  This could have caused Issue #440.

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6715 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6715
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Fix comment. Non functional change.

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6714 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6714
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Update the comments and fix the whitespace issues.
	See rb://255 Approved by: Marko

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6713 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6713
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Change the bit fields back to ulint. Bit fields were causing
	problems with concurrency on SMP systems because of word packing issues.
	The number of trx_t's in a system is not sufficient enough to require that
	we try and save a few bytes in the data structure.
	
	See rb://255 for details.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6712 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6712
	
	Original Authors: marko
	Original commit message:
	branches/zip: trx_lists_init_at_db_start(): Assert that the kernel_mutex
	is held by the caller.

2010-10-15  inaam

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6707 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6707
	
	Original Authors: inaam
	Original commit message:
	branches/zip
	
	ChangeLog entry for r6674.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6675 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6675
	
	Original Authors: marko
	Original commit message:
	branches/zip: Remove bogus debug assertions introduced in r6660.

2010-10-15  inaam

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6674 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6674
	
	Original Authors: inaam
	Original commit message:
	branches/zip bug# 49535
	
	This is a backport of r4924.
	mem_heap_get_size() scans all allocated blocks to calculate the total
	size of the heap. This patch introduces a new, total_size, field in
	mem_block_info_struct. This field is valid only for base block 
	(i.e.: the first block allocated for the heap) and is set to
	ULINT_UNDEFINED in other blocks.
	This considerably improves the performance of redo scan during recovery.
	
	rb://108 issue#216
	
	Approved by: Heikki
	
	------------------------------------------------------------------------

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6673 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6673
	
	Original Authors: marko
	Original commit message:
	branches/zip: Relax a debug assertion about a missing BLOB. (Issue #452)
	When rolling back an incomplete transaction in purge, tolerate missing
	BLOBs also in update undo, when undoing an INSERT by updating a delete-marked
	record, and the delete-marked record is no longer needed.
	Previously, we only tolerated missing BLOBs in insert undo.
	This merely fixes a debug assertion; the code performed correctly
	without UNIV_DEBUG.
	
	rb://249 approved by Sunny Bains.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6672 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6672
	
	Original Authors: marko
	Original commit message:
	branches/zip: Introduce thr_is_recv().

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6660 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6660
	
	Original Authors: marko
	Original commit message:
	branches/zip: Clarify the rollback of INSERT by UPDATE of delete-marked rec.
	
	row_undo_mod_remove_clust_low(): Augment the function comment.
	
	row_undo_mod_remove_clust_low(), row_undo_mod_del_mark_or_remove_sec_low(),
	row_undo_mod_del_mark_or_remove_sec(), row_undo_mod_upd_del_sec():
	Add ut_ad(node->rec_type == TRX_UNDO_UPD_DEL_REC);

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6639 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6639
	
	Original Authors: marko
	Original commit message:
	branches/zip: trx_rseg_create(): Unused function, remove.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6635 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6635
	
	Original Authors: marko
	Original commit message:
	branches/zip: Clean up after r6559.  Now that
	btr_pcur_open_with_no_init() is a macro, do not mix preprocessor
	directives in the macro invocation, because it is implementation-defined
	whether that is going to work.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6633 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6633
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6538:6613 from branches/5.1:
	
	------------------------------------------------------------------------
	r6545 | jyang | 2010-02-03 03:57:32 +0200 (Wed, 03 Feb 2010) | 8 lines
	Changed paths:
	M /branches/5.1/lock/lock0lock.c
	
	branches/5.1: Fix bug #49001, "SHOW INNODB STATUS deadlock info
	incorrect when deadlock detection aborts". Print the correct
	lock owner when recursive function lock_deadlock_recursive()
	exceeds its maximum depth LOCK_MAX_DEPTH_IN_DEADLOCK_CHECK.
	
	rb://217, approved by Marko.
	------------------------------------------------------------------------
	r6613 | inaam | 2010-02-09 20:23:09 +0200 (Tue, 09 Feb 2010) | 11 lines
	Changed paths:
	M /branches/5.1/buf/buf0buf.c
	M /branches/5.1/buf/buf0rea.c
	M /branches/5.1/include/buf0rea.h
	
	branches/5.1: Fix Bug #38901
	InnoDB logs error repeatedly when trying to load page into buffer pool
	
	In buf_page_get_gen() if we are unable to read a page (because of
	corruption or some other reason) we keep on retrying. This fills up
	error log with millions of entries in no time and we'd eventually run
	out of disk space. This patch limits the number of attempts that we
	make (currently set to 100) and after that we abort with a message.
	
	rb://241 Approved by: Heikki
	------------------------------------------------------------------------

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6631 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6631
	
	Original Authors: marko
	Original commit message:
	branches/zip: Document r6614 in ChangeLog.

2010-10-15  inaam

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6614 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6614
	
	Original Authors: inaam
	Original commit message:
	branches/plugin rb://242
	
	Let the master thread sleep if the amount of work to be done is
	calibrated as taking less than a second.
	
	Approved by: Heikki

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6612 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6612
	
	Original Authors: marko
	Original commit message:
	branches/zip: recv_recovery_rollback_active():
	Drop the temporary tables and indexes after enabling sync order checks.
	This should not make any difference. This could have been done in r6611.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6611 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6611
	
	Original Authors: marko
	Original commit message:
	branches/zip: Roll back dictionary transaction(s) before scanning *.ibd files
	
	innobase_start_or_create_for_mysql(): Roll back data dictionary
	transactions before scanning the *.ibd files. Then, data dictionary
	records can be loaded to the cache before opening the *.ibd files.
	
	recv_recovery_rollback_active(): Refactored from
	recv_recovery_from_checkpoint_finish().
	
	rb://235, committing without review, because this is needed for
	TablespaceDictionary.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6610 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6610
	
	Original Authors: marko
	Original commit message:
	branches/zip: When dropping temporary indexes and tables at startup,
	first load them to the data dictionary cache and use the normal
	routines for dropping tables or indexes.  This should reduce the
	risk of bugs and also make the code compatible with the upcoming
	TablespaceDictionary implementation.
	
	DICT_SYS_INDEXES_NAME_FIELD: The clustered index position of SYS_INDEXES.NAME.
	
	row_merge_drop_temp_indexes(): Scan SYS_INDEXES for tables containing
	temporary indexes, and load the tables as needed. Invoke
	row_merge_drop_index() to drop the indexes.
	
	row_mysql_drop_temp_tables(): Scan SYS_TABLES for temporary tables,
	load them with dict_load_table() and drop them with
	row_drop_table_for_mysql().
	
	rb://251, not yet reviewed

2010-10-15  Stewart Smith  <stewart@flamingspork.com>

	fix gcc warning 'embedding a directive within macro arguments is not portable' in row0sel.c

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6609 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6609
	
	Original Authors: marko
	Original commit message:
	branches/zip: dict_field_print_low(): Add const qualifier.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6608 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6608
	
	Original Authors: marko
	Original commit message:
	branches/zip: ha_innobase::add_index(): Check for !innodb_table.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6595 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6595
	
	Original Authors: marko
	Original commit message:
	branches/zip: btr_pcur_commit(): Unused function, remove.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6594 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6594
	
	Original Authors: marko
	Original commit message:
	branches/zip: rec_get_nth_field_offs_old():
	Replace if (!cond) ut_error; tests with ut_a(cond).

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6591 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6591
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_merge_drop_index(): Remove redundant condition
	on SYS_INDEXES.TABLE_ID.  INDEX_ID must be instance-widely unique,
	because SYS_FIELDS is not indexed by TABLE_ID.

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6560 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6560
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Remove the additional check introduced in r6534 which tries
	to check if the joining transaction has any other transactions waiting on
	its locks. This optimization results in excessive deadlocks when running
	Sysbench with a large number of threads. The function seems to return
	FALSE positives.
	
	rb://250

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6559 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6559
	
	Original Authors: marko
	Original commit message:
	branches/zip: Pass the file name and line number of the caller of the
	b-tree cursor functions to the buffer pool requests, in order to make
	the latch diagnostics more accurate.
	
	buf_page_optimistic_get_func(): Renamed to buf_page_optimistic_get().
	
	btr_page_get_father_node_ptr(), btr_insert_on_non_leaf_level(),
	btr_pcur_open(), btr_pcur_open_with_no_init(), btr_pcur_open_on_user_rec(),
	btr_pcur_open_at_rnd_pos(), btr_pcur_restore_position(),
	btr_cur_open_at_index_side(), btr_cur_open_at_rnd_pos():
	Rename the function to _func and add the parameters file, line.
	Define wrapper macros with __FILE__, __LINE__.
	
	btr_cur_search_to_nth_level(): Add the parameters file, line.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6548 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6548
	
	Original Authors: marko
	Original commit message:
	branches/zip: buf_LRU_invalidate_tablespace(): Ensure that prev_bpage
	is not relocated when freeing a compressed block.  This avoids the
	costly rescan of the LRU list.  (Bug #35077, Issue #449)
	
	At most one buffer-fix will be active at a time, affecting two blocks:
	the buf_page_t and the compressed page frame. This should not block
	the memory defragmentation in buf0buddy.c too much.  In fact, it may
	avoid unnecessary copying if also prev_bpage belongs to the tablespace
	that is being invalidated.
	
	rb://240

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6547 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6547
	
	Original Authors: marko
	Original commit message:
	branches/zip: Clean up CHECK TABLE error handling. (Issue #220)
	
	ha_innobase::change_active_index(): Clean up code formatting.
	
	ha_innobase::check(): Incorporate the code from
	row_check_table_for_mysql().  Report errors to the client connection
	instead of writing them to the error log.
	
	row_check_table_for_mysql(): Remove.
	
	row_check_index_for_mysql(): Renamed from row_scan_and_check_index().
	Let the caller initialize prebuilt, and assume that the index is usable.
	
	rb://178 approved by Sunny Bains

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6546 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6546
	
	Original Authors: jyang
	Original commit message:
	branches/zip: Relax assertion on the number of index defined
	in InnoDB must be comparable with that of MySQL to tolerate
	possible dictionary inconsistency. Fix Mantis issue #455,
	"UNIV_DEBUG+ assert ha_innodb.cc:3152 ib_num_index >= 
	mysql_num_index".
	
	rb://248 Approved by Marko.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6540 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6540
	
	Original Authors: marko
	Original commit message:
	branches/zip: ChangeLog: Document the merge of 6471:6538 from branches/5.1.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6539 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6539
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6471:6538 from branches/5.1:
	
	------------------------------------------------------------------------
	r6488 | sunny | 2010-01-21 02:55:08 +0200 (Thu, 21 Jan 2010) | 2 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Factor out test for bug#44030 from innodb-autoinc.test
	into a separate test/result files.
	------------------------------------------------------------------------
	r6489 | sunny | 2010-01-21 02:57:50 +0200 (Thu, 21 Jan 2010) | 2 lines
	Changed paths:
	A /branches/5.1/mysql-test/innodb-autoinc-44030.result
	A /branches/5.1/mysql-test/innodb-autoinc-44030.test
	
	branches/5.1: Factor out test for bug#44030 from innodb-autoinc.test
	into a separate test/result files.
	------------------------------------------------------------------------
	r6492 | sunny | 2010-01-21 09:38:35 +0200 (Thu, 21 Jan 2010) | 1 line
	Changed paths:
	M /branches/5.1/mysql-test/innodb-autoinc-44030.test
	
	branches/5.1: Add reference to bug#47621 in the comment.
	------------------------------------------------------------------------
	r6535 | sunny | 2010-01-30 00:08:40 +0200 (Sat, 30 Jan 2010) | 11 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Undo the change from r6424. We need to return DB_SUCCESS even
	if we were unable to initialize the tabe autoinc value. This is required for
	the open to succeed. The only condition we currently treat as a hard error
	is if the autoinc field instance passed in by MySQL is NULL.
	
	Previously if the table autoinc value was 0 and the next value was requested
	we had an assertion that would fail. Change that assertion and treat a value
	of 0 to mean that the autoinc system is unavailable. Generation of next
	value will now return failure.
	
	rb://237
	------------------------------------------------------------------------
	r6536 | sunny | 2010-01-30 00:13:42 +0200 (Sat, 30 Jan 2010) | 6 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Check *first_value everytime against the column max
	value and  set *first_value to next autoinc if it's > col max value.
	ie.  not rely on what is passed in from MySQL.
	
	[49497] Error 1467 (ER_AUTOINC_READ_FAILED) on inserting a negative value
	rb://236
	------------------------------------------------------------------------
	r6537 | sunny | 2010-01-30 00:35:00 +0200 (Sat, 30 Jan 2010) | 2 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Undo r6536.
	------------------------------------------------------------------------
	r6538 | sunny | 2010-01-30 00:43:06 +0200 (Sat, 30 Jan 2010) | 6 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Check *first_value every time against the column max
	value and  set *first_value to next autoinc if it's > col max value.
	ie.  not rely on what is passed in from MySQL.
	
	[49497] Error 1467 (ER_AUTOINC_READ_FAILED) on inserting a negative value
	rb://236
	------------------------------------------------------------------------

2010-10-15  sunny

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6534 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6534
	
	Original Authors: sunny
	Original commit message:
	branches/zip: Two changes to fix the problem:
	
	1. First scan the joining transaction's locks and check if no other
	transaction is waiting for a lock held by the joining transaction.
	If no other transaction is waiting then  no deadlock an occur and
	we avoid doing an exhaustive search.
	
	2. Change the direction of the lock traversal from backward to forward.
	Previously we traversed backward from the lock that has to wait, the function
	to that fetched the previous node was very inefficient resulting in O(n^2)
	access to the rec lock list.
	
	Fix Bug #49047 InnoDB deadlock detection is CPU intensive with many locks on a single row.
	
	rb://218

2010-10-15  calvin

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6533 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6533
	
	Original Authors: calvin
	Original commit message:
	branches/zip: remove duplicated copyright and license info.

2010-10-15  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6527 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6527
	
	Original Authors: vasil
	Original commit message:
	branches/zip:
	
	Extend the comment about row_mysql_handle_errors().
	
	Suggested by:	Heikki

2010-10-15  jyang

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6526 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6526
	
	This also modifies the Handler_read_key count in group_min_max test... although these stats can be rather engine specific.
	
	Original Authors: jyang
	Original commit message:
	branches/zip: Add index translation table to map mysql index
	number to InnoDB index structure directly. Fix Bug #47622:
	"the new index is added before the existing ones in MySQL,
	but after one in SE".
	
	rb://215, approved by Marko

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6525 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6525
	
	Original Authors: marko
	Original commit message:
	branches/zip: buf_LRU_invalidate_tablespace(): Do not unnecessarily
	acquire the block_mutex for every block in the LRU list. Only acquire
	it when holding buf_pool_mutex is not sufficient. This should speed up
	the function and considerably reduce traffic on the memory bus and
	caches.
	
	I noticed this deficiency when working on Issue #157.
	This deficiency popped up again in Issue #449 (Bug #35077),
	which this fix does not fully address.
	
	rb://78 revision 1 approved by Heikki Tuuri.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6521 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6521
	
	Original Authors: marko
	Original commit message:
	branches/zip: Drop temporary tables at startup.
	This addresses the third aspect of Bug #41609.
	
	row_mysql_drop_temp_tables(): New function, to drop all temporary
	tables. These can be distinguished by the least significant bit of
	MIX_LEN. However, we will skip ROW_FORMAT=REDUNDANT tables, because in
	the records for those tables, that bit may be garbage.
	
	recv_recovery_from_checkpoint_finish(): Invoke
	row_mysql_drop_temp_tables().  Normally, if the .frm files for the
	temporary tables exist at startup, MySQL will ask InnoDB to drop the
	temporary tables.  However, if the files are deleted, for instance, by
	the boot scripts of the operating system, the tables would remain in
	the InnoDB data dictionary unless someone digs them up by
	innodb_table_monitor and creates .frm files for dropping the tables.
	
	rb://221 approved by Sunny Bains.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6498 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6498
	
	Original Authors: marko
	Original commit message:
	branches/zip: buf_page_get_gen(): Obey recv_no_ibuf_operations
	and do not call ibuf_merge_or_delete_for_page() in crash recovery,
	before the redo log has been applied.
	This could cure some hard-to-repeat, hard-to-explain bugs
	related to secondary indexes.
	
	A possible recipe to repeat the bug:
	
	1. update a secondary index leaf page on a compressed table
	2. evict the page from the buffer pool while it is still dirty
	3. ibuf_insert() something for the page
	4. crash
	5. crash recovery; ibuf merge would be done too early,
	before applying redo log to the sec index page or the ibuf pages

2010-10-15  calvin

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6473 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6473
	
	This patch doesn't apply to Drizzle - no embedded server
	
	Original Authors: calvin
	Original commit message:
	branches/zip: fix bug#49396: innodb.innodb-index test fails in
	embedded mode
	
	This is 2nd part of the fix for bug#49396. The 1st part is
	innodb.test. Tested in both embedded mode and normal server mode.

2010-10-15  calvin

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6472 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6472
	
	This patch doesn't apply to our tree - no embedded server
	
	Original Authors: calvin
	Original commit message:
	branches/zip: Merge revisions 6425:6471 from branches/5.1
	to pick up the first part fix of bug49396.
	
	------------------------------------------------------------------------
	r6471 | calvin | 2010-01-15 17:43:27 -0600 (Fri, 15 Jan 2010) | 4 lines
	
	branches/5.1: fix bug#49396: main.innodb test fails in embedded mode
	
	Change replace_result by using $MYSQLD_DATADIR. Tested in both embedded
	mode and normal server mode.
	------------------------------------------------------------------------

2010-10-15  inaam

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6467 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6467
	
	Original Authors: inaam
	Original commit message:
	branches/zip rb://226
	
	log_sys->written_to_all_lsn does not accurately represent the LSN
	upto which write and flush has taken place. Under a race condition
	it can fall behind log_sys->flushed_to_disk_lsn which is accurate.
	Besides written_to_all_lsn is redundant as currently InnoDB supports
	only one log group.
	
	Approved by: Heikki

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6463 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6463
	
	Original Authors: marko
	Original commit message:
	branches/zip: page_copy_rec_list_end(), page_copy_rec_list_start():
	Update PAGE_MAX_TRX_ID before attempting to compress the page.  This
	fixes Issue #382 (a debug assertion failure in page_zip_reorganize())
	and reduces the generated redo log.  There was no bug or crash in
	non-debug builds.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6449 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6449
	
	Original Authors: marko
	Original commit message:
	branches/zip: lock_rec_validate_page(): Only validate the record
	queues when the thread is not holding a space->latch.
	
	When UNIV_DEBUG is defined while UNIV_SYNC_DEBUG is not,
	latching order violations will still occur and deadlocks will be possible.
	
	sync_thread_levels_nonempty_gen(): Renamed from
	sync_thread_levels_empty_gen().  Return the violating latch or NULL
	instead of FALSE or TRUE, except that there will be a ut_error before
	the non-NULL return.
	
	sync_thread_levels_empty_gen(): A macro that negates the return value of
	sync_thread_levels_nonempty_gen().
	
	sync_thread_levels_contains(): New function, based on
	sync_thread_levels_nonempty_gen().
	
	This should fix Issue #441.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6447 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6447
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_sel_get_clust_rec_for_mysql(): On the READ UNCOMMITTED
	isolation level, do not attempt to access a clustered index record
	that has been marked for deletion.  This fixes Issue #433.
	
	Approved by Heikki over the IM.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6446 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6446
	
	Original Authors: marko
	Original commit message:
	branches/zip: Treat mem_hash_mutex specially in mutex_free(),
	and explicitly free mem_hash_mutex in mem_close().
	This fixes the breakage of UNIV_MEM_DEBUG that was filed as Issue #434.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6445 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6445
	
	Original Authors: marko
	Original commit message:
	branches/zip: buf_pool_drop_hash_index(): Check block->page.state
	before checking block->is_hashed, because the latter may be uninitialized
	right after server startup.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6433 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6433
	
	Original Authors: marko
	Original commit message:
	branches/zip: dict_sys_tables_get_flags(), dict_create_sys_*_tuple():
	Add some const qualifiers and comments.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6426 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6426
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_sel_sec_rec_is_for_clust_rec(): Document the return value
	more accurately.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6425 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6425
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6350:6424 from branches/5.1:
	
	------------------------------------------------------------------------
	r6421 | jyang | 2010-01-12 07:59:16 +0200 (Tue, 12 Jan 2010) | 8 lines
	Changed paths:
	M /branches/5.1/row/row0mysql.c
	
	branches/5.1: Fix bug #49238: Creating/Dropping a temporary table
	while at 1023 transactions will cause assert. Handle possible
	DB_TOO_MANY_CONCURRENT_TRXS when deleting metadata in
	row_drop_table_for_mysql().
	
	rb://220, approved by Marko
	------------------------------------------------------------------------
	r6422 | marko | 2010-01-12 11:34:27 +0200 (Tue, 12 Jan 2010) | 3 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/handler/ha_innodb.h
	
	branches/5.1: Non-functional change:
	Make innobase_get_int_col_max_value() a static function.
	It does not access any fields of class ha_innobase.
	------------------------------------------------------------------------
	r6424 | marko | 2010-01-12 12:22:19 +0200 (Tue, 12 Jan 2010) | 16 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/handler/ha_innodb.h
	
	branches/5.1: In innobase_initialize_autoinc(), do not attempt to read
	the maximum auto-increment value from the table if
	innodb_force_recovery is set to at least 4, so that writes are
	disabled. (Bug #46193)
	
	innobase_get_int_col_max_value(): Move the function definition before
	ha_innobase::innobase_initialize_autoinc(), because that function now
	calls this function.
	
	ha_innobase::innobase_initialize_autoinc(): Change the return type to
	void.  Do not attempt to read the maximum auto-increment value from
	the table if innodb_force_recovery is set to at least 4.  Issue
	ER_AUTOINC_READ_FAILED to the client when the auto-increment value
	cannot be read.
	
	rb://144 by Sunny, revised by Marko
	------------------------------------------------------------------------

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6367 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6367
	
	Original Authors: marko
	Original commit message:
	branches/zip: dict_index_add_to_cache(): Always free the index object,
	also when returning DB_CORRUPTION.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6364 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6364
	
	Original Authors: marko
	Original commit message:
	branches/zip: ibuf_bitmap_get_map_page():
	Define a wrapper macro that passes __FILE__, __LINE__ of the caller
	to buf_page_get_gen().
	This will ease the diagnosis of the likes of Issue #135.

2010-10-15  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6352 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6352
	
	We don't seem to have innodb-autoinc.test, so I created the test for the innobase plugin with these added bits only.
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge revisions 6206:6350 from branches/5.1,
	except r6347, r6349, r6350 which were committed separately
	to both branches, and r6310, which was backported from zip to 5.1.
	
	------------------------------------------------------------------------
	r6206 | jyang | 2009-11-20 09:38:43 +0200 (Fri, 20 Nov 2009) | 3 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Non-functional change, fix formatting.
	------------------------------------------------------------------------
	r6230 | sunny | 2009-11-24 23:52:43 +0200 (Tue, 24 Nov 2009) | 3 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb-autoinc.result
	
	branches/5.1: Fix autoinc failing test results.
	(this should be skipped when merging 5.1 into zip)
	------------------------------------------------------------------------
	r6231 | sunny | 2009-11-25 10:26:27 +0200 (Wed, 25 Nov 2009) | 7 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	M /branches/5.1/row/row0sel.c
	
	branches/5.1: Fix BUG#49032 - auto_increment field does not initialize to last value in InnoDB Storage Engine.
	
	We use the appropriate function to read the column value for non-integer
	autoinc column types, namely float and double.
	
	rb://208. Approved by Marko.
	------------------------------------------------------------------------
	r6232 | sunny | 2009-11-25 10:27:39 +0200 (Wed, 25 Nov 2009) | 2 lines
	Changed paths:
	M /branches/5.1/row/row0sel.c
	
	branches/5.1: This is an interim fix, fix white space errors.
	------------------------------------------------------------------------
	r6233 | sunny | 2009-11-25 10:28:35 +0200 (Wed, 25 Nov 2009) | 2 lines
	Changed paths:
	M /branches/5.1/include/mach0data.h
	M /branches/5.1/include/mach0data.ic
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	M /branches/5.1/row/row0sel.c
	
	branches/5.1: This is an interim fix, fix tests and make read float/double arg const.
	------------------------------------------------------------------------
	r6234 | sunny | 2009-11-25 10:29:03 +0200 (Wed, 25 Nov 2009) | 2 lines
	Changed paths:
	M /branches/5.1/row/row0sel.c
	
	branches/5.1: This is an interim fix, fix whitepsace issues.
	------------------------------------------------------------------------
	r6235 | sunny | 2009-11-26 01:14:42 +0200 (Thu, 26 Nov 2009) | 9 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Fix Bug#47720 - REPLACE INTO Autoincrement column with negative values.
	
	This bug is similiar to the negative autoinc filter patch from earlier,
	with the additional handling of filtering out the negative column values
	set explicitly by the user.
	
	rb://184
	Approved by Heikki.
	------------------------------------------------------------------------
	r6242 | vasil | 2009-11-27 22:07:12 +0200 (Fri, 27 Nov 2009) | 4 lines
	Changed paths:
	M /branches/5.1/export.sh
	
	branches/5.1:
	
	Minor changes to support plugin snapshots.
	------------------------------------------------------------------------
	r6306 | calvin | 2009-12-14 15:12:46 +0200 (Mon, 14 Dec 2009) | 5 lines
	Changed paths:
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: fix bug#49267: innodb-autoinc.test fails on windows
	because of different case mode
	
	There is no change to the InnoDB code, only to fix test case by
	changing "T1" to "t1".
	------------------------------------------------------------------------
	r6324 | jyang | 2009-12-17 06:54:24 +0200 (Thu, 17 Dec 2009) | 8 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/include/lock0lock.h
	M /branches/5.1/include/srv0srv.h
	M /branches/5.1/lock/lock0lock.c
	M /branches/5.1/log/log0log.c
	M /branches/5.1/srv/srv0srv.c
	M /branches/5.1/srv/srv0start.c
	
	branches/5.1: Fix bug #47814 - Diagnostics are frequently not
	printed after a long lock wait in InnoDB. Separate out the
	lock wait timeout check thread from monitor information
	printing thread.
	
	rb://200 Approved by Marko.
	------------------------------------------------------------------------

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6351 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6351
	
	Original Authors: marko
	Original commit message:
	branches/zip: Remove an obsolete declaration of LOCK_thread_count.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6348 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6348
	
	Original Authors: marko
	Original commit message:
	branches/zip: Merge a change from MySQL:
	------------------------------------------------------------
	revno: 3236
	committer: Satya B <satya.bn@sun.com>
	branch nick: mysql-5.1-bugteam
	timestamp: Tue 2009-12-01 17:48:57 +0530
	message:
	merge to mysql-5.1-bugteam
	------------------------------------------------------------
	revno: 3234.1.1
	committer: Gleb Shchepa <gshchepa@mysql.com>
	branch nick: mysql-5.1-bugteam
	timestamp: Tue 2009-12-01 14:38:40 +0400
	message:
	Bug #38883 (reopened): thd_security_context is not thread safe, crashes?
	
	manual merge 5.0-->5.1, updating InnoDB plugin.
	------------------------------------------------------------
	revno: 1810.3968.13
	committer: Gleb Shchepa <gshchepa@mysql.com>
	branch nick: mysql-5.0-bugteam
	timestamp: Tue 2009-12-01 14:24:44 +0400
	message:
	Bug #38883 (reopened): thd_security_context is not thread safe, crashes?
	
	The bug 38816 changed the lock that protects THD::query from
	LOCK_thread_count to LOCK_thd_data, but didn't update the associated
	InnoDB functions.
	
	1. The innobase_mysql_prepare_print_arbitrary_thd and the
	innobase_mysql_end_print_arbitrary_thd InnoDB functions have been
	removed, since now we have a per-thread mutex: now we don't need to wrap
	several inter-thread access tries to THD::query with a single global
	LOCK_thread_count lock, so we can simplify the code.
	
	2. The innobase_mysql_print_thd function has been modified to lock
	LOCK_thd_data in direct way.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6346 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6346
	
	Original Authors: marko
	Original commit message:
	branches/zip: recv_recovery_from_checkpoint_finish():
	Revert a change that was accidentally committed in r6345.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6345 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6345
	
	Original Authors: marko
	Original commit message:
	branches/zip: recv_scan_log_recs(): Non-functional change: Replace a
	debug assertion ut_ad(len > 0) with ut_ad(len >= OS_FILE_LOG_BLOCK_SIZE).
	
	This change is only for readability, for Issue #428.  Another
	assertion on len being an integer multiple of OS_FILE_LOG_BLOCK_SIZE
	already ensured together with the old ut_ad(len > 0) that actually len
	must be at least OS_FILE_LOG_BLOCK_SIZE.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6321 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6321
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_merge_drop_temp_indexes(): Revert a hack to
	transaction isolation level that was made unnecessary by r5826 (Issue #337).
	When this function is called, any active data dictionary transaction
	should have been rolled back.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6312 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6312
	
	Original Authors: marko
	Original commit message:
	branches/zip: fil_close(): Add #ifndef UNIV_HOTBACKUP around a debug
	assertion on mutex.magic_n.  InnoDB Hot Backup is a single-threaded
	program and does not contain mutexes.  This change allows InnoDB Hot
	Backup to be compiled with UNIV_DEBUG.
	
	Suggested by Michael Izioumtchenko.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6309 from MySQL InnoDB
	
	This was already applied in drizzle
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6309
	
	Original Authors: marko
	Original commit message:
	branches/zip: lock_rec_insert_check_and_lock(): Avoid casting away constness.
	Use page_rec_get_next_const() instead. This silences a gcc 4.2.4 warning.
	Reported by Sunny Bains.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6305 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6305
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_undo_mod_del_unmark_sec_and_undo_update(): Add a missing
	const qualifier.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6288 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6288
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_upd_copy_columns(): Remove redundant code that was
	accidentally added in r1591, which introduced dfield_t::ext in order
	to make the merge sort of fast index creation support externally
	stored columns.
	
	Initially, I tried to allocate the bit for dfield_t::ext from
	dfield_t::len by making the length 31 bits and mapping UNIV_SQL_NULL
	to something that would fit in it.  Then I decided that it would be
	too risky.  The redundant check was part of the mapping.  The
	condition may have been dfield_is_null() initially.
	
	This is similar to the redundant code in row_sel_fetch_columns() that
	was noticed by Sergey Petrunya on the MySQL internals list and removed
	in r6285.  As far as I can tell, there are no redundant UNIV_SQL_NULL
	assignments remaining after this change.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6285 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6285
	
	Original Authors: marko
	Original commit message:
	branches/zip: row_sel_fetch_columns(): Remove redundant code that was
	accidentally added in r1591, which introduced dfield_t::ext in order
	to make the merge sort of fast index creation support externally
	stored columns,
	
	Initially, I tried to allocate the bit for dfield_t::ext from
	dfield_t::len by making the length 31 bits and mapping UNIV_SQL_NULL
	to something that would fit in it.  Then I decided that it would be
	too risky.  The redundant check was part of the mapping.  The
	condition may have been dfield_is_null() initially.
	
	This redundant code was noticed by Sergey Petrunya on the MySQL
	internals list.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6277 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6277
	
	Original Authors: marko
	Original commit message:
	branches/zip: fsp0fsp.c: Add some missing in/out and const qualifiers.

2010-10-14  pekka

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6275 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6275
	
	Original Authors: pekka
	Original commit message:
	branches/zip: Minor changes which allow build with UNIV_HOTBACKUP
	defined to succeed:
	
	include/trx0sys.h: Allow Hot Backup build to see some
	TRX_SYS_DOUBLEWRITE_... macros. 
	trx/trx0sys.c:     Exclude trx_sys_close() function from Hot Backup build.
	log/log0recv.[ch]: Exclude recv_sys_var_init() function from Hot Backup build.
	
	This change should not affect !UNIV_HOTBACKUP build.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6274 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6274
	
	Original Authors: marko
	Original commit message:
	branches/zip: dict_table_check_for_dup_indexes(): Assert that the
	data dictionary mutex is being held while table->indexes is accessed.
	This is already the case.
	
	Currently, only dict_table_get_next_index() and dict_table_get_first_index()
	are being invoked without holding dict_sys->mutex.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6272 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6272
	
	Original Authors: marko
	Original commit message:
	branches/zip: Revert changes that were accidentally committed in r6271.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6271 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6271
	
	Original Authors: marko
	Original commit message:
	branches/zip: ChangeLog: Document that since r6270, the zlib version number
	will be displayed at start-up.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6270 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6270
	
	Original Authors: marko
	Original commit message:
	branches/zip: innobase_start_or_create_for_mysql(): Log the zlib version.

2010-10-14  marko

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6269 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6269
	
	Original Authors: marko
	Original commit message:
	branches/zip: innobase_start_or_create_for_mysql(): UNIV_IBUF_DEBUG
	should not break crash recovery, but UNIV_IBUF_COUNT_DEBUG will.

2010-10-14  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6264 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6264
	
	Original Authors: vasil
	Original commit message:
	branches/zip: Add ChangeLog entry for the release of 1.0.6.

2010-10-14  vasil

	Merge Revision revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6263 from MySQL InnoDB
	
	Original revid:svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6263
	
	Original Authors: vasil
	Original commit message:
	branches/zip: Increment version number from 1.0.6 to 1.0.7
	
	1.0.6 has been released

2010-10-14  Stewart Smith  <stewart@flamingspork.com>

	Make innobase/srv/srv0start.c io_handler_thread() exit the same way MySQL innobase now does.
	
	see http://bugs.mysql.com/bug.php?id=57397
	
	Jimmy Yang mentioned they fixed it in their tree like this.
	
	Jimmy says:
	Most I/O-handler threads are exited in following stack:
	
	#0  os_thread_exit
	#1  os_event_wait_low 
	#2  os_aio_simulated_handle
	#3  fil_aio_wait 
	#4  io_handler_thread
	
	And original coding in io_handler_thread() also shows it will never exit the for() loop.
	
	We modified the code as following to make the code look like exitable:
	
	-	for (i = 0;; i++) {
	+	while (srv_shutdown_state != SRV_SHUTDOWN_EXIT_THREADS) {
	
	Still most I/O hanlder thread will exit as in above stack. However, thr_local_free() is
	really not necessary, as thr_local_create() is not called for these threads.

2010-11-10  Brian Aker  <brian@tangent.org>

	Merge in changes from Monty for sys var.

2010-11-10  Monty Taylor  <mordred@inaugust.com>

	Build the ChangeLog during autorun - same time as we do all the rest of the
	bzr interaction.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	And one more.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	Cleaned up another debugging leftover.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	Reverted a debugging change that snuck in.
	Added a file to POTFILES.in.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	Update MyISAM to use new sys_var.

2010-11-09  Monty Taylor  <mordred@inaugust.com>

	Update to support default values and properly throw warnings on value
	truncation.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	MyISAM.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	blitzdb.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Multi-thread

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Converted transaction_log.

2010-11-04  Monty Taylor  <mordred@inaugust.com>

	io_capacity.

2010-11-04  Monty Taylor  <mordred@inaugust.com>

	doublewrite.

2010-11-04  Monty Taylor  <mordred@inaugust.com>

	More options.

2010-11-10  Brian Aker  <brian@tangent.org>

	Rollup patch around using shared_ptr with Table messages.

2010-11-10  Brian Aker  <brian@tangent.org>

	Remove print helper methods.

2010-11-09  Brian Aker  <brian@tangent.org>

	Merge in tree for shared_ptr work.

2010-11-09  Brian Aker  <brian@tangent.org>

	Update so that we use shared_ptr from the cache throughout more of the
	system.

2010-11-09  Brian Aker  <brian@tangent.org>

	Check simple cache performance hit.

2010-11-08  Brian Aker  <brian@tangent.org>

	Rehash the size on the actual table cache as well.

2010-11-08  Brian Aker  <brian@tangent.org>

	Adding operators to print table, transaction.

2010-11-08  Brian Aker  <brian@tangent.org>

	Have the SE go through the Session API for tables to directly find the table
	share message. Right now all engines happen to store the definition there,
	but this is not a requirement of the API (so this could go bad...).

2010-11-09  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-11-07  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-11-09  patrick crews  <gleebix@gmail.com>

	Rollup merge of Andrew's patches

2010-11-09  Brian Aker  <brian@tangent.org>

	Merge in Andrew's fix

2010-11-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix warning in test case

2010-11-09  Brian Aker  <brian@tangent.org>

	Merge in Andrew.

2010-11-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add test cases

2010-11-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add FLUSH GLOBAL STATUS; command
	Clears the global status variables for the server

2010-11-09  Brian Aker  <brian@tangent.org>

	Merge in Andrew.

2010-11-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Another attempt at fixing this

2010-11-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix deprecated boost function

2010-11-08  Brian Aker  <brian@tangent.org>

	Merge Monty.

2010-11-08  Monty Taylor  <mordred@inaugust.com>

	Allow plugin-add to accept dashes in the plugin name.

2010-11-08  Brian Aker  <brian@tangent.org>

	Merge in change to handle update follbacks in slap.

2010-11-08  Brian Aker  <brian@tangent.org>

	Cleanup of dead bits in table definition cache.

2010-11-08  Brian Aker  <brian@tangent.org>

	Move event cleanup out to the destructor.

2010-11-08  Brian Aker  <brian@tangent.org>

	Remove a bunch of dead code from within table share.

2010-11-08  Brian Aker  <brian@tangent.org>

	Encapsulation around locking/kill

2010-11-08  Brian Aker  <brian@tangent.org>

	Enapsulate Kill.

2010-11-08  Brian Aker  <brian@tangent.org>

	Rename lock methods to be style + well make sense.

2010-11-08  Brian Aker  <brian@tangent.org>

	Cleanup goto

2010-11-08  Brian Aker  <brian@tangent.org>

	Merge in changes such that lock is now broken out into its own directory.

2010-11-08  Brian Aker  <brian@tangent.org>

	Push some functions behind classes.

2010-11-08  Brian Aker  <brian@tangent.org>

	Second pass on move code to global lock encapsulation.

2010-11-07  Brian Aker  <brian@tangent.org>

	First pass through the global lock refactor merge.

2010-11-08  Brian Aker  <brian@tangent.org>

	Merge in Stewart's change to blob field size.

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	change dynamic_cast in field_conv.cc back to static_cast for runtime performance

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	in field_conv.cc, get_copy_func should not try to cast Field_blob to Field_varstring as Field_ blob does not inherit from field_varstring. Previously this kinda worked out due to the first member of field_blob kinda making sense in this comparison. Instead, we just shortcut to that decision if we are converting from BLOB.

2010-11-08  Stewart Smith  <stewart@flamingspork.com>

	change cast in field_conv.cc that was producing valgrind warning to dynamic_cast to crash on invalid cast. this shows up in several tests: e.g. func_gconcat

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2009-12-09  Stewart Smith  <stewart@flamingspork.com>

	remove last bits of packlength from Field_blob, leaving only support for 4 byte length for blobs (not 1, not 2 and certainly not 3).

2009-12-09  Stewart Smith  <stewart@flamingspork.com>

	remove Field_blob constructor that had set_packflag argument being called in Item::tmp_table_field_from_field_type(). This would cause a Field_blob to be created that used 3 bytes instead of 4 for length... potentially causing all sorts of trouble

2009-12-09  Stewart Smith  <stewart@flamingspork.com>

	remove Field_blob constructor that only takes packlength as argument. It's never even called

2009-12-09  Stewart Smith  <stewart@flamingspork.com>

	remove blob_pack_length argument to Field_blob constructor.

2010-11-08  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 672327: Problem with signal handler inside of drizzle client

2010-11-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Keep dtr client connection alive during lengthy drizzleslap tests (made longer when using valgrind)
	Fix valgrind sig handler warnings in libdrizzle

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Cleanup counter_thread for slap, and remove the need to track the count of threads by doing a join to harvest.
	Merge Andrew - fix bug 653240: drizzle command line client reads copious amounts of data into RAM before sending commands 
	Merge Andrew - fix bug 672074: buffer overrun in LineBuffer

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Cleanup counter_thread for slap, and remove the need to track the count of threads by doing a join to harvest.

2010-11-07  Brian Aker  <brian@tangent.org>

	Cleanup counter_thread for slap, and remove the need to track the count of
	threads by doing a join to harvest.

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 653240: drizzle command line client reads copious amounts of data into RAM before sending commands 
	Merge Andrew - fix bug 672074: buffer overrun in LineBuffer

2010-11-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix comment in pandora boost iostreams

2010-11-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Re-write of linebuffer to stop buffer overrrun and hopefully improve performance
	Error if max_line_length hit instead of eating into RAM

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Fix bug 616466: auto_increment and PBMS problem - adds test case for this, can no longer reproduce the problem
	Merge Stewart - fix bug 621755: blitzdb dictionary not updated after alter table
	Merge Stewart - fix bug 668880: remove use of exit in archive storage engine
	Merge Gustaf - replace macros functions

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - Fix bug 616466: auto_increment and PBMS problem - adds test case for this, can no longer reproduce the problem

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	add pbms plugin_ms.cc to po/POTFILES.in

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	add a VERY basic PBMS test. doesn't even check if data comes out, only that it goes in

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	fix PBMS port variable to also be a command line option. Also add this to the master.opt for the PBMS test suite so that we'll start PBMS with our port number and won't conflict with 8080

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	allocate a port number in test-run.pl for PBMS

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	add master.opt file for PBMS test suite

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	add test for bug lp:616466 - auto_increment crash for PBMS

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 621755: blitzdb dictionary not updated after alter table

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	BlitzDB: update table name in table proto for a table during doRenameTable(). We do this before any of the renaming so the error paths are simpler.

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	add test for bug lp:621755 blitzdb dictionary not updated after alter table

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 668880: remove use of exit in archive storage engine

2010-11-07  Stewart Smith  <stewart@flamingspork.com>

	fix ARCHIVE storage engine calling exit (lintian warning). Was because we were linking in libinternal into libazio, which links into archive plugin. Just link libinternal into the command line utilities.

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf - replace macros functions

2010-11-06  Gustaf Thorslund  <gustaf@thorslund.org>

	Replaced some more macro functions.

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - including adapting and expanding the "differences from mysql" page from the wiki.
	Merge Stewart - fix bug 668143: drizzleslap with --commit runs second iteration data load in a transaction

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - including adapting and expanding the "differences from mysql" page from the wiki.

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	few cleanup to Differences between Drizzle and mySQL documentation

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	add section on notable differences from MySQL

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	jazz up what_is_drizzle

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	slightly fill out the SHOW documentation

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	flesh out the KILL documentation

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-07  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 668143: drizzleslap with --commit runs second iteration data load in a transaction

2010-11-05  Stewart Smith  <stewart@flamingspork.com>

	merge fixes

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk and drizzleslap solaris compiler warning fixes

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	merge drizzleslap client test

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	update drizzleslap test results for fixing autocommit=0 being present in connection that loads data

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	merge drizzleslap displaying connection ids in --only-print

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-29  Stewart Smith  <stewart@flamingspork.com>

	fix drizzleslap test results so that the autocommit isn't in the log of queries run

2010-10-29  Stewart Smith  <stewart@flamingspork.com>

	don't set autocommit to 0 for connection to server that loads data. otherwise on second iteration, when running with commit_count, you get your rows loaded, but not committed

2010-11-06  Brian Aker  <brian@tangent.org>

	Rollup merge of iocache work.

2010-11-06  Brian Aker  <brian@tangent.org>

	Additional io_cache encapsulation.

2010-11-06  Brian Aker  <brian@tangent.org>

	Encapsulation of IO_CACHE.

2010-11-06  Brian Aker  <brian@tangent.org>

	Filesort encapsulation, plus modification to copy contructor

2010-11-05  Brian Aker  <brian@tangent.org>

	Merge in encapsulations in filesort.

2010-11-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Adding FileSort class, merge in catalog tree
	Merge Joe - fix bug 670971: InnoDB does not complete shutdown with transaction log enabled

2010-11-05  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Adding FileSort class, merge in catalog tree

2010-11-05  Brian Aker  <brian@tangent.org>

	Merge in catalog tree.

2010-11-04  Brian Aker  <brian@tangent.org>

	Additional private bits in tableshare.

2010-11-04  Brian Aker  <brian@tangent.org>

	Make private portions of TableShare

2010-11-04  Brian Aker  <brian@tangent.org>

	Merge in change to have just a single function for both
	schema/identifierMerge in change to have just a single function for both
	schema/identifier..

2010-11-05  Brian Aker  <brian@tangent.org>

	Filesort fix.

2010-11-04  Brian Aker  <brian@tangent.org>

	Adding FileSort class.

2010-11-05  Lee Bieber  <kalebral@gmail.com>

	Merge Joe - fix bug 670971: InnoDB does not complete shutdown with transaction log enabled

2010-11-04  Joseph Daly  <skinny.moey@gmail.com>

	close the transaction after a id is allocated

2010-11-05  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug #663765: Some unittests are won't compile in GCC 4.5
	Merge Andrew - Add a GLOBAL UPPER bound to cap SORT BUFFER memory use

2010-11-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add missing result file (forgot to commit)

2010-11-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix disabled test case failure

2010-11-05  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix global join constraing accounting issue
	Redo join buffer test

2010-11-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix one test case, disable 2 others.  Drizzleslap error condition is now platform dependant so cannot be used

2010-11-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix drizzleslap error codes in test cases

2010-11-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-11-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix breakage on 32bit boxes

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix copyright

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix lint errors

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix table already exists problem in test cases

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Doh!  Fix distcheck properly this time!

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix include for distcheck

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Document new options (also fix another option in documentation)

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add read buffer constraint test

2010-11-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add test cases for all but read buffer constraint

2010-10-31  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add global constraint on read buffer

2010-10-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add global constraint for --read-rnd-buffer-size

2010-10-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add join cache global constraint

2010-10-22  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Change default setting
	Don't allow it to be less than sort-buffer-size
	Move to pre-alloc for sort buffer

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add error message for global sort buffer constraint

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix global sort buffer usage calculation

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix more unittests GCC 4.5 bugs

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix global_buffer test

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix atomics uinttests GCC 4.5 failure

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add initial template work and test

2010-11-04  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Merge of partial set of patches for locks

2010-11-04  Brian Aker  <brian@tangent.org>

	Merge of partial set of patches for locks.

2010-11-04  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Added a readonly sys_var_constrianed_value. Converted a few more options to use sys_var.

2010-11-03  Monty Taylor  <mordred@inaugust.com>

	Replace optional max/min args with mandatory args. There is just no way to
	default them to something sensible. The _one_ case where someone needs to
	set a max an not a min can just suck it.

2010-11-02  Monty Taylor  <mordred@inaugust.com>

	haildb.buffer_pool_size

2010-11-01  Monty Taylor  <mordred@inaugust.com>

	haildb.autoextend_increment

2010-11-01  Monty Taylor  <mordred@inaugust.com>

	Finished some haildb sys_var conversion.

2010-11-01  Monty Taylor  <mordred@inaugust.com>

	Fixed default min/max values to use numeric_limits.

2010-10-30  Monty Taylor  <mordred@inaugust.com>

	Added readonly constrained_value class.

2010-11-04  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - print connection id in --only-print for drizzleslap.

2010-11-04  Stewart Smith  <stewart@flamingspork.com>

	cast connection id correctly (solaris complier complains)

2010-11-04  Stewart Smith  <stewart@flamingspork.com>

	cast connection id correctly (solaris complier complains)

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix connection_count to be size_t instead of uint32_t to work on solaris

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix warning on solaris for drizzleslap connection count. use size_t instead of uint32_t as this will always fit properly into void*

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix drizzleslap modifications for connection count for updated drizzleslap

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	also remove temp file

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	add test for drizzleslap output being consumed by a drizzle command line client

2010-11-01  Stewart Smith  <stewart@flamingspork.com>

	for drizzleslap --only-print, display which connection (an incrementing number, stored in the client context of the drizzle obj) the query is going against.

2010-11-04  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - some very simple HailDB plugin docs.
	Merge Patrick - fix bug 666548: Several tests that make use of hard-coded paths for INFILE commands are failing when test-run used with --mem
	Merge Stewart - fix some warnings when making docs.

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - some very simple HailDB plugin docs.

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	add some HailDB documentation

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	add some innobase plugin docs

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	docs: have proper subsections on main index page, also include more information about drizzle straight from drizzle.org

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 666548: Several tests that make use of hard-coded paths for INFILE commands are failing when test-run used with --mem

2010-11-03  patrick crews  <gleebix@gmail.com>

	Merge trunk

2010-11-03  patrick crews  <gleebix@gmail.com>

	Recorded func_str.result file after changes to test file

2010-11-03  patrick crews  <gleebix@gmail.com>

	Tweak of func_str.test

2010-11-03  patrick crews  <gleebix@gmail.com>

	Tweak func_str and outfile to deal with the limitations of only 128 chars available for filename + path in error messages

2010-11-03  patrick crews  <gleebix@gmail.com>

	Tweaked outfile .test + .result to avoid use of variable output

2010-11-02  patrick crews  <gleebix@gmail.com>

	Tweaked a couple of tests to deal with failures caused by error message truncation when path names were in the 100 char range.  The truncation caused diffs

2010-10-26  patrick crews  <gleebix@gmail.com>

	Truncated file name as long paths were causing error messages to be trimmed / causing diffs and errors over this

2010-10-25  patrick crews  <gleebix@gmail.com>

	Updated tests to use variable vardir rather than a hard-coded one

2010-10-25  patrick crews  <gleebix@gmail.com>

	Updated tests to use variable vardir rather than a hard-coded one

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix some warnings when making docs.

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for libdrizzle/result.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for what_is_drizzle.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for update.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for transactional.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for replace.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: underline/overline too short for queries.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix more docs warnings: underline/overline too short

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: Title underline (and overline) is too short in brief_history_of_drizzle.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: Title underline is too short in insert.rst

2010-11-03  Stewart Smith  <stewart@flamingspork.com>

	fix docs warning: docs/unlock.rst:2: (WARNING/2) Title underline too short.

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - refactor lex

2010-11-03  Brian Aker  <brian@tangent.org>

	Merge in trunk.

2010-11-02  Brian Aker  <brian@tangent.org>

	Make private method in session.

2010-11-02  Brian Aker  <brian@tangent.org>

	Remove dead method from session.

2010-11-02  Brian Aker  <brian@tangent.org>

	Remove dead function

2010-11-02  Brian Aker  <brian@tangent.org>

	Partial encapsulation of lex_start.

2010-11-02  Brian Aker  <brian@tangent.org>

	Remove if() around delete.

2010-11-02  Brian Aker  <brian@tangent.org>

	Move lex_end to be class member.

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf - Replaced macros with functions/templates
	Merge Patrick - fix bug 669698: Need sphinx documentation for test-run.pl
	Merge Toru - fix blitzdb VARCHAR issue

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf - Replaced macros with functions/templates

2010-11-03  Gustaf Thorslund  <gustaf@thorslund.org>

	Reverted edits of sha1.cc

2010-11-02  Gustaf Thorslund  <gustaf@thorslund.org>

	Removed a fixme!!! since it shouldn't have been there anymore.

2010-11-02  Gustaf Thorslund  <gustaf@thorslund.org>

	Replaced one more macro with a template.

2010-11-02  Gustaf Thorslund  <gustaf@thorslund.org>

	Replaced macros with functions/templates. Part of blueprint:
	https://blueprints.edge.launchpad.net/drizzle/+spec/replace-macro-functions/

2010-11-01  Gustaf Thorslund  <gustaf@thorslund.org>

	Replaced macros with functions/templates. Part of blueprint:
	https://blueprints.edge.launchpad.net/drizzle/+spec/replace-macro-functions/
	File done:
	drizzled/algorithm/sha1.cc

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Patrick - fix bug 669698: Need sphinx documentation for test-run.pl

2010-11-02  patrick crews  <gleebix@gmail.com>

	Added url for reporting bugs in the test-run docs

2010-11-02  patrick crews  <gleebix@gmail.com>

	Additional minor edits to test-run docs

2010-11-02  patrick crews  <gleebix@gmail.com>

	Additional minor edits to test-run docs

2010-11-02  patrick crews  <gleebix@gmail.com>

	Minor improvements / edits to the test-run documentation

2010-11-01  patrick crews  <gleebix@gmail.com>

	Added Sphinx docs for test-run.pl

2010-11-03  Lee Bieber  <kalebral@gmail.com>

	Merge Toru - fix blitzdb VARCHAR issue

2010-08-09  Toru Maesaka  <dev@torum.net>

	BlitzDB now normalizes all VARCHAR keys to VARTEXT2 format. Added simple tests for it as well.

2010-08-09  Toru Maesaka  <dev@torum.net>

	Mergerd Drizzle's Trunk.

2010-07-29  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-11-02  Brian Aker  <brian@tangent.org>

	Merge in Joe's transaction id code.

2010-10-31  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-31  Joseph Daly  <skinny.moey@gmail.com>

	fix valgrind message

2010-10-29  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-28  Joseph Daly  <skinny.moey@gmail.com>

	code cleanup, test fixes

2010-10-28  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-28  Joseph Daly  <skinny.moey@gmail.com>

	update with tests from pcrews

2010-10-28  patrick crews  <gleebix@gmail.com>

	Changes to transaction_log tests to deal with transaction_id's based on Innodb id's

2010-10-26  Joseph Daly  <skinny.moey@gmail.com>

	test fixes

2010-10-26  Joseph Daly  <skinny.moey@gmail.com>

	allow events to use a transaction id

2010-10-26  Joseph Daly  <skinny.moey@gmail.com>

	fix up startup/shutdown events to set a transaction id

2010-10-26  Joseph Daly  <skinny.moey@gmail.com>

	various coding standards corrections

2010-10-25  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-25  Joseph Daly  <skinny.moey@gmail.com>

	fix up non diff

2010-10-25  Joseph Daly  <skinny.moey@gmail.com>

	zero out transaction id after its set in the GPB message

2010-10-24  Joseph Daly  <skinny.moey@gmail.com>

	working alter, drop, create schema

2010-10-23  Joseph Daly  <skinny.moey@gmail.com>

	create schema changes

2010-10-21  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-20  Joseph Daly  <skinny.moey@gmail.com>

	rework names for retrieving current trans id

2010-10-20  Joseph Daly  <skinny.moey@gmail.com>

	add global_resource_manager for non innodb engines

2010-10-19  Joseph Daly  <skinny.moey@gmail.com>

	add empty impl for non xa engines

2010-10-18  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-17  Joseph Daly  <skinny.moey@gmail.com>

	use transaction_id in innodb for transaction log

2010-11-02  Brian Aker  <brian@tangent.org>

	Merge of Andrew, tdavies

2010-11-02  Brian Aker  <brian@tangent.org>

	Merge in Andrew, dump fixes.

2010-11-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	drizzledump MySQL migration fixes:
	Fix 'TIME default NULL' killing drizzledump
	Fix empty binary/blob column output
	Fix force accept NULL on date/time types to work again

2010-11-02  Brian Aker  <brian@tangent.org>

	Merge in tdavies order c++ conversion

2010-10-31  tdavies  <tdavies@Molly>

	struct order_st changed and renamed to c++ class named:Order

2010-10-30  tdavies  <tdavies@Molly>

	commit point

2010-10-30  tdavies  <tdavies@Molly>

	struct converted to class

2010-11-02  Brian Aker  <brian@tangent.org>

	Rollup of slap, and pbms

2010-11-02  Brian Aker  <brian@tangent.org>

	Cast in order to avoid warning in ICC.

2010-11-02  Brian Aker  <brian@tangent.org>

	Fix double call to abort(). 

2010-10-31  Brian Aker  <brian@tangent.org>

	Merge in changes (updates to style) for slap.

2010-10-31  Brian Aker  <brian@tangent.org>

	Remove a dead const char.

2010-10-31  Brian Aker  <brian@tangent.org>

	Updating with moving out wakeup to its own file. Why not use barrier for
	boost? Barrier can't be dynamically set, and we don't know how many threads
	until the threads have been created.

2010-10-31  Brian Aker  <brian@tangent.org>

	Merge in modifications for slap (upgrade the style).

2010-10-31  Brian Aker  <brian@tangent.org>

	Small syntax updates to slap.

2010-10-31  Brian Aker  <brian@tangent.org>

	Boost fixup for slap

2010-10-31  Brian Aker  <brian@tangent.org>

	Merge Monty.

2010-10-30  Monty Taylor  <mordred@inaugust.com>

	Fixes most of the lintian warnings

2010-10-31  Brian Aker  <brian@tangent.org>

	Merge in name updates.

2010-10-31  tdavies  <tdavies@Molly>

	in .../drizzled/join_cache.h converted structs JoinCache and CacheField to C++ classes

2010-10-30  Lee Bieber  <kalebral@gmail.com>

	Merge Thomi - Changed the vio_st structure (found in plugins/mysql_protocol/vio.h) to a proper C++ class.

2010-10-30  Thomi Richards<thomir@gmail.com>

	fixed merge conflict.

2010-10-28  Thomi Richards<thomir@gmail.com>

	Converted the vio_st struct to the Vio class. 

2010-10-30  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Fix a bunch of warnings and errors from clang build.
	Merge Monty - fix build-all-warnings build issue

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Fix a bunch of warnings and errors from clang build.

2010-10-30  Monty Taylor  <mordred@inaugust.com>

	Fixed things to make things compile with clang

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix build-all-warnings build issue

2010-10-29  Monty Taylor  <mordred@inaugust.com>

	Fixed an issue that pops up when compiling with -std=c++0x turned on. Bind
	is a functor in std::  - so the using namespace std; is finding the wrong
	things.

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Gustaf-  Replaced macros with functions/templates

2010-10-29  Gustaf Thorslund  <gustaf@thorslund.org>

	Replaced macros with functions/templates. Part of blueprint:
	https://blueprints.edge.launchpad.net/drizzle/+spec/replace-macro-functions/
	Files done:
	drizzled/decimal.cc
	drizzled/decimal.h

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 667288: Transaction_reader reporting error about dangerously large protobuf message
	Merge Monty - fix bug 667598: static plugins should be addable via plugin-add 	
	Merge Brian - clean up C++ warnings

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 667288: Transaction_reader reporting error about dangerously large protobuf message

2010-10-28  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Change transaction_reader to create a new CodedInputStream object for each message.

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 667598: static plugins should be addable via plugin-add 	

2010-10-28  Monty Taylor  <mordred@inaugust.com>

	Finalized the static/load_by_default split, supporting now an array of
	available builtins and a list of builtins to load. Whee.

2010-10-28  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fixed a double free()

2010-10-27  Monty Taylor  <mordred@inaugust.com>

	Merged in plugin changes.

2010-10-27  Monty Taylor  <mordred@inaugust.com>

	Minor modification of earlier patch - I don't need to keep static tied to
	enabled in the conditionals.

2010-10-29  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - clean up C++ warnings

2010-10-28  Brian Aker  <brian@tangent.org>

	Additional C++ warning fixes.

2010-10-28  Brian Aker  <brian@tangent.org>

	C++ warning fixes.

2010-10-28  Brian Aker  <brian@tangent.org>

	Merge in additional C++ warning fixes.

2010-10-28  Brian Aker  <brian@tangent.org>

	Remove warnings for c++

2010-10-28  Brian Aker  <brian@tangent.org>

	Possible fix for warning on bind().

2010-10-28  Lee Bieber  <kalebral@gmail.com>

	Merge Stewart - fix bug 587772: READ COMMITTED isolation level doesn't work (at least with InnoDB)

2010-10-27  Stewart Smith  <stewart@flamingspork.com>

	fix HailDB doEndStatement() since it doesn't need to have commit(false) called twice

2010-10-27  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-26  Stewart Smith  <stewart@flamingspork.com>

	add missing engine_states.cc

2010-10-26  Stewart Smith  <stewart@flamingspork.com>

	add missing cursor_states.cc

2010-10-26  Stewart Smith  <stewart@flamingspork.com>

	for Innobase, close read view in commit/rollback that happens for statement, not in endStatement() as we may have to roll back the statement

2010-10-26  Stewart Smith  <stewart@flamingspork.com>

	in Storage Engine API Tester: add cursor_states_to_dot utility

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	Storage Engine API Tester create_table test should clean up after itself

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	Add test to Storage Engine API Tester for rolling back a INSERT statement that goes awry... or at least that we get some state transitions correct.

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	add small noinst program to generate a dot graph of the Storage Engine API states from the transition multimap

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	remove the 'expected state' part of SEAPITester. The state transitions do this fine for us

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	endStatement() not being called at end of statement, breaking READ COMMITTED isolation level in innobase plugin

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	update state transitions in Storage Engine API tester to match reality (well, mostly). The series of calls is rather screwy. also implement Cursor states and enough to run a simple SELECT statement.

2010-10-25  Stewart Smith  <stewart@flamingspork.com>

	add test for READ COMMITTED isolation level

2010-10-20  Stewart Smith  <stewart@flamingspork.com>

	PBXT no longer needs to check that doStartTransation isn't being called twice (although we keep an assert, just to be safe

2010-10-20  Stewart Smith  <stewart@flamingspork.com>

	In TransactionalStorageEngine::startTransaction(), we were calling transaction_services.registerResourceForTransaction() which also called start transaction on the engine... the next call in TransactionalStorageEngine::startTransaction(). Fix it so hat registering resource for the txn only registers it.

2010-10-20  Stewart Smith  <stewart@flamingspork.com>

	complete test for a very simple empty transaction in storage_engine_api_tester

2010-10-20  Stewart Smith  <stewart@flamingspork.com>

	In StorageEngine API, transaction can be empty: BEGIN->COMMIT or BEGIN->ROLLBACK. Allow that in storage_engine_api_tester.

2010-10-20  Stewart Smith  <stewart@flamingspork.com>

	add initial implementation of storage_engine_api_tester. It's a storage engine with a bunch of asserts on state transations to test that the upper layer is calling the StorageEngine API correctly.

2010-10-19  Stewart Smith  <stewart@flamingspork.com>

	add test for READ_COMMITTED isolation level (currently fails with Innobase plugin at least)

2010-10-28  Brian Aker  <brian@tangent.org>

	Rollup of build. Includes client work and documentation.

2010-10-28  Brian Aker  <brian@tangent.org>

	Merge in Andrew

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Cleanup drizzledump and drizzle for cppcheck

2010-10-28  Brian Aker  <brian@tangent.org>

	Merge Andrew

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	MySQL can contain '' as an ENUM value which is not valid in Drizzle.  Convert this to NULL.

2010-10-28  Brian Aker  <brian@tangent.org>

	MErge in documentation only patch.

2010-10-28  Brian Aker  <brian@tangent.org>

	Extended documentation.

2010-10-28  Brian Aker  <brian@tangent.org>

	Update to documentation for create table and create schema.

2010-10-28  Brian Aker  <brian@tangent.org>

	Merge in POTFILES changes.

2010-10-28  Brian Aker  <brian@tangent.org>

	Update POTFILES

2010-10-28  Brian Aker  <brian@tangent.org>

	Rollup merge.

2010-10-28  Brian Aker  <brian@tangent.org>

	OSX found a reference to a function that was no longer declared.

2010-10-28  Brian Aker  <brian@tangent.org>

	Add drizzled/definition/table.cc to POTFILES

2010-10-28  Brian Aker  <brian@tangent.org>

	Remove dynamic cast

2010-10-28  Brian Aker  <brian@tangent.org>

	remove reference to table_share

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge in refactoring tree. This breaks out TableShare into cache and
	definition object.

2010-10-27  Brian Aker  <brian@tangent.org>

	Fix dangling headers.

2010-10-27  Brian Aker  <brian@tangent.org>

	Move table_share over into definition and fix header.

2010-10-27  Brian Aker  <brian@tangent.org>

	Shuffle name

2010-10-27  Brian Aker  <brian@tangent.org>

	This makes the table definition cache handle more of its own.

2010-10-27  Brian Aker  <brian@tangent.org>

	Additional encapsulation of definition cache

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge in changes for encapsulation out to cache.

2010-10-26  Brian Aker  <brian@tangent.org>

	Merge in work for cache (fetch directly from).

2010-10-26  Brian Aker  <brian@tangent.org>

	Adding cache.h for definition.

2010-10-26  Brian Aker  <brian@tangent.org>

	Additional encapsulation

2010-10-26  Brian Aker  <brian@tangent.org>

	Encapsulate more of the table cache.

2010-10-26  Brian Aker  <brian@tangent.org>

	Fixed header/etc.

2010-10-25  Brian Aker  <brian@tangent.org>

	Shift a bit more of the guts of cache to its own space.

2010-10-25  Brian Aker  <brian@tangent.org>

	Shift over to cache definition in table/cache

2010-10-25  Brian Aker  <brian@tangent.org>

	Move unused under table

2010-10-25  Brian Aker  <brian@tangent.org>

	Move unused out to its own class.

2010-10-24  Brian Aker  <brian@tangent.org>

	Refactor table_cache_insert_placeholder.

2010-10-28  Brian Aker  <brian@tangent.org>

	Adding uninux socket protocol for real.

2010-10-27  Brian Aker  <brian@tangent.org>

	Support for MySQL UNIX Socket protocol

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge in catalog tree.

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-10-27  Brian Aker  <brian@tangent.org>

	Additional documenation.

2010-10-27  Brian Aker  <brian@tangent.org>

	A couple of fixes to documentation.

2010-10-27  Brian Aker  <brian@tangent.org>

	Additional documentation.

2010-10-27  Brian Aker  <brian@tangent.org>

	Update documentation.

2010-10-26  Brian Aker  <brian@tangent.org>

	Update Key to work a bit faster.

2010-10-25  Brian Aker  <brian@tangent.org>

	Encapsulation of record.

2010-10-25  Brian Aker  <brian@tangent.org>

	Update instance for handling construction of virtual_tmp

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge in additions to IS for FK

2010-10-27  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-10-22  Brian Aker  <brian@tangent.org>

	Adds in a portion of the ref constraints table.

2010-10-21  Brian Aker  <brian@tangent.org>

	Cleanup schema from DD to have similar style (and use the generator correctly)

2010-10-21  Brian Aker  <brian@tangent.org>

	Switched columns to use AllFields.

2010-10-21  Brian Aker  <brian@tangent.org>

	Fix IS to use straight generator.

2010-10-20  Brian Aker  <brian@tangent.org>

	Cleanup display code around DD/IS

2010-10-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 667360: --defaults-file not processed before paths read  	 
	Merge Andrew - fix bug 656577: Importing SQL script results in silent failure  	 
	Merge Andrew - fix bug 667053: drizzledump minor output cleanup needed

2010-10-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 667360: --defaults-file not processed before paths read  	 

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Error if a defaults-file is missing

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	The --defaults-file option was processed after a list of options files was processed, so lets change this

2010-10-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 656577: Importing SQL script results in silent failure  	 

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix min() usage for 32bit
	Fix Solaris doesn't follow POSIX standard for send()

2010-10-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases for the new default max_packet_size

2010-10-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make default max_packet_size 64MB as 1MB doesn't seem really sane for text/blob columns

2010-10-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Clear buffer so that max_allowed_packet error can be sent back to client

2010-10-25  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Use size_t for command in drizzle.cc
	Don't SIGPIPE when server disconnects during send()

2010-10-27  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 667053: drizzledump minor output cleanup needed

2010-10-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add quoting to the end of the table definition
	Fix spelling error

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - add options to the transaction_reader utility program
	Merge Shrews - fix bug 660779: Transaction log retaining partial information from an aborted transaction

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - add options to the transaction_reader utility program

2010-10-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add --raw, --start-pos, and --transaction-id options to transaction_reader utility.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - fix bug 660779: Transaction log retaining partial information from an aborted transaction

2010-10-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix Solaris gripe about unreachable statements

2010-10-25  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use proper row counter when determining if we've already updated some rows.

2010-10-25  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-10-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-10-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use updated count instead of found count when rolling back updated records.

2010-10-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Move GPB manipulation code out of Session and into TransactionServices.

2010-10-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-10-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add method to undo adding records to a Statement message in case of multi-row statement failure.

2010-10-26  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-10-16  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 66814 - defaults-file does incorrect path prepending and winds up not actually working
	Merge Monty - Port patches from the debian branch.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 66814 take two - defaults-file does incorrect path prepending and winds up not 
	actually working

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Misspelled the option.

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Fixed some overzealous choices.

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Added a plugin-add call I was missing.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - fix bug 66814 - defaults-file does incorrect path prepending and winds up not actually working

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Removed some stupid extra path manipulations.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Port patches from the debian branch.

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Turned some plugins off of load_by_default so we can package them easier.

2010-10-26  Monty Taylor  <mordred@inaugust.com>

	Stop static from implying load_by_default. They are two different things.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - clean up of set_var and sys_var
	Merge Monty - Generate ChangeLog from bzr as part of distcheck. Also, cleaned up AUTHORS file from bzr log parsed by hand.
	Merge Shrews - update transaction log documentation

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - clean up of set_var and sys_var

2010-10-25  Monty Taylor  <mordred@inaugust.com>

	Split out show_type into its own header and made sys_var work through
	plugin.h.

2010-10-25  Monty Taylor  <mordred@inaugust.com>

	Split set_var.* into sys_var.* and set_var.*

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Monty - Generate ChangeLog from bzr as part of distcheck. Also, cleaned up AUTHORS file from bzr log parsed by hand.

2010-10-22  Monty Taylor  <mordred@inaugust.com>

	Generate ChangeLog from bzr for dist.

2010-10-21  Monty Taylor  <mordred@inaugust.com>

	Updated AUTHORS list with everyone from bzr logs.

2010-10-26  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - update transaction log documentation

2010-10-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix transaction log plugin documentation to prefix config options with 'transaction-log'.

2010-10-25  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Remove dynamic cast, causing performance issues in our benchmarks.

2010-10-25  Brian Aker  <brian@tangent.org>

	Additional dynamic_cast removal.

2010-10-25  Brian Aker  <brian@tangent.org>

	Stick to static cast.

2010-10-25  Lee Bieber  <kalebral@gmail.com>

	Merge Thomir - fix bug 653747: rename tests with redundant name prefixes

2010-10-25  Thomi Richards<thomir@gmail.com>

	Merge commit

2010-10-25  Thomi Richards<thomir@gmail.com>

	Merge commit

2010-10-24  Brian Aker  <brian@tangent.org>

	Merge for "how do we make sure concurrent, are only concurrent"

2010-10-24  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-10-23  Brian Aker  <brian@tangent.org>

	shuffle some functions out of sql_base.cc

2010-10-23  Brian Aker  <brian@tangent.org>

	Updating a few bits of the interface to be specific to table::Concurrent

2010-10-23  Brian Aker  <brian@tangent.org>

	Remove dead code.

2010-10-24  Brian Aker  <brian@tangent.org>

	Merge in show update.

2010-10-23  Brian Aker  <brian@tangent.org>

	Have show functions be invisible.

2010-10-23  Brian Aker  <brian@tangent.org>

	Remove warning on EXECUTE

2010-10-23  Brian Aker  <brian@tangent.org>

	What was once old, is now new again. Seperated out show from select.

2010-10-23  Brian Aker  <brian@tangent.org>

	Merge in port change.

2010-10-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make port 4427 the default for client apps

2010-10-23  Brian Aker  <brian@tangent.org>

	Table encapsulate merge.

2010-10-23  Brian Aker  <brian@tangent.org>

	Encapsulate table_name from table_list.

2010-10-23  Brian Aker  <brian@tangent.org>

	Encapsulate schema_name it table_list.

2010-10-22  Brian Aker  <brian@tangent.org>

	Merge in a bunch of goto removals (just random).

2010-10-22  Brian Aker  <brian@tangent.org>

	Goto removal.

2010-10-22  Brian Aker  <brian@tangent.org>

	sql_delete removal of goto

2010-10-22  Brian Aker  <brian@tangent.org>

	Remove goto from filesort (not all).

2010-10-22  Brian Aker  <brian@tangent.org>

	Update to remove additional goto.

2010-10-22  Brian Aker  <brian@tangent.org>

	REmove goto from session.

2010-10-22  Brian Aker  <brian@tangent.org>

	Merge in overhaul to how cursor and table are handled. Cursor now only knows
	about table, and will always have a table and engine reference.
	
	This cleans up a number of ownership issues, the biggest being that it now
	creates the space needed for the next big refactor in locks.

2010-10-22  Brian Aker  <brian@tangent.org>

	Cleanup of caller to ha_open().

2010-10-22  Brian Aker  <brian@tangent.org>

	Merge with Trunk

2010-10-22  Brian Aker  <brian@tangent.org>

	getTable()

2010-10-22  Brian Aker  <brian@tangent.org>

	TableShare is no longer in the house (i.e. we no longer directly have a copy
	of it in cursor).
	
	One more bit of the knot now gone.

2010-10-22  Brian Aker  <brian@tangent.org>

	Engine now as a referene.

2010-10-22  Brian Aker  <brian@tangent.org>

	Remove table_share from being required in a cursor.

2010-10-22  Brian Aker  <brian@tangent.org>

	Hide table_share for the moment from cursor.

2010-10-22  Brian Aker  <brian@tangent.org>

	Merge in Brian. key creation should be improved after this (ie for share)

2010-10-22  Brian Aker  <brian@tangent.org>

	Simply the create of an identifier key.

2010-10-22  Brian Aker  <brian@tangent.org>

	Remove dead createKey method.

2010-10-22  Brian Aker  <brian@tangent.org>

	Fix placeholder to take identifier.

2010-10-22  Brian Aker  <brian@tangent.org>

	Remove cases where we do not use an identifier to find/delete temp tables,
	and remove.

2010-10-22  Brian Aker  <brian@tangent.org>

	Usage of find_temporary_table() to identifier.

2010-10-22  Brian Aker  <brian@tangent.org>

	REmove an older use of find_temporary_table

2010-10-22  Brian Aker  <brian@tangent.org>

	Remove dead method

2010-10-21  Brian Aker  <brian@tangent.org>

	Restore so that local is not added to schema for path.

2010-10-21  Brian Aker  <brian@tangent.org>

	Remove a couple of memset and now just build the table name in the string of
	the path from the get go.

2010-10-21  Brian Aker  <brian@tangent.org>

	Schema identifier is now testing actual path.

2010-10-21  Brian Aker  <brian@tangent.org>

	Remove copy (we didn't need to be doing it).

2010-10-21  Brian Aker  <brian@tangent.org>

	Merge in modification to how we encode out filename to disk (not in style,
	but we are now a bit more conservative  (and OSX/Linux are the same))

2010-10-22  Lee Bieber  <kalebral@gmail.com>

	Merge Barry - fix bug 657830: PBMS build failure in GCC 4.5

2010-10-20  Barry.Leslie@PrimeBase.com

	Merged with trunk.

2010-10-20  Barry.Leslie@PrimeBase.com

	Updating PBMS code to match pbms revision 244

2010-10-19  barry-leslie  <Barry.Leslie@PrimeBase.com>

	Fixed some compiler complaints with PBMS build.

2010-10-19  barry-leslie  <Barry.Leslie@PrimeBase.com>

	Fixed unreferenced variable problem with non debug build.

2010-10-18  Barry.Leslie@PrimeBase.com

	Merged changes from lp:pbms. These changes should remove any danger
	of longjmp() clobbering local variables.

2010-10-18  Barry.Leslie@PrimeBase.com

	Bug fix for possible crash when a NULL event list is accessed.

2010-10-14  Barry.Leslie@PrimeBase.com

	Bug fix for memory leak in event_observer plugin.

2010-10-22  Brian Aker  <brian@tangent.org>

	Merge Monty

2010-10-21  Monty Taylor  <mordred@inaugust.com>

	Put in template specializations to make ICC happy.

2010-10-21  Monty Taylor  <mordred@inaugust.com>

	Predeclare friend operators for Sun Studio.

2010-10-20  Monty Taylor  <mordred@inaugust.com>

	Accidentally committed an include.

2010-10-20  Monty Taylor  <mordred@inaugust.com>

	Use invalid_option_value exception directly. More version neutral.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Add a constrained_value class which allows us to set compile-time
	constraints on a value.

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	Template specialization functions sort of want that inline keyword.

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	Fixed up the auth_file conversion.

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	Made basic type for set_var_constrained_value.

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	Merge constrained_value class.

2010-09-14  Monty Taylor  <mordred@inaugust.com>

	Added a basic bounded_value type for use in variables system.

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	auth_file

2010-10-17  Monty Taylor  <mordred@inaugust.com>

	Migrated archive.

2010-10-21  Brian Aker  <brian@tangent.org>

	Merge of refactor2 tree

2010-10-21  Brian Aker  <brian@tangent.org>

	Remove dead/no longer used method.

2010-10-21  Brian Aker  <brian@tangent.org>

	Final death of change_table_ptr 

2010-10-21  Brian Aker  <brian@tangent.org>

	We now handle the free of the alias inside of table.

2010-10-21  Brian Aker  <brian@tangent.org>

	Move mem_root to the destructor.

2010-10-21  Brian Aker  <brian@tangent.org>

	Cleanup destructor on instance.

2010-10-20  Brian Aker  <brian@tangent.org>

	Move share creation into temporary table (there still exists and issue with
	alter table, since it will try to update the share).

2010-10-21  Brian Aker  <brian@tangent.org>

	Merge Andrew

2010-10-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix possibility of double ");" at end of data dump

2010-10-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix drizzledump --skip-extended-insert

2010-10-21  Brian Aker  <brian@tangent.org>

	Rollup merge of utility_functions

2010-10-21  Brian Aker  <brian@tangent.org>

	Fix plugin.ini

2010-10-21  Brian Aker  <brian@tangent.org>

	Merge of all refactor for functions into single plugin, this includes a new
	catalog() function.

2010-10-21  Brian Aker  <brian@tangent.org>

	Remove dead directory.

2010-10-21  Brian Aker  <brian@tangent.org>

	This creates a function for seeing which catalog you are in. It also
	refactors some of the functions to be in the utility_function collect.

2010-10-21  Brian Aker  <brian@tangent.org>

	Pull user into the util functions.

2010-10-20  Brian Aker  <brian@tangent.org>

	Move database() over to the util_function plugin.

2010-10-20  Brian Aker  <brian@tangent.org>

	Add a catalog() command.

2010-10-21  Brian Aker  <brian@tangent.org>

	Merge in fix for Andrew.

2010-10-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case that was also showing this bug

2010-10-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	A DECIMAL truncation is not an overflow, warn about it but don't treat it as an overflow.

2010-10-20  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Add support for --with-valgrind
	Merge Mark - event_observer.h did not declare "class Session;" so it depended on being #include'ed after "session.h".
	Merge Andrew - Fix bug #663554: drizzledump is not honoring --destination-database option
	Merge Andrew - Fix bug #663812: drizzledump truncation for DOUBLE data type with no preset scale/precision

2010-10-20  Lee Bieber  <kalebral@gmail.com>

	Merge Brian - Add support for --with-valgrind

2010-10-20  Brian Aker  <brian@tangent.org>

	Fix merge issue.

2010-10-20  Brian Aker  <brian@tangent.org>

	Add support for --with-valgrind

2010-10-20  Lee Bieber  <kalebral@gmail.com>

	Merge Mark - event_observer.h did not declare "class Session;" so it depended on being #include'ed after "session.h".

2010-10-20  Mark Atwood  <me@mark.atwood.name>

	add "class Session;" to event_observer.h

2010-10-20  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - Fix bug #663554: drizzledump is not honoring --destination-database option
	Merge Andrew - Fix bug #663812: drizzledump truncation for DOUBLE data type with no preset scale/precision

2010-10-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Link up --destination-database
	Fix retrieving precision/scale for DOUBLE from MySQL when it hasn't been hard set.

2010-10-20  Brian Aker  <brian@tangent.org>

	Merge for Brian 

2010-10-20  Brian Aker  <brian@tangent.org>

	Remove a number of goto'. Also I removed the std::cerr that slipped in on
	the schema identifier.

2010-10-19  Brian Aker  <brian@tangent.org>

	Merge in changes from other local trees.

2010-10-19  Brian Aker  <brian@tangent.org>

	Merge in change for catalog to be displayed properly

2010-10-19  Brian Aker  <brian@tangent.org>

	Merge in generator for processlist.

2010-10-19  Brian Aker  <brian@tangent.org>

	This just fixes our current catalog to be displayed properly.

2010-10-19  Brian Aker  <brian@tangent.org>

	Small refactor around how we build up the share (this is partwise between
	final solution for shared_ptr share).

2010-10-19  Brian Aker  <brian@tangent.org>

	Cut down logic on finding if the key is valid.

2010-10-19  Brian Aker  <brian@tangent.org>

	Merge in so that shell requires a share to construct.

2010-10-19  Brian Aker  <brian@tangent.org>

	Move all of the table bits out so that Table is an abstract class.

2010-10-19  Brian Aker  <brian@tangent.org>

	We add a "shell" table type, used only during field creation.

2010-10-19  Brian Aker  <brian@tangent.org>

	Remove memcpy (though really this is just a shell, since it is still a
	vector behind the scenes).

2010-10-19  Brian Aker  <brian@tangent.org>

	Remove option (we no longer need a Table to delete a table, and we only call
	this method from one spot in the code).

2010-10-19  Brian Aker  <brian@tangent.org>

	Merge in a bit more strictness around table type.

2010-10-20  Monty Taylor  <mordred@inaugust.com>

	Added some replication docs.
	Fixed MySQL 5.0 foreign key support in drizzledump.
	Fixed the build so that haildb can live in the tree normally.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	More valgrind warnings.

2010-10-19  mordred  <mordred@orisndriz09>

	Fixed 32-bit version.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Merge Monty - Fixed the valgrind errors, made it so that haildb works in trunk with no extra magic.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Removed test-suite-dir from plugin.ini

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Add drizzle.ver to extra_dist.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Removed empty test-suite-dir.

2010-10-19  Monty Taylor  <mordred@inaugust.com>

	Fixed the boost::thread valgrind warnings, and the lingering key_cache one.

2010-10-14  Monty Taylor  <mordred@inaugust.com>

	Add support platform conditional static plugins.

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Moved stewart's tests to be run all the time.

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Add a version script to the core.

2010-10-19  Lee Bieber  <kalebral@gmail.com>

	Merge Shrews - Adding some initial documentation for the Transaction Log plugin and for Replication architecture in general.

2010-10-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Correct rollback handling section.

2010-10-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add some initial Transaction Log plugin and Replication documentation.

2010-10-19  Lee Bieber  <kalebral@gmail.com>

	Merge Andrew - fix bug 662785: foreign key grabbing doesn't work with MySQL 5.0

2010-10-18  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make foreign keys work for MySQL 5.0

2010-10-19  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Brian - Small collection of cleanups/refactor'ing around locks
	Merge Monty - fix a few things in the tarball

2010-10-19  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Brian - Small collection of cleanups/refactor'ing around locks

2010-10-18  Brian Aker  <brian@tangent.org>

	Merge in chnages.

2010-10-18  Brian Aker  <brian@tangent.org>

	delete can handle NULL.

2010-10-18  Brian Aker  <brian@tangent.org>

	Slight refactor of the uservar class.

2010-10-18  Brian Aker  <brian@tangent.org>

	A few cleanups.

2010-10-18  Brian Aker  <brian@tangent.org>

	Move lock over to lock.h (out of sessio.h).

2010-10-18  Brian Aker  <brian@tangent.org>

	First pass on removing malloc from DrizzleLock

2010-10-17  Brian Aker  <brian@tangent.org>

	Small moveable.

2010-10-19  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - fix a few things in the tarball

2010-10-18  Monty Taylor  <mordred@inaugust.com>

	Fixed several make dist errors pointed out by debian.

2010-10-18  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug 661431: libdrizzle drizzle_escape_string does not function correctly

2010-10-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add unit tests for libdrizzle utility functions
	Fix drizzle_escape_string

2010-10-18  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - Adds support for a const std::string sys_var type.
	Merge Monty - Make it possible to use sys_var directly from plugins.
	Merge Padraig - Replaced a few unit8_t types that were being used as bitmaps with std::bitset

2010-10-18  Monty Taylor  <mordred@inaugust.com>

	Fixed a silly error- for_each is clearly in std:: ...

2010-10-18  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - Adds support for a const std::string sys_var type.

2010-10-16  Monty Taylor  <mordred@inaugust.com>

	I hate string(NULL) == segfault.

2010-10-16  Monty Taylor  <mordred@inaugust.com>

	Added string sys_var type.

2010-10-18  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - Make it possible to use sys_var directly from plugins.

2010-10-18  Monty Taylor  <mordred@inaugust.com>

	Added missing include.

2010-10-15  Monty Taylor  <mordred@inaugust.com>

	Cleaned up the static boost::thread valgrind warnings.

2010-10-15  Monty Taylor  <mordred@inaugust.com>

	Track lifecycle of sys_var different form plugin_sysvar

2010-10-15  Monty Taylor  <mordred@inaugust.com>

	It works - has a valgrind issue somewhere.

2010-10-15  Monty Taylor  <mordred@inaugust.com>

	Use new sys_var register code in console plugin.

2010-10-15  Monty Taylor  <mordred@inaugust.com>

	Added support for registering regular sys_var instances via module::Context.

2010-10-18  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Padraig - Replaced a few unit8_t types that were being used as bitmaps with std::bitset

2010-10-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted another uint8_t type to be a bitset.

2010-10-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced a uint8_t member with a standard bitset since it was being used as a bitset....

2010-10-16  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug #656018: drizzledump of text columns returning errors during import process  	 

2010-10-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	The escape function is a clone of libdrizzle's but C++'ified.  Unfortunately libdrizzle's is broken.  Fixed it here, will fix it in libdrizzle at a later date.

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Vijay - fix for distcheck
	Merge Brian - clean up events add tests

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Vijay - fix for distcheck

2010-10-16  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge fixed distcheck error in conclusions.h

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Brian - clean up events add tests

2010-10-15  Brian Aker  <brian@tangent.org>

	Removed bad show (it was trying to do an int flip... no workie on 64bit vs
	32bit)

2010-10-15  Brian Aker  <brian@tangent.org>

	Merge trunk

2010-10-15  Brian Aker  <brian@tangent.org>

	Fix ifdef

2010-10-14  Brian Aker  <brian@tangent.org>

	Merge trunk

2010-10-11  Brian Aker  <brian@tangent.org>

	More testing around events.

2010-10-11  Brian Aker  <brian@tangent.org>

	Adding in more test case for events (though these do not really have the
	correct results just yet, I just want them in place).
	
	This adds to session a new method for inserting a variable form an
	event/trigger.

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - Bug #654269: drizzledump doesn't handle foriegn keys 
	Merge Andrew - Bug #659103: drizzledump could grab the wrong indexes
	Merge Barry - Fixed memory leak in event observer plugin.
	Merge Lee - Fix test output for haildb test, instead of No database selected, the message is now No schema selected

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Fix test output for haildb test, instead of No database selected, the message is now No schema selected

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug 660619: Large tables not breaking up correctly in drizzledump 

2010-10-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix several bugs dumping tables with many rows
	Fix error handling on database destination

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug #654269: drizzledump doesn't handle foriegn keys
	Merge Andrew - fix bug #659103: drizzledump could grab the wrong indexes 	

2010-10-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix broken tets cases

2010-10-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix drizzledump support again

2010-10-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Create dd.foreign_keys instead of referential_constraints (which it isn't)

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add foriegn key support for MySQL

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix possibility of grabbing wrong indexes for a table in a dump

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add foreign keys to Drizzle server

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make the referential_constraints table more sensible

2010-10-12  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add the data_dictionary.referential_constraints table

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Viay - move drizzleslapc classes into separate classes

2010-10-15  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge added ifndef tags for conclusions.h

2010-10-15  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge added #ifndef tags

2010-10-15  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge fix for FreeBSD failure.

2010-10-14  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge corrections to licensing information.

2010-10-14  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge pushed classes of drizzleslap out into separate classes.

2010-10-15  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Barry - Fixed memory leak in event observer plugin.

2010-10-14  Barry.Leslie@PrimeBase.com

	Bug fix for memory leak in event_observer plugin.

2010-10-15  Brian Aker  <brian@tangent.org>

	Merge Monty

2010-10-14  Monty Taylor  <mordred@inaugust.com>

	Removed sys_var_chain.

2010-10-14  Brian Aker  <brian@tangent.org>

	Merge in refactoring on table (broken it up by type, this will allow me to
	insert the new locking).

2010-10-14  Brian Aker  <brian@tangent.org>

	Add assert to setShare() for instance tables (we should never change out a
	share on one).

2010-10-14  Brian Aker  <brian@tangent.org>

	Move placeholder to table directory.

2010-10-14  Brian Aker  <brian@tangent.org>

	Added concurrent type.

2010-10-14  Brian Aker  <brian@tangent.org>

	Committing refactor of table out (this is part of the concurrency work).

2010-10-14  Brian Aker  <brian@tangent.org>

	Break out table types (first pass).

2010-10-13  Brian Aker  <brian@tangent.org>

	Slight optimization on comparison.

2010-10-13  Brian Aker  <brian@tangent.org>

	Cleanup to use fewer mutable share calls.

2010-10-14  Brian Aker  <brian@tangent.org>

	This removes two of our dead plugins (the bad schedulers).
	Also this fixes help messages to say "schema" instead of "database"
	everywhere..

2010-10-14  Brian Aker  <brian@tangent.org>

	This cleans up error messages to state "schema" instead of database.

2010-10-14  Brian Aker  <brian@tangent.org>

	Remove the two dead schedules that we currently have.

2010-10-14  Brian Aker  <brian@tangent.org>

	Scope locks.

2010-10-13  Brian Aker  <brian@tangent.org>

	Small cleanup for instance.

2010-10-13  Brian Aker  <brian@tangent.org>

	Fix placeholder to actuall be a placeholder via methods.

2010-10-13  Brian Aker  <brian@tangent.org>

	Convert vector to list (it will make deletion a bit faster).

2010-10-14  Brian Aker  <brian@tangent.org>

	MErge in user locks.

2010-10-14  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-10-14  Brian Aker  <brian@tangent.org>

	Fix lint issue.

2010-10-12  Brian Aker  <brian@tangent.org>

	Cleans up namespace for locks (now per user).

2010-10-12  Brian Aker  <brian@tangent.org>

	Added a table function to see locks, updated some tests to see the
	additional tables.

2010-10-12  Brian Aker  <brian@tangent.org>

	Added get_locks() and release_locks();

2010-10-12  Brian Aker  <brian@tangent.org>

	Enables the MySQL behavior where if you take a lock with get_lock(), you
	release all other locks.

2010-10-12  Brian Aker  <brian@tangent.org>

	Time out code now inserted for user locks.

2010-10-11  Brian Aker  <brian@tangent.org>

	Solves the "dangling lock" problem.

2010-10-09  Brian Aker  <brian@tangent.org>

	First pass through adding back user_locks.

2010-10-14  Brian Aker  <brian@tangent.org>

	Merge in shuffle for table in creation (this patch needs to go in before a
	few others in order to preserve the correct behavior).

2010-10-14  Brian Aker  <brian@tangent.org>

	Add back in init(). Grr.... this should not be required.

2010-10-13  Brian Aker  <brian@tangent.org>

	Remove random use of table (we just needed the blob to be set correctly to
	make it work).

2010-10-14  Brian Aker  <brian@tangent.org>

	Merge in mutable/execute

2010-10-14  Brian Aker  <brian@tangent.org>

	Adding in a subquery test.

2010-10-14  Brian Aker  <brian@tangent.org>

	This patch returns dynamic SQL into the core (through SQL-Server syntax).
	This will allow us to add back in the test cases that were using
	DECLARE/PREPARE syntax (which... was a last minutes decision in 5.0 to allow
	so that we could have "dynamic" SQL). 

2010-10-11  Brian Aker  <brian@tangent.org>

	Cleans up some spots where we were using mutable but did not need too.

2010-10-11  Brian Aker  <brian@tangent.org>

	Update to remove more of the getMutableShare() uses.

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes 
	Merge Andrew - fix bug 655186: disabling innobase_stats_on_metadata disables ANALYZE

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes branch with build

2010-10-15  tdavies  <tdavies@Molly>

	File:drizzled/internal/my_sys.h; converted struct wild_file_pack to c++ class, and added constructor. Coverted struct 'st_record_cache' to c++ class, changed name to 'record_cache' and added constructor.

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug 655186: disabling innobase_stats_on_metadata disables ANALYZE

2010-10-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove stats_on_metadata option as it is only used for Analyze command in Drizzle and shouldn't even be used for that.

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes branch with build

2010-10-14  tdavies  <tdavies@Molly>

	File:drizzled/internal/my_static.h; Converted struct 'st_irem' to c++ class and renamed it 'irem'. Also added constructor, and made the changed name consistant in my_static.cc

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes

2010-10-14  tdavies  <tdavies@Molly>

	File: /plugin/archive/azio.h; Converted struct 'azio_container_st' to c++ class, changed name to  'azio_container' and added constructor. Converted struct 'azio_stream' to c++ class and added constructor.

2010-10-14  tdavies  <tdavies@Molly>

	Changed all structs in file: plugin/archive/azio.h to classes, added constructors and removed '_st' from class names

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes
	Merge Andrew - fix bug #571579: libdrizzle unexpected hang up when using in extremely slow networking environment
	Merge Andrew - fix bug #643772: Large rows cannot be read if packet_size exceeds max buffer size
	Merge Andrew - fix bug #660082: libdrizzle missing rev.147
	Merge Andrew - fix bug 653234: drizzledump (and other clients?) should print Password: prompt on stderr
	Merge Andrew - fix bug #653438: "Enter password" prompt should not print stars, or erase them on enter
	Merge Andrew - fix bug 659824: Drizzle client UTF8 processing endless loop

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - changing struct to C++ classes

2010-10-14  tdavies  <tdavies@Molly>

	File: drizzled/algorithm/sha1.h; Gave the anonymous struct a name and changed it to a c++ class, and added constructor.

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug #571579: libdrizzle unexpected hang up when using in extremely slow networking environment
	Merge Andrew - fix bug #643772: Large rows cannot be read if packet_size exceeds max buffer size
	Merge Andrew - fix bug #660082: libdrizzle missing rev.147

2010-10-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add David Mikulec's fix in bug#643772 which fixes the problem which caused the revert of libdrizzle rev.147

2010-10-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Port libdrizzle rev.147:
	Fixed bug #571579.

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug 653234: drizzledump (and other clients?) should print Password: prompt on stderr
	Merge Andrew - fix bug #653438: "Enter password" prompt should not print stars, or erase them on enter

2010-10-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Output password prompt on stderr
	Don't output '*' for password prompt

2010-10-14  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Andrew - fix bug 659824: Drizzle client UTF8 processing endless loop

2010-10-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Output of unhex('ff') caused an endless loop due to 0-byte length accounting.

2010-10-13  patrick crews  <gleebix@gmail.com>

	Merge from elliott

2010-10-13  patrick crews  <gleebix@gmail.com>

	Increment version/tag to 02pre

2010-10-13  patrick crews  <gleebix@gmail.com>

	Tweak configure.ac for release

2010-10-13  patrick crews  <gleebix@gmail.com>

	Merge elliott branch

2010-10-13  patrick crews  <gleebix@gmail.com>

	Update translations

2010-10-12  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-10-04  Launchpad Translations on behalf of mordred

	Launchpad automatic translations update.

2010-10-13  patrick crews  <gleebix@gmail.com>

	Merge in Monty's code for version changes

2010-10-13  patrick crews  <gleebix@gmail.com>

	null-merge of elliott version change into trunk

2010-10-13  Monty Taylor  <mordred@inaugust.com>

	We _want_ to keep doing bzr versioning in trunk.

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	Branched versioning for Elliot.

2010-10-13  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - Change necessary to do branch patches

2010-10-13  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.161

2010-10-13  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Stewart - update innobase plugin to be based on innodb_plugin 1.0.6
	Merge Monty - more valgrind cleanup
	Merge Monty - Moved libdrizzle api listings from doxygen to sphinx

2010-10-13  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Stewart - update innobase plugin to be based on innodb_plugin 1.0.6

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	innobase buf0lru.c needs to include config.h first

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	fix include of pthread.h in innobase plugin: include the same place as innobase in mysql, but we use pthread.h directly and not my_pthread

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	Fix ICC warning in innobase:
	
	plugin/innobase/row/row0merge.c(1207): error #589: transfer of control bypasses initialization of:
	variable "buf" (declared at line 1263)
	variable "file" (declared at line 1264)
	variable "index" (declared at line 1265)
	goto err_exit;
	^
	
	we fix by using just one label and not a rather obfuscated one.

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	include sys/types.h in innobase buf0lru.h - needed for OSX

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	post merge fix: table share encapsulation for innobase handler

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	Merge fix from innodb tree. This fixes the following valgrind warning:
	
	Invalid write of size 8
	at 0x78D7E1: mutex_free (sync0sync.c:333)
	by 0x78D8B4: sync_close (sync0sync.c:1373)
	by 0x7556C4: innobase_shutdown_for_mysql (srv0start.c:2012)
	by 0x70DA0E: InnobaseEngine::~InnobaseEngine() (ha_innodb.cc:303)
	by 0x5D9CE2: drizzled::module::Registry::~Registry() (registry.cc:58)
	by 0x5D9E31: drizzled::module::Registry::shutdown() (registry.cc:85)
	by 0x50F880: main (main.cc:360)
	Address 0x160996b8 is 184 bytes inside a block of size 296 free'd
	at 0x4C280BD: free (vg_replace_malloc.c:366)
	by 0x75EFEE: btr_search_sys_free (mem0mem.ic:506)
	by 0x7556B7: innobase_shutdown_for_mysql (srv0start.c:2007)
	by 0x70DA0E: InnobaseEngine::~InnobaseEngine() (ha_innodb.cc:303)
	by 0x5D9CE2: drizzled::module::Registry::~Registry() (registry.cc:58)
	by 0x5D9E31: drizzled::module::Registry::shutdown() (registry.cc:85)
	by 0x50F880: main (main.cc:360)
	
	Original cset from mysql-trunk:
	
	revno: 2875.47.119
	revision-id: vasil.dimov@oracle.com-20100531152341-x2d4hma644icamh1
	parent: vasil.dimov@oracle.com-20100531105923-kpjwl4rbgfpfj13c
	committer: Vasil Dimov <vasil.dimov@oracle.com>
	branch nick: mysql-trunk-innodb
	timestamp: Mon 2010-05-31 18:23:41 +0300
	message:
	Fix Bug #53947 InnoDB: Assertion failure in thread 4224 in file .\sync\sync0sync.c line 324
	
	Destroy the rw-lock object before freeing the memory it is occupying.
	If we do not do this, then the mutex that is contained in the rw-lock
	object btr_search_latch_temp->mutex gets "freed" and subsequently
	mutex_free() from sync_close() hits a mutex whose memory has been
	freed and crashes.
	
	Approved by:	Heikki (via IRC)
	Discussed with:	Calvin
	modified:
	storage/innobase/btr/btr0sea.c 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0sea.c

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	fix SunStudio warning: statement never reached

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	Flex on CentOS is really old - so we provide a wrapper for yylex_destroy() as it's defined in Flex 2.5.9 and later

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	update innobase test result for proper error code for invalid column name DB_ROW_ID

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	missing part of r1802 patch

2010-10-12  stewart@flamingspork.com

	[patch 129/129] Merge patch for revision 1947 from InnoDB SVN:
	revno: 1947
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6252
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6248
	committer: marko
	timestamp: Mon 2009-11-30 10:50:11 +0000
	message:
	branches/zip: Suppress errors about non-found temporary tables.
	Write the is_temp flag to SYS_TABLES.MIX_LEN.
	
	dict_table_t::flags: Add a flag for is_temporary, DICT_TF2_TEMPORARY.
	Unlike other flags, this will not be written to the tablespace flags
	or SYS_TABLES.TYPE, but only to SYS_TABLES.MIX_LEN.
	
	dict_build_table_def_step(): Only pass DICT_TF_BITS to tablespaces.
	
	dict_check_tablespaces_and_store_max_id(), dict_load_table():
	Suppress errors about temporary tables not being found.
	
	dict_create_sys_tables_tuple(): Write the DICT_TF2_TEMPORARY flag
	to SYS_TABLES.MIX_LEN.
	
	fil_space_create(), fil_create_new_single_table_tablespace(): Add assertions
	about space->flags.
	
	row_drop_table_for_mysql(): Do not complain about non-found temporary tables.
	
	rb://160 approved by Heikki Tuuri.  This addresses the second part of
	Bug #41609 Crash recovery does not work for InnoDB temporary tables.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	dict/dict0boot.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0boot.c
	dict/dict0crea.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0crea.c
	dict/dict0load.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0load.c
	dict/dict0mem.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0mem.c
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	include/dict0mem.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0mem.h
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 128/129] Merge patch for revision 1946 from InnoDB SVN:
	revno: 1946
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6248
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6210
	committer: marko
	timestamp: Mon 2009-11-30 10:19:50 +0000
	message:
	branches/zip: ChangeLog: Document r4922 that was forgotten.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 127/129] Merge patch for revision 1945 from InnoDB SVN:
	revno: 1945
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6210
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6208
	committer: vasil
	timestamp: Fri 2009-11-20 21:39:48 +0000
	message:
	branches/zip:
	
	Whitespace fixup.
	modified:
	trx/trx0i_s.c                  1864@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Ftrx%2Ftrx0i_s.c
	diff:
	=== modified file 'trx/trx0i_s.c'

2010-10-12  stewart@flamingspork.com

	[patch 126/129] Merge patch for revision 1944 from InnoDB SVN:
	revno: 1944
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6208
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6207
	committer: vasil
	timestamp: Fri 2009-11-20 08:49:24 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for c6207.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 125/129] Merge patch for revision 1943 from InnoDB SVN:
	revno: 1943
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6207
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6202
	committer: vasil
	timestamp: Fri 2009-11-20 08:19:14 +0000
	message:
	branches/zip: Merge r6198:6206 from branches/5.1:
	
	(r6203 was skipped as it is already in branches/zip)
	
	------------------------------------------------------------------------
	r6200 | vasil | 2009-11-19 12:14:23 +0200 (Thu, 19 Nov 2009) | 4 lines
	Changed paths:
	M /branches/5.1/btr/btr0btr.c
	
	branches/5.1:
	
	White space fixup - indent under the opening (
	
	------------------------------------------------------------------------
	r6203 | jyang | 2009-11-19 15:12:22 +0200 (Thu, 19 Nov 2009) | 8 lines
	Changed paths:
	M /branches/5.1/btr/btr0btr.c
	
	branches/5.1: Use btr_free_root() instead of fseg_free() for
	the fix of bug #48469, because fseg_free() is not defined
	in the zip branch. And we could save one mini-trasaction started
	by fseg_free().
	
	Approved by Marko.
	
	
	------------------------------------------------------------------------
	r6205 | jyang | 2009-11-20 07:55:48 +0200 (Fri, 20 Nov 2009) | 11 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Add a special case to handle the Duplicated Key error
	and return DB_ERROR instead. This is to avoid a possible SIGSEGV
	by mysql error handling re-entering the storage layer for dup key
	info without proper table handle.
	This is to prevent a server crash when error situation in bug
	#45961 "DDL on partitioned innodb tables leaves data dictionary
	in an inconsistent state" happens.
	
	rb://157 approved by Sunny Bains.
	
	
	------------------------------------------------------------------------
	r6206 | jyang | 2009-11-20 09:38:43 +0200 (Fri, 20 Nov 2009) | 5 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: Fix a minor code formating issue for 
	the parenthesis iplacement of the if condition in
	rename_table().
	
	
	------------------------------------------------------------------------
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 124/129] Merge patch for revision 1942 from InnoDB SVN:
	revno: 1942
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6202
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6201
	committer: jyang
	timestamp: Thu 2009-11-19 13:01:00 +0000
	message:
	branches/zip: Function fseg_free() is no longer defined
	in branches/zip. To port fix for bug #48469 to zip,
	we can use btr_free_root() which frees the page,
	and also does not require mini-transaction.
	
	Approved by Marko.
	modified:
	btr/btr0btr.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	diff:
	=== modified file 'btr/btr0btr.c'

2010-10-12  stewart@flamingspork.com

	[patch 123/129] Merge patch for revision 1941 from InnoDB SVN:
	revno: 1941
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6201
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6199
	committer: marko
	timestamp: Thu 2009-11-19 12:09:11 +0000
	message:
	branches/zip: ha_innobase::add_index(): Clarify the comment
	on orphaned tables when creating a primary key.
	modified:
	handler/handler0alter.cc       1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	diff:
	=== modified file 'handler/handler0alter.cc'

2010-10-12  stewart@flamingspork.com

	[patch 122/129] Merge patch for revision 1940 from InnoDB SVN:
	revno: 1940
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6199
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6198
	committer: vasil
	timestamp: Thu 2009-11-19 10:10:12 +0000
	message:
	branches/zip: Merge r6159:6198 from branches/5.1:
	
	------------------------------------------------------------------------
	r6187 | jyang | 2009-11-18 05:27:30 +0200 (Wed, 18 Nov 2009) | 9 lines
	Changed paths:
	M /branches/5.1/btr/btr0btr.c
	
	branches/5.1: Fix bug #48469 "when innodb tablespace is
	configured too small, crash and corruption!". Function
	btr_create() did not check the return status of fseg_create(),
	and continue the index creation even there is no sufficient
	space.
	
	rb://205 Approved by Marko
	
	
	------------------------------------------------------------------------
	r6188 | jyang | 2009-11-18 07:14:23 +0200 (Wed, 18 Nov 2009) | 8 lines
	Changed paths:
	M /branches/5.1/data/data0type.c
	
	branches/5.1: Fix bug #48526 "Data type for float and
	double is incorrectly reported in InnoDB table monitor".
	Certain datatypes are not printed correctly in
	dtype_print().
	
	rb://204 Approved by Marko.
	
	
	------------------------------------------------------------------------
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	btr/btr0btr.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	data/data0type.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdata%2Fdata0type.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 121/129] Merge patch for revision 1939 from InnoDB SVN:
	revno: 1939
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6198
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6197
	committer: vasil
	timestamp: Thu 2009-11-19 07:44:31 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for r6197.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 120/129] Merge patch for revision 1937 from InnoDB SVN:
	revno: 1937
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6194
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6189
	committer: vasil
	timestamp: Thu 2009-11-19 07:24:45 +0000
	message:
	branches/zip:
	
	Increment version number from 1.0.5 to 1.0.6 since 1.0.5 was just released
	by MySQL and we will soon release 1.0.6.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 119/129] Merge patch for revision 1936 from InnoDB SVN:
	revno: 1936
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6189
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6186
	committer: marko
	timestamp: Wed 2009-11-18 09:36:18 +0000
	message:
	branches/zip: ha_innobase::add_index(): When creating the primary key
	and the table is being locked by another transaction,
	do not attempt to drop the table. (Bug #48782)
	
	Approved by Sunny Bains over IM
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	handler/handler0alter.cc       1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 118/129] Merge patch for revision 1935 from InnoDB SVN:
	revno: 1935
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6186
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6185
	committer: vasil
	timestamp: Tue 2009-11-17 14:48:14 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for r6185.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 117/129] Merge patch for revision 1934 from InnoDB SVN:
	revno: 1934
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6185
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6184
	committer: marko
	timestamp: Tue 2009-11-17 14:44:20 +0000
	message:
	branches/zip: Report duplicate table names
	to the client connection, not to the error log.  This change will allow
	innodb-index.test to be re-enabled.  It was previously disabled, because
	mysql-test-run does not like output in the error log.
	
	row_create_table_for_mysql(): Do not output anything to the error log
	when reporting DB_DUPLICATE_KEY.  Let the caller report the error.
	Add a TODO comment that the dict_table_t object is apparently not freed
	when an error occurs.
	
	create_table_def(): Convert InnoDB table names to the character set
	of the client connection for reporting.  Use my_error(ER_WRONG_COLUMN_NAME)
	for reporting reserved column names.  Report my_error(ER_TABLE_EXISTS_ERROR)
	when row_create_table_for_mysql() returns DB_DUPLICATE_KEY.
	
	rb://206
	removed:
	mysql-test/patches/innodb-index.diff 2508@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Fpatches%2Finnodb-index.diff
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	mysql-test/innodb.result       2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmysql-test%2Finnodb.result
	mysql-test/innodb.test         1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb.test
	mysql-test/innodb_bug44369.result 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44369.result
	mysql-test/innodb_bug44369.test 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44369.test
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 116/129] Merge patch for revision 1929 from InnoDB SVN:
	revno: 1929
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6179
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6177
	committer: marko
	timestamp: Tue 2009-11-17 08:19:34 +0000
	message:
	branches/zip: ha_innobase::change_active_index(): When the history is
	missing, report it to the client, not to the error log.
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 115/129] Merge patch for revision 1928 from InnoDB SVN:
	revno: 1928
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6177
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6175
	committer: calvin
	timestamp: Mon 2009-11-16 18:20:38 +0000
	message:
	branches/zip: add an entry to ChangeLog for r6065
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 114/129] Merge patch for revision 1927 from InnoDB SVN:
	revno: 1927
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6175
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6170
	committer: vasil
	timestamp: Mon 2009-11-16 18:07:39 +0000
	message:
	branches/zip:
	
	Wrap line at 78th char in the ChangeLog
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 113/129] Merge patch for revision 1926 from InnoDB SVN:
	revno: 1926
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6170
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6169
	committer: marko
	timestamp: Thu 2009-11-12 13:49:08 +0000
	message:
	branches/zip: Allow CREATE INDEX to be interrupted.  (Issue #354)
	
	rb://183 approved by Heikki Tuuri
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	include/db0err.h               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdb0err.h
	row/row0merge.c                1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 112/129] Merge patch for revision 1925 from InnoDB SVN:
	revno: 1925
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6169
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6163
	committer: calvin
	timestamp: Thu 2009-11-12 12:40:43 +0000
	message:
	branches/zip: add test case for bug#46676
	
	This crash is reproducible with InnoDB plugin 1.0.4 + MySQL 5.1.37.
	But no longer reproducible after MySQL 5.1.38 (with plugin 1.0.5).
	Add test case to catch future regression.
	added:
	mysql-test/innodb_bug46676.result 6169@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46676.result
	mysql-test/innodb_bug46676.test 6169@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46676.test
	diff:
	=== added file 'mysql-test/innodb_bug46676.result'

2010-10-12  stewart@flamingspork.com

	[patch 111/129] Merge patch for revision 1923 from InnoDB SVN:
	revno: 1923
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6162
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6161
	committer: vasil
	timestamp: Wed 2009-11-11 14:00:12 +0000
	message:
	branches/zip:
	
	Add ChangeLog for r6157.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 110/129] Merge patch for revision 1922 from InnoDB SVN:
	revno: 1922
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6161
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6160
	committer: vasil
	timestamp: Wed 2009-11-11 13:36:16 +0000
	message:
	branches/zip:
	
	Add changelog entry for r6160.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 109/129] Merge patch for revision 1921 from InnoDB SVN:
	revno: 1921
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6160
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6159
	committer: vasil
	timestamp: Wed 2009-11-11 13:33:49 +0000
	message:
	branches/zip: Merge r6152:6159 from branches/5.1:
	
	(r6158 was skipped as an equivallent change has already been merged from MySQL)
	
	------------------------------------------------------------------------
	r6154 | calvin | 2009-11-11 02:51:17 +0200 (Wed, 11 Nov 2009) | 17 lines
	Changed paths:
	M /branches/5.1/include/os0file.h
	M /branches/5.1/os/os0file.c
	
	branches/5.1: fix bug#3139: Mysql crashes: 'windows error 995'
	after several selects on a large DB
	
	During stress environment, Windows AIO may fail with error code
	ERROR_OPERATION_ABORTED. InnoDB does not handle the error, rather
	crashes. The cause of the error is unknown, but likely due to
	faulty hardware or driver.
	
	This patch introduces a new error code OS_FILE_OPERATION_ABORTED,
	which maps to Windows ERROR_OPERATION_ABORTED (995). When the error
	is detected during AIO, the InnoDB will issue a synchronous retry
	(read/write).
	
	This patch has been extensively tested by MySQL support.
	
	Approved by: Marko
	rb://196
	------------------------------------------------------------------------
	r6158 | vasil | 2009-11-11 14:52:14 +0200 (Wed, 11 Nov 2009) | 37 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/handler/ha_innodb.h
	
	branches/5.1:
	
	Merge a change from MySQL:
	(this has been reviewed by Calvin and Marko, and Calvin says Luis has
	incorporated Marko's suggestions)
	
	------------------------------------------------------------
	revno: 3092.5.1
	committer: Luis Soares <luis.soares@sun.com>
	branch nick: mysql-5.1-bugteam
	timestamp: Thu 2009-09-24 15:52:52 +0100
	message:
	BUG#42829: binlogging enabled for all schemas regardless of
	binlog-db-db / binlog-ignore-db
	
	InnoDB will return an error if statement based replication is used
	along with transaction isolation level READ-COMMITTED (or weaker),
	even if the statement in question is filtered out according to the
	binlog-do-db rules set. In this case, an error should not be printed.
	
	This patch addresses this issue by extending the existing check in
	external_lock to take into account the filter rules before deciding to
	print an error. Furthermore, it also changes decide_logging_format to
	take into consideration whether the statement is filtered out from 
	binlog before decision is made.
	added:
	mysql-test/suite/binlog/r/binlog_stm_do_db.result
	mysql-test/suite/binlog/t/binlog_stm_do_db-master.opt
	mysql-test/suite/binlog/t/binlog_stm_do_db.test
	modified:
	sql/sql_base.cc
	sql/sql_class.cc
	storage/innobase/handler/ha_innodb.cc
	storage/innobase/handler/ha_innodb.h
	storage/innodb_plugin/handler/ha_innodb.cc
	storage/innodb_plugin/handler/ha_innodb.h
	
	------------------------------------------------------------------------
	modified:
	include/os0file.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0file.h
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'include/os0file.h'

2010-10-12  stewart@flamingspork.com

	[patch 108/129] Merge patch for revision 1919 from InnoDB SVN:
	revno: 1919
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6157
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6153
	committer: jyang
	timestamp: Wed 2009-11-11 12:27:09 +0000
	message:
	branches/zip: Fix an issue that a local variable defined
	in innodb_file_format_check_validate() is being referenced
	across function in innodb_file_format_check_update().
	In addition, fix "set global innodb_file_format_check =
	DEFAULT" call.
	Bug #47167: "set global innodb_file_format_check" cannot
	set value by User-Defined Variable."
	rb://169 approved by Sunny Bains and Marko.
	added:
	mysql-test/innodb_bug47167.result 6157@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug47167.result
	mysql-test/innodb_bug47167.test 6157@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug47167.test
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	mysql-test/innodb_file_format.result 5429@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_file_format.result
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 107/129] Merge patch for revision 1917 from InnoDB SVN:
	revno: 1917
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6137
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6134
	committer: marko
	timestamp: Wed 2009-11-04 13:24:28 +0000
	message:
	branches/zip: dict_index_too_big_for_undo(): Correct a typo.
	modified:
	dict/dict0dict.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	diff:
	=== modified file 'dict/dict0dict.c'

2010-10-12  stewart@flamingspork.com

	[patch 106/129] Merge patch for revision 1915 from InnoDB SVN:
	revno: 1915
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6130
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6126
	committer: marko
	timestamp: Mon 2009-11-02 09:42:56 +0000
	message:
	branches/zip: Free all resources at shutdown. Set pointers to NULL, so
	that Valgrind will not complain about freed data structures that are
	reachable via pointers.  This addresses Bug #45992 and Bug #46656.
	
	This patch is mostly based on changes copied from branches/embedded-1.0,
	mainly c5432, c3439, c3134, c2994, c2978, but also some other code was
	copied.  Some added cleanup code is specific to MySQL/InnoDB.
	
	rb://199 approved by Sunny Bains
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	btr/btr0sea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0sea.c
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	dict/dict0dict.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	ibuf/ibuf0ibuf.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fibuf%2Fibuf0ibuf.c
	include/btr0sea.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbtr0sea.h
	include/dict0dict.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0dict.h
	include/fil0fil.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ffil0fil.h
	include/ibuf0ibuf.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fibuf0ibuf.h
	include/lock0lock.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flock0lock.h
	include/log0log.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.h
	include/log0recv.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0recv.h
	include/mem0mem.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fmem0mem.h
	include/mem0pool.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fmem0pool.h
	include/os0file.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0file.h
	include/pars0pars.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fpars0pars.h
	include/srv0srv.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fsrv0srv.h
	include/thr0loc.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fthr0loc.h
	include/trx0i_s.h              1864@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Finclude%2Ftrx0i_s.h
	include/trx0purge.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0purge.h
	include/trx0rseg.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0rseg.h
	include/trx0sys.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0sys.h
	include/trx0undo.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0undo.h
	include/usr0sess.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fusr0sess.h
	lock/lock0lock.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	log/log0log.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0log.c
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	mem/mem0dbg.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmem%2Fmem0dbg.c
	mem/mem0pool.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmem%2Fmem0pool.c
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	os/os0sync.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0sync.c
	os/os0thread.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0thread.c
	pars/lexyy.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fpars%2Flexyy.c
	pars/pars0lex.l                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fpars%2Fpars0lex.l
	que/que0que.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fque%2Fque0que.c
	srv/srv0srv.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0srv.c
	srv/srv0start.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0start.c
	sync/sync0arr.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsync%2Fsync0arr.c
	sync/sync0sync.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsync%2Fsync0sync.c
	thr/thr0loc.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fthr%2Fthr0loc.c
	trx/trx0i_s.c                  1864@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Ftrx%2Ftrx0i_s.c
	trx/trx0purge.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0purge.c
	trx/trx0rseg.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0rseg.c
	trx/trx0sys.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0sys.c
	trx/trx0undo.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0undo.c
	usr/usr0sess.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fusr%2Fusr0sess.c
	ut/ut0mem.c                    2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fut%2Fut0mem.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 105/129] Merge patch for revision 1913 from InnoDB SVN:
	revno: 1913
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6124
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6121
	committer: jyang
	timestamp: Fri 2009-10-30 08:02:31 +0000
	message:
	branches/zip: Correct the bug number for -r6109 change
	from # 48273 to #48237
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 104/129] Merge patch for revision 1911 from InnoDB SVN:
	revno: 1911
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6114
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6113
	committer: vasil
	timestamp: Thu 2009-10-29 16:43:51 +0000
	message:
	branches/zip:
	
	* Add ChangeLog entries for latest changes
	* Obey alphabetical order in the list of the files
	* White-space fixup
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 103/129] Merge patch for revision 1910 from InnoDB SVN:
	revno: 1910
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6113
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6112
	committer: vasil
	timestamp: Thu 2009-10-29 16:15:50 +0000
	message:
	branches/zip: Merge r5912:6112 from branches/5.1:
	
	(after this merge the innodb-autoinc test starts to fail, but
	I commit anyway because it would be easier to investigate the
	failure this way)
	
	------------------------------------------------------------------------
	r5952 | calvin | 2009-09-22 19:45:07 +0300 (Tue, 22 Sep 2009) | 7 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: fix bug#42383: Can't create table 'test.bug39438'
	
	For embedded server, MySQL may pass in full path, which is
	currently disallowed. It is needed to relax the condition by
	accepting full paths in the embedded case.
	
	Approved by: Heikki (on IM)
	------------------------------------------------------------------------
	r6032 | vasil | 2009-10-01 15:55:49 +0300 (Thu, 01 Oct 2009) | 8 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1:
	
	Fix Bug#38996 Race condition in ANALYZE TABLE
	
	by serializing ANALYZE TABLE inside InnoDB.
	
	Approved by:	Heikki (rb://175)
	
	------------------------------------------------------------------------
	r6045 | jyang | 2009-10-08 02:27:08 +0300 (Thu, 08 Oct 2009) | 7 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	A /branches/5.1/mysql-test/innodb_bug47777.result
	A /branches/5.1/mysql-test/innodb_bug47777.test
	
	branches/5.1: Fix bug #47777. Treat the Geometry data same as
	Binary BLOB in ha_innobase::store_key_val_for_row(), since the
	Geometry data is stored as Binary BLOB in Innodb.
	
	Review: rb://180 approved by Marko Makela.
	
	
	------------------------------------------------------------------------
	r6051 | sunny | 2009-10-12 07:05:00 +0300 (Mon, 12 Oct 2009) | 6 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Ignore negative values supplied by the user when calculating the
	next value to store in dict_table_t. Setting autoincrement columns top negative
	values is undefined behavior and this change should bring the behavior of
	InnoDB closer to what users expect. Added several tests to check.
	rb://162
	
	------------------------------------------------------------------------
	r6052 | sunny | 2009-10-12 07:09:56 +0300 (Mon, 12 Oct 2009) | 4 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Reset the statement level autoinc counter on ROLLBACK. Fix
	the test results too.
	rb://164
	
	------------------------------------------------------------------------
	r6053 | sunny | 2009-10-12 07:37:49 +0300 (Mon, 12 Oct 2009) | 6 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/mysql-test/innodb-autoinc.result
	M /branches/5.1/mysql-test/innodb-autoinc.test
	
	branches/5.1: Copy the maximum AUTOINC value from the old table to the new
	table when MySQL does a CREATE INDEX ON T. This is required because MySQL
	does a table copy, rename and drops the old table.
	Fix Bug#47125: auto_increment start value is ignored if an index is created and engine=innodb
	rb://168
	
	------------------------------------------------------------------------
	r6076 | vasil | 2009-10-14 19:30:12 +0300 (Wed, 14 Oct 2009) | 4 lines
	Changed paths:
	M /branches/5.1/row/row0mysql.c
	
	branches/5.1:
	
	Fix typo.
	
	------------------------------------------------------------------------
	added:
	mysql-test/innodb_bug47777.result 6113@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug47777.result
	mysql-test/innodb_bug47777.test 6113@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug47777.test
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	mysql-test/innodb-autoinc.result 2372@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-autoinc.result
	mysql-test/innodb-autoinc.test 2372@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-autoinc.test
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 102/129] Merge patch for revision 1908 from InnoDB SVN:
	revno: 1908
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6111
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6110
	committer: marko
	timestamp: Thu 2009-10-29 11:04:11 +0000
	message:
	branches/zip: Fix corruption of buf_pool->LRU_old and improve debug assertions.
	This was reported as Issue #381.
	
	buf_page_set_old(): Assert that blocks may only be set old if
	buf_pool->LRU_old is initialized and buf_pool->LRU_old_len is nonzero.
	Assert that buf_pool->LRU_old points to the block at the old/new boundary.
	
	buf_LRU_old_adjust_len(): Invoke buf_page_set_old() after adjusting
	buf_pool->LRU_old and buf_pool->LRU_old_len, in order not to violate
	the added assertions.
	
	buf_LRU_old_init(): Replace buf_page_set_old() with a direct
	assignment to bpage->old, because these loops that initialize all the
	blocks would temporarily violate the assertions about
	buf_pool->LRU_old.
	
	buf_LRU_remove_block(): When setting buf_pool->LRU_old = NULL, also
	clear all bpage->old flags and set buf_pool->LRU_old_len = 0.
	
	buf_LRU_add_block_to_end_low(), buf_LRU_add_block_low(): Move the
	buf_page_set_old() call later in order not to violate the debug
	assertions.  If buf_pool->LRU_old is NULL, set old=FALSE.
	
	buf_LRU_free_block(): Replace the UNIV_LRU_DEBUG assertion with a
	dummy buf_page_set_old() call that performs more thorough checks.
	
	buf_LRU_validate(): Do not tolerate garbage in buf_pool->LRU_old_len
	even if buf_pool->LRU_old is NULL.  Check that bpage->old is monotonic.
	
	buf_relocate(): Make the UNIV_LRU_DEBUG checks stricter.
	
	buf0buf.h: Revise the documentation of buf_page_t::old and
	buf_pool_t::LRU_old_len.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 101/129] Merge patch for revision 1906 from InnoDB SVN:
	revno: 1906
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6109
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6108
	committer: jyang
	timestamp: Thu 2009-10-29 08:37:32 +0000
	message:
	branches/zip: In os_mem_alloc_large(), if we fail to attach
	the shared memory, reset memory pointer ptr to NULL, and
	allocate memory from conventional pool.
	Bug #48237 Error handling in os_mem_alloc_large appears to be incorrect
	rb://198  Approved by: Marko
	modified:
	os/os0proc.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0proc.c
	diff:
	=== modified file 'os/os0proc.c'

2010-10-12  stewart@flamingspork.com

	[patch 100/129] Merge patch for revision 1905 from InnoDB SVN:
	revno: 1905
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6108
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6107
	committer: calvin
	timestamp: Thu 2009-10-29 05:58:04 +0000
	message:
	branches/zip: close file handle when building with UNIV_HOTBACKUP
	
	The change does not affect regular InnoDB engine. Confirmed by
	Marko.
	modified:
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'fil/fil0fil.c'

2010-10-12  stewart@flamingspork.com

	[patch 099/129] Merge patch for revision 1904 from InnoDB SVN:
	revno: 1904
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6107
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6105
	committer: marko
	timestamp: Wed 2009-10-28 14:10:34 +0000
	message:
	branches/zip: buf_page_set_old(): Improve UNIV_LRU_DEBUG diagnostics
	in order to catch the buf_pool->LRU_old corruption reported in Issue #381.
	
	buf_LRU_old_init(): Set the property from the tail towards the front
	of the buf_pool->LRU list, in order not to trip the debug check.
	modified:
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'buf/buf0lru.c'

2010-10-12  stewart@flamingspork.com

	[patch 098/129] Merge patch for revision 1903 from InnoDB SVN:
	revno: 1903
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6105
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6103
	committer: calvin
	timestamp: Tue 2009-10-27 22:05:52 +0000
	message:
	branches/zip: backport r3848 from 6.0 branch
	
	----
	branches/6.0: innobase_start_or_create_for_mysql(): Make the 10 MB
	minimum tablespace limit independent of UNIV_PAGE_SIZE. (Bug #41490)
	modified:
	srv/srv0start.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0start.c
	diff:
	=== modified file 'srv/srv0start.c'

2010-10-12  stewart@flamingspork.com

	[patch 097/129] Merge patch for revision 1902 from InnoDB SVN:
	revno: 1902
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6103
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6102
	committer: marko
	timestamp: Mon 2009-10-26 13:46:18 +0000
	message:
	branches/zip: row_ins_alloc_sys_fields(): Zero out the system columns
	DB_TRX_ID, DB_ROLL_PTR and DB_ROW_ID, in order to avoid harmless
	Valgrind warnings about uninitialized data.  (The warnings were
	harmless, because the fields would be initialized at a later stage.)
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	row/row0ins.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0ins.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 096/129] Merge patch for revision 1901 from InnoDB SVN:
	revno: 1901
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6102
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6101
	committer: marko
	timestamp: Mon 2009-10-26 07:32:23 +0000
	message:
	branches/zip: row_prebuilt_struct::prebuilts: Unused field, remove.
	modified:
	include/row0mysql.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Frow0mysql.h
	diff:
	=== modified file 'include/row0mysql.h'

2010-10-12  stewart@flamingspork.com

	[patch 095/129] Merge patch for revision 1898 from InnoDB SVN:
	revno: 1898
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6099
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6096
	committer: jyang
	timestamp: Thu 2009-10-22 01:58:39 +0000
	message:
	branches/zip: Port bug #46000 related changes from 5.1 to zip
	branch. Due to different code path for creating index in zip
	branch comparing to 5.1), the index reserved name check function
	is extended to be used in ha_innobase::add_index(). 
	rb://190  Approved by: Marko
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	handler/ha_innodb.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.h
	handler/handler0alter.cc       1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	mysql-test/innodb_bug46000.result 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46000.result
	mysql-test/innodb_bug46000.test 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46000.test
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 094/129] Merge patch for revision 1897 from InnoDB SVN:
	revno: 1897
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6096
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6095
	committer: vasil
	timestamp: Mon 2009-10-19 12:06:09 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for r6095.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 093/129] Merge patch for revision 1895 from InnoDB SVN:
	revno: 1895
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6084
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6080
	committer: vasil
	timestamp: Thu 2009-10-15 04:21:17 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for r6080.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 092/129] Merge patch for revision 1893 from InnoDB SVN:
	revno: 1893
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6065
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6064
	committer: inaam
	timestamp: Tue 2009-10-13 16:43:13 +0000
	message:
	branches/zip rb://182
	
	Call fsync() on datafiles after a batch of pages is written to disk
	even when skip_innodb_doublewrite is set.
	
	Approved by: Heikki
	modified:
	buf/buf0flu.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0flu.c
	diff:
	=== modified file 'buf/buf0flu.c'

2010-10-12  stewart@flamingspork.com

	[patch 091/129] Merge patch for revision 1891 from InnoDB SVN:
	revno: 1891
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6049
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6048
	committer: vasil
	timestamp: Fri 2009-10-09 15:05:26 +0000
	message:
	branches/zip:
	
	Fix compilation warning in Hot Backup:
	
	innodb/fil/fil0fil.c: In function 'fil_load_single_table_tablespace':
	innodb/fil/fil0fil.c:3253: warning: format '%lld' expects type 'long long int', but argument 6 has type 'ib_int64_t'
	modified:
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'fil/fil0fil.c'

2010-10-12  stewart@flamingspork.com

	[patch 090/129] Merge patch for revision 1890 from InnoDB SVN:
	revno: 1890
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6048
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6046
	committer: vasil
	timestamp: Fri 2009-10-09 04:42:55 +0000
	message:
	branches/zip:
	
	When scanning a directory readdir() is called and stat() after it,
	if a file is deleted between the two calls stat will fail and the
	whole precedure will fail. Change this behavior to continue with the
	next entry if stat() fails because of nonexistent file. This is
	transparent change as it will make it look as if the file was deleted
	before the readdir() call.
	
	This change is needed in order to fix
	https://svn.innodb.com/mantis/view.php?id=174
	in which we need to abort if os_file_readdir_next_file()
	encounters "real" errors.
	
	Approved by:	Marko, Pekka (rb://177)
	modified:
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'os/os0file.c'

2010-10-12  stewart@flamingspork.com

	[patch 089/129] Merge patch for revision 1889 from InnoDB SVN:
	revno: 1889
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6046
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6044
	committer: pekka
	timestamp: Thu 2009-10-08 08:24:56 +0000
	message:
	branches/zip: Revert r6044 which added os_file_is_same() function
	(issue#186). This functionality is moved to Hot Backup source tree.
	modified:
	include/os0file.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0file.h
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'include/os0file.h'

2010-10-12  stewart@flamingspork.com

	[patch 088/129] Merge patch for revision 1888 from InnoDB SVN:
	revno: 1888
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6044
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6043
	committer: pekka
	timestamp: Tue 2009-10-06 13:44:54 +0000
	message:
	branches/zip:
	Add os_file_is_same() function for Hot Backup (inside ifdef UNIV_HOTBACKUP).
	This is part of the fix for Issue #186.
	Note! The Windows implementation is incomplete.
	modified:
	include/os0file.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0file.h
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'include/os0file.h'

2010-10-12  stewart@flamingspork.com

	[patch 087/129] Merge patch for revision 1887 from InnoDB SVN:
	revno: 1887
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6043
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6033
	committer: inaam
	timestamp: Mon 2009-10-05 13:45:35 +0000
	message:
	branches/zip  rb://176
	
	Do not invalidate buffer pool while an LRU batch is active. Added
	code to buf_pool_invalidate() to wait for the running batches to finish.
	
	This patch also resets the state of buf_pool struct at invalidation. This
	addresses the concern where buf_pool->freed_page_clock becomes non-zero
	because we read in a system tablespace page for file format info at
	startup.
	
	Approved by: Marko
	modified:
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	diff:
	=== modified file 'buf/buf0buf.c'

2010-10-12  stewart@flamingspork.com

	[patch 086/129] Merge patch for revision 1885 from InnoDB SVN:
	revno: 1885
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6031
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6029
	committer: marko
	timestamp: Thu 2009-10-01 10:24:33 +0000
	message:
	branches/zip: Clean up after a crash during DROP INDEX.
	When InnoDB crashes while dropping an index, ensure that
	the index will be completely dropped during crash recovery.
	
	row_merge_drop_index(): Before dropping an index, rename the index to
	start with TEMP_INDEX_PREFIX_STR and commit the change, so that
	row_merge_drop_temp_indexes() will drop the index after crash
	recovery if the server crashes while dropping the index.
	
	fseg_inode_try_get(): New function, forked from fseg_inode_get().
	Return NULL if the file segment index node is free.
	
	fseg_inode_get(): Assert that the file segment index node is not free.
	
	fseg_free_step(): If the file segment index node is already free,
	print a diagnostic message and return TRUE.
	
	fsp_free_seg_inode(): Write a nonzero number to FSEG_MAGIC_N, so that
	allocated-and-freed file segment index nodes can be better
	distinguished from uninitialized ones.
	
	This is rb://174, addressing Issue #348.
	
	Tested by restarting mysqld upon the completion of the added
	log_write_up_to() invocation below, during DROP INDEX.  The index was
	dropped after crash recovery, and re-issuing the DROP INDEX did not
	crash the server.
	
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	fsp/fsp0fsp.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffsp%2Ffsp0fsp.c
	row/row0merge.c                1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 085/129] Merge patch for revision 1884 from InnoDB SVN:
	revno: 1884
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6029
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6028
	committer: calvin
	timestamp: Wed 2009-09-30 19:32:02 +0000
	message:
	branches/zip: non-functional changes
	
	Fix typo.
	modified:
	include/row0ins.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Frow0ins.h
	row/row0ins.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0ins.c
	trx/trx0trx.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0trx.c
	diff:
	=== modified file 'include/row0ins.h'

2010-10-12  stewart@flamingspork.com

	[patch 084/129] Merge patch for revision 1883 from InnoDB SVN:
	revno: 1883
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6028
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6026
	committer: marko
	timestamp: Wed 2009-09-30 12:55:23 +0000
	message:
	branches/zip: recv_no_log_write: New debug flag for tracking down
	Mantis Issue #347.  No modifications should be made to the database
	while recv_apply_hashed_log_recs() is about to complete.
	modified:
	include/log0recv.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0recv.h
	log/log0log.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0log.c
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	mtr/mtr0mtr.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmtr%2Fmtr0mtr.c
	diff:
	=== modified file 'include/log0recv.h'

2010-10-12  stewart@flamingspork.com

	[patch 083/129] Merge patch for revision 1882 from InnoDB SVN:
	revno: 1882
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6026
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6007
	committer: marko
	timestamp: Wed 2009-09-30 06:18:24 +0000
	message:
	branches/zip: Add some debug assertions for checking FSEG_MAGIC_N.
	modified:
	fsp/fsp0fsp.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffsp%2Ffsp0fsp.c
	diff:
	=== modified file 'fsp/fsp0fsp.c'

2010-10-12  stewart@flamingspork.com

	[patch 082/129] Merge patch for revision 1881 from InnoDB SVN:
	revno: 1881
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6007
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6006
	committer: vasil
	timestamp: Tue 2009-09-29 12:19:59 +0000
	message:
	branches/zip:
	
	Fix the year, should be 2009.
	
	Pointed by:	Calvin
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 081/129] Merge patch for revision 1880 from InnoDB SVN:
	revno: 1880
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6006
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6005
	committer: vasil
	timestamp: Tue 2009-09-29 09:15:25 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for the release of 1.0.4.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 080/129] Merge patch for revision 1879 from InnoDB SVN:
	revno: 1879
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:6005
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5997
	committer: vasil
	timestamp: Tue 2009-09-29 07:09:52 +0000
	message:
	branches/zip:
	
	ChangeLog: wrap around 78th column, not earlier.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 079/129] Merge patch for revision 1878 from InnoDB SVN:
	revno: 1878
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5997
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5996
	committer: marko
	timestamp: Mon 2009-09-28 12:03:58 +0000
	message:
	branches/zip: Remove an assertion failure when the InnoDB data dictionary
	is inconsistent with the MySQL .frm file.
	
	ha_innobase::index_read(): When the index cannot be found,
	return an error.
	
	ha_innobase::change_active_index(): When prebuilt->index == NULL,
	set also prebuilt->index_usable = FALSE.  This is not needed for
	correctness, because prebuilt->index_usable is only checked by
	row_search_for_mysql(), which requires prebuilt->index != NULL.
	
	This addresses Issue #349.  Approved by Heikki Tuuri over IM.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 078/129] Merge patch for revision 1877 from InnoDB SVN:
	revno: 1877
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5996
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5995
	committer: marko
	timestamp: Mon 2009-09-28 11:46:02 +0000
	message:
	branches/zip: Address Issue #350 in comments.
	
	lock_rec_queue_validate(), lock_rec_queue_validate(): Note that
	this debug code may violate the latching order and cause deadlocks.
	modified:
	lock/lock0lock.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	diff:
	=== modified file 'lock/lock0lock.c'

2010-10-12  stewart@flamingspork.com

	[patch 077/129] Merge patch for revision 1876 from InnoDB SVN:
	revno: 1876
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5995
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5994
	committer: marko
	timestamp: Mon 2009-09-28 07:52:25 +0000
	message:
	branches/zip: Do not write to PAGE_INDEX_ID after page creation,
	not even when restoring an uncompressed page after a compression failure.
	
	btr_page_reorganize_low(): On compression failure, do not restore
	those page header fields that should not be affected by the
	reorganization.  Instead, compare the fields.
	
	page_zip_decompress(): Add the parameter ibool all, for copying all
	page header fields.  Pass the parameter all=TRUE on block read
	completion, redo log application, and page_zip_validate(); pass
	all=FALSE in all other cases.
	
	page_zip_reorganize(): Do not restore the uncompressed page on
	failure.  It will be restored (to pre-modification state) by the
	caller anyway.
	
	rb://167, Issue #346
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	btr/btr0btr.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0btr.c
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	include/page0page.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fpage0page.h
	include/page0zip.h             10@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Finclude%2Fpage0zip.h
	page/page0cur.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fpage%2Fpage0cur.c
	page/page0page.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fpage%2Fpage0page.c
	page/page0zip.c                10@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fpage%2Fpage0zip.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 076/129] Merge patch for revision 1875 from InnoDB SVN:
	revno: 1875
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5994
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5992
	committer: marko
	timestamp: Mon 2009-09-28 07:33:59 +0000
	message:
	branches/zip: Try to prevent the reuse of tablespace identifiers after
	InnoDB has crashed during table creation.  Also, refuse to start if
	files with duplicate tablespace identifiers are encountered.
	
	fil_node_create(): Update fil_system->max_assigned_id.  This should
	prevent the reuse of a space->id when InnoDB does a full crash
	recovery and invokes fil_load_single_table_tablespaces().  Normally,
	fil_system->max_assigned_id is initialized from
	SELECT MAX(ID) FROM SYS_TABLES.
	
	fil_open_single_table_tablespace(): Return FALSE when
	fil_space_create() fails.
	
	fil_load_single_table_tablespace(): Exit if fil_space_create() fails
	and innodb_force_recovery=0.
	
	rb://173 approved by Heikki Tuuri.  This addresses Issue #335.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 075/129] Merge patch for revision 1874 from InnoDB SVN:
	revno: 1874
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5992
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5988
	committer: vasil
	timestamp: Mon 2009-09-28 06:10:29 +0000
	message:
	branches/zip:
	
	Add ChangeLog entry for c5988.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 074/129] Merge patch for revision 1873 from InnoDB SVN:
	revno: 1873
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5988
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5979
	committer: calvin
	timestamp: Fri 2009-09-25 18:14:43 +0000
	message:
	branches/zip: fix bug#47055 unconditional exit(1) on ERROR_WORKING_SET_QUOTA
	1453 (0x5AD) for InnoDB backend
	
	When error ERROR_WORKING_SET_QUOTA or ERROR_NO_SYSTEM_RESOURCES
	occurs, yields for 100ms and retries the operation.
	
	Approved by: Heikki (on IM)
	modified:
	include/os0file.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0file.h
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'include/os0file.h'

2010-10-12  stewart@flamingspork.com

	[patch 073/129] Merge patch for revision 1871 from InnoDB SVN:
	revno: 1871
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5978
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5973
	committer: marko
	timestamp: Thu 2009-09-24 06:47:56 +0000
	message:
	branches/zip: Fix warnings and errors when UNIV_HOTBACKUP is defined.
	modified:
	fsp/fsp0fsp.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffsp%2Ffsp0fsp.c
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'fsp/fsp0fsp.c'

2010-10-12  stewart@flamingspork.com

	[patch 072/129] Merge patch for revision 1870 from InnoDB SVN:
	revno: 1870
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5973
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5972
	committer: marko
	timestamp: Wed 2009-09-23 18:53:21 +0000
	message:
	branches/zip: recv_add_to_hash_table():
	Simplify obfuscated pointer arithmetics.
	modified:
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	diff:
	=== modified file 'log/log0recv.c'

2010-10-12  stewart@flamingspork.com

	[patch 071/129] Merge patch for revision 1869 from InnoDB SVN:
	revno: 1869
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5972
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5971
	committer: marko
	timestamp: Wed 2009-09-23 18:44:52 +0000
	message:
	branches/zip: fil_node_open_file(): In InnoDB Hot Backup,
	determine the page size of single-file tablespaces before computing
	the file node size.  Otherwise, the space->size of compressed tablespaces
	would be computed with UNIV_PAGE_SIZE instead of key_block_size.
	This should fix Issue #313.
	modified:
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'fil/fil0fil.c'

2010-10-12  stewart@flamingspork.com

	[patch 070/129] Merge patch for revision 1868 from InnoDB SVN:
	revno: 1868
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5971
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5956
	committer: marko
	timestamp: Wed 2009-09-23 12:03:51 +0000
	message:
	branches/zip: os_file_pwrite(): Make the code compile in InnoDB Hot Backup
	when the pwrite system call is not available.
	modified:
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'os/os0file.c'

2010-10-12  stewart@flamingspork.com

	[patch 069/129] Merge patch for revision 1864 from InnoDB SVN:
	revno: 1864
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5945
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5940
	committer: calvin
	timestamp: Mon 2009-09-21 13:53:22 +0000
	message:
	branches/zip: fix a type in r5935
	
	Should be innodb_open_files, spotted by Michael.
	modified:
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'fil/fil0fil.c'

2010-10-12  stewart@flamingspork.com

	[patch 068/129] Merge patch for revision 1863 from InnoDB SVN:
	revno: 1863
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5940
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5938
	committer: vasil
	timestamp: Mon 2009-09-21 04:26:04 +0000
	message:
	branches/zip:
	
	Add ChangeLog entries for c5938.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 067/129] Merge patch for revision 1862 from InnoDB SVN:
	revno: 1862
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5938
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5935
	committer: calvin
	timestamp: Sat 2009-09-19 06:14:25 +0000
	message:
	branches/zip: Merge revisions 2584:2956 from branches/6.0,
	except c2932.
	
	Bug#37232 and bug#31183 were fixed in the 6.0 branch only.
	They should be fixed in the plugin too, specially MySQL 6.0
	is discontinued at this point.
	
	------------------------------------------------------------------------
	r2604 | inaam | 2008-08-21 09:37:06 -0500 (Thu, 21 Aug 2008) | 8 lines
	
	branches/6.0     bug#37232
	
	Relax locking behaviour for REPLACE INTO t SELECT ... FROM t1.
	Now SELECT on t1 is performed as a consistent read when the isolation
	level is set to READ COMMITTED.
	
	Reviewed by: Heikki
	------------------------------------------------------------------------
	r2605 | inaam | 2008-08-21 09:59:33 -0500 (Thu, 21 Aug 2008) | 7 lines
	
	branches/6.0
	
	Added a comment to clarify why distinct calls to read MySQL binary
	log file name and log position do not entail any race condition.
	
	Suggested by: Heikki
	------------------------------------------------------------------------
	r2956 | inaam | 2008-11-04 04:47:30 -0600 (Tue, 04 Nov 2008) | 11 lines
	
	branches/6.0  bug#31183
	
	If the system tablespace runs out of space because 'autoextend' is
	not specified with innodb_data_file_path there was no error message
	printed to the error log. The client would get 'table full' error.
	This patch prints an appropriate error message to the error log.
	
	rb://43
	
	Approved by: Marko
	------------------------------------------------------------------------
	added:
	mysql-test/innodb-consistent-master.opt 5938@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-consistent-master.opt
	mysql-test/innodb-consistent.result 5938@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-consistent.result
	mysql-test/innodb-consistent.test 5938@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb-consistent.test
	modified:
	fsp/fsp0fsp.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffsp%2Ffsp0fsp.c
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	diff:
	=== modified file 'fsp/fsp0fsp.c'

2010-10-12  stewart@flamingspork.com

	[patch 066/129] Merge patch for revision 1861 from InnoDB SVN:
	revno: 1861
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5935
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5934
	committer: calvin
	timestamp: Fri 2009-09-18 20:08:02 +0000
	message:
	branches/zip: fix bug#44338; minor non-functional changes
	
	Bug#44338 innodb has message about non-existing option 
	innodb_max_files_open. Change the option to innodb_open_files.
	The fix was committed into 6.0 branch.
	modified:
	fil/fil0fil.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ffil%2Ffil0fil.c
	diff:
	=== modified file 'fil/fil0fil.c'

2010-10-12  stewart@flamingspork.com

	[patch 065/129] Merge patch for revision 1860 from InnoDB SVN:
	revno: 1860
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5934
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5924
	committer: vasil
	timestamp: Fri 2009-09-18 16:06:46 +0000
	message:
	branches/zip:
	
	Fix typo.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 064/129] Merge patch for revision 1859 from InnoDB SVN:
	revno: 1859
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5924
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5922
	committer: vasil
	timestamp: Fri 2009-09-18 03:59:30 +0000
	message:
	branches/zip:
	
	White space and formatting cleanup in the ChangeLog
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 063/129] Merge patch for revision 1857 from InnoDB SVN:
	revno: 1857
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5920
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5919
	committer: vasil
	timestamp: Wed 2009-09-16 17:47:22 +0000
	message:
	branches/zip:
	
	Add ChangeLog entries for r5916.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 062/129] Merge patch for revision 1856 from InnoDB SVN:
	revno: 1856
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5919
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5917
	committer: vasil
	timestamp: Wed 2009-09-16 17:37:13 +0000
	message:
	branches/zip:
	
	Whitespace cleanup in the ChangeLog.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 061/129] Merge patch for revision 1854 from InnoDB SVN:
	revno: 1854
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5916
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5910
	committer: marko
	timestamp: Wed 2009-09-16 08:54:43 +0000
	message:
	branches/zip: Merge revisions 5622:5912 from branches/5.1, except r5700
	(changes to CMakeLists.txt)
	
	------------------------------------------------------------------------
	r5622 | vasil | 2009-08-03 15:27:00 +0300 (Mon, 03 Aug 2009) | 20 lines
	Changed paths:
	M /branches/5.1/Makefile.am
	
	branches/5.1:
	
	Merge a change from MySQL:
	
	------------------------------------------------------------
	revno: 2988
	committer: Satya B <satya.bn@sun.com>
	branch nick: mysql-5.1-bugteam
	timestamp: Wed 2009-07-01 11:06:05 +0530
	message:
	Fix build failure after applying Innodb snapshot 5.1-ss5282
	
	After applying Innodb snapshot 5.1-ss5282, build was broken
	because of missing header file.
	
	Adding the header file to Makefile.am after informing the
	innodb developers.
	modified:
	storage/innobase/Makefile.am
	------------------------------------------------------------------------
	r5740 | jyang | 2009-09-03 06:33:47 +0300 (Thu, 03 Sep 2009) | 5 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/include/db0err.h
	A /branches/5.1/mysql-test/innodb_bug46000.result
	A /branches/5.1/mysql-test/innodb_bug46000.test
	
	branches/5.1: Disallow creating index with the name of
	"GEN_CLUST_INDEX" which is reserved for the default system
	primary index. (Bug #46000) rb://149 approved by Sunny Bains.
	------------------------------------------------------------------------
	r5741 | jyang | 2009-09-03 07:16:01 +0300 (Thu, 03 Sep 2009) | 5 lines
	Changed paths:
	M /branches/5.1/dict/dict0dict.c
	M /branches/5.1/handler/ha_innodb.cc
	A /branches/5.1/mysql-test/innodb_bug44369.result
	A /branches/5.1/mysql-test/innodb_bug44369.test
	M /branches/5.1/row/row0mysql.c
	
	branches/5.1: Block creating table with column name conflicting
	with Innodb reserved key words. (Bug #44369) rb://151 approved
	by Sunny Bains.
	------------------------------------------------------------------------
	r5757 | jyang | 2009-09-04 04:26:13 +0300 (Fri, 04 Sep 2009) | 3 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	M /branches/5.1/include/db0err.h
	D /branches/5.1/mysql-test/innodb_bug46000.result
	D /branches/5.1/mysql-test/innodb_bug46000.test
	
	branches/5.1: Revert change in 5740. Making the fix in a subsequent
	check in.
	------------------------------------------------------------------------
	r5760 | jyang | 2009-09-04 07:07:34 +0300 (Fri, 04 Sep 2009) | 3 lines
	Changed paths:
	M /branches/5.1/dict/dict0dict.c
	M /branches/5.1/handler/ha_innodb.cc
	D /branches/5.1/mysql-test/innodb_bug44369.result
	D /branches/5.1/mysql-test/innodb_bug44369.test
	M /branches/5.1/row/row0mysql.c
	
	branches/5.1: This is to revert change 5741. A return status for
	create_table_def() needs to be fixed.
	------------------------------------------------------------------------
	r5797 | calvin | 2009-09-09 18:26:29 +0300 (Wed, 09 Sep 2009) | 3 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: merge change from 5.1.38
	
	HA_ERR_TOO_MANY_CONCURRENT_TRXS is added in 5.1.38.
	------------------------------------------------------------------------
	r5799 | calvin | 2009-09-09 20:47:31 +0300 (Wed, 09 Sep 2009) | 10 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1: fix bug#46256
	
	Allow tables to be dropped even if the collation is not found,
	but issue a warning.
	
	Could not find an easy way to add mysql-test since it requires
	changes to charsets and restarting the server. Tests were
	executed manually.
	
	Approved by: Heikki (on IM)
	------------------------------------------------------------------------
	r5805 | vasil | 2009-09-10 08:41:48 +0300 (Thu, 10 Sep 2009) | 7 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	
	branches/5.1:
	
	Fix a compilation warning caused by c5799:
	
	handler/ha_innodb.cc: In function 'void innobase_get_cset_width(ulint, ulint*, ulint*)':
	handler/ha_innodb.cc:830: warning: format '%d' expects type 'int', but argument 2 has type 'ulint'
	------------------------------------------------------------------------
	r5834 | jyang | 2009-09-11 00:43:05 +0300 (Fri, 11 Sep 2009) | 5 lines
	Changed paths:
	M /branches/5.1/dict/dict0dict.c
	M /branches/5.1/handler/ha_innodb.cc
	A /branches/5.1/mysql-test/innodb_bug44369.result
	A /branches/5.1/mysql-test/innodb_bug44369.test
	M /branches/5.1/row/row0mysql.c
	
	branches/5.1: Block creating table with column name conflicting
	with Innodb reserved key words. (Bug #44369) rb://151 approved
	by Sunny Bains.
	------------------------------------------------------------------------
	r5895 | jyang | 2009-09-15 03:39:21 +0300 (Tue, 15 Sep 2009) | 5 lines
	Changed paths:
	M /branches/5.1/handler/ha_innodb.cc
	A /branches/5.1/mysql-test/innodb_bug46000.result
	A /branches/5.1/mysql-test/innodb_bug46000.test
	
	branches/5.1: Disallow creating index with the name of
	"GEN_CLUST_INDEX" which is reserved for the default system
	primary index. (Bug #46000) rb://149 approved by Marko Makela.
	------------------------------------------------------------------------
	added:
	mysql-test/innodb_bug44369.result 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44369.result
	mysql-test/innodb_bug44369.test 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44369.test
	mysql-test/innodb_bug46000.result 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46000.result
	mysql-test/innodb_bug46000.test 5916@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug46000.test
	modified:
	dict/dict0dict.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'dict/dict0dict.c'

2010-10-12  stewart@flamingspork.com

	[patch 060/129] Merge patch for revision 1853 from InnoDB SVN:
	revno: 1853
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5910
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5899
	committer: marko
	timestamp: Wed 2009-09-16 07:07:21 +0000
	message:
	branches/zip: Introduce UNIV_LOG_LSN_DEBUG and MLOG_LSN for redo log
	diagnostics.  This was written in order to better track down
	Issue #313 in InnoDB Hot Backup.
	
	MLOG_LSN: A new redo log entry type, for recording the current log
	sequence number (LSN).  This will be checked in an assertion in
	recv_parse_log_rec().
	
	rb://161, discussed with Sunny and Vasil.
	modified:
	include/log0log.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.ic
	include/mtr0mtr.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fmtr0mtr.h
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	srv/srv0start.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0start.c
	diff:
	=== modified file 'include/log0log.ic'

2010-10-12  stewart@flamingspork.com

	[patch 059/129] Merge patch for revision 1852 from InnoDB SVN:
	revno: 1852
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5899
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5898
	committer: marko
	timestamp: Tue 2009-09-15 10:26:01 +0000
	message:
	branches/zip: ut0ut.h: Do not #include "os0sync.h" #ifdef UNIV_HOTBACKUP.
	Since r5872, the InnoDB Hot Backup build was broken.
	Fix it by not defining any thread synchronization primitives in ut0ut.h.
	InnoDB Hot Backup is a single-threaded program.
	modified:
	include/ut0ut.h                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0ut.h
	diff:
	=== modified file 'include/ut0ut.h'

2010-10-12  stewart@flamingspork.com

	[patch 058/129] Merge patch for revision 1850 from InnoDB SVN:
	revno: 1850
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5897
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5893
	committer: marko
	timestamp: Tue 2009-09-15 07:29:00 +0000
	message:
	branches/zip: Avoid bogus messages about latching order violations when
	UNIV_SYNC_DEBUG is defined.
	
	sync_thread_levels_g(): Add the parameter "warn".  Do not print
	anything unless it is set.
	
	sync_thread_add_level(): Pass warn=TRUE to sync_thread_levels_g()
	when the check is within an assertion; FALSE if it is not.
	modified:
	sync/sync0sync.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsync%2Fsync0sync.c
	diff:
	=== modified file 'sync/sync0sync.c'

2010-10-12  stewart@flamingspork.com

	[patch 057/129] Merge patch for revision 1849 from InnoDB SVN:
	revno: 1849
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5893
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5889
	committer: inaam
	timestamp: Mon 2009-09-14 14:20:48 +0000
	message:
	branches/zip  rb://159
	
	In case of pages that are not made young the counter is incremented
	only when the page in question is 'old'. In case of pages that are
	made young the counter is incremented in case of all pages. For apple
	to apple comparison this patch changes the 'young-making' counter to
	consider only 'old' blocks.
	
	Approved by: Marko
	modified:
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	diff:
	=== modified file 'buf/buf0lru.c'

2010-10-12  stewart@flamingspork.com

	[patch 056/129] Merge patch for revision 1847 from InnoDB SVN:
	revno: 1847
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5888
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5875
	committer: vasil
	timestamp: Mon 2009-09-14 07:38:45 +0000
	message:
	branches/zip:
	
	Back-merge c5880 and c5881 from branches/embedded-1.0:
	
	------------------------------------------------------------------------
	r5880 | vasil | 2009-09-12 17:28:44 +0300 (Sat, 12 Sep 2009) | 18 lines
	Changed paths:
	M /branches/embedded-1.0/configure.in
	M /branches/embedded-1.0/include/os0sync.h
	M /branches/embedded-1.0/srv/srv0start.c
	
	branches/embedded-1.0:
	
	Clean up and simplify the code that surrounds the atomic ops:
	
	* Simplify the code that prints what atomics are used:
	Instead of repeating the same conditions on which each atomics are used
	use just one printf that prints a variable defined by the code which
	chooses what atomics to use.
	
	* In os0sync.h pick up each atomic variant only if it has been selected
	by autoconf (based on IB_ATOMIC_MODE_* macros). Define the startup message
	to be printed.
	
	* In configure.in: check what user has chosen and if he has chosen
	something that is not available, emit an error. If nothing has been chosen
	explicitly by the user, auto select an option according to the described
	logic in configure.in.
	
	------------------------------------------------------------------------
	r5881 | vasil | 2009-09-12 20:08:27 +0300 (Sat, 12 Sep 2009) | 4 lines
	Changed paths:
	M /branches/embedded-1.0/configure.in
	
	branches/embedded-1.0:
	
	Fix syntax error in test program.
	
	------------------------------------------------------------------------
	modified:
	include/os0sync.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0sync.h
	plug.in                        790@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fplug.in
	srv/srv0start.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0start.c
	diff:
	=== modified file 'include/os0sync.h'

2010-10-12  stewart@flamingspork.com

	[patch 055/129] Merge patch for revision 1846 from InnoDB SVN:
	revno: 1846
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5875
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5872
	committer: vasil
	timestamp: Sat 2009-09-12 11:11:25 +0000
	message:
	branches/zip:
	
	Remove unnecessary macro.
	modified:
	include/os0sync.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0sync.h
	diff:
	=== modified file 'include/os0sync.h'

2010-10-12  stewart@flamingspork.com

	[patch 054/129] Merge patch for revision 1845 from InnoDB SVN:
	revno: 1845
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5872
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5871
	committer: vasil
	timestamp: Sat 2009-09-12 08:35:17 +0000
	message:
	branches/zip:
	
	Explicitly include os0sync.h to the places where HAVE_ATOMIC_BUILTINS and
	INNODB_RW_LOCKS_USE_ATOMICS are used to avoid potential problems.
	modified:
	include/ut0ut.h                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0ut.h
	srv/srv0srv.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0srv.c
	srv/srv0start.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0start.c
	sync/sync0rw.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsync%2Fsync0rw.c
	sync/sync0sync.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsync%2Fsync0sync.c
	diff:
	=== modified file 'include/ut0ut.h'

2010-10-12  stewart@flamingspork.com

	[patch 053/129] Merge patch for revision 1843 from InnoDB SVN:
	revno: 1843
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5870
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5869
	committer: vasil
	timestamp: Sat 2009-09-12 08:13:44 +0000
	message:
	branches/zip:
	
	Define HAVE_ATOMIC_BUILTINS and INNODB_RW_LOCKS_USE_ATOMICS in os0sync.h
	instead of in univ.i. The code expects os_*() macros to be present if
	HAVE_ATOMIC_BUILTINS and INNODB_RW_LOCKS_USE_ATOMICS are defined. So define
	them next to defining the os_*() macros.
	modified:
	include/os0sync.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fos0sync.h
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/os0sync.h'

2010-10-12  stewart@flamingspork.com

	[patch 052/129] Merge patch for revision 1842 from InnoDB SVN:
	revno: 1842
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5869
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5868
	committer: vasil
	timestamp: Sat 2009-09-12 07:33:11 +0000
	message:
	branches/zip:
	
	Include ut0auxconf.h only if none of the macros it would define is defined.
	The check when to include this header was outdated from the time when there
	was only one macro involved.
	
	Move the atomics checks that are in univ.i outside of
	#if windows ... #else ... #endif
	This simplifies the code and removes some duplicates like defining
	HAVE_ATOMIC_BUILTINS if HAVE_WINDOWS_ATOMICS is defined in both branches.
	
	Do not define the same macro HAVE_ATOMIC_PTHREAD_T for different events.
	Instead define HAVE_IB_ATOMIC_PTHREAD_T_GCC and
	HAVE_IB_ATOMIC_PTHREAD_T_SOLARIS.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	plug.in                        790@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fplug.in
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 051/129] Merge patch for revision 1841 from InnoDB SVN:
	revno: 1841
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5868
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5867
	committer: vasil
	timestamp: Sat 2009-09-12 07:01:17 +0000
	message:
	branches/zip:
	
	Move the check whether to include ut0auxconf.h before everything because
	we are now even checking for GCC atomics, we relied on MySQL to define
	this macro before.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 050/129] Merge patch for revision 1840 from InnoDB SVN:
	revno: 1840
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5867
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5866
	committer: vasil
	timestamp: Sat 2009-09-12 06:43:45 +0000
	message:
	branches/zip:
	
	Update comment to reflect reality.
	modified:
	include/ut0auxconf.h           4357@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Finclude%2Fut0auxconf.h
	diff:
	=== modified file 'include/ut0auxconf.h'

2010-10-12  stewart@flamingspork.com

	[patch 049/129] Merge patch for revision 1839 from InnoDB SVN:
	revno: 1839
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5866
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5865
	committer: vasil
	timestamp: Sat 2009-09-12 06:30:08 +0000
	message:
	branches/zip:
	
	Add the check for GCC atomics to ut0auxconf* (copied from plug.in) because
	we no longer rely on MySQL's HAVE_GCC_ATOMIC_BUILTINS.
	added:
	ut/ut0auxconf_have_gcc_atomics.c 5866@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fut%2Fut0auxconf_have_gcc_atomics.c
	diff:
	=== added file 'ut/ut0auxconf_have_gcc_atomics.c'

2010-10-12  stewart@flamingspork.com

	[patch 048/129] Merge patch for revision 1837 from InnoDB SVN:
	revno: 1837
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5864
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5863
	committer: vasil
	timestamp: Sat 2009-09-12 06:22:55 +0000
	message:
	branches/zip:
	
	Include string.h which is needed for memset().
	modified:
	ut/ut0auxconf_atomic_pthread_t_solaris.c 4758@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fut%2Fut0auxconf_atomic_pthread_t_solaris.c
	diff:
	=== modified file 'ut/ut0auxconf_atomic_pthread_t_solaris.c'

2010-10-12  stewart@flamingspork.com

	[patch 047/129] Merge patch for revision 1836 from InnoDB SVN:
	revno: 1836
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5863
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5858
	committer: vasil
	timestamp: Sat 2009-09-12 06:07:08 +0000
	message:
	branches/zip:
	
	Check that pthread_t can indeed be passed to Solaris atomic functions, instead
	of assuming that it can be passed if 0 can be assigned to it. It could be that:
	* 0 can be assigned, but pthread_t cannot be passed and
	* 0 cannot be assigned but pthread_t can be passed
	
	Better to check what we are interested in, not something else and make
	assumptions.
	modified:
	ut/ut0auxconf_atomic_pthread_t_solaris.c 4758@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fut%2Fut0auxconf_atomic_pthread_t_solaris.c
	diff:
	=== modified file 'ut/ut0auxconf_atomic_pthread_t_solaris.c'

2010-10-12  stewart@flamingspork.com

	[patch 046/129] Merge patch for revision 1834 from InnoDB SVN:
	revno: 1834
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5826
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5825
	committer: marko
	timestamp: Thu 2009-09-10 10:29:46 +0000
	message:
	branches/zip: Roll back recovered dictionary transactions before
	dropping incomplete indexes (Issue #337).
	
	trx_rollback_or_clean_recovered(ibool all): New function, split from
	trx_rollback_or_clean_all_recovered().  all==FALSE will only roll back
	dictionary transactions.
	
	recv_recovery_from_checkpoint_finish(): Call
	trx_rollback_or_clean_recovered(FALSE) before
	row_merge_drop_temp_indexes().
	
	rb://158 approved by Sunny Bains
	modified:
	include/trx0roll.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0roll.h
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	trx/trx0roll.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0roll.c
	diff:
	=== modified file 'include/trx0roll.h'

2010-10-12  stewart@flamingspork.com

	[patch 045/129] Merge patch for revision 1833 from InnoDB SVN:
	revno: 1833
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5825
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5822
	committer: marko
	timestamp: Thu 2009-09-10 09:47:09 +0000
	message:
	branches/zip: Reduce mutex contention that was introduced when
	addressing Bug #45015 (Issue #316), in r5703.
	
	buf_page_set_accessed_make_young(): New auxiliary function, called by
	buf_page_get_zip(), buf_page_get_gen(),
	buf_page_optimistic_get_func(). Call ut_time_ms() outside of
	buf_pool_mutex. Use cached access_time.
	
	buf_page_set_accessed(): Add the parameter time_ms, so that
	ut_time_ms() need not be called while holding buf_pool_mutex.
	
	buf_page_optimistic_get_func(), buf_page_get_known_nowait(): Read
	buf_page_t::access_time without holding buf_pool_mutex. This should be
	OK, because the field is only used for heuristic purposes.
	
	buf_page_peek_if_too_old(): If buf_pool->freed_page_clock == 0, return
	FALSE, so that we will not waste time moving blocks in the LRU list in
	the warm-up phase or when the workload fits in the buffer pool.
	
	rb://156 approved by Sunny Bains
	modified:
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'buf/buf0buf.c'

2010-10-12  stewart@flamingspork.com

	[patch 044/129] Merge patch for revision 1832 from InnoDB SVN:
	revno: 1832
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5822
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5804
	committer: marko
	timestamp: Thu 2009-09-10 09:10:20 +0000
	message:
	branches/zip: buf_page_release(): De-stutter the function comment.
	modified:
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	diff:
	=== modified file 'buf/buf0buf.c'

2010-10-12  stewart@flamingspork.com

	[patch 043/129] Merge patch for revision 1831 from InnoDB SVN:
	revno: 1831
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5804
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5798
	committer: marko
	timestamp: Thu 2009-09-10 04:29:31 +0000
	message:
	branches/zip: trx_cleanup_at_db_startup(): Fix a typo in comment.
	modified:
	include/trx0trx.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0trx.h
	trx/trx0trx.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0trx.c
	diff:
	=== modified file 'include/trx0trx.h'

2010-10-12  stewart@flamingspork.com

	[patch 042/129] Merge patch for revision 1830 from InnoDB SVN:
	revno: 1830
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5798
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5792
	committer: calvin
	timestamp: Wed 2009-09-09 14:28:10 +0000
	message:
	branches/zip:
	
	HA_ERR_TOO_MANY_CONCURRENT_TRXS is added in 5.1.38.
	But the plugin should still work with previous versions
	of MySQL.
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 041/129] Merge patch for revision 1829 from InnoDB SVN:
	revno: 1829
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5792
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5783
	committer: vasil
	timestamp: Wed 2009-09-09 12:35:58 +0000
	message:
	branches/zip:
	
	Fix a bug in manipulating the variable innodb_old_blocks_pct:
	
	for any value assigned it got that value -1, except for 75. When
	assigned 75, it got 75.
	
	mysql> set global innodb_old_blocks_pct=15;
	Query OK, 0 rows affected (0.00 sec)
	
	mysql> show variables like 'innodb_old_blocks_pct';
	+-----------------------+-------+
	| Variable_name         | Value |
	+-----------------------+-------+
	| innodb_old_blocks_pct | 14    | 
	+-----------------------+-------+
	1 row in set (0.00 sec)
	
	mysql> set global innodb_old_blocks_pct=75;
	Query OK, 0 rows affected (0.00 sec)
	
	mysql> show variables like 'innodb_old_blocks_pct';
	+-----------------------+-------+
	| Variable_name         | Value |
	+-----------------------+-------+
	| innodb_old_blocks_pct | 75    | 
	+-----------------------+-------+
	
	After the fix it gets exactly what was assigned.
	
	Approved by:	Marko (via IM)
	modified:
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	diff:
	=== modified file 'buf/buf0lru.c'

2010-10-12  stewart@flamingspork.com

	[patch 040/129] Merge patch for revision 1828 from InnoDB SVN:
	revno: 1828
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5783
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5782
	committer: marko
	timestamp: Wed 2009-09-09 06:25:00 +0000
	message:
	branches/zip: buf_page_is_accessed(): Correct the function comment.
	modified:
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'include/buf0buf.h'

2010-10-12  stewart@flamingspork.com

	[patch 039/129] Merge patch for revision 1827 from InnoDB SVN:
	revno: 1827
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5782
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5780
	committer: marko
	timestamp: Wed 2009-09-09 06:00:59 +0000
	message:
	branches/zip: buf_page_peek_if_too_old(): Silence a compiler warning
	that was introduced in r5779 on 32-bit systems.
	modified:
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'include/buf0buf.ic'

2010-10-12  stewart@flamingspork.com

	[patch 038/129] Merge patch for revision 1826 from InnoDB SVN:
	revno: 1826
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5780
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5779
	committer: marko
	timestamp: Wed 2009-09-09 05:50:50 +0000
	message:
	branches/zip: ut_time_ms(): Return ulint, not uint.
	modified:
	include/ut0ut.h                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0ut.h
	ut/ut0ut.c                     2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fut%2Fut0ut.c
	diff:
	=== modified file 'include/ut0ut.h'

2010-10-12  stewart@flamingspork.com

	[patch 037/129] Merge patch for revision 1825 from InnoDB SVN:
	revno: 1825
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5779
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5777
	committer: marko
	timestamp: Wed 2009-09-09 05:17:19 +0000
	message:
	branches/zip: buf_page_peek_if_too_old(): Make the bitmasking work when
	buf_pool->freed_page_clock is wider than 32 bits.
	modified:
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	diff:
	=== modified file 'include/buf0buf.ic'

2010-10-12  stewart@flamingspork.com

	[patch 036/129] Merge patch for revision 1824 from InnoDB SVN:
	revno: 1824
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5777
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5775
	committer: marko
	timestamp: Tue 2009-09-08 14:50:25 +0000
	message:
	branches/zip: Remove BUF_LRU_INITIAL_RATIO, which should have been removed
	together with buf_LRU_get_recent_limit().
	modified:
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	diff:
	=== modified file 'buf/buf0lru.c'

2010-10-12  stewart@flamingspork.com

	[patch 035/129] Merge patch for revision 1823 from InnoDB SVN:
	revno: 1823
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5775
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5752
	committer: calvin
	timestamp: Mon 2009-09-07 20:15:05 +0000
	message:
	branches/zip: Build InnoDB on Windows with UNIV_HOTBACKUP
	
	The changes are non-functional changes for normal InnoDB,
	but needed for building the Hot Backup on Windows (with
	UNIV_HOTBACKUP defined).
	
	- Define os_aio_use_native_aio for HB.
	- Do not acquire seek mutexes for backup since HB is single threaded.
	- Do not use srv_flush_log_at_trx_commit for HB build
	
	rb://155
	
	Approved by: Marko
	modified:
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'os/os0file.c'

2010-10-12  stewart@flamingspork.com

	[patch 034/129] Merge patch for revision 1822 from InnoDB SVN:
	revno: 1822
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5752
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5751
	committer: marko
	timestamp: Thu 2009-09-03 13:55:51 +0000
	message:
	branches/zip: recv_recover_page_func(): Write the log sequence number
	to the compressed page, if there is one.  Previously, the function only
	wrote the LSN to the uncompressed page.
	
	It is not clear why recv_recover_page_func() is updating FIL_PAGE_LSN
	in the buffer pool.  The log sequence number will be stamped on the
	page when it is flushed to disk, in buf_flush_init_for_writing().
	I noticed this inconsistency when analyzing Issue #313, but this patch
	does not fix it.  That is no surprise, since FIL_PAGE_LSN should only
	matter on disk files, not in the buffer pool.
	modified:
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	diff:
	=== modified file 'log/log0recv.c'

2010-10-12  stewart@flamingspork.com

	[patch 033/129] Merge patch for revision 1821 from InnoDB SVN:
	revno: 1821
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5751
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5748
	committer: marko
	timestamp: Thu 2009-09-03 13:36:15 +0000
	message:
	branches/zip: row_merge(): Remove a bogus debug assertion
	that was triggered when creating an index on an empty table.
	
	row_merge_sort(): Add debug assertions and comments that justify
	the loop termination condition.
	
	The bogus assertion ut_ad(ihalf > 0) was reported by Michael.
	modified:
	row/row0merge.c                1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	diff:
	=== modified file 'row/row0merge.c'

2010-10-12  stewart@flamingspork.com

	[patch 032/129] Merge patch for revision 1820 from InnoDB SVN:
	revno: 1820
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5748
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5747
	committer: marko
	timestamp: Thu 2009-09-03 10:05:44 +0000
	message:
	branches/zip: MLOG_MULTI_REC_END: Correct the comment.
	modified:
	include/mtr0mtr.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fmtr0mtr.h
	diff:
	=== modified file 'include/mtr0mtr.h'

2010-10-12  stewart@flamingspork.com

	[patch 031/129] Merge patch for revision 1819 from InnoDB SVN:
	revno: 1819
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5747
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5746
	committer: marko
	timestamp: Thu 2009-09-03 09:46:38 +0000
	message:
	branches/zip: recv_scan_log_recs(): Replace while with do...while,
	because the termination condition will always hold on the first iteration.
	modified:
	log/log0recv.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0recv.c
	diff:
	=== modified file 'log/log0recv.c'

2010-10-12  stewart@flamingspork.com

	[patch 030/129] Merge patch for revision 1818 from InnoDB SVN:
	revno: 1818
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5746
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5745
	committer: marko
	timestamp: Thu 2009-09-03 07:55:36 +0000
	message:
	branches/zip: log_reserve_and_write_fast(): Do not cache the log_sys pointer
	in a local variable.
	modified:
	include/log0log.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.ic
	diff:
	=== modified file 'include/log0log.ic'

2010-10-12  stewart@flamingspork.com

	[patch 029/129] Merge patch for revision 1817 from InnoDB SVN:
	revno: 1817
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5745
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5744
	committer: marko
	timestamp: Thu 2009-09-03 07:38:22 +0000
	message:
	branches/zip: log_check_log_recs(): Enclose in #ifdef UNIV_LOG_DEBUG.
	Add const qualifiers.
	modified:
	include/log0log.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.ic
	log/log0log.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flog%2Flog0log.c
	diff:
	=== modified file 'include/log0log.ic'

2010-10-12  stewart@flamingspork.com

	[patch 028/129] Merge patch for revision 1816 from InnoDB SVN:
	revno: 1816
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5744
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5743
	committer: marko
	timestamp: Thu 2009-09-03 07:28:35 +0000
	message:
	branches/zip: ut_align(): Make ptr const, like in ut_align_down().
	modified:
	include/ut0byte.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0byte.h
	include/ut0byte.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0byte.ic
	diff:
	=== modified file 'include/ut0byte.h'

2010-10-12  stewart@flamingspork.com

	[patch 027/129] Merge patch for revision 1815 from InnoDB SVN:
	revno: 1815
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5743
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5736
	committer: marko
	timestamp: Thu 2009-09-03 05:36:12 +0000
	message:
	branches/zip: log_reserve_and_write_fast(): Remove the redundant
	output parameter "success".
	Success is also indicated by a nonzero return value.
	modified:
	include/log0log.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.h
	include/log0log.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flog0log.ic
	mtr/mtr0mtr.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmtr%2Fmtr0mtr.c
	diff:
	=== modified file 'include/log0log.h'

2010-10-12  stewart@flamingspork.com

	[patch 026/129] Merge patch for revision 1814 from InnoDB SVN:
	revno: 1814
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5736
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5735
	committer: marko
	timestamp: Wed 2009-09-02 06:53:19 +0000
	message:
	branches/zip: Enclose some timestamp functions in #ifndef UNIV_HOTBACKUP.
	modified:
	include/ut0ut.h                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0ut.h
	page/page0zip.c                10@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fpage%2Fpage0zip.c
	ut/ut0ut.c                     2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fut%2Fut0ut.c
	diff:
	=== modified file 'include/ut0ut.h'

2010-10-12  stewart@flamingspork.com

	[patch 025/129] Merge patch for revision 1813 from InnoDB SVN:
	revno: 1813
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5735
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5734
	committer: marko
	timestamp: Wed 2009-09-02 06:43:09 +0000
	message:
	branches/zip: univ.i: Do not undefine PACKAGE or VERSION.
	InnoDB source code does not refer to these macros.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 024/129] Merge patch for revision 1812 from InnoDB SVN:
	revno: 1812
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5734
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5733
	committer: sunny
	timestamp: Wed 2009-09-02 06:08:45 +0000
	message:
	branches/zip: Update ChangeLog with r5733 changes.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 023/129] Merge patch for revision 1811 from InnoDB SVN:
	revno: 1811
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5733
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5716
	committer: sunny
	timestamp: Wed 2009-09-02 06:05:15 +0000
	message:
	branches/zip: Fix a regression introduced by the fix for bug#26316. We check
	whether a transaction holds any AUTOINC locks before we acquire the kernel
	mutex and release those locks.
	
	Fix for rb://153. Approved by Marko.
	modified:
	include/lock0lock.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Flock0lock.h
	include/row0mysql.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Frow0mysql.h
	lock/lock0lock.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	diff:
	=== modified file 'include/lock0lock.h'

2010-10-12  stewart@flamingspork.com

	[patch 022/129] Merge patch for revision 1809 from InnoDB SVN:
	revno: 1809
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5714
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5709
	committer: marko
	timestamp: Mon 2009-08-31 05:10:10 +0000
	message:
	branches/zip: buf_chunk_not_freed(): Do not acquire block->mutex unless
	block->page.state == BUF_BLOCK_FILE_PAGE.  Check that block->page.state
	makes sense.
	
	Approved by Sunny Bains over the IM.
	modified:
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	diff:
	=== modified file 'buf/buf0buf.c'

2010-10-12  stewart@flamingspork.com

	[patch 021/129] Merge patch for revision 1807 from InnoDB SVN:
	revno: 1807
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5708
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5707
	committer: inaam
	timestamp: Thu 2009-08-27 21:43:32 +0000
	message:
	branches/zip
	
	Remove redundant TRUE : FALSE from the return statement
	modified:
	buf/buf0rea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0rea.c
	diff:
	=== modified file 'buf/buf0rea.c'

2010-10-12  stewart@flamingspork.com

	[patch 020/129] Merge patch for revision 1806 from InnoDB SVN:
	revno: 1806
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5707
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5706
	committer: inaam
	timestamp: Thu 2009-08-27 15:20:35 +0000
	message:
	branches/zip
	
	Remove unused macros as we erased the random readahead code in r5703.
	Also fixed some comments.
	modified:
	buf/buf0rea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0rea.c
	include/buf0rea.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0rea.h
	diff:
	=== modified file 'buf/buf0rea.c'

2010-10-12  stewart@flamingspork.com

	[patch 019/129] Merge patch for revision 1805 from InnoDB SVN:
	revno: 1805
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5706
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5705
	committer: inaam
	timestamp: Thu 2009-08-27 15:00:27 +0000
	message:
	branches/zip rb://147
	
	Done away with following two status variables:
	
	innodb_buffer_pool_read_ahead_rnd
	innodb_buffer_pool_read_ahead_seq
	
	Introduced two new status variables:
	innodb_buffer_pool_read_ahead = number of pages read as part of
	readahead since server startup
	innodb_buffer_pool_read_ahead_evicted = number of pages that are read
	in as readahead but were evicted before ever being accessed since
	server startup i.e.: a measure of how badly our readahead is
	performing
	
	SHOW INNODB STATUS will show two extra numbers in buffer pool section:
	pages read ahead/sec and pages evicted without access/sec
	
	Approved by: Marko
	modified:
	btr/btr0sea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbtr%2Fbtr0sea.c
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	buf/buf0rea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0rea.c
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	include/buf0types.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0types.h
	include/srv0srv.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fsrv0srv.h
	srv/srv0srv.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fsrv%2Fsrv0srv.c
	diff:
	=== modified file 'btr/btr0sea.c'

2010-10-12  stewart@flamingspork.com

	[patch 018/129] Merge patch for revision 1804 from InnoDB SVN:
	revno: 1804
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5705
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5704
	committer: marko
	timestamp: Thu 2009-08-27 10:56:24 +0000
	message:
	branches/zip: dict_index_find_cols(): On column name lookup failure,
	return DB_CORRUPTION (HA_ERR_CRASHED) instead of abnormally
	terminating the server.  Also, disable the previously added diagnostic
	output to the error log, because mysql-test-run does not like extra
	output in the error log.  (Bug #44571)
	
	dict_index_add_to_cache(): Handle errors from dict_index_find_cols().
	
	mysql-test/innodb_bug44571.test: A test case for triggering the bug.
	
	rb://135 approved by Sunny Bains.
	added:
	mysql-test/innodb_bug44571.result 5705@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44571.result
	mysql-test/innodb_bug44571.test 5705@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fmysql-test%2Finnodb_bug44571.test
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	dict/dict0dict.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fdict%2Fdict0dict.c
	include/dict0dict.h            2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fdict0dict.h
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 017/129] Merge patch for revision 1803 from InnoDB SVN:
	revno: 1803
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5704
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5703
	committer: marko
	timestamp: Thu 2009-08-27 07:31:17 +0000
	message:
	branches/zip: Fix a critical bug in fast index creation that could
	corrupt the created indexes.
	
	row_merge(): Make "half" an in/out parameter. Determine the offset of
	half the output file. Copy the last blocks record-by-record instead of
	block-by-block, so that the records can be counted. Check that the
	input and output have matching n_rec.
	
	row_merge_sort(): Do not assume that two blocks of size N are merged
	into a block of size 2*N. The output block can be shorter than the
	input if the last page of each input block is almost empty. Use an
	accurate termination condition, based on the "half" computed by
	row_merge().
	
	row_merge_read(), row_merge_write(), row_merge_blocks(): Add debug output.
	
	merge_file_t, row_merge_file_create(): Add n_rec, the number of records
	in the merge file.
	
	row_merge_read_clustered_index(): Update n_rec.
	
	row_merge_blocks(): Update and check n_rec.
	
	row_merge_blocks_copy(): New function, for copying the last blocks in
	row_merge().  Update and check n_rec.
	
	This bug was discovered with a user-supplied test case that creates an
	index where the initial temporary file is 249 one-megabyte blocks and
	the merged files become smaller. In the test, possible merge record
	sizes are 10, 18, and 26 bytes.
	
	rb://150 approved by Sunny Bains.  This addresses Issue #320.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	row/row0merge.c                1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 016/129] Merge patch for revision 1802 from InnoDB SVN:
	revno: 1802
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5703
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5702
	committer: marko
	timestamp: Thu 2009-08-27 06:25:00 +0000
	message:
	branches/zip: Replace the constant 3/8 ratio that controls the LRU_old
	size with the settable global variable innodb_old_blocks_pct. The
	minimum and maximum values are 5 and 95 per cent, respectively. The
	default is 100*3/8, in line with the old behavior.
	
	ut_time_ms(): New utility function, to return the current time in
	milliseconds. TODO: Is there a more efficient timestamp function, such
	as rdtsc divided by a power of two?
	
	buf_LRU_old_threshold_ms: New variable, corresponding to
	innodb_old_blocks_time. The value 0 is the default behaviour: no
	timeout before making blocks 'new'.
	
	bpage->accessed, bpage->LRU_position, buf_pool->ulint_clock: Remove.
	
	bpage->access_time: New field, replacing bpage->accessed. Protected by
	buf_pool_mutex instead of bpage->mutex. Updated when a page is created
	or accessed the first time in the buffer pool.
	
	buf_LRU_old_ratio, innobase_old_blocks_pct: New variables,
	corresponding to innodb_old_blocks_pct
	
	buf_LRU_old_ratio_update(), innobase_old_blocks_pct_update(): Update
	functions for buf_LRU_old_ratio, innobase_old_blocks_pct.
	
	buf_page_peek_if_too_old(): Compare ut_time_ms() to bpage->access_time
	if buf_LRU_old_threshold_ms && bpage->old.  Else observe
	buf_LRU_old_ratio and bpage->freed_page_clock.
	
	buf_pool_t: Add n_pages_made_young, n_pages_not_made_young,
	n_pages_made_young_old, n_pages_not_made_young, for statistics.
	
	buf_print(): Display buf_pool->n_pages_made_young,
	buf_pool->n_pages_not_made_young.  This function is only for crash
	diagnostics.
	
	buf_print_io(): Display buf_pool->LRU_old_len and quantities derived
	from buf_pool->n_pages_made_young, buf_pool->n_pages_not_made_young.
	This function is invoked by SHOW ENGINE INNODB STATUS.
	
	rb://129 approved by Heikki Tuuri.  This addresses Bug #45015.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	buf/buf0buf.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0buf.c
	buf/buf0lru.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0lru.c
	buf/buf0rea.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fbuf%2Fbuf0rea.c
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	include/buf0buf.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.ic
	include/buf0lru.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0lru.h
	include/ut0ut.h                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fut0ut.h
	ut/ut0ut.c                     2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fut%2Fut0ut.c
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 015/129] Merge patch for revision 1801 from InnoDB SVN:
	revno: 1801
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5702
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5701
	committer: marko
	timestamp: Thu 2009-08-27 06:03:15 +0000
	message:
	branches/zip: Document also the files affected by r5698 in the ChangeLog.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 014/129] Merge patch for revision 1800 from InnoDB SVN:
	revno: 1800
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5701
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5698
	committer: marko
	timestamp: Thu 2009-08-27 06:01:42 +0000
	message:
	branches/zip: Document r5698 in the ChangeLog.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 013/129] Merge patch for revision 1799 from InnoDB SVN:
	revno: 1799
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5698
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5697
	committer: inaam
	timestamp: Wed 2009-08-26 13:34:35 +0000
	message:
	branches/zip  bug#42885  rb://148
	
	The call to put IO threads to sleep was most probably meant for Windows
	only as the comment in buf0rea.c suggests. However it was enabled on
	all platforms. This patch restricts the sleep call to windows. This
	approach of not putting threads to sleep makes even more sense because
	now we have multiple threads working in the background and it probably
	is not a good idea to put all of them to sleep because a user thread
	wants to post a batch for readahead.
	
	Approved by: Marko
	modified:
	handler/ha_innodb.cc           2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fhandler%2Fha_innodb.cc
	os/os0file.c                   2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fos%2Fos0file.c
	diff:
	=== modified file 'handler/ha_innodb.cc'

2010-10-12  stewart@flamingspork.com

	[patch 012/129] Merge patch for revision 1797 from InnoDB SVN:
	revno: 1797
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5696
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5695
	committer: vasil
	timestamp: Wed 2009-08-26 12:15:59 +0000
	message:
	branches/zip:
	
	Merge a change from MySQL:
	
	http://lists.mysql.com/commits/80832
	
	2968 Jonathan Perkin	2009-08-14
	Build fixes for Windows, AIX, HP/UX and Sun Studio11, from Timothy Smith.
	modified:
	CMakeLists.txt
	cmd-line-utils/readline/util.c
	storage/innodb_plugin/handler/i_s.cc
	storage/innodb_plugin/include/univ.i
	modified:
	handler/i_s.cc                 1864@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fi_s.cc
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'handler/i_s.cc'

2010-10-12  stewart@flamingspork.com

	[patch 011/129] Merge patch for revision 1796 from InnoDB SVN:
	revno: 1796
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5695
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5694
	committer: marko
	timestamp: Wed 2009-08-26 12:14:59 +0000
	message:
	branches/zip: UNIV_DEBUG_LOCK_VALIDATE: Move the definition to univ.i.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	lock/lock0lock.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	diff:
	=== modified file 'include/univ.i'

2010-10-12  stewart@flamingspork.com

	[patch 010/129] Merge patch for revision 1795 from InnoDB SVN:
	revno: 1795
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5694
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5687
	committer: marko
	timestamp: Wed 2009-08-26 10:25:26 +0000
	message:
	branches/zip: buf_page_t: Clarify that bpage->list may contain garbage.
	This comment was provoked by Inaam.
	modified:
	include/buf0buf.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Fbuf0buf.h
	diff:
	=== modified file 'include/buf0buf.h'

2010-10-12  stewart@flamingspork.com

	[patch 009/129] Merge patch for revision 1794 from InnoDB SVN:
	revno: 1794
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5687
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5686
	committer: vasil
	timestamp: Thu 2009-08-20 08:20:22 +0000
	message:
	branches/zip:
	
	ChangeLog:
	Follow the convention from the rest of the ChangeLog: for bugfixes from
	bugs.mysql.com only the bug number and title goes in the ChangeLog. Detailed
	explanation on what is the problem and how it was fixed is present in
	the bugs database.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 008/129] Merge patch for revision 1793 from InnoDB SVN:
	revno: 1793
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5686
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5685
	committer: vasil
	timestamp: Thu 2009-08-20 08:15:05 +0000
	message:
	branches/zip:
	
	White-space fixup.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 007/129] Merge patch for revision 1792 from InnoDB SVN:
	revno: 1792
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5685
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5684
	committer: sunny
	timestamp: Thu 2009-08-20 07:18:29 +0000
	message:
	branches/zip: Update the ChangeLog with r5684 change.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 006/129] Merge patch for revision 1791 from InnoDB SVN:
	revno: 1791
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5684
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5681
	committer: sunny
	timestamp: Thu 2009-08-20 07:05:30 +0000
	message:
	branches/zip: Fix bug# 46650:  Innodb assertion autoinc_lock == lock in lock_table_remove_low on INSERT SELECT
	
	We only store the autoinc locks that are granted in the transaction's autoinc
	lock vector. A transacton, that has been rolled back due to a deadlock because
	of an AUTOINC lock attempt, will not have added that lock to the vector. We
	need to check for that when we remove that lock.
	
	rb://145
	Approved by Marko.
	modified:
	lock/lock0lock.c               2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Flock%2Flock0lock.c
	diff:
	=== modified file 'lock/lock0lock.c'

2010-10-12  stewart@flamingspork.com

	[patch 005/129] Merge patch for revision 1790 from InnoDB SVN:
	revno: 1790
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5681
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5671
	committer: sunny
	timestamp: Fri 2009-08-14 05:16:24 +0000
	message:
	branches/zip: When building HotBackup srv_use_sys_malloc is #ifdef out. We
	move access to the this variable within a !UNIV_HOTBACKUP block.
	modified:
	mem/mem0mem.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Fmem%2Fmem0mem.c
	diff:
	=== modified file 'mem/mem0mem.c'

2010-10-12  stewart@flamingspork.com

	[patch 004/129] Merge patch for revision 1789 from InnoDB SVN:
	revno: 1789
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5671
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5670
	committer: marko
	timestamp: Thu 2009-08-13 07:46:33 +0000
	message:
	branches/zip: ha_innobase::add_index(): Fix Bug #46557:
	after a successful operation, read innodb_table->flags from
	the newly created table object, not from the old one that was just freed.
	
	Approved by Sunny.
	modified:
	ChangeLog                      2425@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2FChangeLog
	handler/handler0alter.cc       1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	diff:
	=== modified file 'ChangeLog'

2010-10-12  stewart@flamingspork.com

	[patch 003/129] Merge patch for revision 1788 from InnoDB SVN:
	revno: 1788
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5670
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5663
	committer: marko
	timestamp: Wed 2009-08-12 12:16:37 +0000
	message:
	branches/zip: trx_undo_rec_copy(): Add const qualifier to undo_rec.
	This is a non-functional change.
	modified:
	include/trx0rec.h              2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0rec.h
	include/trx0rec.ic             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0rec.ic
	trx/trx0rec.c                  2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0rec.c
	diff:
	=== modified file 'include/trx0rec.h'

2010-10-12  stewart@flamingspork.com

	[patch 002/129] Merge patch for revision 1787 from InnoDB SVN:
	revno: 1787
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5663
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5662
	committer: marko
	timestamp: Tue 2009-08-11 10:42:37 +0000
	message:
	branches/zip: trx_general_rollback_for_mysql(): Remove the redundant
	parameter partial. If savept==NULL, partial==FALSE.
	modified:
	handler/handler0alter.cc       1845@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Fhandler%2Fhandler0alter.cc
	include/trx0roll.h             2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Ftrx0roll.h
	row/row0merge.c                1414@16c675df-0fcb-4bc9-8058-dcc011a37293:branches%2Fzip%2Frow%2Frow0merge.c
	row/row0mysql.c                2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Frow%2Frow0mysql.c
	trx/trx0roll.c                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Ftrx%2Ftrx0roll.c
	diff:
	=== modified file 'handler/handler0alter.cc'

2010-10-12  stewart@flamingspork.com

	[patch 001/129] Merge patch for revision 1786 from InnoDB SVN:
	revno: 1786
	revision-id: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5662
	parent: svn-v4:16c675df-0fcb-4bc9-8058-dcc011a37293:branches/zip:5642
	committer: marko
	timestamp: Tue 2009-08-11 08:54:16 +0000
	message:
	branches/zip: Bump the version number to 1.0.5 after releasing 1.0.4.
	modified:
	include/univ.i                 2@16c675df-0fcb-4bc9-8058-dcc011a37293:trunk%2Finclude%2Funiv.i
	diff:
	=== modified file 'include/univ.i'

2010-10-13  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - more valgrind cleanup

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a silly little memory leak in syslog plugin.

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	We were strdup-ing an option all the time, but only freeing it if the transaction_log is enabled.
	
	Speaking of - I really want to remove this enable/disable flag, turn off load_by_deafult and just use plugin-add ... 

2010-10-13  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - Moved libdrizzle api listings from doxygen to sphinx

2010-10-10  Monty Taylor  <mordred@inaugust.com>

	Removed libdrizzle doxygen. Put in function stubs in sphinx. Someone can
	quite easily and mechanically go in and transfer the descriptions in -
	especially if they decide on a proper way to describe arguments.

2010-10-12  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - add valgrind stripping program to the tree, suppress size_t signature change
	Merge Travis - File: /drizzled/xid.h. Changed struct name of 'st_drizzle_xid' to 'drizzle_xid', changed it to a C++ class and added constructor initialization list
	Merge Brian - adding more documentation

2010-10-12  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Monty - add valgrind stripping program to the tree, suppress size_t signature change

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	Added support for valgrind suppressions.
	Run strip-valgrind as part of make valgrind.

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	Added valgrind stripping program to the tree.

2010-10-12  Monty Taylor  <mordred@inaugust.com>

	Added suppression for a size_t signature change.

2010-10-12  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Travis - File: /drizzled/xid.h. Changed struct name of 'st_drizzle_xid' to 'drizzle_xid', changed it to a C++ class and added constructor initialization list

2010-10-12  tdavies  <tdavies@Molly>

	File: /drizzled/xid.h. Changed struct name of 'st_drizzle_xid' to 'drizzle_xid', changed it to a C++ class and added constructor initialization list 

2010-10-12  tdavies  <tdavies@Molly>

	File: /drizzled/xid.h. Changed struct name of 'st_drizzle_xid' to 'drizzle_xid', changed it to a C++ class and added constructor initialization list 

2010-10-12  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Brian - adding more documentation

2010-10-11  Brian Aker  <brian@tangent.org>

	More docs.

2010-10-12  Brian Aker  <brian@tangent.org>

	Merge for Stewart

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	remove HailDB config_fast_shutdown2 test as we shut down so hard we leave a bunch of Valgrind warnings around.

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	fix index definitions of HailDB system tables.

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	check query plan of HailDB datadict table access

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	remove HAILDB_VERSION() function - you can get this through the data_dictionary now

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	update haildb.status_table_function result for InnoDB->HailDB name change

2010-10-13  Stewart Smith  <stewart@flamingspork.com>

	update haildb config_file_per_table_enable test to look in DRIZZLETEST_VARDIR as MYSQLTEST_VARDIR is now gone

2010-10-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-10-07  Stewart Smith  <stewart@flamingspork.com>

	use the new ib_get_table_statistics() HailDB API for getting better record count from HailDB

2010-10-06  Stewart Smith  <stewart@flamingspork.com>

	make all HailDB tests using EXPLAIN substitute out the rows column as this will be non-exact from HailDB

2010-10-06  Stewart Smith  <stewart@flamingspork.com>

	use ib_get_table_statistics() - new in HailDB 2.3 - to implement a better HailDBCursor::scan_time() metric. Pretty much exactly the same as Innobase handler.

2010-10-06  Stewart Smith  <stewart@flamingspork.com>

	change HailDB status table function to use ib_status_get_all() API call - new to HailDB 2.1

2010-10-06  Stewart Smith  <stewart@flamingspork.com>

	only include haildb.h in HailDB Plugin, do not even try for embedded innodb header.

2010-10-11  Brian Aker  <brian@tangent.org>

	Remove dead code.

2010-10-11  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Brian - Makes the pointer used by the share cache a shared_ptr

2010-10-11  Brian Aker  <brian@tangent.org>

	Fix variable such that we no longer pass share to varstring on creation.

2010-10-11  Brian Aker  <brian@tangent.org>

	Further push down the logic for shared_ptr.

2010-10-10  Brian Aker  <brian@tangent.org>

	Convert the internal of our definition cache to be shared_ptr.

2010-10-11  lbieber  <lbieber@drizzle-build-n02.wc1.dfw1.stabletransit.com

	Merge Shrews - Fix bug 656971: Replication stream should send server events 
	Merge Andrew - Fix bug 655954: Drizzledump conversion of '0000-00-00' date values to NULL can be problematic on NOT NULL columns

2010-10-11  lbieber  <lbieber@orisndriz08>

	Merge Shrews - Fix bug 656971: Replication stream should send server events 

2010-10-11  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk and resolve conflicts

2010-10-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Added event.proto

2010-10-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merged from trunk

2010-10-10  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add server startup and shutdown events to the replication stream.

2010-10-11  lbieber  <lbieber@orisndriz08>

	Merge Andrew - Fix bug 655954: Drizzledump conversion of '0000-00-00' date values to NULL can be problematic on NOT NULL columns 

2010-10-11  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	The MySQL date/time schema convert was not run when there was no default value

2010-10-10  Brian Aker  <brian@tangent.org>

	Merge Joe

2010-10-10  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk, update test

2010-10-07  Joseph Daly  <skinny.moey@gmail.com>

	fix 655352

2010-10-10  Brian Aker  <brian@tangent.org>

	Re-enable HailDB

2010-10-10  Brian Aker  <brian@tangent.org>

	Added support for pre/post triggers (this removes the need for the current
	logging system I believe).
	
	Add test cases to existing triggers.

2010-10-10  Brian Aker  <brian@tangent.org>

	Merge in gcc 4.5 fixes.

2010-10-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix new warnings in GCC 4.5

2010-10-10  Brian Aker  <brian@tangent.org>

	Merge in shared_ptr usage.

2010-10-08  Brian Aker  <brian@tangent.org>

	This switches our schema system over to using a shared ptr. Lets see how
	this harms performance.

2010-10-08  Brian Aker  <brian@tangent.org>

	Typdef our lock type.

2010-10-07  Brian Aker  <brian@tangent.org>

	Go from scoped to unique_lock.

2010-10-07  Brian Aker  <brian@tangent.org>

	Move to boost condition_any

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge in Monty.

2010-10-09  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.159

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.158

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.157

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge in switch on table_share_instance inheritance.

2010-10-09  Brian Aker  <brian@tangent.org>

	Switches table_share_instance to be a member of table, not table_share
	(which was the long term plan for this guy).

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge rollup of utf8 and table encapsulation.

2010-10-09  Brian Aker  <brian@tangent.org>

	Possible fix for HailDB.

2010-10-09  Brian Aker  <brian@tangent.org>

	Disabling HailDB again. I am having zero luck getting this to work locally
	for me. (So yes, I am a bit annoyed).
	
	Maybe we package it with the tree? Get it working with C++?

2010-10-09  Brian Aker  <brian@tangent.org>

	Fix for Solaris

2010-10-09  Brian Aker  <brian@tangent.org>

	Encapsulate the share in table.

2010-10-09  Brian Aker  <brian@tangent.org>

	Encapsulate the share in Table.

2010-10-09  Brian Aker  <brian@tangent.org>

	Encapsulate Table (remove its direct access of the share it contains)

2010-10-09  Brian Aker  <brian@tangent.org>

	MErge Monty

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Fixed a few compile errors.

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Merged in new lib version.

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Cleaned things up a little bit namespace wise

2010-10-08  Monty Taylor  <mordred@inaugust.com>

	Re-add the utf8cpp library.

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge in Vijay

2010-10-09  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge add name to authors file. Thank you krow. :)

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge of tdavies (align numbers in trunk).

2010-10-09  Brian Aker  <brian@tangent.org>

	Merge in tdavies

2010-10-09  tdavies  <tdavies@Molly>

	Bug:621861 Changed C structs to C++ class in the following files: filesort.cc, filesort_info.h, sql_sort.h, table.h. removed the '_st' from the name of some of the classes. For more detail of changes made read the merge proposal notes.

2010-10-09  Brian Aker  <brian@tangent.org>

	Rollup patch on SHOW CREATE SCHEMA.

2010-10-09  Brian Aker  <brian@tangent.org>

	For some reason these didn't get bzr rm'ed.

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge Brian up for show create schema.

2010-10-08  Brian Aker  <brian@tangent.org>

	Additional cleanup for show create table.

2010-10-08  Brian Aker  <brian@tangent.org>

	First pass on moving show create schema out.

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge in changes for show create table.

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge trunk

2010-10-08  Brian Aker  <brian@tangent.org>

	This highlights a bug where if we have a UTF8 match incorrectly done then we
	can't find the DFE if it happens to be on disk. Monty is looking into
	providing a UTF8 library we might end up using for this issue.

2010-10-08  Brian Aker  <brian@tangent.org>

	Remove debugging cerr

2010-10-08  Brian Aker  <brian@tangent.org>

	Added in possibility of having a blob type returned by a TableFunction.

2010-10-07  Brian Aker  <brian@tangent.org>

	Next update in stdint

2010-10-07  Brian Aker  <brian@tangent.org>

	Remove special callers around show create table.

2010-10-07  Brian Aker  <brian@tangent.org>

	Remove files particular to show create table (old version).

2010-10-07  Brian Aker  <brian@tangent.org>

	This removes the caller for show create table to be a derived table.
	
	It also highlights that SHOW CREATE TABLE was incorrectly reporting whether
	a table existed or not (and tableprotester plugin was making use of this
	incorrectly).
	
	Confirmation of a table creation needs to happen before, not after the table
	has been created.
	
	There is something up in the jp_enum test, I will fix this in another patch
	in this series.

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge in changes by David.

2010-10-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Set bug fix

2010-10-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add catalog attribute to remaining GPB statements

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge in Pcrew test framework

2010-10-07  patrick crews  <gleebix@gmail.com>

	Merge include.am changes

2010-10-07  patrick crews  <gleebix@gmail.com>

	Fixed include file causing test failure + updated tests/include.am to use dtr vs. mtr

2010-10-07  patrick crews  <gleebix@gmail.com>

	Updated last tests to allow make test to pass

2010-10-07  patrick crews  <gleebix@gmail.com>

	Adjustments to tests to deal with the name changes.  Also fixed passed/failed reporting post-run in test-run.pl

2010-10-07  patrick crews  <gleebix@gmail.com>

	Initial work on lp bug#656423 - remove use of 'mysql' from test-run tool.  Removed / substituted mtr->dtr mysql->drizzle.  Removed perl errors, but server won't start due to boost error.

2010-10-08  Brian Aker  <brian@tangent.org>

	Overall merge of Padraig

2010-10-08  Brian Aker  <brian@tangent.org>

	Test fix for env.

2010-10-08  Brian Aker  <brian@tangent.org>

	Removes PBXT from valgrind testing (Padraig will write to Paul, the problem is PBXT not playing nicely with the STL).
	I found a bug where the ENV table was not presenting us with good values for
	variables (which was my mistake).

2010-10-08  Brian Aker  <brian@tangent.org>

	Merge Padraig

2010-10-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for memory leak in pbxt.

2010-10-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with trunk.

2010-10-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for test case failure.

2010-10-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, had a string constructor parameters in the wrong order.

2010-10-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Hack to fix memory leak. This is horrible but lets us get rid of MyBitmap. This hack is needed for now to prevent a memory leak that occurs because mem_root does not always call desctructors of the objects it allocates memory for. The long term solution to this is to remove the use of mem_root from the optimizer. Once that is done, this hack can be taken back out again which I will very gladly do...

2010-10-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Convert struct to class and move it into optimizer namespace.

2010-10-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix a memory leak and remove code at the same time. Function for allocating memory for an object was unneeded since it was only ever called once.

2010-10-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved memory leaks by freeing memory in destructors of certain structs in the range optimizer.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixes for pbms compile errors after removing MyBitmap.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge trunk.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Remove cpp and header file with MyBitmap class and associated functions. No longer needed.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Remove un-needed variables now that MyBitmap is not around anymore.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved bitset handling during temporary table creation. All tests pass again.

2010-10-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removal of all MyBitmap from the code base. Compiles but test failures exist now.

2010-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for stupid mistake I made.

2010-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added temporary conversion of a bitmap to dynamic_bitset in order to remove references to MyBitmap within optimizer code.

2010-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding help method for dynamic bitset functions. Temporary until MyBitmap is removed. Got rid of another MyBitmap usage in the range optimizer.

2010-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removal of another MyBitmap in the range optimizer.

2010-09-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removal of one more MyBitmap in range optimizer.

2010-09-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Got rid of MyBitmap instance in the range optimizer.

2010-09-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced one instance of MyBitmap with dynamic_bitset from boost. Added some utility functions to MyBitmap temporarily in order to accomplish this.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Brian - When we were dropping a table we were doing a lookup that we no longer need to do.
	Merge Shrews - fix bug 656474: transaction_reader not outputting ROLLBACKs

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Brian - When we were dropping a table we were doing a lookup that we no longer need to do.

2010-10-07  Brian Aker  <brian@tangent.org>

	We no longer needed to look at the share when removing tables.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 656474: transaction_reader not outputting ROLLBACKs

2010-10-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for transaction_reader to output ROLLBACK statements

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Monty - Fixed the last of the ICC warnings. Turned on warnings=errors
	Merge Brian - fixu bug #655558: SELECT 102/(1-1) should error on divide by zero  	 
	Merge Brian - fix bug #654219: information_schema.key_column_usage does not contain information about FKs

2010-10-07  lbieber  <lbieber@orisndriz08>

	Add sort order for regression.654219

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Monty - Fixed the last of the ICC warnings. Turned on warnings=errors

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Fixed the last. (did I mention the LAST) warning in ICC.
	WOO F-ing HOO!!!

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Turned on -Werror.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Fixed three more ICC warnings.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Brian - fixu bug #655558: SELECT 102/(1-1) should error on divide by zero  	 

2010-10-06  Brian Aker  <brian@tangent.org>

	Fix issue with divide by zero not being an error.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Brian - fix bug #654219: information_schema.key_column_usage does not contain information about FKs

2010-10-05  Brian Aker  <brian@tangent.org>

	This fixes the IS key_column_usage table to correctly respond to FK.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Lee - Fix output of haildb_version_func test
	Merge Brian - Fix to be able to enable our own port alongside the MySQL port.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Fix output of haildb_version_func test

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix to be able to enable our own port alongside the MySQL port.

2010-10-07  Brian Aker  <brian@tangent.org>

	Fix error messages.

2010-10-06  Brian Aker  <brian@tangent.org>

	Merge with trunk.

2010-10-05  Brian Aker  <brian@tangent.org>

	This patch encapsulates the MySQL protocol around the Drizzle port so that we have access even in the event of MySQL being installed and running.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Monty - Bug 655294: load_data() function returns null if file is invalid 
	Merge Monty - Bug 655342: select into outfile creates a garbage file on no results
	Merge Monty - Fixes the haildb build

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Monty - Bug 655294: load_data() function returns null if file is invalid 
	Merge Monty - Bug 655342: select into outfile creates a garbage file on no results

2010-10-07  Monty Taylor  <mordred@inaugust.com>

	Fixed an alarming issue in debug builds of pbmx. Oh well.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	migrated config-dir.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Removed API element that SuSE and some older boosts don't have.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Made load_file() work sensibly with fs::path. Now it throws errors. Good grief.  

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Made load_file work properly with throwing errors and opening files.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Throw an error on load_file() from outside the secure_file_priv locaiton.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Expand secure-file-priv once at startup rather than on each path check.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Made data_home be fs::path natively.

2010-10-03  Monty Taylor  <mordred@inaugust.com>

	Removed the fixed_vars.

2010-10-03  Monty Taylor  <mordred@inaugust.com>

	Migrated plugin_dir to fs::path.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Made secure_file_priv be an fs::path from the beginning.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Use pid-file directly from variables map.

2010-09-30  Monty Taylor  <mordred@inaugust.com>

	Set basedir directly from po.

2010-09-30  Monty Taylor  <mordred@inaugust.com>

	Merged in documentation fixes and language removal.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Document drizzled options.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Removed old language arg.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Remove help-extended.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Fixed comments in protocol doc.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Removed python module index link.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Replaced pid-file with fs::path.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Migrated --basedir to feed a path.

2010-10-07  lbieber  <lbieber@orisndriz08>

	Merge Monty - Fixes the haildb build

2010-10-07  Monty Taylor  <mordred@inaugust.com>

	Fixed a mistake in the haildb plugin.ini file.

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix a large number of warning issues on ICC. sql_string becomes 64bit
	Merge Monty - clean up ICC warnings

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix a large number of warning issues on ICC. sql_string becomes 64bit

2010-10-06  Brian Aker  <brian@tangent.org>

	Convert sql_string to use size_t (this should clean up ICC warnings).

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Monty - clean up ICC warnings

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Added a missing file to .bzrignore.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Cleaned up a bunch more warnings.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Fixed some more ICC warnings. How did I get started on this this morning?

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Suppress warning about using enums as bitfields.

2010-10-06  Monty Taylor  <mordred@inaugust.com>

	Made ICC warning suppressions a little more sensible given what we can't accomplish any time in the near future.

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Monty - First pass at our own custom config file parser to work around bugs in the ubuntu lucid version of boost
	Merge Patrick G. - Fix to compile on OS X
	Merge Joe - make transaction_message_threshold configurable on the command line

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Monty - First pass at our own custom config file parser to work around bugs in the ubuntu lucid version of boost

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Removed private copy of trim and use the one from boost::algorithm.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Removed unnameed namespace from header - cpplint really hates that.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Deal with differencs in surrounding boost program_options infrastructure.

2010-10-01  Monty Taylor  <mordred@inaugust.com>

	Embed a modified version of parse_config_file. There are several more bugs
	that we'll want to fix in it, and then submit upstream. Eventually we should
	be able to remove this- but for now the version on lucid is completely
	broken.

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Patrick G. - Fix to compile on OS X

2010-10-02  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Changed line 32, const  uint& y to const  uint32_t& y due to ISO C++ error
	
	Error was:
	
	in file included from ./drizzled/session.h:172,
	from drizzled/table_proto_write.cc:18:
	./drizzled/lex_column.h:32: error: expected ',' or '...' before '&' token
	./drizzled/lex_column.h:32: error: ISO C++ forbids declaration of 'uint'
	with no type
	./drizzled/lex_column.h: In constructor
	'drizzled::Lex_Column::Lex_Column(const drizzled::String&, int)':
	./drizzled/lex_column.h:32: error: 'y' was not declared in this scope

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Joe - make transaction_message_threshold configurable on the command line

2010-10-05  Joseph Daly  <skinny.moey@gmail.com>

	merge trunk

2010-10-05  Joseph Daly  <skinny.moey@gmail.com>

	remove max value it was not used

2010-10-05  Joseph Daly  <skinny.moey@gmail.com>

	fixes to remove option to set using set global

2010-10-05  Joseph Daly  <skinny.moey@gmail.com>

	fix up transaction_message_threshold

2010-10-04  Joseph Daly  <skinny.moey@gmail.com>

	add variable for gpb size

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Monty - Change the requirement from either libinnodb to libhaildb. Also, tied it to version 2.2
	Merge Andrew - fix bug 650935: remove --compress from all clients
	Merge Andrew - fix bug 653471: Add -A to drizzle client
	Merge Travis - 621861 = To change C structs to C++ classes in Drizzle

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Monty - Change the requirement from either libinnodb to libhaildb. Also, tied it to version 2.2

2010-10-04  Monty Taylor  <mordred@inaugust.com>

	Require libhaildb.

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 650935: remove --compress from all clients
	Merge Andrew - fix bug 653471: Add -A to drizzle client

2010-10-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	merge with trunk

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove compress from docs

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove compress option

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix -A option in drizzle client

2010-10-06  lbieber  <lbieber@orisndriz08>

	Merge Travis - 621861 = To change C structs to C++ classes in Drizzle

2010-10-04  tdavies  <tdavies@Molly>

	change in file: ../drizzled/base.h. Converted C structs key_range and KEY_MULTI_RANGE to C++ classes

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Shrews - Add options to the GPB files that will be used by protoc when generating Java source files.
	Merge Andrew - fix bug 654568: Pandora --enable/disable message for plugins incorrect
	Merge Andrew - fix bug 653707: drizzle --shutdown reading table information

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Shrews - Add options to the GPB files that will be used by protoc when generating Java source files.

2010-10-05  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add options to proto files for use when generating Java source files.

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 654568: Pandora --enable/disable message for plugins incorrect

2010-10-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix plugin --enable/disable messages

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 653707: drizzle --shutdown reading table information

2010-10-03  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Don't do completion hash rebuild on --shutdown

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Brian - fix bug 654905 - DATA_DICTIONARY.TABLE.TYPE not returning BASE or VIEW (it reports the port type).

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Brian - fix bug 654905 - DATA_DICTIONARY.TABLE.TYPE not returning BASE or VIEW (it reports the port type).

2010-10-05  Brian Aker  <brian@tangent.org>

	Just extending the alter schema/table test to make sure that we really are
	picking up new versions.

2010-10-05  Brian Aker  <brian@tangent.org>

	Correcting alter schema to fix bug around schema not altering collate
	correctly.

2010-10-05  Brian Aker  <brian@tangent.org>

	This solves bug lp:654905 
	We also gain a version and a UUID associated with our schema/table objects
	(all the better to debug the replication with!).

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Travis - 621861 - convert structs to classes
	Merge Billy - 621331 - Replace use of stringstream with boost::lexical_cast
	Merge Travis - 621861 = To change C structs to C++ classes in Drizzle
	Merge Andrew - fix bug 653300 - Syntax error on inport of a SQL file produced by drizzledump

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Travis - 621861 - convert structs to classes

2010-10-03  tdavies  <tdavies@Molly>

	Modified File: ../drizzled/ctype-mb.cc at line 1075 converted the static C struct which instatiats the utr11_data array to a C++ class

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Billy - fix bug 621331 - Replace use of stringstream with boost::lexical_cast

2010-10-04  earney  <earney@earney.homedns.org>

	removed old commented out statements and uncommmeted out first occurance of stringstream in date.cc since it sets the precision.

2010-09-20  earney  <earney@earney.homedns.org>

	modified files containing stringstream to use boost:lexical_cast instead as 
	requested in bug 621331

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Travis - fix bug 621861 = To change C structs to C++ classes in Drizzle

2010-10-01  tdavies  <tdavies@Molly>

	In .../drizzled/structs.h: Changed C structs KeyPartInfo, KeyInfo, and RegInfo to C++ classes

2010-10-05  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 653300 - Syntax error on inport of a SQL file produced by drizzledump

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Allow null dates for conversion

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	1. date regex was broken
	2. a pointer was set to output when processing date/time
	3. a '%' was output with progress dumping

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Merged documentation and copyright header fixes.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Updated licensing.

2010-10-03  Patrick Galbraith  <patg@patg-desktop>

	Added license to start_mc.sh.in to clear up ambiguity

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Updated license headers.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Update all of the copyright headers to include the correct address.

2010-10-02  Monty Taylor  <mordred@inaugust.com>

	Update COPYING file to have current FSF address in it.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Merged in documentation updates.

2010-10-04  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Document drizzled options.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Removed old language arg.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Remove help-extended.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Fixed comments in protocol doc.

2010-09-29  Monty Taylor  <mordred@inaugust.com>

	Removed python module index link.

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Merge Andrew - fix bug 651950 - Table comments

2010-10-04  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 651950 - Table comments not retrieved using drizzledump

2010-10-04  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add table comments

2010-10-05  Monty Taylor  <mordred@inaugust.com>

	Rollup patch from Brian.

2010-10-03  Brian Aker  <brian@tangent.org>

	Merge to trunk.

2010-09-29  Brian Aker  <brian@gir-3.local>

	1) Fixed a couple of tests that were still relying on counts of tables in
	schemas.
	2) Removed utility dictionary from being loaded automatically.

2010-09-29  Brian Aker  <brian@gir-3.local>

	Adding environmental table to utility schema.

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Hartmut - clean up lex, now require flex to build, also "make lcov" improvements

2010-09-30  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream, conflict in .bzrignore resolved

2010-09-30  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-30  Hartmut Holzgraefe  <hartmut@php.net>

	making things work with older flex version 2.5.4 
	as distributed by CentOS 5 and FreeBSD 8

2010-09-18  Hartmut Holzgraefe  <hartmut@php.net>

	ignore gcov related data files

2010-09-18  Hartmut Holzgraefe  <hartmut@php.net>

	prevent race condition on parallel builds by introducing an explicit
	rule for the innobase parser header file the same way as automake
	would do if we were using the default yacc rule (which we can't due
	to the postprocessing step and due to the unusual target location
	of the generated header file)

2010-09-18  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-18  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-17  Hartmut Holzgraefe  <hartmut@php.net>

	ignore generated parser files

2010-09-17  Hartmut Holzgraefe  <hartmut@php.net>

	fixes for 'make dist' as innodb parser files are now created dynamicly

2010-09-14  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-14  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-08  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-04  Hartmut Holzgraefe  <hartmut@php.net>

	merge from upstream

2010-09-11  Hartmut Holzgraefe  <hartmut@php.net>

	added innobase/pars0grm.c to POTFILES.in instead of skipping it

2010-09-11  Hartmut Holzgraefe  <hartmut@php.net>

	make sure we get exactly the expected number of shift/reduce conflicts only

2010-09-11  Hartmut Holzgraefe  <hartmut@php.net>

	ignore warnings on flex/bison generated source files in a more portable way

2010-09-11  Hartmut Holzgraefe  <hartmut@php.net>

	removing generated files

2010-08-31  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	need full flex capabilities, not lex bc mode

2010-08-31  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	iresolved merge conflict

2010-08-31  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	lex/yacc check for Innobase modified

2010-08-31  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	flex/bison rule changes

2010-08-31  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	removed "call flex/bison manually" comments from innobase sources

2010-08-30  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	"make lcov" fixes

2010-08-30  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	need to skip generated file...?

2010-08-30  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	suppress warnings introduced by new flex/bison versions

2010-08-30  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	various lcov related changes

2010-08-29  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	merge from upstream

2010-08-27  Hartmut Holzgraefe  <hartmut@hartmut-laptop>

	merge from upstream

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 652645 - Bad error handling with Drizzledump connect
	Merge Andrew - fix bug 652228 - drizzledump not dumping auto-inc when connecting to drizzle servers
	Merge Andrew - fix bug 649844 - Clean up and fix some drizzledump options along with some documentation fixes

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 652645 - Bad error handling with Drizzledump connect

2010-10-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Also fix help message

2010-10-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add better error handling and exception handling for database connect

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 652228 - drizzledump not dumping auto-inc when connecting to drizzle servers

2010-09-30  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2010-09-30  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Adds auto_increment to data_dictionary.tables and drizzledump (when connecting to a Drizzle server)

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 649844 - Clean up and fix some drizzledump options along with some documentation fixes

2010-10-02  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Accidentally duplicated skip-create which cause build faiure in some platforms

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix comments appearing in test cases

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix up some more options and the docs

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Clean up some drizzledump options

2010-09-29  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Strip out some options

2010-10-02  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 652990 - Segfault when dumping schema with drizzledump

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 652990 - Segfault when dumping schema with drizzledump

2010-10-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	VIEWs cause segfaults, lets not try to see them as tables

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Andrew: fix bug 652966 - Drizzledump migration code doesn't handle YEAR type

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Andrew: fix bug 652966 - Drizzledump migration code doesn't handle YEAR type

2010-10-01  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add YEAR conversion that was previously missing from the MySQL migration code

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Rename embedded_innodb to HailDB everywhere EXCEPT the plugin name 

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Rename embedded_innodb to HailDB everywhere EXCEPT the plugin name 

2010-09-30  Stewart Smith  <stewart@flamingspork.com>

	update po/POTFILES.in for embedded_innodb -> haildb name change

2010-09-30  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	rename remaining things from embedded_innodb/innodb to HailDB. The only things left are now the plugin name and what name the engine appears under (so it's still CREATE TABLE.. ENGINE=INNODB and options are --innodb.foo)

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	merge embedded_innodb timestamp fix

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	update haildb.type_blob_func test and result for embedded_innodb->HailDB name change

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	update haildb.row_format_file_per_table test and result for embedded_innodb->HailDB name change

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	update haildb.row_format test and result for embedded_innodb->HailDB name change

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	haildb_version_func test result needs to be in the right place

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	HailDB test suite loads the HailDB plugin (not the old name, which was 'embedded_innodb')

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	rename embedded_innodb test suite to haildb

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	rename libinnodb_version_func to haildb_version_func. In SQL, LIBINNODB_VERSION() becomes HAILDB_VERSION()

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	rename libinnodb_datadict_dump() to haildb_datadict_dump() in source and tests

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	rename Embedded InnoDB plugin and source files to HailDB

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Andrew - Fix bug 651948 - Index lengths not retrieved using drizzledump

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Andrew - Fix bug 651948 - Index lengths not retrieved using drizzledump

2010-09-30  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2010-09-30  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix index lengths not shown for part-indexed columns.
	Also fix COMPARE_LENGTH in data_dictionary.index_parts

2010-10-01  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug 651256 - Remove --help-extended

2010-09-29  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge removal of --help-extended from drizzled

2010-09-30  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug Bug 650482 - Replace all instances of <config.h>

2010-09-29  Vijay Samuel  <vjsamuel1990@gmail.com>

	Missed one instance and now changed it.

2010-09-29  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge change of <config.h> to "config.h"

2010-09-29  patrick crews  <gleebix@gmail.com>

	Update translations

2010-09-24  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-22  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-17  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-16  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Merged doc fixes, lock fixes, path fixes and bath fixes.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Added clean rules for sphinx output.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Fixed a typo.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Fixed sphinx version testing.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Made sure that sphinx-build can handle man builder.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Only try to build the manpages if we have sphinx. Duh.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Add LOCK IN SHARE MODE support to embedded_innodb.

2010-09-28  Stewart Smith  <stewart@flamingspork.com>

	add LOCK IN SHARE MODE support to embedded_innodb (and a small test)

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Merged refactoring of locks.

2010-09-28  Brian Aker  <brian@tangent.org>

	Caught another scoped handle

2010-09-27  Brian Aker  <brian@tangent.org>

	Remove additional (maybe last of?) native_handle actual calls (safe_mutex is
	historical and unused, so it does not count).

2010-09-27  Brian Aker  <brian@tangent.org>

	Adds in release/scope locks to remove native_handle

2010-09-27  Brian Aker  <brian@tangent.org>

	Additional removal of native_handle

2010-09-27  Brian Aker  <brian@tangent.org>

	This allows us to use boost for the condition wait (though really.. not
	awesome to do it this way, but it moves one step closer to the final
	solution).

2010-09-27  Brian Aker  <brian@tangent.org>

	This is just a refactor for {} so I can follow a different merge a bit
	easier..

2010-09-27  Brian Aker  <brian@tangent.org>

	Scope wait_for_condition().

2010-09-27  Brian Aker  <brian@tangent.org>

	Remove a if 0 block, capture a lock inside of {}

2010-09-27  Brian Aker  <brian@tangent.org>

	Refactor out old call for pthread native usage.

2010-09-27  Brian Aker  <brian@tangent.org>

	Remove goto for reset.

2010-09-27  Brian Aker  <brian@tangent.org>

	Remove native_handle usage.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Removed --wait from client.

2010-09-28  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge removal of --wait from the client as it does nothing.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Fix pidfile argument.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Hopefully fixed more madness with plugin paths.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Run jp and tamil suites by default. Then also fix the broken tests.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Fixed mis-naming of sort-buffer to sort-buffer-size.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Merged in fixes for test cases.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	It turns out anything the extra_parser returns a value for gets consumed,
	even if it's not a recognized option - so we can't add extra_size_parser to
	the initial parse (which is ok, we're not parsing any args there that need
	it)

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Call po::notify _after_ get_options. Doh.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Concatenate paths differently for pid-file.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Fix trailing 0 problem.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Merged in options fixes.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Fixed temporoary dir sequencing.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Fixed plugin dir sequencing

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Add an extra notify (grumble)

2010-09-27  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Re-enabled scheduler option.

2010-09-27  Monty Taylor  <mordred@inaugust.com>

	Rearranged option processing.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Make manfile for drizzledump from Sphinx.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Use drizzledump sphinx docs as manpage source.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Rollup patch with several bugfixes.

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug 636512 -  --ignore-spaces does nothing

2010-09-28  Vijay Samuel  <vjsamuel1990@gmail.com>

	Remove --ignore-spaces option from the client as it does nothing. 

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug 636518 - --skip-line-numbers is no longer valid

2010-09-28  Vijay Samuel  <vjsamuel1990@gmail.com>

	Removed --skip-line-numbers as its task is already being carried out by --disable-spaces

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Stewart - fix callgrind with test-run.pl

2010-09-28  Stewart Smith  <stewart@flamingspork.com>

	fix callgrind with test-run.pl

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 647360 - drizzzledump mysql migration needs documenting

2010-09-28  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add documentation for drizzledump

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Monty - Fixes a few licensing issues found while doing copyright audit.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Made BSD files reference root BSD file.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Reference root BSD copying file.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Added BSD copying file.

2010-09-28  Monty Taylor  <mordred@inaugust.com>

	Attributed Eric and Ed's work

2010-09-28  lbieber  <lbieber@orisndriz08>

	Merge Joe - fix bug 644529 - Transaction_log not properly capturing relevant data for UPDATE statements

2010-09-27  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-09-27  Joseph Daly  <jdaly@rx7>

	add test and add isFieldUpdated function

2010-09-26  Joseph Daly  <jdaly@rx7>

	fix bug 644529 handle a NULL value being updated with 0

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 644760 - Transaction log losing data when a bad query (ERROR 1093) is encountered mid-transaction

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 644760 - Transaction log losing data when a bad query (ERROR 1093) is encountered mid-transaction

2010-09-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-09-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for accidentally deleting all GPB Transaction message contents recorded before a single failing statement contained within the transaction.

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Allow access to internal InnoDB (HailDB) data dictionary tables, fix enum now that it is 4 bytes
	Merge Shrews - fix bug 643935 - The transaction_reader program should handle mixed transaction messages

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Allow access to internal InnoDB (HailDB) data dictionary tables

2010-09-28  Stewart Smith  <stewart@flamingspork.com>

	and the test result

2010-09-28  Stewart Smith  <stewart@flamingspork.com>

	cleanup after datadict_tables test

2010-09-28  Stewart Smith  <stewart@flamingspork.com>

	data dictionary tables no longer have './' as prefix in path. fix embedded_innodb table_path_to_innodb_name.

2010-09-27  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb basic_innodb_table_proto_table.result for datadict tables

2010-09-27  Stewart Smith  <stewart@flamingspork.com>

	merge embedded_innodb fixes

2010-09-27  Stewart Smith  <stewart@flamingspork.com>

	fix embedded_innodb test config_file_per_table_enable test file for local catalog

2010-09-27  Stewart Smith  <stewart@flamingspork.com>

	fix enum type in embedded_innodb for change of having enum always use 4 bytes in memory

2010-09-27  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-09-24  Stewart Smith  <stewart@flamingspork.com>

	embedded_innodb: add support for reading out of the (hidden) InnoDB system tables: SYS_TABLES, SYS_INDEXES, SYS_FIELDS, SYS_FOREIGN, SYS_FOREIGN_COLS. This means we have code generating table messages for them as well as code to munge the table names correctly.

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 643935 - The transaction_reader program should handle mixed transaction messages

2010-09-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-09-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-09-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Replace std::map with boost::unordered_map

2010-09-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-09-21  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add code to manage multi-GPB-message transactions and output them atomically.

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug 585982 - Default datadir and pid-file location reported by --help were incorrect
	Merge Monty - fix bug 648360 - Fix a few small things in the sphinx doc build. Adds some initial docs for program options loading.
	Merge Lee - fix bug 621304 - Fix filesystem_engine.multiple_update test failure on OSX 

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Vijay - fix bug 585982 - Default datadir and pid-file location reported by --help were incorrect

2010-09-26  Vijay Samuel  <vjsamuel1990@gmail.com>

	Merge removed the -h short form for --datadir and replaced safe_mysqld with drizzled in help message of --pid-file

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix bug 648360 - Fix a few small things in the sphinx doc build. Adds some initial docs for program options loading.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Removed leftover references to PROTOCOL.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Made some TOC structure changes. Added stubs for a couple of command line
	programs.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Moved protocol doc into the docs.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of options around make dist to make sure all the .rst files
	get in there.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Added initial doc trees for a couple of plugins so that documentation can
	get going.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Added support to pandora for finding and including per-plugin documentation.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Expanded on config rules.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Added stubs for option docs.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Updated copyright line and version setting.

2010-09-26  Monty Taylor  <mordred@inaugust.com>

	Added in some .css files.

2010-09-27  lbieber  <lbieber@orisndriz08>

	Merge Lee - fix bug 621304 - Fix filesystem_engine.multiple_update test failure on OSX 

2010-09-25  Lee Bieber  <lbieber@kalebral-2.local>

	Fix bug 621304 - filesystem_engine.multiple_update test is failing on OSX because it runs out of file handles as files are being opened but not always closed. The only place I could find is in doEndTableScan which reopened the file but never did anything more with it after that. At least that's my story and I'm sticking with it!

2010-09-26  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 646202 - Turn off Boost PO option guessing

2010-09-26  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 646202 - Turn off Boost PO option guessing

2010-09-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix spelling mistake

2010-09-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix engine option in drizzleslap

2010-09-26  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Disable boost:po allow_guessing which was making some wrong assumptions

2010-09-26  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 646187 - MySQL privilege table errors still in InnoDB

2010-09-26  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix bug 646187 - MySQL privilege table errors still in InnoDB

2010-09-25  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove the error:
	InnoDB: Error: trying to create a MySQL system table mysql/user of type InnoDB.
	InnoDB: MySQL system tables must be of the MyISAM type!

2010-09-25  lbieber  <lbieber@orisndriz08>

	Merge Monty - Beginning of catalog support, adds a default local catalog. 

2010-09-25  lbieber  <lbieber@orisndriz08>

	Merge Monty - Beginning of catalog support, adds a default local catalog. 

2010-09-25  mordred  <mordred@orisndriz09>

	Now lets get the proper values into these bad boys.

2010-09-25  mordred  <mordred@orisndriz09>

	Well, so handing pointers returned by std::string::c_str() is a bad idea anyway - but you certainly shouldn't do it in static initializers before you do all of your changes to the string. Sigh.

2010-09-24  Monty Taylor  <mordred@inaugust.com>

	Fixed a path issue.

2010-09-24  Monty Taylor  <mordred@inaugust.com>

	Fixed a small problem between gcc4.4, -std=c++0x and boost. Will fix it for real later on...

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Monty - Adds a default local catalog which is the beginning of catalog support

2010-09-22  Monty Taylor  <mordred@inaugust.com>

	Cleaned up the initial pass at this. It's not perfect, but it does work.

2010-09-22  Monty Taylor  <mordred@inaugust.com>

	Initial working local catalog.

2010-09-24  lbieber  <lbieber@orisndriz08>

	Merge Paul - fix bug 641033 - fix basic_create_select test
	Merge Paul - fix bug 641035 - basic_index_lookup and basic_pkey_index_reverse_scan don't always use index
	Merge Brian - Adding have_linux to disabled pbxt tests.
	Merge Andrew - drizzledump mysql migration tool

2010-09-24  lbieber  <lbieber@orisndriz08>

	Merge Paul - fix bug 641033 - fix basic_create_select test
	Merge Paul - fix bug 641035 - basic_index_lookup and basic_pkey_index_reverse_scan don't always use index

2010-09-24  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed bug #641035: pbxt.basic_index_lookup and pbxt.basic_pkey_index_reverse_scan don't always use index, bug #641033 pbxt.basic_create_select fails is also fixed

2010-09-24  Brian Aker  <brian@tangent.org>

	Adding have_linux to disabled tests.

2010-09-24  lbieber  <lbieber@orisndriz08>

	Merge Andrew - drizzledump mysql migration tool

2010-09-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix POTFILES.in

2010-09-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove "ORDER BY ORDINAL_POSITION", eats RAM, sucks performance and it is already ordered correctly anyway

2010-09-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	A couple more test case fixes

2010-09-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix up for the drizzledump test cases

2010-09-24  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix error handling
	Make work with dtr drizzledump test case

2010-09-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix ignore tables

2010-09-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix various bugs

2010-09-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add database destination settings and connect it all up
	Add SET type handling

2010-09-23  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add database connection class and the start of a database output ostream

2010-09-22  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Put drizzle and mysql processes in seperate classes/files

2010-09-22  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Make some command line options work again

2010-09-22  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix auto_increment and enum support
	
	Note: for drizzle dumps now currently requires server from drizzle-drizzledump-mysql-bugs branch until that is merged into trunk and then here

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Skip FULLTEXT indexes

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Support time and data conversions as well as NULLs

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add escaping and hex_blob support

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add basic data dump output

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Start of data dump support

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Rip out internal namespace dependancy and add boost::date_time

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add DOUBLE/DECIMAL and DATE/TIME types with conversions

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add index support

2010-09-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	More fixups

2010-09-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	More MySQL support for fields

2010-09-16  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add basic column support

2010-09-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Rip out tons of code which I'll probably put back cleaner later
	Start the new OO version of the table grabbing with MySQL support

2010-09-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Switch to using boost::regex instead of pcre

2010-09-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add functionality to detect server type we are connecting to

2010-09-24  lbieber  <lbieber@orisndriz08>

	Merge Brian - Latest work on boost, also PBXT set to be linux only.

2010-09-24  lbieber  <lbieber@orisndriz08>

	Merge Brian - Latest work on boost, also PBXT set to be linux only.

2010-09-23  Brian Aker  <brian@tangent.org>

	Latest work on boost + PBXT set to be linux only.

2010-09-22  Brian Aker  <brian@tangent.org>

	Current boost work (more conversion).

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix for data being too long in output column, plus have added a "have_linux" for tests to use

2010-09-23  Brian Aker  <brian@tangent.org>

	Fix for data being too long in output column, plus I have added a
	"have_linux" for tests to use.

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Brian - Merge in session performance table (this is not built by default)

2010-09-23  Brian Aker  <brian@tangent.org>

	Merge in Solaris fix.

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Brian - Merge in session performance table (this is not built by default)

2010-09-22  Brian Aker  <brian@tangent.org>

	Merge in session performance table (this is not built by default).

2010-09-22  Brian Aker  <brian@tangent.org>

	Fixes found from param build.

2010-09-19  Brian Aker  <brian@tangent.org>

	This includes a query_usage table for looking at performance of previous
	queries (first draft). 
	
	Also included is a generic method for storing values in session.

2010-09-15  Brian Aker  <brian@tangent.org>

	First pass at session_usage.

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Brian - Rollup patch of enum + style on varchar. This modifies enum to always being the same value.
	Merge Stewart - Fix embedded_innodb plugin now that TIMESTAMP is 8 bytes. 
	Merge Shrews - fix bug 643630 -  Transaction_reader not handling CHAR values that include quotes properly

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Brian - Rollup patch of enum + style on varchar. This modifies enum to always being the same value.

2010-09-22  Brian Aker  <brian@tangent.org>

	Rollup patch of enum + style on varchar. This modifies enum to always being
	the same value.

2010-09-22  Brian Aker  <brian@tangent.org>

	Style cleanup (no real changes).

2010-09-22  Brian Aker  <brian@tangent.org>

	Encapsulate the length of the bytes in the varchar header.

2010-09-22  Brian Aker  <brian@tangent.org>

	Fix enum at being an intefer (which is what PG did, and it saves on
	alignment issues).

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Fix embedded_innodb plugin now that TIMESTAMP is 8 bytes. 

2010-09-23  Stewart Smith  <stewart@flamingspork.com>

	TIMESTAMP is now 8 bytes. Fix embedded_innodb plugin

2010-09-23  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 643630 -  Transaction_reader not handling CHAR values that include quotes properly

2010-09-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge trunk

2010-09-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	When converting transaction log contents to SQL, make sure we escape embedded quotes.

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Paul - fix pbxt startup and shutdown
	Merge Shrews - fix bug 644475 - Fix rabbitmq.variables test

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Paul - fix pbxt startup and shutdown

2010-09-22  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed PBXT recovery and shutdown, added shutdownPlugin() call to all plugins before the plugins are deleted

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 644475 - Fix rabbitmq.variables test

2010-09-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Change rabbitmq plugin test to not be dependent on connecting to a RabbitMQ server

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Shrews - Add transaction log bulk tests
	Merge Brian - Remove 3 byte indexes
	Merge Stewart - Move string functions into plugin

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Shrews - Add transaction log bulk tests

2010-09-22  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add some initial tests for transactions with multiple GPB Transaction messages

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Brian - Remove 3 byte indexes

2010-09-22  Brian Aker  <brian@tangent.org>

	Remove support for 3 byte indexes (we don't have 3 byte types, this is
	mainly just a cleanup for anyone who ever tries to read the code).

2010-09-22  Brian Aker  <brian@tangent.org>

	Convert date from 3 byte to 4 byte.

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Stewart - Move string functions into plugin

2010-09-22  Stewart Smith  <stewart@flamingspork.com>

	fix math_functions/ceiling.h header guard

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	fix creation of Item_func_quote

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	update copyright and author for math_functions

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	update copyright and author for string_functions

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	fix header guard define for format.h in string_functions

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	fix header guard define for elt.h in string_functions

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	move QUOTE() function to string_functions plugin

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	move FORMAT() function to string_functions plugin

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	move ELT() function to string_functions plugin

2010-09-20  Stewart Smith  <stewart@flamingspork.com>

	move ORD() function into math_functions plugin

2010-09-20  Stewart Smith  <stewart@flamingspork.com>

	move FLOOR() function into math_functions plugin

2010-09-20  Stewart Smith  <stewart@flamingspork.com>

	add argument check to EXP()

2010-09-20  Stewart Smith  <stewart@flamingspork.com>

	move EXP() function into math_functions plugin

2010-09-20  Stewart Smith  <stewart@flamingspork.com>

	move CEIL() and CEILING() function into math_functions plugin

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix for 64bit issue around timestamp so we don't run into problems in 2027!

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Brian - Fix for 64bit issue around timestamp so we don't run into problems in 2027!

2010-09-22  Brian Aker  <brian@tangent.org>

	Fix for 64bit issue around timestamp

2010-09-22  lbieber  <lbieber@orisndriz08>

	Merge Paul M. - latest changes from PBXT 1.0.11-7
	Merge Paul M. - fix bug 641038 - pbxt rollback not working (tables reported as non-transactional)
	Merge Andrew - fix show stoppers for new drizzledump

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Paul M. - latest changes from PBXT 1.0.11-7

2010-09-20  Paul McCullagh  <paul.mccullagh@primebase.org>

	Initialized unnecessarily to satisfy (Drizzle) compile [-Wuninitialized]

2010-09-17  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged PBXT 1.1.01 RC patch

2010-09-17  Paul McCullagh  <paul.mccullagh@primebase.org>

	Updated PBXT test results

2010-09-16  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged with 1.1 trunk

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Paul M. - fix bug 641038 - pbxt rollback not working (tables reported as non-transaction
	al)

2010-09-21  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed bug #641038 - pbxt rollback not working (tables reported as non-transactional)

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Andrew - fix show stoppers for new drizzledump

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test case

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	ok, so a varchar(65535) is a really bad idea in data_dictionary in some platforms.  Doesn't need to be that long anyway, shrinked to 1024.

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix another test

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix some test cases

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Add auto_incrememnt boolean and enum values string to data_dictionary.columns

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix Drizzledump tests after removal of --hex-blob

2010-09-21  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Actually, drop --skip-hex-blob.  We don't want a --corrupt-my-data-please option.

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	--hex-blob as default

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix processing of configuration files
	Merge Brian - Pushes up thread ownership to the modules that create them.
	Merge Monty - fix bug 643814 - add links for drizzle7 changes

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix processing of configuration files

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Used the unknown_options exception directly.

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Made a typedef for the plugin vector<string>

2010-09-20  Monty Taylor  <mordred@inaugust.com>

	Made config files work with a hack - need to go back in and properly deal
	with the parsers here.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	We don't need to process the config files a second time.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Added code to run-parts a conf.d dir.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Add config-dir option.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Add a second plugin-remove instance to make sure we allow multiple
	invocations.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Migrates the creation of the plugin lists to have program_options directly
	build the vectors. Also, gets plugin-add and plugin-remove to be able to be
	specified multiple times on the command line.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Brian - Pushes up thread ownership to the modules that create them.

2010-09-21  Brian Aker  <brian@tangent.org>

	Pushes up thread ownership to the modules that create them.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix bug 643814 - add links for drizzle7 changes

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Fixed uninstall hook. Bother.

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Also symlink the manpages.

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Install a versioned drizzled and a symlink to it.

2010-09-21  Monty Taylor  <mordred@inaugust.com>

	Reverted actually building a drizzled7 binary in the tree. That was silly.
	We can take care of this completely at install time.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Stewart - fix bug 578645 - file_io_threads is deprecated but still exists (and does no
	thing)
	Merge Shrews - fix bug 643905 -  Transaction ID gets set incorrectly with concurrent session
	s
	Merge Andrew - Enable boost filesystem requirement and fix linking requirements for it.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Stewart - fix bug 578645 - file_io_threads is deprecated but still exists (and does nothing)

2010-09-21  Stewart Smith  <stewart@flamingspork.com>

	remove innodb_file_io_threads parameter. It never did anything (in Drizzle) - it is just the same of read_io_threads and write_io_threads. This removes it from innobase plugin.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 643905 -  Transaction ID gets set incorrectly with concurrent sessions

2010-09-20  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Set transaction ID properly on large, multi-Transaction message transactions. Also add bulk load tests.

2010-09-21  lbieber  <lbieber@orisndriz08>

	Merge Andrew - Enable boost filesystem requirement and fix linking requirements for it.

2010-09-20  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix pandora linking requirements for boost filesystem and make it required.

2010-09-21  Brian Aker  <brian@tangent.org>

	This modifies our thread system to be based on boost, and it fixes a
	critical bug where stack size was not being calculated correctly.

2010-09-20  Brian Aker  <brian@tangent.org>

	Merge in OSX/FreeBSD fix

2010-09-20  Brian Aker  <brian@gir-3>

	Fix issue with signal thread not shutting down (OSX). 

2010-09-20  lbieber  <lbieber@orisndriz08>

	Merge Joe - fix bug 641685 statement_transform.cc was not handling NULL values when dealing with NULL values.
	Merge Shrews - fix bug 641687 - Quote ENUM values when building SQL from GPB Transaction messages.
	Merge Monty - fix bug 549882 - Throw an error in configure from a bad --prefix value
	Merge Monty - fix bug 565050 - Don't fail if root user runs drizzled --help

2010-09-20  lbieber  <lbieber@orisndriz08>

	Merge Joe - fix bug 641685 statement_transform.cc was not handling NULL values when dealing with NULL values.

2010-09-18  Joseph Daly  <jdaly@rx7>

	remove extra space/line

2010-09-18  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-09-18  Joseph Daly  <jdaly@rx7>

	fix 641685, properly handle update and inserts for BLOB fields with NULL values

2010-09-20  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 641687 - Quote ENUM values when building SQL from GPB Transaction messages.

2010-09-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Quote ENUM field values when create SQL from protobuf messages

2010-09-20  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix bug 549882 - Throw an error in configure from a bad --prefix value

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.155

2010-09-20  lbieber  <lbieber@orisndriz08>

	Merge Monty - fix bug 565050 - Don't fail if root user runs drizzled --help

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Allow root user to use --help.

2010-09-19  Brian Aker  <brian@tangent.org>

	Update session/memory to use boost specific.

2010-09-19  Brian Aker  <brian@tangent.org>

	Cleanup of thr_init.

2010-09-19  Brian Aker  <brian@tangent.org>

	Rollup of a outstanding merge requests.

2010-09-19  Brian Aker  <brian@tangent.org>

	Cleanup my_thread_var usage.

2010-09-19  Brian Aker  <brian@tangent.org>

	This disables a test that was calling Session but not freeing the values it
	was using.
	
	In general? unittest needs to be covered by valgrind.

2010-09-19  Brian Aker  <brian@tangent.org>

	Clean up usage of THR_LOCK

2010-09-19  Brian Aker  <brian@tangent.org>

	Update bzrignore

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Rollup of name change, build bug fixes and Patrick's change to re-enable
	that test.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Missed the manpage.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.154

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Reenable test.

2010-09-19  patrick crews  <gleebix@gmail.com>

	Added master.opt file for drizzledump-max, so that the archive engine is available/ the test not skipped

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris gtest detection.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Inject AM_CXXFLAGS to the gtest test.

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.153

2010-09-19  Monty Taylor  <mordred@inaugust.com>

	Changed package name to drizzle7

2010-09-17  Monty Taylor  <mordred@inaugust.com>

	Rename drizzled binary to drizzled7. Also the source package.

2010-09-17  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Added in Andrew's changes for boost regex/datetime usage.

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Joe - Rework the rollback to savepoint code in terms of the transaction log

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Joe - Rework the rollback to savepoint code in terms of the transaction log

2010-09-17  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-09-16  Joseph Daly  <jdaly@rx7>

	fix copyright

2010-09-16  Joseph Daly  <jdaly@rx7>

	add descriptive comments and use savepoint_transaction_copy to determine statement size

2010-09-15  Joseph Daly  <jdaly@rx7>

	add string header

2010-09-15  Joseph Daly  <jdaly@rx7>

	remove unneeded header

2010-09-15  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-09-15  Joseph Daly  <jdaly@rx7>

	fix up bugs 638518, and memory leak problems

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Stewart - remove a bunch of trailing whitespaces
	Merge Stewart - fix pbxt test cases to run with  pbxt
	Merge Stewart - more moving math functions to plugins

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Stewart - remove a bunch of trailing whitespaces

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	wants an automatic way to NACK trailing whitespace

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	wants an automatic way to NACK trailing whitespace

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Stewart - fix pbxt test cases to run with  pbxt

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	disable failing PBXT test cases - bugs reported.

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	fix PBXT basic_ tests to run with PBXT engine

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Stewart - more moving math functions to plugins

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	move SQRT() function into math_functions plugin

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	move LN() function into math_functions plugin

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	clean up math_functions plugin: we don't need to keep pointer to each function plugin around, the plugins system cleans up for us.

2010-09-17  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-09-17  lbieber  <lbieber@orisndriz03>

	Merge Monty - add files that were missing from the tarball

2010-09-17  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.151

2010-09-17  Monty Taylor  <mordred@inaugust.com>

	Gah. I suck.

2010-09-16  Monty Taylor  <mordred@inaugust.com>

	Include files in tarball that were being left out.

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Patrick - add transaction log tests

2010-09-17  lbieber  <lbieber@orisndriz08>

	Merge Patrick - add transaction log tests

2010-09-17  patrick crews  <gleebix@gmail.com>

	Altered check_transaction_log to mask index_size as we encounter differences here between 32 and 64 bit platforms

2010-09-16  patrick crews  <gleebix@gmail.com>

	Modified transaction_log_schema as it was non-deterministic.  Was looking for implicit DROP TABLE messages after a DROP SCHEMA, but these can come in any order.  Fixed the test to work with this fact

2010-09-16  patrick crews  <gleebix@gmail.com>

	Updated result files - needed after work on transaction log messages.  Removed a bad sub-test from transaction_log_transaction that relied on a set message point rather than just scanning the log (too sensitive to breaking).

2010-09-16  patrick crews  <gleebix@gmail.com>

	Merge with trunk

2010-09-14  Patrick Crews  <gleebix@gmail.com>

	Moved transaction_log tests into updated non-publisher-based tree

2010-09-08  Patrick Crews  <gleebix@gmail.com>

	Moving transaction_log_tests' new tests into a new branch -\n movement has occurred in the test suite since these were created and merging creates a gnarly mess

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Stewart - remove the unbalanced my_end() call from drizzledump
	Merge Stewart - move math functions into plugin

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Stewart - remove the unbalanced my_end() call from drizzledump

2010-09-16  Stewart Smith  <stewart@flamingspork.com>

	drizzledump no longer uses anything needing internal::my_init() or my_end. so remove the my_end call.

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Stewart - move math functions into plugin

2010-09-14  Stewart Smith  <stewart@flamingspork.com>

	fix header guard style

2010-09-14  Stewart Smith  <stewart@flamingspork.com>

	fix header guard style

2010-09-14  Stewart Smith  <stewart@flamingspork.com>

	fix header guard style

2010-09-14  Stewart Smith  <stewart@flamingspork.com>

	move POW() and POWER() function into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move SIN() function into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move LOG(), LOG2() and LOG10() functions into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move COS() function into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move ATAN() and ATAN2() function into math_functions plugin. ATAN2() is just another instance of ATAN()

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move ASIN() function into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move ACOS() function into math_functions plugin

2010-09-13  Stewart Smith  <stewart@flamingspork.com>

	move ABS() function into math_functions plugin. We now have '3 AS three' allowed as a parameter, just like all the UDFs did

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Brian - IO cleanup

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Brian - IO cleanup

2010-09-16  Brian Aker  <brian@tangent.org>

	Merge of trunk.

2010-09-14  Brian Aker  <brian@tangent.org>

	Remove data_home_real_unpacked

2010-09-14  Brian Aker  <brian@tangent.org>

	Updated myisam for identifier.

2010-09-13  Brian Aker  <brian@tangent.org>

	More use of identifier.

2010-09-13  Brian Aker  <brian@tangent.org>

	Replace some of the CSV non-usage of identifier for path.

2010-09-13  Brian Aker  <brian@tangent.org>

	Remove direct use of name from heap.

2010-09-13  Brian Aker  <brian@tangent.org>

	Remove dead call for determining table name.

2010-09-13  Brian Aker  <brian@tangent.org>

	Use full path for opening up directory files when checking for types.

2010-09-11  Brian Aker  <brian@tangent.org>

	Update to use the identifier (and not the straight filename).

2010-09-16  lbieber  <lbieber@orisndriz08>

	Merge Brian/Monty - Remove the restart required files from embedded (instead have one master.opt file)
	Merge Brian - Require --plugin-add in order to have csv, archive, or blackhole running.

2010-09-16  Monty Taylor  <mordred@inaugust.com>

	master.opt files are additive.

2010-09-16  Monty Taylor  <mordred@inaugust.com>

	Merged brian's opt cleanup work.

2010-09-15  Brian Aker  <brian@tangent.org>

	Missed the new opt file.

2010-09-15  Brian Aker  <brian@tangent.org>

	Remove the restart required files from embedded (instead have one master.opt file)

2010-09-15  Brian Aker  <brian@tangent.org>

	Remove individual opt files for single master opt file.

2010-09-15  Brian Aker  <brian@tangent.org>

	This will now require someone to do a --plugin-add in order to have csv,
	archive, or blackhole running.

2010-09-15  lbieber  <lbieber@orisndriz08>

	Merge Vijay - Added new utf 8 test case for creating tamil tables
	Merge Shrews - fix bug 616941 - Selecting transaction_log record that does not exist crashes server

2010-09-15  lbieber  <lbieber@orisndriz08>

	Merge Vijay - Added new utf 8 test case for creating tamil tables

2010-09-16  Vijay Samuel  <vijay@vijay>

	Merge added new utf 8 test case for creating tamil tables

2010-09-15  lbieber  <lbieber@orisndriz08>

	Merge Shrews - fix bug 616941 - Selecting transaction_log record that does not exist crashes server

2010-09-15  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Validate message type and size when reading from transaction log; fix potential memory leaks

2010-09-15  Brian Aker  <brian@tangent.org>

	Merge of Brian refactor + fix for Solaris find.

2010-09-15  Brian Aker  <brian@tangent.org>

	Solaris found an issue...

2010-09-15  lbieber  <lbieber@orisndriz08>

	Merge Brian - more refactoring and adding option for optional schedulers and making them --plugin-add only

2010-09-15  Brian Aker  <brian@tangent.org>

	Adding opt for optional schedulers and making them --plugin-add only.

2010-09-15  Brian Aker  <brian@tangent.org>

	Add join in order to allow for signal thread to be shutdown during shutdown
	within order of shutdown.

2010-09-15  Brian Aker  <brian@tangent.org>

	Convert pool of threds.

2010-09-14  Brian Aker  <brian@tangent.org>

	Update for boost.

2010-09-14  Brian Aker  <brian@tangent.org>

	Clean up the calls around the signal handler.

2010-09-14  Brian Aker  <brian@tangent.org>

	Factor out bits for signal handler.

2010-09-13  Brian Aker  <brian@tangent.org>

	Remove dead/bad calls for scheduler.

2010-09-13  Brian Aker  <brian@tangent.org>

	Refactor, boost direct use.

2010-09-13  Brian Aker  <brian@tangent.org>

	Remove usage of non-boost lock type.

2010-09-15  Brian Aker  <brian@tangent.org>

	Merge in Schrews, transaction message fix.

2010-09-13  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-09-13  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make sure that trx msg threshold is checked against Transaction message size; make sure that segment ids are not reset when they shouldn't be

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Migrate kernel options to using program_options.

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Fixed an error message.

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Updated embedded_innodb config test settings to match new options.

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Removed extra stat call. Thanks Andrew!

2010-09-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Remove extra stat on tmpdir which meant drizzled would not start if .temporary didn't exist (thus breaking drizzleslap build)

2010-09-15  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge monty's branch into this

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Fix the boolean flag issues.

2010-09-15  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew.

2010-09-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix logging_stats tests

2010-09-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix broke drizzledump option and tests

2010-09-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Rework the boolean options so that true-by-default options change to --disable-option.
	
	Also remove multitoken() from embedded_innodb.

2010-09-14  Monty Taylor  <mordred@inaugust.com>

	Turned on program_options for the kernel.
	
	------------- This line and the following will be ignored --------------
	
	removed:
	extra/my_print_defaults.cc
	tests/t/temp_table-master.opt
	modified:
	client/drizzleslap.cc
	drizzled/drizzled.cc
	drizzled/drizzled.h
	drizzled/main.cc
	drizzled/module/loader.cc
	drizzled/plugin.h
	extra/include.am
	libdrizzle/include.am
	plugin/function_dictionary/tests/t/functions-master.opt
	tests/r/drizzledump.result
	tests/t/drizzledump.test
	tests/test-run.pl
	unknown:
	mystrings/
	plugin/info_schema/
	pending merges:
	Monty Taylor 2010-09-14 [merge] Bool fixes from Andrew.
	Andrew Hutchings 2010-09-14 Fix boolean options in drizzled
	Monty Taylor 2010-09-14 [merge] Merged trunk.
	Monty Taylor 2010-09-13 Fixed a silly quote thing.
	Monty Taylor 2010-09-13 Added in exception handling around duplicate opt...
	Monty Taylor 2010-09-13 Fixed temp_Table test.
	Monty Taylor 2010-09-13 Fixed plugin loading.
	Monty Taylor 2010-09-13 Fixed tmpdir and secure-file-priv.
	Monty Taylor 2010-09-13 Fix max_heap_table_size setting issue.
	Monty Taylor 2010-09-13 Set all of the max_system_variables values expli...
	Monty Taylor 2010-09-13 Removed my_print_defaults. Guess what - it's no ...
	Monty Taylor 2010-09-13 Removed get_one_option.
	Monty Taylor 2010-09-13 We've gotten further. Now things sometimes work,...
	Monty Taylor 2010-09-13 [merge] Merged fix from Andrew.
	Andrew Hutchings 2010-09-13 Hacky quick fix for mtaylor's problem:
	Monty Taylor 2010-09-13 Next step.

2010-09-14  Monty Taylor  <mordred@inaugust.com>

	Bool fixes from Andrew.

2010-09-14  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix boolean options in drizzled

2010-09-14  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Fixed a silly quote thing.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Added in exception handling around duplicate options. Should fix for real.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Fixed temp_Table test.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Fixed plugin loading.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Fixed tmpdir and secure-file-priv.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Fix max_heap_table_size setting issue.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Set all of the max_system_variables values explicitly.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Removed my_print_defaults. Guess what - it's no longer relevant.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Removed get_one_option.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	We've gotten further. Now things sometimes work, but some things aren't
	being set properly.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Merged fix from Andrew.

2010-09-13  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Hacky quick fix for mtaylor's problem:
	
	The args check functions were called regardless of whether or not an arg was actually supplied.  This was setting most args, especially the parser/optimizer memory limits, to 0.

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Next step.

2010-09-14  lbieber  <lbieber@orisndriz08>

	Merge Monty - Start of the kernel merge for program_options work.

2010-09-12  Monty Taylor  <mordred@inaugust.com>

	Made printing of --help work via program_options from the core. Removed
	print-defaults.

2010-09-11  Monty Taylor  <mordred@inaugust.com>

	Changed signatures.

2010-09-11  Monty Taylor  <mordred@inaugust.com>

	Moved where we set errmsg_handler_hook.

2010-09-14  patrick crews  <gleebix@gmail.com>

	Updated translations

2010-09-13  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-12  Monty Taylor  <mordred@inaugust.com>

	Launchpad automatic translations update.

2010-09-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-09-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Patrick - Moved all engine-specific tests from the main suite and into their respective plugin directories

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Patrick - Moved all engine-specific tests from the main suite and into their respective plugin directories

2010-09-13  patrick crews  <gleebix@gmail.com>

	Fixed issues that were breaking make distcheck. IFDEF's were using PLUGIN_HEAP vs. PLUGIN MEMORY

2010-09-12  patrick crews  <gleebix@gmail.com>

	Moved engine-specific tests to their respective plugin directories.  Renamed plugin/heap -> plugin/memory due to issues with pandora build and the test suite with two names (engine+plugin = memory, dirname = heap)

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Brian - Adds random_number, random_string, and a counter table to DD

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Brian - Adds random_number, random_string, and a counter table to DD.

2010-09-13  Brian Aker  <brian@tangent.org>

	Fix typo

2010-09-12  Brian Aker  <brian@tangent.org>

	Style fix for headers.

2010-09-12  Brian Aker  <brian@tangent.org>

	Fix for systems which can not determine propper value.

2010-09-12  Brian Aker  <brian@tangent.org>

	Header fix.

2010-09-12  Brian Aker  <brian@tangent.org>

	Caught myself doing the wrong result in the file again.

2010-09-12  Brian Aker  <brian@tangent.org>

	Fixing another column result.

2010-09-12  lbieber  <lbieber@orisndriz08>

	Merge Brian - Adds random_number, random_string, and a counter table to DD.

2010-09-11  Brian Aker  <brian@tangent.org>

	Fix test cases around new DD.

2010-09-11  Brian Aker  <brian@tangent.org>

	Fix typo in include file.

2010-09-11  Brian Aker  <brian@tangent.org>

	Add two plugins to handle the string and math functions.

2010-09-11  Brian Aker  <brian@tangent.org>

	Change hash used for looking up native functions.

2010-09-10  Brian Aker  <brian@tangent.org>

	Shuffle native functions over to hash such that we have a specific container
	for them.

2010-09-10  Brian Aker  <brian@tangent.org>

	Adding in data dictionary table to list out functions.

2010-09-10  Brian Aker  <brian@tangent.org>

	This add a couple of utility table functions to be used with testing.

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Brian - Move over to use boost for the locks in table_share.

2010-09-13  lbieber  <lbieber@orisndriz08>

	Merge Brian - Move over to use boost for the locks in table_share.

2010-09-11  Brian Aker  <brian@tangent.org>

	Move over to use boost for the locks in table_share.

2010-09-11  Brian Aker  <brian@tangent.org>

	Modify close connection to use boost conditional instead of native.

2010-09-11  Brian Aker  <brian@tangent.org>

	Change alloc call.

2010-09-12  lbieber  <lbieber@orisndriz08>

	Merge Joe - fix bug 600032 - Rollback to savepoint not handled correctly in transaction log
	Merge Tim Martin - Adapted existing code documentation in decimal.cc into doxygen format

2010-09-12  lbieber  <lbieber@orisndriz08>

	Merge Joe - fix bug 600032 - Rollback to savepoint not handled correctly in transaction log

2010-09-11  Joseph Daly  <jdaly@rx7>

	fix spacing

2010-09-11  Joseph Daly  <jdaly@rx7>

	fix compiler error on some platforms

2010-09-11  Joseph Daly  <jdaly@rx7>

	fix compiler error hopefully

2010-09-11  Joseph Daly  <jdaly@rx7>

	fix to get tests working with release savepoint

2010-09-11  Joseph Daly  <jdaly@rx7>

	add test, and use shouldConstructMessages() rather then calling the singleton each time

2010-09-11  Joseph Daly  <jdaly@rx7>

	add cleanup code

2010-09-11  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-09-11  Joseph Daly  <jdaly@rx7>

	handle rollback to savepoint properly 600032

2010-09-12  lbieber  <lbieber@orisndriz08>

	Merge Tim Martin - Adapted existing code documentation in decimal.cc into doxygen format

2010-09-12  Tim Martin  <timm@macaque>

	Merge from trunk

2010-09-12  Tim Martin  <timm@macaque>

	Added doxygen header to decimal.cc

2010-09-12  Tim Martin  <timm@macaque>

	Doxygen commenting

2010-09-12  Tim Martin  <timm@macaque>

	Doxygen commenting

2010-09-11  lbieber  <lbieber@orisndriz03>

	Merge Monty - Adds initial skeleton for sphinx-based documentation. Will eventually hold man pages, developer docs and long-form documentation

2010-09-11  lbieber  <lbieber@orisndriz03>

	Merge Monty - Adds initial skeleton for sphinx-based documentation. Will eventually hold man pages, developer docs and long-form documentation

2010-08-29  Monty Taylor  <mordred@inaugust.com>

	Wrapped sphinx rules in HAVE_SPHINX

2010-08-29  Monty Taylor  <mordred@inaugust.com>

	Added sphinx to the build.

2010-08-27  Monty Taylor  <mordred@inaugust.com>

	Added sphinx infrastructure

2010-09-11  lbieber  <lbieber@orisndriz03>

	Merge Vijay - added utf 8 tamil test case suite and test case for creating a database in tamil
	Merge Brian - Small set of refactoring (includes one case of memset on a table object).

2010-09-11  lbieber  <lbieber@orisndriz03>

	Merge Vijay - added utf 8 tamil test case suite and test case for creating a database in tamil

2010-09-11  Vijay Samuel  <vijay@vijay>

	Merge added utf 8 tamil test case suite and test case for creating a database in tamil.

2010-09-11  lbieber  <lbieber@orisndriz03>

	Merge Brian - Small set of refactoring (includes one case of memset on a table object).

2010-09-10  Brian Aker  <brian@tangent.org>

	Fix where we were still calling memset() on a table object.

2010-09-10  Brian Aker  <brian@tangent.org>

	Remove dead memset call.

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Brian - cppcheck fixes and also modifies unique lookup such that we let the OS handle paging for unique checking (instead of trying to mimic it through using a self built IO_CACHE).
	Merge Andrew - fix test result for embedded_innodb 

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Brian - cppcheck fixes and also modifies unique lookup such that we let the OS handle paging for unique checking (instead of trying to mimic it through using a self built IO_CACHE).

2010-09-09  Brian Aker  <brian@tangent.org>

	cppcheck fix.

2010-09-09  Brian Aker  <brian@tangent.org>

	Localize increment

2010-09-09  Brian Aker  <brian@tangent.org>

	Force unique to just use memory and let the OS handle paging.

2010-09-09  Brian Aker  <brian@tangent.org>

	Remove malloc call in favor of using a vector in key usage in sql_insert
	(this makes the clean up a bit simpler, since we have scoped the
	allocation).

2010-09-09  Brian Aker  <brian@tangent.org>

	Remove table name from ha_open (we modified this a while ago to just use
	identifier)

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix test result for embedded_innodb 

2010-09-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fixed embedded innodb test case

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 629571 - Trim down some of the drizzle client auto-complete.
	Merge Andrew - fix bug 634374 - Fix SHOW FIELDS FROM so that it can identify VARBINARY and TEXT types

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 629571 - Trim down some of the drizzle client auto-complete.

2010-09-09  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Strip out usused keywords from drizzle client autocomplete

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 634374 - Fix SHOW FIELDS FROM so that it can identify VARBINARY and TEXT types

2010-09-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix test cases

2010-09-10  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Use collation in SHOW FIELDS FROM so that it can detect the difference beween TEXT and BLOB (and VARCHAR/VARBINARY)

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix bug 562349 - date and time functions corrupt blob data in pbxt engine

2010-09-10  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix bug 562349 - date and time functions corrupt blob data in pbxt engine

2010-09-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-09-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use of String::c_ptr() in temporal functions can corrupt PBXT row cache, so make sure temporaries are used.

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Brian - clean up Heap code

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Brian - clean up Heap code

2010-09-09  Brian Aker  <brian@tangent.org>

	Cleaned up name of calls around datachunk

2010-09-08  Brian Aker  <brian@tangent.org>

	Remove recbuf (not used in our design)

2010-09-08  Brian Aker  <brian@tangent.org>

	Clean up chunk space delete.

2010-09-08  Brian Aker  <brian@tangent.org>

	Remove columndef (special case to build columndef (which is no longer
	required).

2010-09-08  Brian Aker  <brian@tangent.org>

	Next pass through heap.

2010-09-08  Brian Aker  <brian@tangent.org>

	Remove another layer of dead code in heap.

2010-09-08  Brian Aker  <brian@tangent.org>

	Remove dead rb calls.

2010-09-08  Brian Aker  <brian@tangent.org>

	Run through a bunch of dead code.

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Vijay - fix bug 632589 - change boolean type command line options of embedded_innodb to be the same as other client options

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Lee - remove more unused error messages

2010-09-08  Lee Bieber  <lbieber@kalebral-2.local>

	remove unused error messages - 2nd pass

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Vijay - fix bug 632589 - change boolean type command line options of embedded_innodb to be the same as other client options

2010-09-08  Vijay Samuel  <vijay@vijay>

	Merge fix to standardize commandline boolean options for embedded_innodb

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Joe - Remove old write_bin_log_drop_table() function use GPB and transaction_services to do this

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Joe - Remove old write_bin_log_drop_table() function use GPB and transaction_services to do this

2010-08-30  Joseph Daly  <jdaly@rx7>

	remove write_bin_log_drop_table and use transaction_services

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 621603: Connections status variable off by one
	Merge Andrew - fix bug 621947: show processlist filldown
	Merge Andrew - fix bug 628284: --mysql option broken

2010-09-09  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 621603: Connections status variable off by one
	Merge Andrew - fix bug 621947: show processlist filldown
	Merge Andrew - fix bug 628284: --mysql option broken

2010-09-09  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix another wrong header, grr...

2010-09-08  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix table function header (I hate that my compiler didn't cry about this)

2010-09-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix tests

2010-09-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-01  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Add data_dictionary table for drizzle protocol status

2010-09-01  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Add drizzle protocol back to drizzle client (using --mysql=0)

2010-09-01  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Add a data_dictionary table for the MySQL protocol plugin

2010-08-21  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Add a proper connections counter.

2010-08-21  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Stop processist from filling state down in empty states by accepting NULL.

2010-08-21  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make processlist STATE and INFO nullable since we give them null states.  Stops filldown of erronous data

2010-09-08  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 619591 - needed to clean up embedded innodb test results
	Merge Lee - fix bug 628336 - Remove unused error messages

2010-09-08  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 619591 - needed to clean up embedded innodb test results

2010-09-08  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix embedded InnoDB tests

2010-09-08  lbieber  <lbieber@orisndriz03>

	Merge Lee - fix bug 628336 - Remove unused error messages

2010-09-07  Lee Bieber  <lbieber@kalebral-2.local>

	Merge with latest from trunk

2010-09-03  Lee Bieber  <lbieber@kalebral-2.local>

	Merge with latest from trunk

2010-09-02  Lee Bieber  <lbieber@kalebral-2.local>

	Merge with latest from trunk

2010-09-02  Lee Bieber  <lbieber@kalebral-2.local>

	next pass at removing unused error messages

2010-09-01  Lee Bieber  <lbieber@kalebral-2.local>

	next pass at removing unused error messages

2010-09-01  Lee Bieber  <lbieber@kalebral-2.local>

	another pass at removing unused error messages

2010-08-31  Lee Bieber  <lbieber@kalebral-2.local>

	merge with latest from trunk

2010-08-31  Lee Bieber  <lbieber@kalebral-2.local>

	first pass at removing unused error message

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 628419 - A double free was possible during a range query cleanup
	Merge Andrew - fix bug 550251 - If an error occurred during results fetch in drizzle client the result set was not freed correctly ending in segfault upon client end.
	Merge Andrew - fix bug 619591 - In SHOW CREATE TABLE type (INT, VARCHAR, etc...) is now uppercase and Collation is now shown for VARCHAR columns 

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 628419 - A double free was possible during a range query cleanup

2010-09-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Fix potential double free in range optimizer cleanup

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 550251 - If an error occurred during results fetch in drizzle client the result set was not freed correctly ending in segfault upon client end.

2010-09-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	An error whilst getting results instead of query meant results were not freed causing segfault on exit cleanup

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 619591 - In SHOW CREATE TABLE type (INT, VARCHAR, etc...) is now uppercase and Collation is now shown for VARCHAR columns 

2010-09-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-07  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Merge trunk into branch

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Also fix broken jp test cases

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Alter many test cases for the new SHOW CREATE TABLE output

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make SHOW CREATE TABLE type uppercase and always show collate

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - bug 597778 - Timestamp cannot reliably store leap seconds, so don't try. Leave that to datetime only
	Merge Andrew - bug 621862 - Add / clean-up error messages for unireg_abort
	Merge Andrew - bug 629563 - Drop the broken --mysql options and Change the --protocol option to accept 'mysql' or 'drizzle' ('mysql' currently default)

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - bug597778 - Timestamp cannot reliably store leap seconds, so don't try. Leave that to datetime only

2010-09-06  Andrew Hutchings  <andrew@linuxjedi.co.uk>

	Timestamp cannot reliably store leap seconds, so don't try.  Leave that to datetime only

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - bug 621862 - Add / clean-up error messages for unireg_abort

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make sure unireg_abort shows the reason for the fail.

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Andrew - 629563 - Drop the broken --mysql options and Change the --protocol option to accept 'mysql' or 'drizzle' ('mysql' currently default)

2010-09-03  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Remove the --mysql option and convert the --protocol option to do something similar.

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix bug 629360 - Valgrind warning in transaction log protobuf

2010-09-07  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix bug 629360 - Valgrind warning in transaction log protobuf

2010-09-07  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix uninitialized variable.

2010-09-03  lbieber  <lbieber@orisndriz03>

	Merge Andrew -  fix bugs 628364 and 629066 - Remove variables defaults from drizzled --help, clean up --print-defaults message

2010-09-03  lbieber  <lbieber@orisndriz03>

	Merge Andrew -  fix bugs 628364 and 629066 - Remove variables defaults from drizzled --help, clean up --print-defaults message

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make --print-defaults ack as old behaviour for the defaults list at the end of --help because this is still needed in drizzled for dtr.  Killing 2 birds with one stone.

2010-09-01  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Remove variables defaults from drizzled --help.  Cannot remove function completely as it is used by my_print_defaults which in-turn is used by dtr and startup scripts which we supply.

2010-09-02  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 627742 - Assertion failure from randgen test

2010-09-02  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 627742 - Assertion failure from randgen test

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix failing test case

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	trx_query can (correctly) be a null pointer.  So accept nulls there rather than assert.

2010-09-02  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 618295 - drizzled/message/schema_writer.cc results differ from native CREATE SCHEMA statements

2010-09-02  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 618295 - drizzled/message/schema_writer.cc results differ from native CREATE SCHEMA statements

2010-09-02  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix broken test cases

2010-08-31  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make schema_writer set the collation

2010-08-31  lbieber  <lbieber@orisndriz03>

	Merge Joe - fix bug 499596 - transaction_log plugin enable/disable sysvar does not work in call cases

2010-08-31  lbieber  <lbieber@orisndriz03>

	Merge Joe - fix bug 499596 - transaction_log plugin enable/disable sysvar does not work in call cases

2010-08-30  Joseph Daly  <jdaly@rx7>

	use a read only variable, and remove the test read only values are used in many places

2010-08-30  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-30  Joseph Daly  <jdaly@rx7>

	add a test to validate the ignoring of setting  transaction_log_enable on a running server

2010-08-29  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-28  Joseph Daly  <jdaly@rx7>

	dont toggle the enable/disable flag for the transaction log it does not do anything during runtime, and causes me to be confused, bug 499596

2010-08-31  Patrick Crews  <gleebix@gmail.com>

	Updated translations prior to tarball release

2010-08-31  Patrick Crews  <gleebix@gmail.com>

	Updated translations prior to tarball release

2010-08-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-19  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-18  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-30  lbieber  <lbieber@orisndriz03>

	Merge Patrick - fix bug 627112 - jp tests failing - collation info not expected in .result file

2010-08-30  lbieber  <lbieber@orisndriz03>

	Merge Patrick - fix bug 627112 - jp tests failing - collation info not expected in .result file

2010-08-30  Patrick Crews  <gleebix@gmail.com>

	Updated jp suite .result files to account for COLLATE info being shown in SHOW CREATE TABLE output

2010-08-30  Patrick Crews  <gleebix@gmail.com>

	Updated jp suite .result files to account for COLLATE info being in SHOW CREATE TABLE output

2010-08-30  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 625335 - Signal handler thread kills the server instead of main thread causing segfault

2010-08-30  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 625335 - Signal handler thread kills the server instead of main thread causing segfault

2010-08-30  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix valgrind warnings (plus make exit clean up properly)

2010-08-28  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Remove commented out line

2010-08-28  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make exit happen in main thread rather than signal handler thread thus avoiding a segfault due to a double kill of the signal handler thread

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Andrew - Lots of cleanups to the drizzle and drizzledump code

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Andrew - Lots of cleanups to the drizzle and drizzledump code

2010-08-28  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Further cleanups based on Monty's comments (also revert a couple of things)

2010-08-27  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	some string and options cleanups for drizzle and drizzledump

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Monty - fix bug 625027 - data_dictionary.index_type is off-by-one

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Monty - fix bug 625027 - data_dictionary.index_type is off-by-one

2010-08-26  Monty Taylor  <mordred@inaugust.com>

	Subtract one - and then remove the extra binary character. This will keep
	deb packaging from continuing to break.

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 616870 - Module pointer not removed from registry when plugin load fails
	Merge Andrew: fix bug 597905 - Bad permissions on DATADIR/.temporary causes Segmentation Fault

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Andrew - fix bug 616870 - Module pointer not removed from registry when plugin load fails

2010-08-12  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Remove module pointer from registry when module doesn't load to avoid a double-free on shutdown.

2010-08-29  lbieber  <lbieber@orisndriz03>

	Merge Andrew: fix bug 597905 - Bad permissions on DATADIR/.temporary causes Segmentation Fault

2010-08-27  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Removing test cases, have to wait until dtr2

2010-08-12  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Merge trunk into branch

2010-07-10  Andrew Hutchings  <Andrew.Hutchings@Sun.COM>

	Add test case (no result due to another problem)

2010-07-10  Andrew Hutchings  <Andrew.Hutchings@Sun.COM>

	1. Move message handler hook earier so that errors during init_commit_variables do not segfault
	2. Move set_user to straight after get_options
	3. Move fix_paths to straign after set_user

2010-08-28  lbieber  <lbieber@orisndriz03>

	Merge Lee - fix bug 624974 - second pass on changing error numbers to enum values
	Merge Shrews - fix bug 600795 - LOAD DATA INFILE INSERT not registered by the transaction log

2010-08-28  lbieber  <lbieber@orisndriz03>

	Merge Lee - fix bug 624974 - second pass on changing error numbers to enum values
	Merge Shrews - fix bug 600795 - LOAD DATA INFILE INSERT not registered by the transaction log

2010-08-28  lbieber  <lbieber@orisndriz03>

	Merge Lee - fix bug 624974 - second pass on changing error numbers to enum values

2010-08-27  Lee Bieber  <lbieber@kalebral-2.local>

	missed a few tests that needed updating with relacing error numbers with enum values

2010-08-28  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix bug 600795 - LOAD DATA INFILE INSERT not registered by the transaction log

2010-08-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk, resolve conflict with transaction_services.h

2010-08-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-27  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix to capture INSERTs from a LOAD DATA command in the replication stream.

2010-08-27  lbieber  <lbieber@orisndriz03>

	Merge Shrews - bug 599582
	Merge Lee - use enum values instead of error numbers in tests

2010-08-27  lbieber  <lbieber@orisndriz03>

	Merge Shrews - bug 599582
	Merge Lee - use enum values instead of error numbers in tests

2010-08-27  lbieber  <lbieber@orisndriz03>

	Merge Shrews - bug 599582

2010-08-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Correct comments regarding REPLACE logic.

2010-08-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-26  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Use the update record, not insert record, when record DELETE operations during REPLACE.

2010-08-27  lbieber  <lbieber@orisndriz03>

	Change tests to use enum values instead of error numbers

2010-08-26  Lee Bieber  <lbieber@kalebral-2.local>

	change tests to use enum values instead of error numbers

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Paul - fix bug 618758 - crash when creating a PBXT table

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Paul fix bug 618758 - crash when creating a PBXT table

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Paul fix bug 618758 - crash when creating a PBXT table

2010-08-26  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed bug #618758: SHOW CREATE TABLE of PBXT table crashes server

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Vijay - More opt file fixes

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Vijay - More opt file fixes

2010-08-26  lbieber  <lbieber@orisndriz03>

	Merge Vijay - More opt file fixes

2010-08-25  Vijay Samuel  <vijay@vijay>

	Merge fixes for .opt files of memcached_query_cache to comply with the new commandline option processing system

2010-08-25  lbieber  <lbieber@orisndriz03>

	Merge Patrick - add extra lines to gdbinit on OSX

2010-08-25  lbieber  <lbieber@orisndriz03>

	Merge Patrick - add extra lines to gdbinit on OSX

2010-08-25  lbieber  <lbieber@orisndriz03>

	Merge Patrick - add extra lines to gdbinit on OSX

2010-08-23  Patrick Crews  <gleebix@gmail.com>

	Bug#586464 - add extra lines to gdbinit on OSX.  Added a test + insertion of extra gdbinit lines to test-run.pl code

2010-08-25  lbieber  <lbieber@orisndriz03>

	Speed up a few tests by reducing innodb_lock_wait_timeout

2010-08-24  Patrick Crews  <gleebix@gmail.com>

	Pared down test run-times by dropping innodb_lock_wait_timeout to 2 sec vs. 50 sec for these test cases.  Significant improvement in runtimes seen.  May have to adjust value once it is in proper build environment

2010-08-23  Patrick Crews  <gleebix@gmail.com>

	Bug619946 - tune-ups for long-running tests.  Started with innodb-semi-consistent.test.  Got runtime down to 6 seconds, down from ~100 sec

2010-08-24  lbieber  <lbieber@orisndriz03>

	Add memcached query cache plugin

2010-08-24  lbieber  <lbieber@orisndriz03>

	Add memcached query cache plugin

2010-08-24  lbieber  <lbieber@orisndriz03>

	Add memcached query cache plugin

2010-08-19  Djellel E. Difallah  <ded@ubuntu>

	typedef of vector<plugin::QueryCache *> into QueryCaches

2010-08-16  Djellel E. Difallah  <ded@ubuntu>

	fix the header guards

2010-08-15  Djellel E. Difallah  <ded@ubuntu>

	Fixing memory leaks

2010-08-15  Djellel E. Difallah  <ded@ubuntu>

	vjsamuel's boost refactoring

2010-08-15  Vijay Samuel  <vijay@vijay>

	Merge re factored commandline for memcached_query_cache and fixes for improper path names in test cases

2010-08-14  Djellel E. Difallah  <ded@ubuntu>

	Added the Table Based Invalidation and its test suite

2010-08-12  Djellel E. Difallah  <ded@ubuntu>

	adding tests

2010-08-10  Djellel E. Difallah  <ded@ubuntu>

	trunk merge

2010-08-10  Djellel E. Difallah  <ded@ubuntu>

	trunk merge

2010-08-09  Monty Taylor  <mordred@inaugust.com>

	First stab at reworking memcached_servers.

2010-08-09  Djellel E. Difallah  <ded@ubuntu>

	plugin options

2010-08-03  Djellel E. Difallah  <ded@ubuntu>

	completed data sending

2010-08-02  Djellel E. Difallah  <ded@ubuntu>

	yet another attempts to send the results

2010-07-23  Djellel E. Difallah  <ded@ubuntu>

	data retrieval

2010-07-14  Djellel E. Difallah  <ded@ubuntu>

	removing PB generated files

2010-07-13  Djellel E. Difallah  <ded@ubuntu>

	retrieve data from the local cache

2010-07-05  Djellel E. Difallah  <ded@ubuntu>

	Added data dictionary view 'Query_cache_entries' to list current cached queries. Added a UDF print_query_cache_meta(key) to display a text representation of the metadata

2010-07-03  Djellel E. Difallah  <ded@ubuntu>

	Refactoring of the QC Plugin's interface methods, adding mutual exclusion mechanism between sessions to cache a query, Store Meta inoformation of all the tables and select fields of the query

2010-07-01  Djellel E. Difallah  <ded@ubuntu>

	Added the Query Cache Plugin for Memcached

2010-07-01  Djellel E. Difallah  <ded@ubuntu>

	Added hook points and the interface for the Query Cache plugin

2010-08-24  lbieber  <lbieber@orisndriz03>

	Merge Monty -  Removed a HASH in xa_resource_manager
	Merge Patrick -  Final update of embedded_innodb tests - fix for hudson build

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Monty -  Removed a HASH in xa_resource_manager
	Merge Patrick -  Final update of embedded_innodb tests - fix for hudson build

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Monty -  Removed a HASH in xa_resource_manager

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Removed a HASH in xa_resource_manager. It's not actually used, but I left it
	in case someone did actually want to implement RECOVER some day.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Renamed st_bookmark. Removed name_len.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Convert HASH in module/loader.cc to boost::unordered_map.

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Patrick -  Final update of embedded_innodb tests - fix for hudson build

2010-08-21  Patrick Crews  <gleebix@gmail.com>

	Final update of embedded_innodb tests - fix for hudson build

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Vijay - bug 621866 - Changed --transaction-log.sync-method to --transaction-log.flush-frequency
	Merge Lee - bug 622005 updateing test results that need to sorted by adding --sorted_result - 
	Merge Andrew - bug #617537 re-connect connectionID is wrong 
	Merge Andrew - bug #617534 incorrect error when reconnecting

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Vijay - bug 621866 - Changed --transaction-log.sync-method to --transaction-log.flush-frequency
	Merge Lee - bug 622005 updateing test results that need to sorted by adding --sorted_result - 
	Merge Andrew - bug #617537 re-connect connectionID is wrong 
	Merge Andrew - bug #617534 incorrect error when reconnecting

2010-08-23  lbieber  <lbieber@orisndriz03>

	Merge Vijay - bug 621866 - Changed --transaction-log.sync-method to --transaction-log.flush-frequency

2010-08-22  Vijay Samuel  <vijay@vijay>

	Merge changes to transaction_log. Changed --transaction-log.sync-method to --transaction-log.flush-frequency

2010-08-23  lbieber  <lbieber@orisndriz03>

	bug #617537 re-connect connectionID is wrong
	bug #617534 incorrect error when reconnecting

2010-08-21  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix "server gone away" in drizzle client.  After a connection is killed it can execute one query afterwards, which can give rubbish back.  Now check if we are killed after readCommand.

2010-08-21  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Pass the thread ID instead of the next available thread ID to the client.

2010-08-23  lbieber  <lbieber@orisndriz03>

	updateing test results that need to sorted by adding --sorted_result - bug 622005

2010-08-21  Lee Bieber  <lbieber@kalebral-2.local>

	For the feature request (https://blueprints.launchpad.net/drizzle/+spec/limit-maximum-sort-size) 
	that is requesting the ability to cap various buffers, we first tried setting the join buffer to 
	1 to see how that would affect the test results and expose test results that need to 
	sorted (by adding --sorted_result). 

2010-08-23  Monty Taylor  <mordred@inaugust.com>

	Blackhole fixes and fixes to .opt files.

2010-08-22  Monty Taylor  <mordred@inaugust.com>

	Fix alter table to blackhole

2010-08-20  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix blackhole engine alter table not renaming file correctly

2010-08-22  Monty Taylor  <mordred@inaugust.com>

	Merged option file changes from Vijay.

2010-08-22  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-21  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-20  Vijay Samuel  <vijay@vijay>

	Merge removed the drizzled/option.h include from client_priv.h and archive_reader.

2010-08-19  Vijay Samuel  <vijay@vijay>

	Merge modified .opt files for plugin test cases to comply with the new options processing system.

2010-08-19  Vijay Samuel  <vijay@vijay>

	Merge modified .opt file for test suite ./tests/t in order to comply with the new option processing system.

2010-08-21  Monty Taylor  <mordred@inaugust.com>

	Visibility, suppressions and bugfixes.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Suppress that annoying myisam valgrind warning.

2010-08-20  mordred  <mordred@orisndriz09>

	Added a valgrind suppression for the myisam keycache thing.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	One. More. Fix. To. Intltool. Gah.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	It would _REALLY_ help if I could get this right. For once.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Enable visibility settings for libdrizzle.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Rearranged how we set -fvisibility, allowing us to turn it on on a
	library-by-library basis even if we specify skip-visiblity as an argument to
	PANDORA_CANONICAL.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	add memory usage data_dictionary table.

2010-08-18  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-18  Joseph Daly  <jdaly@rx7>

	test fixes

2010-08-17  Joseph Daly  <jdaly@rx7>

	add memory usage

2010-08-16  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed crashing bug in optimizer.

2010-08-10  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Adding tests for Bug 615419

2010-08-10  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fix for Bug 615419
	Do collation setting in change_cond_ref_to_const, only when
	there is constant item associated. 
	(i.e value->clone_item() returns non-null)

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Remove btree heap index.

2010-08-19  Brian Aker  <brian@tangent.org>

	This removes the b-tree from heap (it currently crashes the server (both
	Drizzle and MySQL)).

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Rollup of small patches.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	If we get lucky, this will work on both fedora and centos.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged in osx fixes.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	On some platforms, the value is no instead of false. Why does it hate me?

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged from staging.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Rollup patch of a bunch of smaller patches.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed an error message.

2010-08-20  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix error to show storage engine not table name

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed bugs in two of the command line tools.

2010-08-20  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix bug #617510:
	Show real delimiter in messages

2010-08-19  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix for bug #620670:
	--help condition never met, merge with the missing options condition.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed in incorrect cast.

2010-08-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-19  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove incorrect casting of 8-byte numbers down to 4-bytes.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Moved coercibility into a plugin.

2010-08-18  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Move coercibility tests to plugin
	Move coercibility from other test cases into main coercibility test case
	Remove have_coercibility .inc

2010-08-18  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Add coercibility tests

2010-08-18  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Set string functions to use DERIVATION_SYSCONST.

2010-08-18  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Make coercibility a plugin which is not built/enabled by default

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Change strerror to strerror_r.

2010-08-17  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Fix errors in FreeBSD build

2010-08-12  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Migrate the rest of strerror to strerror_r

2010-08-12  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Merge in Hartmut's work

2010-07-17  Hartmut Holzgraefe  <hartmut@mysql.com>

	strerror() -> strerror_r() conversion started (bug #606478)

2010-07-16  Hartmut Holzgraefe  <hartmut@mysql.com>

	merge from upstream

2010-07-04  Hartmut Holzgraefe  <hartmut@mysql.com>

	merge from upstream

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed setting of thread-stack-size.

2010-08-16  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for Solaris thread stack size issue.

2010-08-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-14  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix namespace issue on thread stack global var

2010-08-13  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-12  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-12  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Make 0 thread_stack mean use the OS default

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fix doxygen config.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	More embedded_innodb test fixes.

2010-08-20  Patrick Crews  <gleebix@gmail.com>

	Further fixes to the embedded_innodb tests

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed embedded_innodb and ICC.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Test case fixes.

2010-08-20  Patrick Crews  <gleebix@gmail.com>

	Merge of test updates to embedded_innodb tests - needed as SHOW CREATE TABLE now includes COLLATE info

2010-08-20  Patrick Crews  <gleebix@gmail.com>

	Updates to embedded_innodb test results.  SHOW CREATE TABLE now includes COLLATE information, requiring the update

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed intel compiler issues.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Added libdrizzle to the tree.

2010-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the ICC missing header and the new config.h foo.

2010-08-19  Monty Taylor  <mordred@inaugust.com>

	Removed a duplicate entry.

2010-08-19  Monty Taylor  <mordred@inaugust.com>

	Added libdrizzle to the tree.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Killed the old libdrizzle unittests - they crash hades.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fixed the Centos libtool fail.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fit constants in on Sun Studio.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Reverted fix for #571579.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fixed unittesty stuff.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Ignore new crud.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Added missing file.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Merged libdrizzle directly into tree.

2010-08-19  Patrick Crews  <gleebix@gmail.com>

	Merge Monty's intltool fix

2010-08-19  Monty Taylor  <mordred@inaugust.com>

	Ok. FFS.

2010-08-19  Patrick Crews  <gleebix@gmail.com>

	Rollup patch - stewart's show create table patch + a couple of fixes

2010-08-19  Patrick Crews  <gleebix@gmail.com>

	Merge Monty to make intltool optional

2010-08-19  Monty Taylor  <mordred@inaugust.com>

	_actually_ make OSX work with no intltool. Sorry.

2010-08-19  Patrick Crews  <gleebix@gmail.com>

	Updated pbxt tests due to inclusion of COLLATE info in SHOW CREATE TABLE output now.  Only re-recorded .result files

2010-08-19  Brian Aker  <brian@tangent.org>

	Merging Stewart's show create table patch.

2010-08-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-17  Stewart Smith  <stewart@flamingspork.com>

	make innobase plugin not directly access the mysql_query_str for CREATE TABLE, and instead use the table protobuf message and statement_transform to get a SQL string to pass to innobase for parsing to get the foreign keys out of it.

2010-08-17  Stewart Smith  <stewart@flamingspork.com>

	fix naming of constraints to be more standards compliant and correct. the index_name part of it just doesn't exist in SQL-99

2010-08-16  Stewart Smith  <stewart@flamingspork.com>

	update innodb test for auto_increment behaviour

2010-08-16  Stewart Smith  <stewart@flamingspork.com>

	only display AUTO_INCREMENT value if explicitly set by user (and preserve across ALTER TABLE).

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	remove auto_increment in TableOptions in Table protobuf message. It was unused and confusing

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	when creating a CreateField from a Field, a auto_incremen column should not have a default value of 0 as that's not magic.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	link fix for libdrizzled_message

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	fix linking of drizzled/message lib and libcharset

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	fix drizzledump-max test result for having explicit COLLATE in SHOW CREATE TABLE

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-08-04  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	fix null_values transaction_log CREATE TABLE result

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	fix filesystem_engine test case results for CREATE TABLE out of proto

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	merge test fixes for DATE/DATETIME default

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	merge fix for default value of DATE in proto

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	fix type_datetime.result for explicit COLLATE in SHOW CREATE TABLE

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	update transaction_log/update.result to reflect correct CREATE TABLE statements. My code is correct, old statement_transform wasn't reproducing the CREATE TABLE statement correctly.

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	merge in table comment fix

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	fix show_check test result for explicit COLLATE in SHOW CREATE TABLE

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	fix archive_aio_posix test result for explicit COLLATE in SHOW CREATE TABLE

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	merge fix for RENAME TABLE for ARCHIVE

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	ARCHIVE test result for explicit COLLATE in SHOW CREATE TABLE

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	even more fixes due to SHOW CREATE TABLE now actually working

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	test result fixes for the dictionary suites: table names should be upper case as well as having explicit COLLATE in SHOW CREATE TABLE

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	blackhole create_max_fields test to have explicit COLLATE in SHOW CREATE TABLE

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	fix SHOW CREATE TABLE tests for explicit COLLATE in CREATE TABLE

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	fix SHOW CREATE TABLE tests for explicit COLLATE in CREATE TABLE

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	fix some more tests for explicit COLLATE in CREATE TABLE, including transaction_log whitespace changes

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	explicit COLLATE in CREATE TABLE test result fixes for innodb_mysql test

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	some CREATE TABLE fixes for transaction_log tests

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	fix some more tests for explicit COLLATE in CREATE TABLE

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	fix some tests for explicit COLLATE in CREATE TABLE

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	fix key.result for explicit COLLATE in CREATE TABLE

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	fix storing and manipulating foreign keys in the proto around ALTER TABLE, CREATE TABLE and ALTER TABLE ADD/DROP FOREIGN KEY. We also (mostly) emulate the naming of innodb foreign keys in the upper layer.

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	restore the foreign key names to SHOW CREATE TABLE in the innodb test result file.

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	separate out adding the foreign key to the table protobuf message from mysql_prepare_create_table and call a function to do it directly from the parser where we set up the foreign key structures

2010-07-26  Stewart Smith  <stewart@flamingspork.com>

	table_ident.h was missing a dependency on session.h for: ./drizzled/table_ident.h:53: error: ‘empty_c_string’ was not declared in this scope
	./drizzled/table_ident.h:55: error: ‘internal_table_name’ was not declared in this scope
	
	now fixed.

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	innodb.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	heap.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	func_system.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	func_misc.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	func_math.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	func_group.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	func_gconcat.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	foreign_key.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	drizzledump.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	default_collation.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	default.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	ctype_utf8.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	create_no_windows.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	create.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	constraint.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	comment_talbe.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	comment_index.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	comment_column.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	case.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	binary.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	bigint.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	auto_increment.result with explicit COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	alter_table.result: COLLATE and ENGINE in same line for SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	no newline before COLLATE in SHOW CREATE TABLE

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	alter_table test: COLLATE is now explicit in SHOW CREATE TABLE as table proto has no way to find out if it was an explicit option or not.

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	show_create_table_basic test: COLLATE is now explicit in SHOW CREATE TABLE as table proto has no way to find out if it was an explicit option or not.

2010-07-21  Stewart Smith  <stewart@flamingspork.com>

	revert patch that removse explicitly setting collation for talbe_function tables.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-12  Stewart Smith  <stewart@flamingspork.com>

	don't have internal innodb foreign key names in FOREIGN KEY clauses in innodb.result

2010-07-12  Stewart Smith  <stewart@flamingspork.com>

	fix spaces in CREATE TABLE ... FOREIGN KEY statement

2010-07-12  Stewart Smith  <stewart@flamingspork.com>

	foreign_key test result update: don't have innodb internal foreign key names in the result (now that we're using statement_transform for foreign key)

2010-07-12  Stewart Smith  <stewart@flamingspork.com>

	Merged store-foreign-key-in-table-proto into show-create-table-using-table-message.

2010-07-06  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into show-create-table-using-table-message.

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into show-create-table-using-table-message.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	correctly have auto_increment value in drizzledump test result

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	correctly have default COLLATE for table in SHOW CREATE TABLE result for default_collation test result.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	fix result of default test: varbinary defaults are now represented as hex in SHOW CREATE TABLE and the COLLATE for the table wasn't being shown.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	correct the create.result file to show the COLLATE clause at teh end of the SHOW CREATE TABLE output. Previously, this wasn't being displayed due to some kind of bug.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	table_function doesn't need to explicitly set collation for its tables as the default (utf8_general_ci) is exactly what we want.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into show-create-table-using-table-message.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	index comments in statement_transform

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	statement transform for create table: formatting of decimal default value doesn't matter

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	statement_transform for CREATE TABLE: only print DEFAULT NULL if default_null is actually set, not just if the proto has it.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	get USING (BTREE|HASH) index type syntax correct for statement_transform in CREATE TABLE.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	fix collation detection for BLOB/TEXT in statement_transform for CREATE TABLE. Also, the DEFAULT NULL for BLOB columns is implicit, so don't print it.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	fix a lot of quoting and escaping of things in SHOW CREATE TABLE in statement_transform

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into show-create-table-using-table-message.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	use length of create table string in appending to packet.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	fix table comment formatting in statement_transform to have SHOW CREATE work with a table comment

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	fix display of VARBINARY default values in SHOW CREATE TABLE. Always use printable characters by encoding in hex.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	add SHOW CREATE TABLE test for VARBINARY columns (especially with default values).

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into show-create-table-using-table-message.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into show-create-table-using-table-message.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	present DEFAULT and ON UPDATE correctly in statement_transform

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into show-create-table-using-table-message.

2010-06-29  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-06-29  Stewart Smith  <stewart@flamingspork.com>

	fix SHOW CREATE TABLE (statement_transform) for auto_increment, including the (now correct) auto_increment test result.

2010-06-29  Stewart Smith  <stewart@flamingspork.com>

	fix up AUTO_INCREMENT must be after NOT NULL in statement_transform

2010-06-29  Stewart Smith  <stewart@flamingspork.com>

	TIMESTAMP fields are default NOT NULL for some bonghits reason, so we get to have explicit NULLability.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	if a DOUBLE column has scale and precision, display them

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	NOT NULL comes after COLLATE in CREATE TABLE

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	fix the bonghits quoting rules in field CREATE TABLE definitions for quotes around the identifier, comment and default value.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	fix varchar/varbinary and blob/text for statement_transform of table definition

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	fix statement_transform for producing list of engine options

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	fix DEFAULT NULL and NOT NULL for statement_transform

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	Merged default-collation-in-table-message into show-create-table-using-table-message.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	statement_transform: ENGINE clause of CREATE TABLE doesn't have spaces around equals sign

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	statement_transform: only print index name iff it's not PRIMARY for a pkey. Also get indenting correct for index names.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	statement_transform for CREATE TABLE: field types are lower case.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	statement_transform for CREATE TABLE: fields are indented by 2 spaces

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	for store_create_info() (called in SHOW CREATE TABLE code path) call transformTableDefinitionToSql() in statement_transform lib instead of doing manual things on Table. This is the initial step in getting SHOW CREATE TABLE to be run from proto.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	add really simple SHOW CREATE TABLE test to help with migrating SHOW CREATE to use proto

2010-08-19  Brian Aker  <brian@tangent.org>

	Merge of signals, plus build fix for FreeBSD. Also contains memset/constructor patch.

2010-08-18  Brian Aker  <brian@tangent.org>

	Fix for additional build related stacktrace.

2010-08-18  Brian Aker  <brian@tangent.org>

	Remove call for dead stacktrace file in po.

2010-08-18  Brian Aker  <brian@tangent.org>

	Adding in optional shutdown function.

2010-08-18  Brian Aker  <brian@tangent.org>

	created function that can be used to simply crash the server.

2010-08-18  Brian Aker  <brian@tangent.org>

	Improved message reporting during a crash.

2010-08-18  Brian Aker  <brian@tangent.org>

	Remove the code surrounding stack trace.

2010-08-17  Brian Aker  <brian@tangent.org>

	Updating so that structures have constructor (removed memset calls).

2010-08-17  Brian Aker  <brian@tangent.org>

	Remove memset in records call on object.

2010-08-18  Brian Aker  <brian@tangent.org>

	Rollup merge for boost::mutex

2010-08-18  Brian Aker  <brian@tangent.org>

	Merge in fix for test result.

2010-08-18  Brian Aker  <brian@tangent.org>

	Test scoped ptr in the tree.

2010-08-18  Brian Aker  <brian@tangent.org>

	Merge mutex patch

2010-08-17  Brian Aker  <brian@tangent.org>

	Remove final recursive mutex.

2010-08-17  Monty Taylor  <mordred@inaugust.com>

	Fixed the list of files we ship in the tarballs.

2010-08-17  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.146

2010-08-17  Monty Taylor  <mordred@inaugust.com>

	Added files to the tarball that should be there. Removed some that shouldn't
	be.

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Updated test case results

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Fix of embedded_innodb test case - altered EXPLAIN output due to an optimizer bug fix

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Rollup patch - optimizer fixes, mutex removal, client cleanup, translations update

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Merge translations update

2010-08-16  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Merge Brian's recursive mutex removal tree

2010-08-17  Brian Aker  <brian@tangent.org>

	Remove recursive-mutex

2010-08-16  Brian Aker  <brian@tangent.org>

	Style on structure cleanup

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Merge Brian's client cleanup code

2010-08-16  Brian Aker  <brian@tangent.org>

	Merge in small fixes around drizzleimport.

2010-08-16  Brian Aker  <brian@tangent.org>

	Cleanup of import.

2010-08-16  Brian Aker  <brian@tangent.org>

	Small cleanup in mysql.cc

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Merge Prafulla's optimizer fixes + updated test cases

2010-08-17  Patrick Crews  <gleebix@gmail.com>

	Minor style edit

2010-08-15  Patrick Crews  <gleebix@gmail.com>

	Cleaned up optimizer.test a bit + updated .result file

2010-08-15  Patrick Crews  <gleebix@gmail.com>

	Reset flush_block_commit results so that the test will work as expected when make test is run.  Refer to Bug#618295 for more info

2010-08-15  Patrick Crews  <gleebix@gmail.com>

	Merge with trunk

2010-08-15  Patrick Crews  <gleebix@gmail.com>

	Fixed optimizer.test to clean up after a test case that wasn't dropping its tables

2010-08-09  Patrick Crews  <gleebix@gmail.com>

	Updated test results with changes due to optimizer bug fix.  EXPLAIN output now includes 'Using where' for several queries that didn't previously have this output

2010-08-08  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	In Sub-query print, Select_Lex::print
	session was not initialized, Fixed it by initializing session
	to current_session.
	Test now fails with un-resolved col reference (which looks expected)

2010-08-07  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Adding previously (accidentally) deleted code to the condition
	in simplify_join

2010-08-07  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fix for Bug 585644,585628
	
	There was problem in dependency flags setting in a table which is
	used to sort tables automatically in case of straght_join option.
	These dependency flags are set in simplify_join method. 
	For a case like (a join b) LEFT JOIN c, c was not getting set to
	depend on both a AND b, it was getting set only for either a or b, 
	as specified in original query.
	Fixed it properly. Both bug queries now works fine and
	also tested some subquery tests, all looks clean.

2010-08-06  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fixing build error due to re-arrangement of comments.

2010-08-06  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fix for Bug 586051
	
	1. test_if_ref method which checks whether predicate is already evaluated
	due to ref/eq_ref access or not was incorrectly removing a predicate 
	that was not implicitly evaluated due to ref access (due to presence of filesort ?)
	It was field=NULL predicate.
	Such predicate should be kept and execution engine will filter out rows
	correctly. Removal of such predicate led to returning of rows which had
	NULL for join/predicate columns.
	2. field COMP_OP NULL will always false for all fields except when COMP_OP
	is NULL-safe equality operator. Modified range optimizer to return zero
	row count in such cases.
	Query now does not even run. It returns zero result. As such Fix(1) is not
	required but we might hit that case in some other query (I have not tried it
	yet)
	3. Fixed Field::val_str to print "NULL" for literal NULL instead of "0". It
	added lot of confusion while debugging.

2010-08-17  Monty Taylor  <mordred@inaugust.com>

	Rollup merge.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed warning where return value of write() was not being checked.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Added new file to POTFILES.in.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Merged in staging merge. oops. /me wags finger at me.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Update drizzleslap to be more modern.

2010-08-16  Brian Aker  <brian@tangent.org>

	Update for test to run slap correctly via flags (for valgrind).

2010-08-15  Brian Aker  <brian@tangent.org>

	Remove someof the code around an option saving its option

2010-08-15  Brian Aker  <brian@tangent.org>

	Remove dead code.

2010-08-15  Brian Aker  <brian@tangent.org>

	Style cleanups.

2010-08-15  Brian Aker  <brian@tangent.org>

	REmove malloc() for vector.

2010-08-15  Brian Aker  <brian@tangent.org>

	Memory cleanup around threads.

2010-08-15  Brian Aker  <brian@tangent.org>

	New fix in drizzleslap.

2010-08-15  Brian Aker  <brian@tangent.org>

	Remove valgrind warning.

2010-08-15  Brian Aker  <brian@tangent.org>

	Merge in changes for allocation on concurrency

2010-08-15  Brian Aker  <brian@tangent.org>

	Remove global for size  around primary keys.

2010-08-15  Brian Aker  <brian@tangent.org>

	Move primary_keys to being a vector.

2010-08-15  Brian Aker  <brian@tangent.org>

	Further memory cleanup

2010-08-15  Brian Aker  <brian@tangent.org>

	Partial pass through the string in statement.

2010-08-15  Brian Aker  <brian@tangent.org>

	Minor cleanups in the slap code.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixes to auth_file.

2010-08-15  Vijay Samuel  <vijay@vijay>

	Merge precautionary fix for auth_file to prevent plugin from breaking when my_getopt is removed.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed for rabbitmq option processing.

2010-08-15  Vijay Samuel  <vijay@vijay>

	Merge precautionary fixes for rabbitmq to prevent plugin from breaking when my_getopt is removed.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fix logging_stats description.

2010-08-14  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-14  Joseph Daly  <jdaly@rx7>

	clarify comment string

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Change unauthed user message.

2010-08-13  LinuxJedi  <linuxjedi@linuxjedi-laptop>

	Change to a shorter unauthenticated user string to fit in the 16 char limit

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Add some tests for pbxt.

2010-08-12  Stewart Smith  <stewart@flamingspork.com>

	some basic tests for PBXT

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Made intltool optional.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Removed gnulib from POTFILES.in.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Removey file no need.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fix timegm issue on solaris.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Removed gnulib and the last usage of normal getopt.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Prefix indexes in Embedded InnoDB.

2010-08-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-12  Stewart Smith  <stewart@flamingspork.com>

	prefix index fix for previosu Table protobuf fix for compare_length()

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-06-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-limits into embedded-innodb-prefix-indexes.

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	support prefix indexes in embedded_innodb. Add a test and get things right for the different collations (utf8 or binary)

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed limit settings.

2010-08-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-06-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bugfixes into embedded-innodb-limits.

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	get limits close to reality with current libinnodb. these should all really be API calls.

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	put in the proper limits from the embedded_innodb docs on max indexes et al. Also, a small test.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Put in a trap check for win32.

2010-08-15  jobin  <jobin@jobin-laptop>

	removed config.h
	corrected the file permission

2010-08-12  jobin  <jobin@jobin-laptop>

	Support for cross platform compilation

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	boost::program_options for InnoDB.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Just a little bit more stuff.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Turned embedded_innodb back off. Need to clean valgrind first.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	It turns out anytime we call this it's fail.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Added a suppression for haildb.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed the check to also work with libinnodb.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Added a few valgrind suppressions for newer debian box.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed a valgrind error and some missed opt files.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed mac build error.

2010-08-16  Lee Bieber  <lbieber@kalebral-2.local>

	fix build failure on OSX

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Fixed some help text and defaults.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Merged in valgrind fixes.

2010-08-14  Monty Taylor  <mordred@inaugust.com>

	Update the plugin options for innodb and embedded innodb. Also find and use
	libhaildb if it's there.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	More valgrind.

2010-08-16  Monty Taylor  <mordred@inaugust.com>

	Merged in innodb changes. Fixed the buffer pool size default.

2010-08-13  Monty Taylor  <mordred@inaugust.com>

	Merged bugfix from Vijay.

2010-08-13  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-12  Vijay Samuel  <vijay@vijay>

	Merge fix for block_size corrections in client applications.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fixed valgrind error.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	More valgrind fixes.

2010-08-12  Monty Taylor  <mordred@inaugust.com>

	Fixed more valgrind issues.

2010-08-11  Monty Taylor  <mordred@inaugust.com>

	Free strdup'd option strings.

2010-08-11  Monty Taylor  <mordred@inaugust.com>

	Added parsing of size suffixes.

2010-08-11  Monty Taylor  <mordred@inaugust.com>

	Don't strdup the strings - we'll fix this to pass the values around properly
	later.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Fixed another help text.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Fixed help text to not suck on --skip options.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Added back #ifdef per stewart review.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Updated plugin list in spec file.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Update config_table_function test to not bork on version.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Changed flag to local so that plugin conflict will hit before symbol
	conflict.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Moved the lock-wait-timeout call to the test case where it was needed.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Merged in latest pandora-build.

2010-08-06  Monty Taylor  <mordred@inaugust.com>

	Fixed the link.

2010-08-06  Monty Taylor  <mordred@inaugust.com>

	Updated embedded_innodb to use haildb if it's there.

2010-08-06  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.145

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Merged in enabling of embedded innodb.

2010-08-04  Monty Taylor  <mordred@inaugust.com>

	Enable embedded_innodb to run with every test run. Will save on fail.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Merged in embedded_innodb changes.

2010-08-10  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge trunk and changed default value of lock_wait_timeout from 50 to 5. Thanks Stewart!

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge corrections for printing errors, removal of --innodb.lock-wait-timeout from test-run.pl

2010-08-07  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-07  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-06  Vijay Samuel  <vijay@vijay>

	Merge re factored command line for embedded innodb

2010-08-10  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-10  Vijay Samuel  <vijay@vijay>

	Merge Monty.

2010-08-10  Monty Taylor  <mordred@inaugust.com>

	Fix compile and test errors. Silly cut-and-paste errors...

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge refactored command line using for innodb

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-09  Vijay Samuel  <vijay@vijay>

	Merge re factored commandline for innodb

2010-07-30  Vijay Samuel  <vijay@vijay>

	Merge fix for lower case plugin names.

2010-08-13  Brian Aker  <brian@tangent.org>

	Merge Stewart.

2010-08-13  Stewart Smith  <stewart@flamingspork.com>

	style fixes

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-11  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	merge fix of alter table identifier generation

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-valgrind-fixes into embedded-innodb-temporary-tables.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-valgrind-fixes into embedded-innodb-temporary-tables.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	merge embedded-innodb test fixes

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-valgrind-fixes into embedded-innodb-temporary-tables.

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-valgrind-fixes into embedded-innodb-temporary-tables.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-valgrind-fixes into embedded-innodb-temporary-tables.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	make doRollbackToSavepoint use proper error conversion

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	make ::index_last() use proper error conversion

2010-06-21  Stewart Smith  <stewart@flamingspork.com>

	make ::index_first() use proper error conversion

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-row-format into embedded-innodb-temporary-tables.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix getShare()->primary_key to getPrimaryKey()

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-row-format into embedded-innodb-temporary-tables.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	update alter_table test for embedded_innodb

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-error-conversion into embedded-innodb-bugfixes.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-no-pkey-bug-fixes into embedded-innodb-sec-index-prev.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-extra-tests into embedded-innodb-no-pkey-bug-fixes.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-temporary-tables into embedded-innodb-extra-tests.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-row-format into embedded-innodb-temporary-tables.

2010-06-11  Stewart Smith  <stewart@flamingspork.com>

	fix ::rnd_pos and ::position (hence ref_length) for tables with implicit clustered/primary keys.

2010-06-10  Stewart Smith  <stewart@flamingspork.com>

	on error in doStartTableScan, reset the ib_cursor. This manifested itself as a warning in basic_select_for_update test on lock wait timeout that there was still an open cursor in the transaction being rolled back (it turns out that Cursor isn't closed before rollback).

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-sec-index-prev into embedded-innodb-select-for-update.

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	add test for index_prev for secondary indexes

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	fix index_prev for secondary indexes.

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	add test for embedded_innodb: basic index_read for secondary indexes for tables without a pkey (i.e. all SLQ visible indexes are secondary indexes)

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	for start index scan and index_read, we only do a clustered index scan if we don't have a hidden primary key (i.e. index 0 == clustered index). This was causing func_group test case crashes due to mismatching index.

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	comments test for embedded_innodb

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	bench_count_distinct test for embedded_innodb

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	alter_database test for embedded_innodb

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	count_distinct2 for embedded_innodb

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	count_distinct for embedded_innodb

2010-06-09  Stewart Smith  <stewart@flamingspork.com>

	support temporary tables in embedded_innodb - this means we can also run the alter_table test.

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-select-for-update into embedded-innodb-error-conversion.

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-select-for-update.

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	use proper error code conversion routine for embedded_innodb insert record

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	use proper error code conversion routine for embedded_innodb rename table

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	use proper error code conversion routine for parts of embedded_innodb

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-isolation-level into embedded-innodb-select-for-update.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	cleanup after basic_select_for_update embedded_innodb tests

2010-06-01  Stewart Smith  <stewart@flamingspork.com>

	fix up (and test) SELECT ... FOR UPDATE locking for embedded_innodb with pkey index

2010-06-01  Stewart Smith  <stewart@flamingspork.com>

	basic select for update test for embedded_innodb

2010-06-01  Stewart Smith  <stewart@flamingspork.com>

	support SELECT ... FOR UPDATE locking for embedded_innodb. Do stupid shit because of the complete lack of error checking for startTableScan in parts of the upper layer.

2010-08-13  Brian Aker  <brian@tangent.org>

	Style fixes/etc in heap.

2010-08-12  Brian Aker  <brian@tangent.org>

	Style updates.

2010-08-12  Brian Aker  <brian@tangent.org>

	Style cleanup.

2010-08-12  Brian Aker  <brian@tangent.org>

	cpp cleanup.

2010-08-12  Brian Aker  <brian@tangent.org>

	Remove dead code.

2010-08-12  Brian Aker  <brian@tangent.org>

	Switch to using vector.

2010-08-12  Brian Aker  <brian@tangent.org>

	std::string usage for name, remove strdup.

2010-08-12  Brian Aker  <brian@tangent.org>

	Remove intern_lock.

2010-08-13  Brian Aker  <brian@tangent.org>

	Merge MyISAM changes.

2010-08-13  Brian Aker  <brian@tangent.org>

	Remove myisam_data_pointer_siz

2010-08-12  Brian Aker  <brian@tangent.org>

	Replace pthread mutex with boost based one for myisam.

2010-08-12  Brian Aker  <brian@tangent.org>

	Upgrade to using the boost call.

2010-08-12  Brian Aker  <brian@tangent.org>

	Update lock interface.

2010-08-12  Brian Aker  <brian@tangent.org>

	MErge Joe

2010-08-12  Joseph Daly  <jdaly@rx7>

	remove LOCK_status

2010-08-12  Brian Aker  <brian@tangent.org>

	Merge for lp611379

2010-08-12  Stewart Smith  <stewart@flamingspork.com>

	fix query plan results fro bug lp611379

2010-08-12  Stewart Smith  <stewart@flamingspork.com>

	bug lp:611379 Equivalent queries with Impossible where return different results
	
	The following two equivalent queries return different results in maria 5.2 and 5.3 (and identical results in mysql 5.5.5) :
	
	SELECT SUM( DISTINCT table1 .`pk` ) FROM B table1 STRAIGHT_JOIN ( BB table2 JOIN CC ON table2 .`col_varchar_key` ) ON table2 .`pk` ;
	
	SELECT * FROM ( SELECT SUM( DISTINCT table1 .`pk` ) FROM B table1 STRAIGHT_JOIN ( BB table2 JOIN CC ON table2 .`col_varchar_key` ) ON table2 .`pk` );
	
	MariaDB returns 0 on the second query and NULL on the first, whereas MySQL returns NULL on both. In MariaDB, both EXPLAIN plans agree that "Impossible WHERE noticed after reading const tables"
	
	
	
	We have some slightly different output in drizzle:
	
	main.bug_lp611379 [ fail ]
	drizzletest: At line 9: query 'explain select * from (select sum(distinct t1.a) from t1,t2 where t1.a=t2.a)
	as t' failed: 1048: Column 'sum(distinct t1.a)' cannot be null
	
	but the fix gets us the correct query results, although with slightly different execution plans.
	
	
	
	This fix is directly ported from MariaDB.

2010-08-12  Brian Aker  <brian@tangent.org>

	Remove sync() call.

2010-08-11  Brian Aker  <brian@tangent.org>

	Remove sync() call (just temp tables).

2010-08-12  Brian Aker  <brian@tangent.org>

	Merge in removal of pthread dead wrappers.

2010-08-11  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-09  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-09  Joseph Daly  <jdaly@rx7>

	clean up pthread defines

2010-08-12  Brian Aker  <brian@tangent.org>

	MErge Monty, remove CSV from auto-build

2010-08-11  Monty Taylor  <mordred@inaugust.com>

	Turn off CSV by default.

2010-08-11  Brian Aker  <brian@gaz>

	Update heap (mostly C++).

2010-08-10  Brian Aker  <brian@gaz>

	Update for new over malloc.

2010-08-10  Brian Aker  <brian@gaz>

	REmove malloc for vectors.

2010-08-10  Brian Aker  <brian@gaz>

	Merge in malloc to new for Heap.

2010-08-10  Brian Aker  <brian@gaz>

	Encapsulate some of heap.

2010-08-09  Brian Aker  <brian@gaz>

	Encapsulate the internal share for HEAP.

2010-08-11  Brian Aker  <brian@gaz>

	No longer concurrent, no longer need these locks.

2010-08-11  Brian Aker  <brian@gaz>

	Remove additional lock around mmap.

2010-08-11  Brian Aker  <brian@gaz>

	More lock removal from myisam.

2010-08-10  Brian Aker  <brian@gaz>

	More encapsulation of the thread var.

2010-08-10  Brian Aker  <brian@gaz>

	Further remove thread dependency.

2010-08-10  Brian Aker  <brian@gaz>

	Remove dead caller.

2010-08-10  Brian Aker  <brian@gaz>

	Merge in Stewart's FK work

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	link fix for libdrizzled_message

2010-08-10  Stewart Smith  <stewart@flamingspork.com>

	fix linking of drizzled/message lib and libcharset

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-04  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	merge explicit collation

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged varchar-text-keylength-in-proto-as-characters-not-bytes into store-foreign-key-in-table-proto.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	use the ENUM in the table proto instead of duplicating it for Foreign key options and match option. A move in the direction of just having foreign keys in the proto

2010-07-12  Stewart Smith  <stewart@flamingspork.com>

	Add FOREIGN KEY constraints to the table proto. set them, add code in statement_transform for them, which means we now get foreign keys in the transaction_log. We don't go changing any existing code manipulating foreign key data structures and instead just create our own (minimal changes FTW).

2010-08-10  Brian Aker  <brian@gaz>

	Merge from staging.

2010-08-10  Brian Aker  <brian@gaz>

	Merge up Lee.

2010-08-10  lbieber  <lbieber@orisndriz03>

	Merge Stewart - fixes the sometimes problem seen in alter_table test for embedded_innodb

2010-08-10  Brian Aker  <brian@gaz>

	Remove keycache, for us? Doesn't do a think in benchmarks (it probably does
	for concurrent use... maybe).

2010-08-10  Brian Aker  <brian@gaz>

	Remaining keycache bits.

2010-08-10  Brian Aker  <brian@gaz>

	Shuffle out dead crap around keycache.

2010-08-10  Brian Aker  <brian@gaz>

	Remove outward sign of Key Cache

2010-08-10  lbieber  <lbieber@orisndriz03>

	Merge Stewart - fixes the sometimes problem seen in alter_table test for embedded_innodb

2010-08-09  Stewart Smith  <stewart@flamingspork.com>

	fix identifier generation in alter_table. fixes a failure in embedded_innodb

2010-08-10  lbieber  <lbieber@orisndriz03>

	Merge Joe -remove the increment wrapper calls in my_pthread.h

2010-08-10  lbieber  <lbieber@orisndriz03>

	Merge Joe - remove the increment wrapper calls in my_pthread.h

2010-08-10  lbieber  <lbieber@orisndriz03>

	remove the increment wrapper calls in my_pthread.h

2010-08-08  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-08  Joseph Daly  <jdaly@rx7>

	remove increment calls

2010-08-09  Brian Aker  <brian@gaz>

	Merge of Keycache gutting code. (this is a test).

2010-08-09  Brian Aker  <brian@gaz>

	Gut keycache.

2010-08-09  Brian Aker  <brian@gaz>

	REmove concurrency bits to keycache (further pushes the "one key cache per
	file rule"). Reduces the locks to the upper end of the system.

2010-08-09  Brian Aker  <brian@gaz>

	Move more of MyISAM out to MyISAM.

2010-08-09  Brian Aker  <brian@gaz>

	Use local key_Cache, global now goes away.

2010-08-08  Brian Aker  <brian@gaz>

	This places keycache directly into the table (ie it is now mapped 1=1).

2010-08-09  Brian Aker  <brian@gaz>

	Merge in Monty.

2010-08-09  Monty Taylor  <mordred@inaugust.com>

	Added using namespace std; to fix OSX build.

2010-08-09  Brian Aker  <brian@gaz>

	Merge in heap conversion, and case insensitive patch, and remove need for
	M_HASH in session.

2010-08-09  Brian Aker  <brian@gaz>

	Covnert session lock

2010-08-07  Brian Aker  <brian@gaz>

	Update for HEAP to convert its lock to boost.

2010-08-07  Brian Aker  <brian@gaz>

	Do a case insensitive search for path.

2010-08-07  Brian Aker  <brian@gaz>

	Remove the hash in session, for a boost based one.

2010-08-08  Brian Aker  <brian@gaz>

	Merge, includes encapsulation of LOCK_xid_cache, and some of the thr derived
	locks.

2010-08-07  Brian Aker  <brian@gaz>

	Encapsulate the key cache object in myisam.

2010-08-07  Brian Aker  <brian@gaz>

	LOCK_xid_cache now converted to boost.

2010-08-07  Brian Aker  <brian@gaz>

	More encapsulation of thr_lock

2010-08-07  Brian Aker  <brian@gaz>

	THR_LOCK_INFO::init() <-- encapsulation

2010-08-07  Brian Aker  <brian@gaz>

	Encapsulate more of the thr lock.

2010-08-07  Brian Aker  <brian@gaz>

	Move thread_var out to its own include file.

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Stewart - recent patch didn't have updated result files for embedded_innodb when the handling of default values was fixed in the table proto
	Merge Joe Daly - use boost::shared_mutex for locking

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Stewart - recent patch didn't have updated result files for embedded_innodb when the handling of default values was fixed in the table proto
	Merge Joe Daly - use boost::shared_mutex for locking

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Joe Daly - use boost::shared_mutex for locking

2010-08-06  Joseph Daly  <jdaly@rx7>

	formatting

2010-08-06  Joseph Daly  <jdaly@rx7>

	add line back that was merged out

2010-08-06  Joseph Daly  <jdaly@rx7>

	merge trunk

2010-08-04  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-08-03  Joe Daly  <skinny.moey@gmail.com>

	use boost for locking instead of pthread

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Stewart - recent patch didn't have updated result files for embedded_innodb when the handling of default values was fixed in the table proto

2010-08-06  Stewart Smith  <stewart@flamingspork.com>

	fix status_table_function and config_table_function results for embedded_innodb due to fix in table proto for table functions

2010-08-07  Brian Aker  <brian@gaz>

	Merge of Lee.

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix incorrect cast of unsigned to signed

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Brian - Convert LOCK_global_system_variables to boost

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge VJ changes for transaction log testing and Merge Stewart - valgrind fix for one of the emb
	edded_innodb parameters

2010-08-07  Brian Aker  <brian@gaz>

	Rollup of boost mutex, plus fix for unlock().

2010-08-07  Brian Aker  <brian@gaz>

	unlock() for lock call.

2010-08-07  lbieber  <lbieber@orisndriz03>

	Merge Brian - collection of changes needed for using boost

2010-08-07  Brian Aker  <brian@gaz>

	connection_attrib was not used.

2010-08-07  Brian Aker  <brian@gaz>

	LOCK_thread_count  -> boost.

2010-08-07  Brian Aker  <brian@gaz>

	LOCK_open to boost.

2010-08-06  Brian Aker  <brian@gaz>

	Convert LOCK_status to boost.

2010-08-06  Brian Aker  <brian@gaz>

	Convert COND_thread_count to boost.

2010-08-06  Brian Aker  <brian@gaz>

	Convert COND_server_end to boost.

2010-08-06  Brian Aker  <brian@gaz>

	Convert COND_refresh.

2010-08-06  Brian Aker  <brian@gaz>

	Convert LOCK_global_read_lock.

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix incorrect cast of unsigned to signed

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Shrews - fix incorrect cast of unsigned to signed

2010-08-06  David Shrewsbury  <shrewsbury.dave@gmail.com>

	fix incorrect cast of unsigned to signed

2010-08-06  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merge from trunk

2010-08-05  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix for bug 532481: fixes OS X crash by support thread_stack option

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Brian - Convert LOCK_global_system_variables to boost

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Brian - Convert LOCK_global_system_variables to boost

2010-08-06  Brian Aker  <brian@gaz>

	Convert LOCK_global_system_variables to boost.

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge VJ changes for transaction log testing and Merge Stewart - valgrind fix for one of the embedded_innodb parameters

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge Stewart - valgrind fix for one of the embedded_innodb parameters

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-row-format into embedded-innodb-valgrind-fixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-row-format into embedded-innodb-valgrind-fixes.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-row-format.

2010-08-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-04  Stewart Smith  <stewart@flamingspork.com>

	In config_file_format test, we were getting overlap in strncpy() call. Simply
	replace with memmove as this whole variable thing is complete ass anyway.
	
	==22817== Thread 17:
	==22817== Source and destination overlap in strncpy(0x984d8e8, 0x984d8e8, 100)
	==22817==    at 0x4C2998F: strncpy (mc_replace_strmem.c:339)
	==22817==    by 0x962F80C: innodb_file_format_name_update(drizzled::Session*, drizzled::drizzle_sys_var*, void*, void const*) (embedded_innodb_engine.cc:2799)
	==22817==    by 0x6D8C90: drizzled::sys_var_pluginvar::update(drizzled::Session*, drizzled::set_var*) (loader.cc:1344)
	==22817==    by 0x756726: drizzled::set_var::update(drizzled::Session*) (set_var.cc:1792)
	==22817==    by 0x7563B0: drizzled::sql_set_variables(drizzled::Session*, drizzled::List<drizzled::set_var_base>*) (set_var.cc:1728)
	==22817==    by 0x7DAE95: drizzled::statement::SetOption::execute() (set_option.cc:38)
	==22817==    by 0x7816EE: drizzled::mysql_execute_command(drizzled::Session*) (sql_parse.cc:478)
	==22817==    by 0x782457: drizzled::mysql_parse(drizzled::Session*, char const*, unsigned int) (sql_parse.cc:737)
	==22817==    by 0x781041: drizzled::dispatch_command(drizzled::enum_server_command, drizzled::Session*, char*, unsigned int) (sql_parse.cc:223)
	==22817==    by 0x745D60: drizzled::Session::executeStatement() (session.cc:648)
	==22817==    by 0x745640: drizzled::Session::run() (session.cc:505)
	==22817==    by 0xB2B8DED: MultiThreadScheduler::runSession(drizzled::Session*) (multi_thread.h:67)
	==22817==    by 0xB2B7BA1: session_thread (multi_thread.cc:43)
	==22817==    by 0x6A4A9C9: start_thread (pthread_create.c:300)
	==22817==    by 0x6D476FC: clone (clone.S:112)
	==22817== 

2010-08-06  lbieber  <lbieber@orisndriz03>

	Merge VJ changes for transaction log testing

2010-08-06  Vijay Samuel  <vijay@vijay>

	Merge trunk and thank you Monty!

2010-08-06  Vijay Samuel  <vijay@vijay>

	Merge fixes from Monty

2010-08-05  Monty Taylor  <mordred@inaugust.com>

	Fixed a silly little thing. We should report this upstream to boost, because it's stupid.

2010-08-06  Vijay Samuel  <vijay@vijay>

	Revert previous changes

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge "possible" fix for failures in CentOS, FreeBSD and Solaris

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge re factored command line for transaction_log

2010-08-05  Brian Aker  <brian@gaz>

	Merge Build (rollup)

2010-08-05  Brian Aker  <brian@gaz>

	Missing requirement

2010-08-05  Brian Aker  <brian@gaz>

	Remove unused mutex in TableShare.

2010-08-05  Brian Aker  <brian@gaz>

	Merge of PBXT fix for key write over, boost lock in Archive (test buid),
	small fix for lower_case removal in Schema identifier.

2010-08-05  Brian Aker  <brian@gaz>

	Merge in change such that the lock for share is now private (including methods).

2010-08-05  Brian Aker  <brian@gaz>

	REmove global update of share by PBXT (not thread safe).

2010-08-05  Brian Aker  <brian@gaz>

	Use boost for the main lock we use in schema creation/alteration.

2010-08-05  Brian Aker  <brian@gaz>

	Tiny cleanup in pass table_name where we no longer use it.

2010-08-05  Brian Aker  <brian@gaz>

	This fixes the lower casing of names from Schema even when we should not.

2010-08-05  Brian Aker  <brian@gaz>

	First pass around removing need for lower case version of DB in the
	identifier.

2010-08-05  Brian Aker  <brian@gaz>

	Optimize the string comparison a bit.

2010-08-05  Brian Aker  <brian@gaz>

	Rollup of Embedded, resolve_stack_dump, boost LIB in include, Archive refactoring.

2010-08-05  Brian Aker  <brian@gaz>

	Fixes for boost thread compile

2010-08-05  Lee Bieber  <lbieber@kalebral-2.local>

	Merge VJ - refactored command line for tests/resolve_stack_dump

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge refactored command line for tests/resolve_stack_dump`

2010-08-05  Lee Bieber  <lbieber@kalebral-2.local>

	merge Stewart - support ROW_FORMAT for embedded_innodb

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-row-format.

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-row-format.

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-row-format.

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-drizzleslap-test into embedded-innodb-row-format.

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	support ROW_FORMAT for embedded_innodb. test both types of operation where DYNAMIC=COMPACT when runnning with antelope. it's all fail really... but anyway, the parsing works.

2010-08-05  Lee Bieber  <lbieber@kalebral-2.local>

	Merge Stewart - make the compare_length() of index parts of VARCHAR and BLOB (i.e. those with charsets) be a length in characters instead of bytes

2010-08-04  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-08-04  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600635-table-proto-default-null-false into varchar-text-keylength-in-proto-as-characters-not-bytes.

2010-07-06  Stewart Smith  <stewart@flamingspork.com>

	make the compare_length() of index parts of VARCHAR and BLOB (i.e. those with charsets) be a length in characters instead of bytes. This makes the logic converting a table proto back into a CREATE TABLE statement remotely sane. This does mean that if we increase the number of bytes utf8_general_ci uses, engines may have issues with their on disk formats (if they're not too smart)

2010-08-05  Lee Bieber  <lbieber@kalebral-2.local>

	Merge Brian - Remove waitcondition interface in Share, and some other small cleanups in
	archive

2010-08-05  Brian Aker  <brian@gaz>

	Remove waitcondition interface in Share, and some other small cleanups in
	archive.

2010-08-05  Brian Aker  <brian@gaz>

	Encapsulate the mutex in Archive.

2010-08-05  Brian Aker  <brian@gaz>

	Fix possible issue with case.

2010-08-05  Brian Aker  <brian@gaz>

	Encapsulate global lock.

2010-08-05  Brian Aker  <brian@gaz>

	Small style fix.

2010-08-05  Brian Aker  <brian@gaz>

	REmove the buffer, and rename lock for privacy

2010-08-05  Brian Aker  <brian@gaz>

	Slip to  vector for record buffer.

2010-08-04  Brian Aker  <brian@gaz>

	Found a bug in the destruction of a share (wrong mutex was being deleted).

2010-08-04  Brian Aker  <brian@gaz>

	Remove wait condition.

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Brian - custom lock encapsulation, and myisam lock removel code

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Stewart's branch which now runs all the drizzleslap tests for embedded innodb and Monty's branch which has VJ's branches merged up without the POTFILES.in changes

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Brian - custom lock encapsulation, and myisam lock removel code

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Brian - custom lock encapsulation, and myisam lock removel code

2010-08-04  Brian Aker  <brian@gaz>

	Merge in custom lock encapsulation, and myisam lock removel code.

2010-08-04  Brian Aker  <brian@gaz>

	This removes custom myisam lock code from the kernel (and removes the
	callers from MyISAM since we no longer use it as a concurrent engine).

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Stewart's branch which now runs all the drizzleslap tests for embedded innodb and Merge Monty's branch which has VJ's branches merged up without the POTFILES.in changes

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Stewart's branch which now runs all the drizzleslap tests for embedded innodb.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	fix type_timestamp test for embedded_innodb now that CURRENT_TIMESTAMP is used instead of NOW()

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	merge staging: where the case insensitive fix is.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	table function for innodb_status in embedded_innodb slightly changed definition... assuming it's something in the kernel part of code.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb type_float result for TRUE/FALSE to YES/NO

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb type_timestamp result for TRUE/FALSE to YES/NO

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb type_blob result for TRUE/FALSE to YES/NO

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-18  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-16  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-15  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-07  Stewart Smith  <stewart@flamingspork.com>

	include full drizzleslap test for embedded_innodb.

2010-08-04  lbieber  <lbieber@orisndriz03>

	Merge Monty's branch which has VJ's branches merged up without the POTFILES.in changes.

2010-08-04  Monty Taylor  <mordred@inaugust.com>

	Syslog Module Program Options.

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge re factored commandline for syslog

2010-08-04  Monty Taylor  <mordred@inaugust.com>

	Config file processing system for archive_reader.

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge configuration file processing system for archive_reader

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	logging status program_options

2010-08-04  Vijay Samuel  <vijay@vijay>

	Merge trunk and fixes for unwanted debug statements

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merged removed unwanted cout statements

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge changes

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge fixes.

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline and modified test cases for logging_stats

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Pool of Threads program_options.

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge changes

2010-08-01  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge re factored command line for pool_of_threads

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Fixed a typing issue.

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Multi-thread program_optoins.

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-07-18  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline for multi_thread using boost::program_options

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Memcached_stats program_options.

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge changes

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge Trunk

2010-07-18  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline for memcached_stats using boost::program_options

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	MyISAM program_options.

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge changes

2010-08-02  Vijay Samuel  <vijay@vijay>

	Merge changes

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge fix for lower case plugin names.

2010-07-23  Monty Taylor  <mordred@inaugust.com>

	Lowercase plugin name prefix.

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge refactored command line for myisam

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Merged rabbitmq program options.

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-03  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-08-02  Vijay Samuel  <vijay@vijay>

	merge changes

2010-08-01  Vijay Samuel  <vijay@vijay>

	Merge refactored command line for rabbitmq

2010-08-03  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-08-03  Brian Aker  <brian@gaz>

	Merge Stewart

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	fix up test cases post merge

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged bug600088-multibyte-comments-in-show-create into bug600635-table-proto-default-null-false.

2010-07-02  Stewart Smith  <stewart@flamingspork.com>

	in the table proto, having default_null set to false explicitly (instead of just having it as a default) had a different behaviour than if it was not set and defaulting to NULL. This meant that you'd get empty defaults instead of no default. This only showed up in table_function tables.

2010-08-03  Brian Aker  <brian@gaz>

	Merge Stewart

2010-08-03  Stewart Smith  <stewart@flamingspork.com>

	remove the unused HANDLER_BUFFER struct, typedef and members that were unused

2010-08-03  Brian Aker  <brian@gaz>

	Removes LOCK_system_variables_hash, one goto, drops internall new for std
	new (so possible performance regression), fixes bug where Session was not
	unlocked correctly.

2010-08-03  Brian Aker  <brian@gaz>

	REmove unused LOCK_system_variables_hash

2010-08-03  Brian Aker  <brian@gaz>

	Session is expecting to be able to release the lock on Session... except we
	hadn't locked it.

2010-08-03  Brian Aker  <brian@gaz>

	Remove goto within locking code.

2010-08-02  Brian Aker  <brian@gaz>

	Remove call for using special new for a cursor.

2010-08-03  Brian Aker  <brian@gaz>

	Merge Monty/Brian (intltool optional,  Tabe Fucntions do case insensitive
	comparisons)

2010-08-03  Brian Aker  <brian@gaz>

	Do comparison via non-case.

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Merge Monty's update to make intltool optional

2010-08-03  Monty Taylor  <mordred@inaugust.com>

	Made existence of intltool and gettext optional.

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Rollup patch of Stewart, Monty, and Patrick - various changes

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Merge updated translations

2010-07-31  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-27  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Merge Monty's intltool warning fix

2010-08-02  Monty Taylor  <mordred@inaugust.com>

	Removed inltool-update string warnings.

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Merge Patrick's updates for test files using data_dictionary queries

2010-08-02  Patrick Crews  <gleebix@gmail.com>

	Updated include files for the test suite that were using TRUE/FALSE vs. YES/NO for data_dictionary queries.  Was causing some tests to be skipped unneccesarily

2010-08-03  Patrick Crews  <gleebix@gmail.com>

	Merge Stewart's multibyte comment in SHOW CREATE TABLE fix

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-08-02  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged use-CURRENT_TIMESTAMP-in-proto into bug600088-multibyte-comments-in-show-create.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	fix multibyte comments in SHOW CREATE TABLE. Was a simple off-by-one bug.

2010-07-01  Stewart Smith  <stewart@flamingspork.com>

	add test for bug600088: multibyte comments not shown correctly in SHOW CREATE TABLE 

2010-08-02  lbieber  <lbieber@orisndriz03>

	From Monty - Removed our wrappers around unordered_set and unordered_map. Since we're requiring boost at this point, there is really no point

2010-08-02  lbieber  <lbieber@orisndriz03>

	From Monty - Removed our wrappers around unordered_set and unordered_map. Since we're requiring boost at this point, there is really no point

2010-08-02  lbieber  <lbieber@orisndriz03>

	From Monty - Removed our wrappers around unordered_set and unordered_map. Since we're requiring boost at this point, there is really no point

2010-07-31  Monty Taylor  <mordred@inaugust.com>

	Removed our unordered wrappers. We use Boost now.

2010-08-01  Brian Aker  <brian@gaz>

	Merge Stwart

2010-07-30  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into use-CURRENT_TIMESTAMP-in-proto.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-timestamp-options-from-table-proto into table-proto-default-update-expression.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-07-29  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into use-CURRENT_TIMESTAMP-in-proto.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-timestamp-options-from-table-proto into table-proto-default-update-expression.

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into use-CURRENT_TIMESTAMP-in-proto.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-timestamp-options-from-table-proto into table-proto-default-update-expression.

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into use-CURRENT_TIMESTAMP-in-proto.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-timestamp-options-from-table-proto into table-proto-default-update-expression.

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged table-proto-default-update-expression into use-CURRENT_TIMESTAMP-in-proto.

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-timestamp-options-from-table-proto into table-proto-default-update-expression.

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-unused-row-type-in-table-message into remove-unused-timestamp-options-from-table-proto.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	update schema_dictionary.show result to show CURRENT_TIMESTAMP instead of NOW() as this is waht we have in the proto now. This is back to MySQL style behaviour (not that it matters at all)

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	update type_timestamp result to show CURRENT_TIMESTAMP instead of NOW() as this is waht we have in the proto now. This is back to MySQL style behaviour (not that it matters at all)

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	store CURRENT_TIMESTAMP instead of NOW() in the table proto as this is what we end up displaying in SHOW CREATE so more accurately represents what's going on. Although it could go either way (it totally does not matter), this paves the way for SHOW CREATE TABLE running through statement_transform.

2010-06-30  Stewart Smith  <stewart@flamingspork.com>

	use default_expression and update_expression instead of default_value and update_value in the table proto for NOW()

2010-06-29  Stewart Smith  <stewart@flamingspork.com>

	TimestampFieldOptions in the table proto contains nothing that we use. remove it.

2010-08-01  Brian Aker  <brian@gaz>

	Merge Brian

2010-07-31  Brian Aker  <brian@gaz>

	Remve usleep for nanosleep.

2010-07-30  Brian Aker  <brian@gaz>

	First pass in encapsulating row

2010-07-29  Brian Aker  <brian@gaz>

	This replaces the allocation we do for insert/update.

2010-07-29  Brian Aker  <brian@gaz>

	This change the style on a few TODO, and fixes an error path to correctly
	unallocate a Table.

2010-07-29  Brian Aker  <brian@gaz>

	Fix init of mem_root in Share.

2010-07-29  Brian Aker  <brian@gaz>

	Tiny little cleanup around Table.

2010-07-29  Brian Aker  <brian@gaz>

	Updates JP tests for clean IS. This also removes table name from Field so
	that now we just use the table object.

2010-07-31  Monty Taylor  <mordred@inaugust.com>

	Build fix rollup.

2010-07-31  Monty Taylor  <mordred@inaugust.com>

	updated to latest pandora-build - contains win32 fixes and the fix to the
	boost::thread check.

2010-07-31  Monty Taylor  <mordred@inaugust.com>

	Fixed the solaris intltool issue.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in filesystem_engine, transaction log null fix, client program config
	option patch.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in help text section heading change.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Fixed a solaris build error.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in local client config lookup paths from vijay. Thanks.

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge Trunk

2010-07-31  Vijay Samuel  <vijay@vijay>

	Merge new user config file processing system.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged null fix for transaction log.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged filesystem engine.

2010-07-30  Zimin  <ziminq@gmail.com>

	wrap transparentfile in scoped_ptr

2010-07-30  Zimin  <ziminq@gmail.com>

	change engine name in tests

2010-07-30  Zimin  <ziminq@gmail.com>

	modify macros to be in line with the change of the filesystem directory name

2010-07-30  Zimin  <ziminq@gmail.com>

	rename filesystem to filesystem_engine to make it less confusing to users per Stewart's review.

2010-07-29  Zimin  <ziminq@gmail.com>

	wrap transparentfile in scoped_ptr

2010-07-29  Zimin  <ziminq@gmail.com>

	add pthread_mutex_destroy to share->mutex

2010-07-27  Zimin  <ziminq@gmail.com>

	add escaped_by option to filesystem storage engine.

2010-07-27  Zimin  <ziminq@gmail.com>

	use RAII techniques to remove several pthread_mutex_unlock() statement.

2010-07-26  Zimin  <ziminq@gmail.com>

	merge with trunk

2010-07-15  Zimin  <ziminq@gmail.com>

	remove table lock, add FilesystemLock to this storage engine

2010-07-15  Zimin  <ziminq@gmail.com>

	fix missing xread

2010-07-15  Zimin  <ziminq@gmail.com>

	remove xread and xclose, but change xwrite to write_in_all.
	
	write_in_all is useful, and it's not using some mis-understanding names.

2010-07-14  Zimin  <ziminq@gmail.com>

	add test suite for omitted fields

2010-07-13  Zimin  <ziminq@gmail.com>

	merge trunk

2010-07-13  Zimin  <ziminq@gmail.com>

	add support for reading '/proc/cpuinfo', it's a enhanced support for reading /proc/meminfo. it has multiple sections.

2010-07-11  Zimin  <ziminq@gmail.com>

	merge trunk

2010-07-11  Zimin  <ziminq@gmail.com>

	add support for files such as /proc/meminfo, test cases included.

2010-07-11  Zimin  <ziminq@gmail.com>

	make FormatInfo refactoring work ok.

2010-07-11  ziminq  <ziminq@gmail.com>

	formatinfo refactored

2010-07-11  Zimin  <ziminq@gmail.com>

	extract and make options as FormatInfo

2010-07-11  Zimin  <ziminq@gmail.com>

	parse /proc/meminfo (WIP)

2010-07-10  Zimin  <ziminq@gmail.com>

	merge trunk

2010-07-07  Zimin  <ziminq@gmail.com>

	merge trunk

2010-07-04  Zimin  <ziminq@gmail.com>

	fix copyright style problem

2010-07-04  Zimin  <ziminq@gmail.com>

	fix style problem

2010-07-04  Zimin  <ziminq@gmail.com>

	add const to SchemaIdentifier

2010-07-04  Zimin  <ziminq@gmail.com>

	merge trunk

2010-07-04  Zimin  <ziminq@gmail.com>

	use x instead of i in for loop

2010-06-30  Zimin  <ziminq@gmail.com>

	remove internal::my_read to use xread instead

2010-06-30  Zimin  <ziminq@gmail.com>

	use xclose instead of close

2010-06-30  Zimin  <ziminq@gmail.com>

	remove one header file, it's not used anymore

2010-06-30  Zimin  <ziminq@gmail.com>

	extract write and close code into another file

2010-06-30  Zimin  <ziminq@gmail.com>

	change name

2010-06-29  Zimin  <ziminq@gmail.com>

	remove filesystem.result, it's not used anymore.

2010-06-29  Zimin  <ziminq@gmail.com>

	remove filesystem.result, it's obseleted.

2010-06-29  Zimin  <ziminq@gmail.com>

	hacks to let the test case know of the files' location

2010-06-29  Zimin  <ziminq@gmail.com>

	lint don't like using namespace in headers, remove it.

2010-06-28  Zimin  <ziminq@gmail.com>

	rename getAllFields to recordToString

2010-06-28  Zimin  <ziminq@gmail.com>

	change separator_mode to enum

2010-06-28  Zimin  <ziminq@gmail.com>

	lazy evaluate the file existence in doCreateTable instead of validateCreateTableOption

2010-06-28  Zimin  <ziminq@gmail.com>

	check return value of write(2) and close(2) in doInsertUpdate.

2010-06-28  Zimin  <ziminq@gmail.com>

	remove .update file.
	
	the next line (::open) can truncate the file to zero length, if it exists.
	but this unlink(2) here ensures the file is deleted. not bad, at least.

2010-06-28  Zimin  <ziminq@gmail.com>

	move pthread_mutex_init to the constructor of FilesystemEngine

2010-06-28  Zimin  <ziminq@gmail.com>

	don't use functions in internal namespace

2010-06-28  Zimin  <ziminq@gmail.com>

	enhance ::close

2010-06-28  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-23  Zimin  <ziminq@gmail.com>

	change ::open according to trunk

2010-06-23  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-22  Zimin  <ziminq@gmail.com>

	remove ha_statistics_increment for write/update/delete according to Stewart's new patch in.

2010-06-22  Zimin  <ziminq@gmail.com>

	add const to TableIdentifier per trunk

2010-06-22  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-22  Zimin  <ziminq@gmail.com>

	fix two session trying to update at the same time.
	do not use SKIP_STORE_LOCK and add re-open if the file is renamed.

2010-06-18  Zimin  <ziminq@gmail.com>

	remove cerr

2010-06-18  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-18  Zimin  <ziminq@gmail.com>

	add multiple update test case

2010-06-18  Zimin  <ziminq@gmail.com>

	some name clashes, fix it.

2010-06-18  Zimin  <ziminq@gmail.com>

	add test case 'basic update' for filesystem storage engine

2010-06-18  Zimin  <ziminq@gmail.com>

	add basic delete for filesystem storage engine

2010-06-18  Zimin  <ziminq@gmail.com>

	add test case for basic insert

2010-06-16  Zimin  <ziminq@gmail.com>

	move real_file_name, row/col_separator to table share

2010-06-16  Zimin  <ziminq@gmail.com>

	add mutex for share and remove update_file_length

2010-06-15  Zimin  <ziminq@gmail.com>

	add different separator mode to filesystem storage engine

2010-06-15  Zimin  <ziminq@gmail.com>

	remove debug message

2010-06-14  Zimin  <ziminq@gmail.com>

	add rnd_pos test case and some fix in filesystem to make it work.

2010-06-14  Zimin  <ziminq@gmail.com>

	remove drizzled::String where necessary

2010-06-14  Zimin  <ziminq@gmail.com>

	refactor getTableDefinition

2010-06-14  Zimin  <ziminq@gmail.com>

	add rename support

2010-06-14  Zimin  <ziminq@gmail.com>

	add select short line, some fields may be NULL

2010-06-14  Zimin  <ziminq@gmail.com>

	remove filesystem.test, make it into more units.

2010-06-14  Zimin  <ziminq@gmail.com>

	add select with long line test case

2010-06-14  Zimin  <ziminq@gmail.com>

	add more row separators to test skip blank line case

2010-06-14  Zimin  <ziminq@gmail.com>

	make skip line ok

2010-06-14  Zimin  <ziminq@gmail.com>

	fix select skip blank line result error

2010-06-14  Zimin  <ziminq@gmail.com>

	fix end-of-line error in testing.

2010-06-14  Zimin  <ziminq@gmail.com>

	fix the right data file

2010-06-14  Zimin  <ziminq@gmail.com>

	correct select big file test case

2010-06-14  Zimin  <ziminq@gmail.com>

	add correct result for basic select

2010-06-14  Zimin  <ziminq@gmail.com>

	fix wrong test file names.

2010-06-14  Zimin  <ziminq@gmail.com>

	add select big file test case

2010-06-14  Zimin  <ziminq@gmail.com>

	add test case basic select

2010-06-14  Zimin  <ziminq@gmail.com>

	add test case for select skip blank line

2010-06-14  Zimin  <ziminq@gmail.com>

	add test case select with separators to test col/row separators

2010-06-14  Zimin  <ziminq@gmail.com>

	re organize test cases, remove some stuff

2010-06-14  Zimin  <ziminq@gmail.com>

	add basic create table test suite for filesystem storage engine

2010-06-14  Zimin  <ziminq@gmail.com>

	add more check on validateCreateTableOption()

2010-06-14  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-11  Zimin  <ziminq@gmail.com>

	add free_share()

2010-06-11  Zimin  <ziminq@gmail.com>

	fix move_field_offset error

2010-06-10  Zimin  <ziminq@gmail.com>

	add rnd_pos and position code and some refactoring

2010-06-10  Zimin  <ziminq@gmail.com>

	add info()

2010-06-10  Zimin  <ziminq@gmail.com>

	as now row/col separator is not null at all times, we can get rid of this stuff.

2010-06-10  Zimin  <ziminq@gmail.com>

	add tina_set like chains to manage the delete.

2010-06-10  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-09  Zimin  <ziminq@gmail.com>

	add slots to support doDeleteRecord()

2010-06-09  Zimin  <ziminq@gmail.com>

	no magic string, use two static variable to hold col/row separators.

2010-06-09  Zimin  <ziminq@gmail.com>

	change name

2010-06-09  Zimin  <ziminq@gmail.com>

	delete un-necessary comments

2010-06-09  Zimin  <ziminq@gmail.com>

	basic select is ok again using transparent_file

2010-06-09  Zimin  <ziminq@gmail.com>

	add row and col separator tests

2010-06-09  Zimin  <ziminq@gmail.com>

	merge improved-file-operation branch

2010-06-09  Zimin  <ziminq@gmail.com>

	add headers and two new files to plugin.ini

2010-06-09  Zimin  <ziminq@gmail.com>

	some name changes to be corresponding with drizzle's naming style.

2010-06-09  Zimin  <ziminq@gmail.com>

	shamelessly borrow these two files from CSV storage engine.
	since it's also helpful for Filesystem storage engine. :-)

2010-06-09  Zimin  <ziminq@gmail.com>

	add ha_statistic_increment statement

2010-06-09  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-09  Zimin  <ziminq@gmail.com>

	simple refactor code

2010-06-08  Zimin  <ziminq@gmail.com>

	factor out some duplicate code

2010-06-08  Zimin  <ziminq@gmail.com>

	prefer verbose extension

2010-06-08  Zimin  <ziminq@gmail.com>

	open the file at FilesystemCursor::open()

2010-06-08  Zimin  <ziminq@gmail.com>

	modification of README file

2010-06-08  Zimin  <ziminq@gmail.com>

	rename FilesystemShare to FilesystemTableShare

2010-06-08  Zimin  <ziminq@gmail.com>

	rename ha_filesystem to FilesystemCursor, more drizzle style.

2010-06-08  Zimin  <ziminq@gmail.com>

	corresponding changes due to the trunk's merge

2010-06-08  Zimin  <ziminq@gmail.com>

	merge trunk

2010-06-05  Zimin  <ziminq@gmail.com>

	add test case for separtor in filesystem SE

2010-06-05  Zimin  <ziminq@gmail.com>

	add separator support for filesystem storage engine

2010-06-05  Zimin  <ziminq@gmail.com>

	support delete and update for filesystem storage engine

2010-06-05  Zimin  <ziminq@gmail.com>

	add more test cases

2010-06-05  Zimin  <ziminq@gmail.com>

	add stubs for update and delete

2010-06-05  Zimin  <ziminq@gmail.com>

	add test case for filesystem storage engine

2010-06-05  Zimin  <ziminq@gmail.com>

	avoid unused parameter

2010-06-05  Zimin  <ziminq@gmail.com>

	rename file name

2010-05-25  Zimin  <ziminq@gmail.com>

	add insert support

2010-05-25  Zimin  <ziminq@gmail.com>

	read the real file path

2010-05-24  Zimin  <ziminq@gmail.com>

	factor out the extension to a macro

2010-05-20  Zimin  <ziminq@gmail.com>

	add table option stubs

2010-05-20  Zimin  <ziminq@gmail.com>

	merge from fs-plugin

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in intltool, transaction log null handling and valgrind suppressions.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in valgrind suppression fixes.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in Joe's null handling fix for transaction_log.

2010-07-28  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-07-27  Joe Daly  <skinny.moey@gmail.com>

	bug 594873 fix null handling in enum in the transaction log

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Merged in latest plugin heading changes.

2010-07-29  Monty Taylor  <mordred@inaugust.com>

	Fixed the headings.

2010-07-29  Monty Taylor  <mordred@inaugust.com>

	Merged in solaris fixes (oh yeah, and intltool)

2010-07-29  Monty Taylor  <mordred@inaugust.com>

	Fixed gettext on solaris.

2010-07-29  Monty Taylor  <mordred@inaugust.com>

	Fixed the Solaris build.

2010-07-27  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.138

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Lowered intltool req to match centos.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Added two more files.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Use gnu xgettext on solaris.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2010-07-25  Monty Taylor  <mordred@inaugust.com>

	Added missing files to POTFILES.in.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Added AM_PO_SUBDIRS to support finding the right tools on solaris.

2010-07-26  Monty Taylor  <mordred@inaugust.com>

	Added missing files.

2010-07-25  Monty Taylor  <mordred@inaugust.com>

	Added intltool macro. Removed an old gettext one.

2010-07-25  Monty Taylor  <mordred@inaugust.com>

	Updated translations now that we're using intltool.

2010-07-25  Monty Taylor  <mordred@inaugust.com>

	Removed gettext - replaced with intltool. Dear god it's so much better.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Fixed valgrind suppressions.

2010-07-30  Monty Taylor  <mordred@inaugust.com>

	Cleaned up some valgrind suppressions. Did I really just edit c++ name
	mangling by hand? What's wrong with me?

2010-07-29  Brian Aker  <brian@gaz>

	Merge Monty

2010-07-29  Monty Taylor  <mordred@inaugust.com>

	Fixed plugin option processing. Now we pre-load the modules registering
	options, then we process options, then we finish loading.
	Also, removed some cruft that wasn't being used anymore.

2010-07-29  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-07-29  Brian Aker  <brian@gaz>

	Merge Stewart

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	test result fixes due to DATETIME default value now being actually stored as a DATETIME instead of whatever the heck

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	default values for DATE columns were being stored in the original string that the user entered in CREATE TABLE while what actually happens is that this string is typecast to DATE (e.g. if it had a time as well the time vanishes silently). This patch fixes what's stored in the table proto. This is visible when you use statement_transform for SHOW CREATE TABLE

2010-07-29  Brian Aker  <brian@gaz>

	Merge Stewart

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	use default_expression and update_expression instead of default_value and update_value in the table proto for NOW()

2010-07-28  Brian Aker  <brian@gaz>

	Rollup of Stewart

2010-07-28  Brian Aker  <brian@gaz>

	Merge Archive fix from Stewart.

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	after RENAME TABLE for an ARCHIVE table, the table proto stored in the ARZ header still has the old table name in it. We can easily fix this by returning the correct name from getTableDefinition and not having to then rewrite the ARZ header.

2010-07-28  Brian Aker  <brian@gaz>

	Merge Stewart timestamp removal.

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	TimestampFieldOptions in the table proto contains nothing that we use. remove it.

2010-07-28  Brian Aker  <brian@gaz>

	Merge Stewart for comment.

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	upper layer treats empty string for COMMENT as removing comment. Fix this in routine for filling out table protobuf message. (only user visible with statement_transform is used for SHOW CREATE TABLE

2010-07-28  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-07-28  Stewart Smith  <stewart@flamingspork.com>

	merge remove unused row type in table message

2010-07-27  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	Merged default-collation-in-table-message into remove-unused-row-type-in-table-message.

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	Merged default-collation-in-table-message into remove-unused-row-type-in-table-message.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	remove unused row_type from table proto (although referenced in a bunch of places)

2010-07-28  Brian Aker  <brian@gaz>

	Rollup of patch from Brian. Includes malloc -> new for Table, and
	modifications to make boost::unordered use for strings a version which
	does the automagic for case.

2010-07-28  Brian Aker  <brian@gaz>

	getAlias() added to table.

2010-07-28  Brian Aker  <brian@gaz>

	First pass through encapsulating getAlias() from table.

2010-07-28  Brian Aker  <brian@gaz>

	Removed tolower usage, and did a small style thing with for() loop.

2010-07-28  Brian Aker  <brian@gaz>

	Udf lookup now done via case insensitive unordered map

2010-07-28  Brian Aker  <brian@gaz>

	Use different hash now for identifier.

2010-07-28  Brian Aker  <brian@gaz>

	Updates to use Table properly.

2010-07-28  Brian Aker  <brian@gaz>

	Since table is now fixed, we no longer need "newed"

2010-07-28  Brian Aker  <brian@gaz>

	Fix temp tables to use new over malloc.

2010-07-28  Brian Aker  <brian@gaz>

	new is now the new for Table. It is the shiny.

2010-07-28  Brian Aker  <brian@gaz>

	Merge in Trunk.

2010-07-28  Brian Aker  <brian@gaz>

	Fix up a few additional cases around case insensitive usage for
	unordered_map. This also places the code in util/string.h behind an
	additional namespace of "util"

2010-07-28  Brian Aker  <brian@gaz>

	Remove the need for tolower in retrieval of table functions.

2010-07-28  Brian Aker  <brian@gaz>

	This fixes the issue with case and unordered map.

2010-07-28  Brian Aker  <brian@gaz>

	Remove usage of my_hash in table_share.

2010-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged in lower case table name fix, charset null fix and null issue in
	transaction_log.

2010-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged in lower_table fix.

2010-07-27  Brian Aker  <brian@gaz>

	Remove compare and need to keep around lower_table.

2010-07-27  Brian Aker  <brian@gaz>

	Modify how we make comparisons for tables.

2010-07-27  Monty Taylor  <mordred@inaugust.com>

	Fixed a segfault from a non-initialized charset member.

2010-07-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initialize charset member of the LEX class correctly in the constructor.

2010-07-27  Monty Taylor  <mordred@inaugust.com>

	Fixed for null values in transaction log.

2010-07-24  Joe Daly  <skinny.moey@gmail.com>

	fix up spacing again

2010-07-24  Joe Daly  <skinny.moey@gmail.com>

	fix up comment spacing

2010-07-24  Joe Daly  <skinny.moey@gmail.com>

	add result file

2010-07-24  Joe Daly  <skinny.moey@gmail.com>

	add a working test case, and more fixes so the test case works

2010-07-23  Joe Daly  <skinny.moey@gmail.com>

	fix for 594876 handle NULL values in transaction log

2010-07-27  Brian Aker  <brian@gaz>

	This patch turns the table_cache into boost::unordered_multimap.
	This also removes a number of cases where we were using strcmp() on table
	name/schema name.

2010-07-27  lbieber  <lbieber@orisndriz03>

	Merge Toru's latest changes for BlitzDB

2010-07-26  lbieber  <lbieber@orisndriz03>

	Merge Toru's latest changes for BlitzDB

2010-07-26  lbieber  <lbieber@orisndriz03>

	Merge Toru's latest changes for BlitzDB

2010-07-20  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-07-13  Toru Maesaka  <dev@torum.net>

	Fixed a bug in BlitzDB's row buffer management and added tests for it.

2010-07-12  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-07-08  Toru Maesaka  <dev@torum.net>

	Refactored the data file creation routine in BlitzData class.

2010-07-02  Toru Maesaka  <dev@torum.net>

	Implemented StorageEngine::validateCreateTableOption() in BlitzDB to extend the CREATE TABLE syntax.

2010-07-01  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-06-29  Toru Maesaka  <dev@torum.net>

	Added a command line option for optimizing BlitzDB.

2010-06-28  Toru Maesaka  <dev@torum.net>

	Added base work for sysvar handling in BlitzDB.

2010-06-24  Toru Maesaka  <dev@torum.net>

	Added more index related tests and renamed BlitzDB's lock functions.

2010-07-22  Patrick Crews  <gleebix@gmail.com>

	Rollup patch - test updates, innodb work, transaction log bug fix

2010-07-22  Patrick Crews  <gleebix@gmail.com>

	Merge Stewart trx-isolation-return-type

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	change session_tx_isolation() to return enum_tx_isolation instead of int. This means that in engines we can properly use a switch statement on the enum values and get warnings if we miss one.

2010-07-22  Patrick Crews  <gleebix@gmail.com>

	Merge Stewart - rand function tests

2010-07-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	move another RAND() tests from func_math into rand_function/tests/ - there's a lot of them (not).

2010-07-22  Patrick Crews  <gleebix@gmail.com>

	Merge jdaly - fix for Bug#599952 - transaction_log bug

2010-07-20  Joe Daly  <skinny.moey@gmail.com>

	add new test for multi table updates within a transaction

2010-07-20  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-07-20  Joe Daly  <skinny.moey@gmail.com>

	fix a problem with multiple tables being updated in the same transaction these should go into seperate records

2010-07-22  Patrick Crews  <gleebix@gmail.com>

	Merge pcrews - updated randgen_queries.test

2010-07-21  Patrick Crews  <gleebix@gmail.com>

	Updated randgen_queries test to reflect use of YES/NO vs. TRUE/FALSE in I_S and D_D

2010-07-20  Patrick Crews  <gleebix@gmail.com>

	Merge translation updates

2010-07-20  Patrick Crews  <gleebix@gmail.com>

	Merge translation updates

2010-07-20  Patrick Crews  <gleebix@gmail.com>

	Translation updates

2010-07-19  Brian Aker  <brian@gaz>

	Merge Brian + Stware.

2010-07-19  Brian Aker  <brian@gaz>

	Removed identifier bit

2010-07-19  Brian Aker  <brian@gaz>

	Remove table names options.

2010-07-19  Brian Aker  <brian@gaz>

	Merge in pcrews

2010-07-19  Brian Aker  <brian@gaz>

	Merge in Stewart (small style fix)

2010-07-19  Stewart Smith  <stewart@flamingspork.com>

	explicit collation in table proto (from review)

2010-07-13  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	add a tableprototester case for invalid collation for a table

2010-07-05  Stewart Smith  <stewart@flamingspork.com>

	fix error message for parsing invalid table collation to fit other forms of corruption by returning to the user session an appropriate error message.

2010-06-28  Stewart Smith  <stewart@flamingspork.com>

	have table wide default collation/collation_id in table proto as well as move to only storing it when it's not the default (utf8_general_ci). This means that the replication stream now doesn't produce COLLATE= in the transformation of create table back to SQL.

2010-07-19  Patrick Crews  <gleebix@gmail.com>

	Merge optimizer.test fix

2010-07-19  Patrick Crews  <gleebix@gmail.com>

	Fix of optimizer.test - needed cleanup at the end + updated .result file

2010-07-19  Brian Aker  <brian@gaz>

	Merge of Prafulla

2010-07-19  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Removing debug method.

2010-07-19  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Adding test for Bug #592444

2010-07-18  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fix for Bug 592444
	
	There were two problems:
	o. In greedy_search optimizer method, best_extension_by_limited search
	maintains join embedding(nestedness) of tables added so far, so that 
	correct(valid)  join order is selected
	These are requirements from nested outer join executioner.
	The problem was, embedding_map was not correctly updated when a table 
	is added to optimal plan outside best_extension_by_limited search, 
	by greedy_search method. We need to update join->cur_embedding_map
	correctly here so that execution plan for other tables get
	generated.
	Invoked checked_interleaving_with_nj from greedy_search on the
	best_table selected. Fixed its prototype to take only one JoinTab
	This is same as mysql 5.1 source tree.
	o. The other problem was, join->cur_embedding_map was not restored correctly
	when a table is added to the optimal plan to reflect the current embedding 
	map. 
	Taken good documented method restore_prev_nj_state which restores 
	cur_embedding_map from mysql 5.1 source tree and modified it for drizzled 
	code.

2010-07-13  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Adding test for Bug 595305

2010-07-13  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Merge from trunk

2010-07-13  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	This bug is simillar to mysql bug 36133
	http://bugs.mysql.com/bug.php?id=36133
	
	Taking changes from that fix.
	
	- The problem was that the range optimizer evaluated constant expressions, 
	and among them it would try to evaluate IN-subquery predicates slated for
	handling with materialization strategy. However, these predicates require
	that parent_join->setup_subquery_materialization() is invoked before one
	attempts to evaluate them.
	
	- Fixed by making the range optimizer not to evaluate expressions that have
	item->is_expensive() == TRUE (these are materialization subqueries and 
	stored function calls). This should also resolve the problem that EXPLAIN 
	may be too long. 
	This change cuts off some opportunities for range optimizer, but this is 
	the price we're willing to pay for separation of query optimization and
	execution. 

2010-07-06  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Merger from main branch

2010-07-19  Brian Aker  <brian@gaz>

	Rolloup patch for Brian, Monty, VJ. Fixes debug build for PBMS, and merges
	in additional changes for using boost.

2010-07-19  Brian Aker  <brian@gaz>

	Fix for debug compile.

2010-07-18  Brian Aker  <brian@gaz>

	Merge in DTRACE fix

2010-07-19  Monty Taylor  <mordred@inaugust.com>

	Backed out two bits that snuck in to the merge.

2010-07-17  Brian Aker  <brian@gaz>

	Merge of VJ

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored logging_query

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge re factored commandline for logging_query using boost::program_options

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored logging_gearman

2010-07-16  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline for logging_gearman using boost::program_options

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored filtered_replicator

2010-07-16  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline for filtered_replicator using boost::program_options.

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored hello_events

2010-07-16  Vijay Samuel  <vijay@vijay>

	Merge refactored commandline for hello_events using boost::program_options

2010-07-17  Vijay Samuel  <vijay@vijay>

	Merge refactored auth_http

2010-07-16  Vijay Samuel  <vijay@vijay>

	Merge Refactored commandline with boost::program_options

2010-07-17  Brian Aker  <brian@gaz>

	Merge of Barry, pbms

2010-07-15  Barry.Leslie@PrimeBase.com

	Added back the required pbmslib.h header.

2010-07-15  Barry.Leslie@PrimeBase.com

	Switched license fro GPL to BSD for source that can be built into other engines.

2010-07-14  Barry.Leslie@PrimeBase.com

	Fixed merger problem in plugin/pbms/plugin.am.

2010-07-14  Barry.Leslie@PrimeBase.com

	Merge from main trunk.

2010-07-14  Barry.Leslie@PrimeBase.com

	Pulled out the pbms client lib. This has now been moved to its own project in launchpad lp:pbmslib.

2010-07-16  Brian Aker  <brian@gaz>

	Rollup patch + fix for not intel processors.

2010-07-16  Brian Aker  <brian@gaz>

	Merge in fixes for PBMS

2010-07-15  Brian Aker  <brian@gaz>

	Encapsulate Table in field

2010-07-15  Brian Aker  <brian@gaz>

	A couple of dead bits.

2010-07-15  Brian Aker  <brian@gaz>

	Merge in move identifier work.

2010-07-11  Brian Aker  <brian@gaz>

	MErge in change to do YES/NO like standard requires.

2010-07-11  Brian Aker  <brian@gaz>

	Merge in Monty.

2010-07-11  Monty Taylor  <mordred@inaugust.com>

	Merged in optimizer test cases from Patrick.

2010-07-10  Patrick Crews  <gleebix@gmail.com>

	Added new test main.optimizer.test - added test cases for two recent optimizer bugs -  Bug#600664 and Bug#592473.  Home for optimizer bug fixes

2010-07-11  Monty Taylor  <mordred@inaugust.com>

	Merged PBMS libraries from Barry.

2010-07-09  Barry.Leslie@PrimeBase.com

	Install the pbmslib.h file using the automake dist_include_HEADERS list.

2010-07-09  Barry.Leslie@PrimeBase.com

	Post install hook needs the full path to my .h file.

2010-07-09  Barry.Leslie@PrimeBase.com

	Fixed some compiler problems.

2010-07-08  Barry.Leslie@PrimeBase.com

	Merged in changes from PBMS project.
	
	Updated the plugin build so that it would also build and install the PBMC client library.

2010-07-11  Monty Taylor  <mordred@inaugust.com>

	Merged in Brian's I_S changes and fixes.

2010-07-11  Monty Taylor  <mordred@inaugust.com>

	Fix empty-body warning on OSX.

2010-07-10  Brian Aker  <brian@gaz>

	Fix tests by sorting output

2010-07-10  Brian Aker  <brian@gaz>

	Merge Brian

2010-07-09  Brian Aker  <brian@gaz>

	Added notes for I_S about future bits.

2010-07-09  Brian Aker  <brian@gaz>

	Adding slashdot's schema for include usage.

2010-07-09  Brian Aker  <brian@gaz>

	Adding in table constraints

2010-07-09  Brian Aker  <brian@gaz>

	Added key_column_usage

2010-07-09  Brian Aker  <brian@gaz>

	Add back result file that was lost in merge.

2010-07-09  Brian Aker  <brian@gaz>

	Merge Joe, plus I updated the tests.

2010-07-07  Joe Daly  <skinny.moey@gmail.com>

	add comment describing table, and fix up schema_dictionary test

2010-07-07  Joe Daly  <skinny.moey@gmail.com>

	fix/add a test, also fix a problem where the scoreboard was being summed up while checking the status of a session, only the global variables should be summed

2010-07-07  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-06-25  Joe Daly  <skinny.moey@gmail.com>

	add counter logic for rows sent/received/inserted/updated

2010-06-24  Joe Daly  <skinny.moey@gmail.com>

	initial user stats impl

2010-07-09  Brian Aker  <brian@gaz>

	Merge Prafulla Tekawade

2010-07-03  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Array which stores KeyField* were not allocated enough memory.
	This led to overwriting of some members of KeyField and dereferencing them
	caused seg fault.
	
	This may have been missed during rework or merge.

2010-07-09  Brian Aker  <brian@gaz>

	Merge of Patrick

2010-07-09  Patrick Crews  <gleebix@gmail.com>

	Merge from trunk

2010-07-02  Patrick Crews  <gleebix@gmail.com>

	Added test case for bug#550091 to drizzledump_restore.test + updated result

2010-07-02  Patrick Crews  <gleebix@gmail.com>

	Moved mysqldump-compat.test into drizzledump.test.  It only contained a single, simple test case.  Renamed mysqldump-max to drizzledump-max for correctness' sake

2010-07-09  Brian Aker  <brian@gaz>

	Merge in Patrick

2010-07-08  Patrick Crews  <gleebix@gmail.com>

	Altered randgen_query test to include non-DATA_DICTIONARY / INFORMATION_SCHEMA tables (new test case)

2010-07-08  Patrick Crews  <gleebix@gmail.com>

	Altered randgen_queries.test to use explicit ORDER BY as DATA_DICTIONARY and INFORMATION_SCHEMA tables no longer internally sort data automatically.  Updated result file as well

2010-07-09  Brian Aker  <brian@gaz>

	Fix const_cast, disable the unittest for generators.

2010-07-09  Monty Taylor  <mordred@inaugust.com>

	Fixed unittest segfault - this fix needs to be reexamined.

2010-07-09  Monty Taylor  <mordred@inaugust.com>

	Fixed an osx build warning/failure.

2010-07-09  Monty Taylor  <mordred@inaugust.com>

	Added include guard for generator.h to make cpplint happy.

2010-07-09  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris build error in EmbeddedInnodb as well as a distcheck issue
	involving a too-long path name and a default log file size mismatch which
	causes test failures when run right after a test using non-embedded innodb.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	Fixed a drizzleslap command line option discrepancy that showed up on FreeBSD.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	More Solaris build fixes.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	Renamed the test - it was took long for tar to handle and so the master.opt file was getting dropped from make dist.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	Fixed a compile issue on Solaris.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	Changed embedded innodb's default log file size to be the same as normal innodb so that the test suite doesn't die horribly.

2010-07-05  Monty Taylor  <mordred@inaugust.com>

	Enable embedded and normal innodb to coexist.

2010-07-09  Brian Aker  <brian@gaz>

	Merge IS

2010-07-08  Brian Aker  <brian@gaz>

	Remove sort() and add in DEBUG mode to randomize the results of generators.

2010-07-08  Brian Aker  <brian@gaz>

	Remove the sort() that is directly done on the list in favor of doing it in
	the upper end.

2010-07-08  Brian Aker  <brian@gaz>

	Encapsulate a bit of logic.

2010-07-07  Brian Aker  <brian@gaz>

	Column support, clean up of IS/DD for NULL type.

2010-07-07  Brian Aker  <brian@gaz>

	Updated to hold tables in I_S.

2010-07-07  Brian Aker  <brian@gaz>

	Adding in work for schemata

2010-07-07  Brian Aker  <brian@gaz>

	Adding columns.

2010-07-06  Brian Aker  <brian@gaz>

	Added unit test for generators.

2010-07-06  Brian Aker  <brian@gaz>

	Addd an "all_tables" generator to loop through all tables.

2010-07-01  Brian Aker  <brian@gaz>

	Moved generators out of trunk of server.

2010-07-01  Brian Aker  <brian@gaz>

	Updated to harmonize the identifier API.

2010-07-01  Brian Aker  <brian@gaz>

	Table now uses the generator.

2010-06-30  Brian Aker  <brian@gaz>

	Move schema listing logic out.

2010-07-08  Monty Taylor  <mordred@inaugust.com>

	Bump to force a hudson trigger.

2010-07-07  Monty Taylor  <mordred@inaugust.com>

	Merged in master.opt plugin consolidation, VJ's work with mysql-protocol and
	drizzle-protocol plugin options and a drizzletest segfault bugfix from
	Stewart.

2010-07-07  Monty Taylor  <mordred@inaugust.com>

	Replaced all the symlink master.opt files with a single file.

2010-07-07  Monty Taylor  <mordred@inaugust.com>

	Added support for per-suite master.opt file.

2010-07-06  Monty Taylor  <mordred@inaugust.com>

	Merged drizzletest fix from Stewart.

2010-07-06  Stewart Smith  <stewart@flamingspork.com>

	drizzletest was calling my_end but not my_init, which means we were destroying a pthread COND variable that wsan't created. naughty.

2010-07-06  Monty Taylor  <mordred@inaugust.com>

	Merged changes to mysql_protocol plugin from Vijay.

2010-07-06  Vijay Samuel  <vijay@vijay>

	Merge fixes for variables.test and error printing.

2010-07-01  Vijay Samuel  <vijay@vijay>

	Merge Trunk

2010-07-01  Vijay Samuel  <vijay@vijay>

	Merge fixes for variable.test

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge program_options into mysql_protocol. 

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge rplugin-mysql-protocol.

2010-07-06  Monty Taylor  <mordred@inaugust.com>

	Merged changes to drizzle_protocol plugin from Vijay.

2010-07-06  Vijay Samuel  <vijay@vijay>

	Merge changes for error printing.

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge fix for syslog module.

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge Monty's patch for the interface.

2010-06-24  Vijay Samuel  <vijay@vijay>

	Reverted changes.

2010-06-24  Vijay Samuel  <vijay@vijay>

	Merge uncommit.

2010-07-06  Monty Taylor  <mordred@inaugust.com>

	Added a configure summary entry for pandora-build version.
	Removed a few entries that just weren't so interesting anymore.

2010-07-05  Monty Taylor  <mordred@inaugust.com>

	Merged in PBMS, translation updates, a few build fixes and a few bug fixes.

2010-07-05  Monty Taylor  <mordred@inaugust.com>

	Merged translations.

2010-07-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-22  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-06-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-27  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-07-05  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.136

2010-07-05  Monty Taylor  <mordred@inaugust.com>

	Attempt to fix a build issue on spare.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Fixed OSX build errors.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Fixed some -Wuninitialized errors from OSX.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of solaris build issues. Callback functions passed to
	c-libraries have to have C linkage, even if they're static. And strcasestr
	is a gnu extension and not found on Sun Sudio. Luckily, boost::ifind_first
	does the same thing.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Migrated code from auth_http into pandora check for libcurl, since PBMS was
	using it.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Fix two signature change releated merge issues.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Merged in comment move from Zimin.

2010-06-30  Zimin  <ziminq@gmail.com>

	move the comment of 'create' in TableList as well

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Merged in fix of option processing for plugins.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	In the case where we were handling new-style options, we were skipping too
	much processing of the old-style ones, leaving check methods undefined.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Fixed hold-over name. Should never matter, but bleh.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Merged in Optimizer segfault fix from Prafulla.

2010-07-03  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Reverting some un-necessary changes.

2010-06-30  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Reverting the fix for 592473
	
	I checked with mysql source code.
	In Join::Optimize code, whenever where condition is optimized, number of
	tables to be read this->table needs to be set to zero. This avoided
	later code to go over join->join_tab and creating problem such as the bug.

2010-06-28  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Refreshing from mainline branch.

2010-06-28  Prafulla Tekawade<prafulla_t@users.sourceforge.net>

	Fix for Bug 592473

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Merged in update of pbxt to allow it to be enabled.

2010-06-28  Monty Taylor  <mordred@inaugust.com>

	Fixed a solaris build issue.

2010-06-28  Monty Taylor  <mordred@inaugust.com>

	Updated PBXT to newest API.

2010-06-28  Monty Taylor  <mordred@inaugust.com>

	Enabled pbxt and auth_test.

2010-07-04  Monty Taylor  <mordred@inaugust.com>

	Merge PBMS from Barry.

2010-06-30  Barry.Leslie@PrimeBase.com

	Use home grown version of timegm() in all cases not just for solaris builds.

2010-06-30  Barry.Leslie@PrimeBase.com

	Make the use of timegm() conditional on solaris builds.

2010-06-30  Barry.Leslie@PrimeBase.com

	Fixed some solaris build problems.

2010-06-29  Barry.Leslie@PrimeBase.com

	Merged from main drizzle branch.

2010-06-29  Barry.Leslie@PrimeBase.com

	Fixed warnings reported from solaris builds.

2010-06-28  Barry.Leslie@PrimeBase.com

	Solaris fix for unknown st_mtimespec in struct stat.

2010-06-26  Barry.Leslie@PrimeBase.com

	Merged in Monty's chnages to get hudson distcheck to work.

2010-06-25  Monty Taylor  <mordred@inaugust.com>

	Added pbms to lint exclusion list. (We need to find a better way to deal
	with this)
	Fixed the extra_dist thing (oops, my bad)

2010-06-25  Barry.Leslie@PrimeBase.com

	Added some special case code for directory handling on solaris.

2010-06-25  Barry.Leslie@PrimeBase.com

	Bug fix (sort of) for drop database when system tables are still open. The
	fact that system tables are open when he database is dropped is a drizzle bug though.

2010-06-25  Barry.Leslie@PrimeBase.com

	Delete removed files from plugin.ini.

2010-06-25  Barry.Leslie@PrimeBase.com

	Removed unused files.

2010-06-25  Barry.Leslie@PrimeBase.com

	remove old source code.

2010-06-24  Barry.Leslie@PrimeBase.com

	Replaced the use of __attribute__((unused)) with my own macro.

2010-06-24  Barry.Leslie@PrimeBase.com

	Cleanup for solaris build.

2010-06-24  Barry.Leslie@PrimeBase.com

	Bug fix for buffer size goof.
	Hopefull fix for build problem on solaris where it cannot find uint32_t etc..

2010-06-24  Barry.Leslie@PrimeBase.com

	Removed changes to plugin.ac

2010-06-24  Barry.Leslie@PrimeBase.com

	Reorganized code while fixing some minor problems.

2010-06-23  Barry.Leslie@PrimeBase.com

	And more cleanup.

2010-06-23  Barry.Leslie@PrimeBase.com

	More cleanup.

2010-06-23  Barry.Leslie@PrimeBase.com

	code cleanup.

2010-06-23  Barry.Leslie@PrimeBase.com

	Code cleanup.

2010-06-23  Barry.Leslie@PrimeBase.com

	Fixes for longjmp clobber problem, (Hopefully)

2010-06-22  Barry.Leslie@PrimeBase.com

	Possible fix for hudson not finding version_ms.h.

2010-06-22  Barry.Leslie@PrimeBase.com

	Possible solution to longjump clobber problem.

2010-06-22  Barry.Leslie@PrimeBase.com

	Code cleanup.

2010-06-22  Barry.Leslie@PrimeBase.com

	Added back acidentally removed throws after finally_() block.

2010-06-22  Barry.Leslie@PrimeBase.com

	Code cleanup.

2010-06-21  Barry.Leslie@PrimeBase.com

	Bring engine interface up to date.

2010-06-21  Barry.Leslie@PrimeBase.com

	Merge from drizzle trunk.

2010-06-21  Barry.Leslie@PrimeBase.com

	Removed libxml reqirement by using a home grown xml parser.
	Assorted chnages made made for MySQL compatability.

2010-06-15  Barry.Leslie@PrimeBase.com

	Merge from trunk.
	Renamed pbms source code files to be more consistent.

2010-06-15  Barry.Leslie@PrimeBase.com

	Fixed bugs with NULL and zero length BLOBs.
	Update row now only updeted BLOBs in the row that have actually changed.

2010-06-15  Barry.Leslie@PrimeBase.com

	Added some debug tracing to transaction logging.

2010-06-14  Barry.Leslie@PrimeBase.com

	Fixed some problems with transactions and drizzle.

2010-06-09  Barry.Leslie@PrimeBase.com

	trunk merge plus more pbms updates for drizzle.

2010-06-08  Barry.Leslie@PrimeBase.com

	Code cleanup pluss merged drizzle changes.

2010-06-04  Barry.Leslie@PrimeBase.com

	Changed the table event observers to pass the 'Table' not the TableShare' to the observers.
	Also added some usefull utility methods to the Table class.

2010-06-04  Barry.Leslie@PrimeBase.com

	Added drizzle event observer class to PBMS as well as a lot of mostly minor changes for drizzle compatability.

2010-05-31  Barry.Leslie@PrimeBase.com

	A lot of minor changes to clean up the code and to get it to build with Drizzle.

2010-05-20  Barry.Leslie@PrimeBase.com

	Added the PBMS daemon plugin.
	
	(Augen zu und durch!)

2010-06-29  Brian Aker  <brian@gaz>

	Encapsulate HASH for open_cache

2010-06-29  Brian Aker  <brian@gaz>

	This adds const to SchemaIdentifier.

2010-06-28  Brian Aker  <brian@gaz>

	Merge in VJ

2010-06-27  Vijay Samuel  <vijay@vijay>

	Merge Brian's request for isCreate() instead of getCreate().

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge trunk. 

2010-06-26  Vijay Samuel  <vijay@vijay>

	Merge encapsulate TableList-2.

2010-06-25  Vijay Samuel  <vijay@vijay>

	Merge encapsulate TableList-1.

2010-06-28  Brian Aker  <brian@gaz>

	Merge unused

2010-06-28  Brian Aker  <brian@gir>

	Wrap unused access with a class.

2010-06-25  Monty Taylor  <mordred@inaugust.com>

	Merged in staging changes: Mark's syslog patch and vijay's program_options.

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merged in syslog changes from Mark and client program_options fixes from
	Vijay.

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merged client program option changes from Vijay.

2010-06-24  Vijay Samuel  <vijay@vijay>

	Merge Trunk.

2010-06-24  Vijay Samuel  <vijay@vijay>

	Merge fixes requested by Padraig.

2010-06-24  Vijay Samuel  <vijay@vijay>

	Merge fix for --tab

2010-06-24  Vijay Samuel  <vijay@vijay>

	Merge trunk.

2010-06-21  Vijay Samuel  <vijay@vijay>

	Merge password fix for client.

2010-06-21  Vijay Samuel  <vijay@vijay>

	Merge fix for password in client/

2010-06-21  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merged reworking of syslog functionality from Mark.

2010-06-23  Mark Atwood  <me@mark.atwood.name>

	new syslog module, with plugins for query log, error message, and SYSLOG() function

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Fixes from Brian to increase strictness/correctness, Toru to remove
	current_session from blitzdb, a race condition bugfix from Joe Daly,
	and moving of when plugins call program_options from Monty.

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merged bug fixes from Toru and Joe Daly, and a reworking of where we parse
	plugin options.

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merge from Toru removing current_session.

2010-06-23  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-06-22  Toru Maesaka  <dev@torum.net>

	BlitzDB no longer uses current_session directly. Cleaned up the author file. Acknowledgement file will be added for simplicity.

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Joe Daly fixed a race condition.

2010-06-23  Joe Daly  <skinny.moey@gmail.com>

	test fix, add a sleep this avoid a race condition for the last open slot where it was not cleared in time on some machines

2010-06-24  Monty Taylor  <mordred@inaugust.com>

	Merged plugin module options fix.

2010-06-23  Monty Taylor  <mordred@inaugust.com>

	Moved actual parsing of plugin program_options to drizzled.cc so that we do
	it once and don't have to copy back in to argc/argv.

2010-06-23  Brian Aker  <brian@gaz>

	This fixes the parser to no longer do the bad syntax around the cross join
	(MySQL got it wrong, and allowed on).

2010-06-22  Brian Aker  <brian@gaz>

	Put in call for to make sure enum is always accurate.

2010-06-22  Brian Aker  <brian@gaz>

	Add in assert for detecting changes during alter.

2010-06-22  Brian Aker  <brian@gaz>

	Merge in changes to call error on bad data input.

2010-06-22  Brian Aker  <brian@gaz>

	Merge in work for count_cuted_fields

2010-06-21  Brian Aker  <brian@gaz>

	Update for count_cuted_fields.

2010-06-21  Brian Aker  <brian@gaz>

	Merge up of Brian to trunk. Mainly work on ha_open, and some current_session
	work.

2010-06-21  Brian Aker  <brian@gaz>

	Put a copy of the Session in the root of function to make use of.

2010-06-21  Brian Aker  <brian@gaz>

	More current_session issues.

2010-06-21  Brian Aker  <brian@gaz>

	More current_session.

2010-06-21  Brian Aker  <brian@gaz>

	Remove more of current_session

2010-06-21  Brian Aker  <brian@gaz>

	Remove session usage.

2010-06-21  Brian Aker  <brian@gaz>

	Merge up changes to ha_innodb

2010-06-21  Brian Aker  <brian@gaz>

	Merge ha_open to have doOpen() which passes identifier.

2010-06-20  Brian Aker  <brian@gir-2.local>

	Additional checks on path.

2010-06-20  Brian Aker  <brian@gir-2.local>

	Cleanup table_share to pass in identifier.

2010-06-20  Brian Aker  <brian@gir-2.local>

	Adding in TableIdentifier for ha_open; (first pass)

2010-06-21  Monty Taylor  <mordred@inaugust.com>

	Merge of the last bits of program_options plugin module integration:
	printing help messages.

2010-06-21  Monty Taylor  <mordred@inaugust.com>

	Finshed program_options plugin integration - included output in help output
	and fixed up some valgrind suppressions.

2010-06-21  mordred  <mordred@orisndriz09>

	Updated suppression file to match new signatures.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Fix up plugin program_options help output

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Removed duplicate entries from the help output.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Fix help output if datadir doesn't exist (we shouldn't care)

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Added in support for program_options output in --help output.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Merge of Patrick's schema_dictionary test changes, Stewart's HA Status
	variable move and more module program_options work.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Merged in schema_dictionary work from Patrick.

2010-06-16  Patrick Crews  <gleebix@gmail.com>

	Altered schema_dictionary.data_dictionary.test to actually show query output rather than obfuscating them with replace_column.  Having all #'s wasn't informative, especially on test failures.  Re-recorded .result file to adjust for change

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Merged in move of status variables.

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	move ha_statistic_increment for ha_delete_count (the Handler_delete status variable) to the Cursor layer so that each Storage Engine's Cursor doesn't have to increment it.

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	small test for handler_delete status variable

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	move ha_statistic_increment for ha_update_count (the Handler_update status variable) to the Cursor layer so that each Storage Engine's Cursor doesn't have to increment it.

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	add basic test for Handler_update status variable

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	move ha_statistic_increment for ha_write count (the Handler_write status variable) to the Cursor layer so that each Storage Engine's Cursor doesn't have to increment it.

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	add handler_write status variable test for when statement was rolled back

2010-06-17  Stewart Smith  <stewart@flamingspork.com>

	add basic handler_write status variable test. Amazingly enough, this was *never* tested.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Merged in option_map work.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Replaced terrible casting with strdup+free.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Change casts to const_cast.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Moved ownership of the variable_map to the module (avoids copying, also
	makes more sense)
	Renamed the user option because of a bug in my_getopt which was causing
	--console.user to be erroneously consumed for --user. sigh.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Added wrapper around variables_map to allow us to pull values back out of
	variables map in the code.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	const TableIdentifier. CommandLine processing for plugins. Client bug fixes
	and build bug fixes.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Undid attempt at fixing sporadic freebsd issue.

2010-06-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the OSX build. Again.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Added sleep call to try to avoid the spurrious socket errors on freebsd.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Merged in Brian's const TableIdentifiter work.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Fixed drizzleslap build issue on Solaris.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	OSX requires us to skip some warnings for drizzleslap.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Merged in constification of TableIdentifier from Brian.

2010-06-19  Brian Aker  <brian@gir-2.local>

	Modify TableIdentifier to be const

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Rollup patch featuring: boost::program_options support for plugins, a
	valgrind fix, a bugfix for password processing and a few build fixes.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Merged in boost::program_options processing wrapper for plugins, as well as
	plugin infrastructure to allow parallel use.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Converted really simple options in console plugin.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Added support for program_options based commandline argument passing.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Fixed newline issue.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Put in first bits to use program_options for plugin loading in parallel to
	my_getopt.

2010-06-17  Monty Taylor  <mordred@inaugust.com>

	Add function pointer hook for plugins to register program_options.

2010-06-17  Monty Taylor  <mordred@inaugust.com>

	Fixed boost install on our solaris boxes, so I removed many instances of
	BOOSTSKIP_WARNINGS. woot.

2010-06-16  Monty Taylor  <mordred@inaugust.com>

	Added option_context class, along with unittests, for adding a module
	namespace into a command line option.

2010-06-16  Monty Taylor  <mordred@inaugust.com>

	Fixed the visibility header to match the project name.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Fixed the valgrind error that crept in in schema_identifier. Score one for std:string over char*.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Just added top_srcdir and top_builddir support to test-run.pl.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Moved password parsing code into get_password.cc.

2010-06-19  mordred  <mordred@orisndriz09>

	Merged in command line password processing fix.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Merged in fix for command line password processing.

2010-06-19  Monty Taylor  <mordred@inaugust.com>

	Removed code that was blanking out the password in the argv string, since it was no longer actually working on the argv string.
	Added a test to make sure that client program works with passed in passwords when there is an auth source.

2010-06-19  Vijay Samuel  <vijay@vijay>

	Fix for bug #596163

2010-06-17  Vijay Samuel  <vijay@vijay>

	Merge trunk.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Killed a valgrind warning that had snuck in.

2010-06-18  Monty Taylor  <mordred@inaugust.com>

	Merged in BlitzDB.

2010-06-17  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-06-11  Toru Maesaka  <dev@torum.net>

	Return error on composite indexes at CREATE syntax. Added tests for it as well.

2010-06-09  Toru Maesaka  <dev@torum.net>

	Implemented Cursor::enable_indexes() and Cursor::disable_indexes(). Added a test file it as well.

2010-06-08  Toru Maesaka  <dev@torum.net>

	Use internal::my_rename instead of std::rename to keep FreeBSD happy.

2010-06-07  Toru Maesaka  <dev@torum.net>

	Protected Drizzle's update_auto_increment() with a lock. In the future this may become thread safe.

2010-06-07  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-06-02  Toru Maesaka  <dev@torum.net>

	Added more tests for the decimal suite.

2010-06-02  Toru Maesaka  <dev@torum.net>

	Removed overchecking of auto increment value which was blocking valid queries. Tests added as well.

2010-05-25  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-05-21  Toru Maesaka  <dev@torum.net>

	Added tests for GROUP BY on INDEX. Tests will pass but performance issues were discovered. This will be tackled in the upcoming revisions.

2010-05-20  Toru Maesaka  <dev@torum.net>

	Fix for a CentOS build warning reported by the Build Farm.

2010-05-20  Toru Maesaka  <dev@torum.net>

	Improved cursor resource management. TC's cursor allocation only happens once per worker now.

2010-05-19  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-05-18  Toru Maesaka  <dev@torum.net>

	Separated BlitzCursor code out to it's own file.

2010-05-18  Toru Maesaka  <dev@torum.net>

	Removed old cursor creation/destroy code.

2010-05-18  Toru Maesaka  <dev@torum.net>

	Still not optimal but the cursor object is now separated between workers. This build survived sysbench's read-only OLTP test.

2010-05-18  Toru Maesaka  <dev@torum.net>

	Removed dead function declaration and worked on BlitzCursor object.

2010-05-18  Toru Maesaka  <dev@torum.net>

	Removed dead code from BlitzDB.

2010-05-17  Toru Maesaka  <dev@torum.net>

	First step in splitting BlitzTree's cursor object.

2010-05-11  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-05-10  Toru Maesaka  <dev@torum.net>

	Added ground work for multi index tests in BlitzDB.

2010-05-07  Toru Maesaka  <dev@torum.net>

	Took out config.h from ha_blitz.h and updated the index test for the build farm.

2010-05-07  Toru Maesaka  <maesaka@mizukipc>

	Fixed warnings generated in the Build Farm and updated tests to make TC version differences irrelevant.

2010-05-06  Toru Maesaka  <dev@torum.net>

	Fixed a bug for UNIQUE INDEX in BlitzDB's B+Tree key comparator.

2010-05-03  Toru Maesaka  <dev@torum.net>

	Allow NULL to be duplicately inserted into a UNIQUE INDEX. Added some tests for it as well. More patches to come.

2010-04-28  Toru Maesaka  <dev@torum.net>

	Fixed a 'show tables' problem due to a bug in BlitzEngine::doGetTableIdentifiers(). Also added tests for this bug.

2010-04-26  Toru Maesaka  <dev@torum.net>

	Merged Trunk.

2010-04-26  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1477. Supported StorageEngine::doGetTableIdentifiers().

2010-04-23  Toru Maesaka  <dev@torum.net>

	Supported interfaces changes in StorageEngine::doGetTableNames().

2010-04-23  Toru Maesaka  <dev@torum.net>

	Supported the interface change for StorageEngine::doCreateTable().

2010-04-23  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1410.

2010-04-23  Toru Maesaka  <dev@torum.net>

	Codebase cleanup. Actively use std::string over const char * where it makes sense.

2010-04-22  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1400. Supported the new doRenameTable() interface.

2010-04-22  Toru Maesaka  <dev@torum.net>

	Encapsulated 'share' mechanism to BlitzEngine class.

2010-04-22  Toru Maesaka  <dev@torum.net>

	free_share() is now a member of Cursor::ha_blitz.

2010-04-21  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1385. No more deinit in the API.

2010-04-20  Toru Maesaka  <dev@torum.net>

	Minor cleanup and interface changes to suit the updated Drizzle Storage API.

2010-04-20  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1375.

2010-04-20  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1360. drizzled::TableIdentifier Support.

2010-04-19  Toru Maesaka  <dev@torum.net>

	Merged up to rev:1350 on the Trunk.

2010-04-19  Toru Maesaka  <dev@torum.net>

	Fixed warnings on OS X.

2010-03-24  Toru Maesaka  <dev@torum.net>

	Supported HA_READ_BEFORE_KEY by adding BlitzTree::prev_logical_key(). This allows BlitzDB to properly run a reverse index scan. Tests are added as well.

2010-03-24  Toru Maesaka  <dev@torum.net>

	Added more tests for indexed range queries.

2010-03-23  Toru Maesaka  <dev@torum.net>

	Added BlitzTree::next_logical_key() for HA_READ_AFTER_KEY search mode. BlitzDB is now HA_READ_RANGE compatible.

2010-03-23  Toru Maesaka  <dev@torum.net>

	First step to make BlitzTree::find_key() respect ha_rkey_function enumerators.

2010-03-22  Toru Maesaka  <dev@torum.net>

	Make records_in_range() return BLITZ_WORST_CASE_RANGE at all times for now.

2010-03-21  Toru Maesaka  <dev@torum.net>

	ha_blitz::records_in_range() can now return the real number of keys if min and max keys are both provided.

2010-03-21  Toru Maesaka  <dev@torum.net>

	Isolated key comparison code. It's now a function that can be used anywhere in BlitzDB.

2010-03-18  Toru Maesaka  <dev@torum.net>

	Base work for implementing ha_blitz::records_in_range().

2010-03-16  Toru Maesaka  <dev@torum.net>

	Added a function to position TC's cursor to the last occurence of the provided key in a tree.

2010-03-15  Toru Maesaka  <dev@torum.net>

	Added and fixed some tests.

2010-03-15  Toru Maesaka  <dev@torum.net>

	Merged Stewart's lint fixes.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	cpplint for BlitzDB: Do not use namespace using-directives in headers.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	cpplint for BlitzDB: only include config.h from source files, not headers

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	fix cpplint warning r.e. header guard for BlitzDB

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	merge logging_gearman build fix

2010-03-12  Toru Maesaka  <dev@torum.net>

	Fixed a critical concurrency bug that would cause inconsistency. Reworked BlitzTree and refactored memory management a little.

2010-03-11  Toru Maesaka  <dev@torum.net>

	Added a bunch of tests for UPDATE syntax on index.

2010-03-11  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-03-11  Toru Maesaka  <dev@torum.net>

	First attempt at completing update_row(). Still needs cleaning and tuning but the flow is there and doesn't break existing tests.

2010-03-04  Toru Maesaka  <dev@torum.net>

	ha_blitz::delete_row() can now delete all index entries. Added basic tests for it as well. More to come.

2010-03-03  Toru Maesaka  <dev@torum.net>

	Reduced allocation costs for creating a B+Tree cursor. TC's cursor object now has a same lifespan as the ha_blitz object.

2010-03-02  Toru Maesaka  <dev@torum.net>

	Started working on completing ha_blitz::delete_row(). Refactored index_read_idx() to suit the new comparator. Index update tests are disabled until ha_blitz::update_row() is completed.

2010-03-02  Toru Maesaka  <dev@torum.net>

	Worked on the B+Tree comparison function to take the key suffix into account.

2010-03-01  Toru Maesaka  <dev@torum.net>

	Fixed DATE index failure and added tests for it.

2010-02-26  Toru Maesaka  <dev@torum.net>

	Added a test file for range queries. Turns out DATE index needs to be fixed.

2010-02-26  Toru Maesaka  <dev@torum.net>

	More work on NULLable keys. Supported direct B+Tree lookup and added tests for it.

2010-02-25  Toru Maesaka  <dev@torum.net>

	Worked on reducing the execution path of row insertion and supported NULL for key values. Added tests for NULL values in full index scan.

2010-02-25  Toru Maesaka  <dev@torum.net>

	Fixed the B+Tree comparator to respect the NULL indication byte in a key for NULLable columns.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	BlitzDB build fixes for drizzle changes: system status variable and DRIZZLE_PLUGIN

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	merge Drizzle trunk

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	update blitzdb test suite to always load the plugin

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	use --sorted_result for a select * from t1; query in blitzdb-index.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	don't load blitzdb plugin by default, just keep it modular

2010-02-23  Toru Maesaka  <dev@torum.net>

	Supported secondary index insertion, Added meta information on the B+Tree cursor and some tests.

2010-02-23  Toru Maesaka  <dev@torum.net>

	Removed dead variables, shuffled ha_blitz class around and added a 1KB buffer for exclusive use on keeping track of keys.

2010-02-19  Toru Maesaka  <dev@torum.net>

	Added more tests for textual data, DATE type, join syntax and boundary.

2010-02-19  Toru Maesaka  <dev@torum.net>

	Added more tests to BlitzDB's test suite.

2010-02-17  Toru Maesaka  <dev@torum.net>

	Implemented reverse index scan and added tests for it. Fixed a bug in delete_all_rows().

2010-02-17  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-02-16  Toru Maesaka  <dev@torum.net>

	Added more tests for index scan and DECIMAL type. B+Tree handling code is slightly slimmer now.

2010-02-16  Toru Maesaka  <dev@torum.net>

	Implemented forward index scan and basic tests for it. More tests to come.

2010-02-15  Toru Maesaka  <dev@torum.net>

	Provided TC's B+Tree cursor object to each individual BlitzTree classes.

2010-02-13  Toru Maesaka  <dev@torum.net>

	Optimized key generation (much leaner keys). Wrote a workaround for a HA_KEYTYPE_VARTEXT1 bug in Drizzle's Field_varstring. Added tests for a VARCHAR field less than 255 bytes.

2010-02-10  Toru Maesaka  <dev@torum.net>

	Added basic JOIN tests, optimized B+Tree usage and added slotted lock to write_row().

2010-02-09  Toru Maesaka  <dev@torum.net>

	Further hack on the key comparator. Use HA_KEYTYPE instead of DRIZZLE_TYPE. Added support for TIMESTAMP and DATETIME.

2010-02-08  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-02-05  Toru Maesaka  <dev@torum.net>

	Started hacking on the key comparator for B+Tree indexes. INT, BIGINT, DOUBLE and VARCHAR types are now supported. More to come.

2010-02-03  Toru Maesaka  <dev@torum.net>

	Extract useful key information from the internal KEY structure at open() and keep it in BlitzDB.

2010-02-01  Toru Maesaka  <dev@torum.net>

	Reworked the key packer to support null fields and deleted now a redundant function: pack_index_key_from_row().

2010-01-29  Toru Maesaka  <dev@torum.net>

	More work on indexing component. PK now gets a tree.

2010-01-27  Toru Maesaka  <dev@torum.net>

	Added a slotted lock mechanism to BlitzLock. This is used to atomically update the index file(s) and the data dictionary with concurrency in mind.

2010-01-27  Toru Maesaka  <dev@torum.net>

	Added code to allocate/deallocate b+tree indexes.

2010-01-25  Toru Maesaka  <dev@torum.net>

	Made index file(s) droppable and renamable.

2010-01-25  Toru Maesaka  <dev@torum.net>

	Separated the codebase for Data Dictionary and System Table. TC object is no longer exposed to the handler.

2010-01-25  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-01-22  Toru Maesaka  <dev@torum.net>

	Write the number of keys to TC's Meta Buffer on table creation. Made minor changes to BlitzTree's interface.

2010-01-22  Toru Maesaka  <dev@torum.net>

	Use TC's Meta Buffer for storing auto increment value instead of the system table. Fixed a valgrind warning too.

2010-01-21  Toru Maesaka  <dev@torum.net>

	Added a wrapper to access tc_meta_buffer. Our new policy is to not directly use it.

2010-01-20  Toru Maesaka  <dev@torum.net>

	Added UNIQUE constraint check on fixed length fields and more tests. Moved get_share() to ha_blitz class.

2010-01-19  Toru Maesaka  <dev@torum.net>

	Added UNIQUE constraint check for UPDATE queries on VARCHAR key(s) and some tests for it.

2010-01-18  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2010-01-14  Toru Maesaka  <dev@torum.net>

	Fixed the bug on tables with only 1 row and added a new test file for testing JOIN operations.

2010-01-12  Toru Maesaka  <dev@torum.net>

	Obtain memory for key packing from heap instead from the stack. Minor memory handling changes in write_row() and code-cosmetic changes.

2010-01-08  Toru Maesaka  <dev@torum.net>

	Enabled HTON_STATS_RECORDS_IS_EXACT for fast COUNT operation and added tests for it.

2010-01-07  Toru Maesaka  <dev@torum.net>

	Supported VARCHAR to be usable as index key(s). Also added basic tests where VARCHAR is used as PK.

2010-01-05  Toru Maesaka  <dev@torum.net>

	Added Auto Increment support on INSERT and tests for it. Nextup: UPDATE.

2010-01-04  Toru Maesaka  <dev@torum.net>

	Merged Monty Taylor's out-of-tree repo.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	Updated for out of tree builds.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Made blitzdb work with out of tree builds.

2010-01-04  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2009-12-25  Toru Maesaka  <dev@torum.net>

	Removed all thr_lock related code. Supported primary key based deletion and added a test for it.

2009-12-24  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk

2009-12-22  Toru Maesaka  <dev@torum.net>

	Implemented index_read() and index_read_idx() for PK and added a simple needle in a haystack test.

2009-12-21  Toru Maesaka  <dev@torum.net>

	Added index_init() and index_first() for Primary Keys.

2009-12-21  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk.

2009-12-21  Toru Maesaka  <dev@torum.net>

	Separated the index key packing mechanism to it's own function. Primary Key data is now stored on it's own thread local buffer.

2009-12-18  Toru Maesaka  <dev@torum.net>

	Added basic index key handling. Started working on PRIMARY KEY support and added tests for it.

2009-12-17  Toru Maesaka  <dev@torum.net>

	Resolve Primary Key and cleanup BlitzData API. Index Support Prep Work 2.

2009-12-16  Toru Maesaka  <dev@torum.net>

	Added appropriate locking for ALTER TABLE and test case for it. Record the number of indexes in BlitzShare.

2009-12-15  Toru Maesaka  <dev@torum.net>

	Started hacking on indexing. Prep Work 1.

2009-12-14  Toru Maesaka  <dev@torum.net>

	Remove store_lock() because BlitzDB does it's own concurrency control.

2009-12-14  Toru Maesaka  <dev@torum.net>

	Remove redundant calculation in row packing mechanism.

2009-12-13  Toru Maesaka  <dev@torum.net>

	Merged Drizzle's Trunk and shuffled BlitzDB's test files to fit the new layout.

2009-12-11  Toru Maesaka  <dev@torum.net>

	Use Drizzle's atomic memory access wrapper to generate hidden row IDs.

2009-12-09  Toru Maesaka  <dev@torum.net>

	Supported UPDATEs with ORDER BY and added a test for it.

2009-12-09  Toru Maesaka  <dev@torum.net>

	Reworked position() and rnd_pos(). Started reworking update_row() for UPDATES with ORDER BY.

2009-12-09  Toru Maesaka  <dev@torum.net>

	Catch up with Drizzle's Storage API and started reworking position() and rnd_pos().

2009-12-08  Toru Maesaka  <dev@torum.net>

	Added a simple test case for BlitzDB.

2009-12-07  Toru Maesaka  <dev@torum.net>

	Initial import of Project BlitzDB.

2010-06-16  Monty Taylor  <mordred@inaugust.com>

	Merged Brian's TableShare key usage from lp:~brianaker/drizzle/tableshare-key

2010-06-16  Brian Aker  <brian@gaz>

	Merge of trunk.

2010-06-16  Brian Aker  <brian@gaz>

	Update for TableShare usage of key (remove a case where we had to build it). 

2010-06-16  Monty Taylor  <mordred@inaugust.com>

	Merged Vijay's refactoring of drizzletest from
	lp:~vjsamuel/drizzle/refactor-drizzletest

2010-06-16  Vijay Samuel  <vijay@vijay>

	Merge fix for opt_pass.

2010-06-16  Vijay Samuel  <vijay@vijay>

	Merge fixes for opt_pass.

2010-06-16  Vijay Samuel  <vijay@vijay>

	Re merged with trunk

2010-06-16  Vijay Samuel  <vijay@vijay>

	Merge trunk

2010-06-15  Vijay Samuel  <vijay@vijay>

	Merge fixes for password.

2010-06-15  Vijay Samuel  <vijay@vijay>

	Merge re factor drizzletest.

2010-06-13  Vijay Samuel  <vijay@vijay>

	Merge

2010-06-15  Vijay Samuel  <vijay@vijay>

	Merge refactor drizzletest

2010-06-16  Monty Taylor  <mordred@inaugust.com>

	Fixed a non-initialized issue on OSX.

2010-06-15  Monty Taylor  <mordred@inaugust.com>

	Merged Joe Daly from lp:~skinny.moey/drizzle/fix_global_stats

2010-06-15  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-06-15  Joe Daly  <skinny.moey@gmail.com>

	update GLOBAL_STATEMENTS logic it was not including a sum of the current scoreboard only sessions that had terminated

2010-06-15  Monty Taylor  <mordred@inaugust.com>

	Fixed a missing make distcheck entry.

2010-06-15  Monty Taylor  <mordred@inaugust.com>

	Merged Pawel from lp:~pblokus/drizzle/unittests-plugin-interfaces

2010-06-10  Paweł Blokus  <pawel@pawel-desktop>

	authentication plugin tests

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	ErrorMessage stub
	set up everything for ErrorMessage interface tests

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	minor style fixes

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	tests for plugin::Client

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	merger  with unittests

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	updated includes to last file rename

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	renamed genarator files to temporal_generator

2010-06-09  Paweł Blokus  <pawel@pawel-desktop>

	changed Generator to TemporalGenerator

2010-06-07  Paweł Blokus  <pawel@pawel-desktop>

	fixed some style issues and decided on buffer size in temporal_interval_test

2010-06-07  Paweł Blokus  <pawel@pawel-desktop>

	take microsedonds into account where they are used in datetime and time

2010-06-07  Paweł Blokus  <pawel@pawel-desktop>

	fix/hack? which makes parameterized tests compile
	date format tests
	separated tests for format groups in datetime

2010-06-07  Paweł Blokus  <pawel@pawel-desktop>

	setters to TemporalInterval
	generator for temporalInterval
	Temporalinterval::addDate tests

2010-06-06  Paweł Blokus  <pawel@pawel-desktop>

	little fix in include.am 
	fixed temporal_format_test to compile
	fixed temporal_interval_test and main so that environment gets initialized properly before tests
	tests for TemporalInterval::initFromItem
	fixed bug in TemporalInterval::getIntervalFromString, which caused microseconds not to get expanded, when high end elements were not present

2010-06-05  Paweł Blokus  <pawel@pawel-desktop>

	merged with latest trunk

2010-06-05  Paweł Blokus  <pawel@pawel-desktop>

	tests for init/deinit_temporal_formats
	first try of making a test for temporal_interval
	added getters to temporal interval
	changed existing getters to inlines
	little correction of a comment in temporal_interval

2010-06-04  Paweł Blokus  <pawel@pawel-desktop>

	removed TemporalInterval speciaslisation classes

2010-06-03  Paweł Blokus  <pawel@pawel-desktop>

	tests for to_decimal methods
	parameterized tests for more formats possible for from_strings, however they don't compile ATM so I commented them out

2010-06-03  Paweł Blokus  <pawel@pawel-desktop>

	created or modified all to_int**_t and from_int**_t function tests

2010-06-03  Paweł Blokus  <pawel@pawel-desktop>

	this was the first working build, and these changes make almost all the tests pass
	
	removed unnecessary tests
	added [init/deinit]_temporal_formats calls in tests
	bug fixes in tests
	call set_epoch_seconds in generators
	
	disabled tests where the API needs calrification
	
	fixed Timestamp and Date > and >= operators
	fixed Time::from_int32_t
	changed comment in temporal.h to reflact actual way code is working

2010-06-02  Paweł Blokus  <pawel@pawel-desktop>

	merged montys unittests branch, building is finally possible

2010-06-01  Monty Taylor  <mordred@inaugust.com>

	Fix the linking issue in the unittests dir.

2010-05-29  Monty Taylor  <mordred@inaugust.com>

	Merged from pblokus.

2010-06-01  Paweł Blokus  <pawel@pawel-desktop>

	added generator for TemporalFormat
	added tests for TemporalFormat

2010-05-31  Paweł Blokus  <pawel@pawel-desktop>

	added missing time component parameters to timestamp generator
	test for Date::operator=
	added generators for micro and nano timestamps
	tests for:
	Timestamp
	MicroTimestamp
	NanoTimestamp
	cleanup of include.am file
	fixed minor style issues

2010-05-30  Paweł Blokus  <pawel@pawel-desktop>

	changed file names from ClassName_test to class_name_test

2010-05-29  Paweł Blokus  <pawel@pawel-desktop>

	moved shared generators to Temporal
	added file for DateTime tests
	added tests for DateTime

2010-05-29  Paweł Blokus  <pawel@pawel-desktop>

	changed int to uint32_t where necessary

2010-05-29  Paweł Blokus  <pawel@pawel-desktop>

	added Time_test to include.am
	added TimeGen class to generators
	added tests Time members

2010-05-29  Paweł Blokus  <pawel@pawel-desktop>

	merged latest trunk

2010-05-29  Paweł Blokus  <pawel@pawel-desktop>

	tests for Time compare operators

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	renamed temporal_test.cc to Date_test.cc

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	test for Date::from_time_t

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	added tests for:
	Date::to_string
	Date::from_string
	Date::to_int32_t
	Date::from_int32_t
	Date::to_julian_day_number
	Date::from_julian_day_number
	Date::to_tm
	Date::from_tm
	Date::to_time_t

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	use ASSERT_TRUE/ASSERT_FALSE where possible

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	result variable declered in fixture insted of every single test
	added tests for Date::in_unix_epoch

2010-05-28  Paweł Blokus  <pawel@pawel-desktop>

	tests for Date->is_valid()

2010-05-27  Paweł Blokus  <pawel@pawel-desktop>

	removed all the repeated tests for different temporal descendants by making a typed test

2010-05-27  Paweł Blokus  <pawel@pawel-desktop>

	merged mtaylors unittests branch

2010-05-27  Paweł Blokus  <pawel@pawel-desktop>

	little fixes to make last changes compile

2010-05-25  Paweł Blokus  <pawel@pawel-desktop>

	added tests for Date operators used for comparing with timestamps

2010-05-25  Paweł Blokus  <pawel@pawel-desktop>

	removed an undefined character from the decimal.cc file
	added tests for date-datetime comparison

2010-05-25  Paweł Blokus  <pawel@pawel-desktop>

	merged montys unit test branch

2010-05-25  Paweł Blokus  <pawel@pawel-desktop>

	better naming for test cases
	added tests for > operator for Date-Date comparison

2010-05-25  Paweł Blokus  <pawel@pawel-desktop>

	created files for temporal tests
	created generator class
	tests for == and != operators for Date-Date comparison

2010-06-15  Monty Taylor  <mordred@inaugust.com>

	Added include.

2010-06-15  Brian Aker  <brian@gaz>

	This is a rollup set of patches for modifications to TableIdentifier to have
	a getKey() which is now used for open_cache and table_share_def cache. This
	also includes additional unittests on TableIdentifier, and makes use of some
	cleanup, though not perfect, to TableShare for its contructors.

2010-06-14  Brian Aker  <brian@gaz>

	Merge Joe.

2010-06-14  Joe Daly  <skinny.moey@gmail.com>

	bug 584046 , fix last_query_cost

2010-06-13  Brian Aker  <brian@gaz>

	Discovery that create table like was not going through replication path
	correctly.

2010-06-12  Brian Aker  <brian@gaz>

	MErge VJ

2010-06-10  Vijay Samuel  <vijay@vijay>

	Merge Fixes for client drizzle.

2010-06-10  Vijay Samuel  <vijay@vijay>

	Merge fix for Solaris.

2010-06-10  Vijay Samuel  <vijay@vijay>

	Merge re factored commandline option and configuration file processing using boost::program_options.

2010-06-12  Brian Aker  <brian@gaz>

	Merge Joe

2010-06-10  Joe Daly  <skinny.moey@gmail.com>

	change back to the original value, this was changed to try and debug a solaris failure

2010-06-10  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-06-09  Joe Daly  <skinny.moey@gmail.com>

	fix up iterator not being initialized

2010-06-08  Joe Daly  <skinny.moey@gmail.com>

	test possible fix for solaris

2010-06-08  Joe Daly  <skinny.moey@gmail.com>

	update comments in various files

2010-06-08  Joe Daly  <skinny.moey@gmail.com>

	add call to show global status the main tests do not have one

2010-06-08  Joe Daly  <skinny.moey@gmail.com>

	merge trunk, and remove current_session reference in status_tool.cc

2010-06-07  Joe Daly  <skinny.moey@gmail.com>

	add missing guard in header

2010-06-07  Joe Daly  <skinny.moey@gmail.com>

	add a index in session.h this will allow repeated lookups without having to iterate through the scoreboard looking for our slot

2010-06-07  Joe Daly  <skinny.moey@gmail.com>

	move GPL code back to the core from logging_stats plugin

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	remove functions that add/diff status_var this functionality is in the logging_stats plugin

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	update tests now that status var information was removed by user

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	remove a class that was for debug purposes, as well as remove a function that was for debug purposes

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	fix compiler warning (hopefully) change lu to PRIu64

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	plugin.ini was missing header files

2010-06-06  Joe Daly  <skinny.moey@gmail.com>

	add missing header file, and change ha_statistic_increment from ulong to uint64_t

2010-06-04  Joe Daly  <skinny.moey@gmail.com>

	get tests working

2010-06-03  Joe Daly  <skinny.moey@gmail.com>

	remove last of status var logic except for struct definition

2010-06-03  Joe Daly  <skinny.moey@gmail.com>

	remove global_status_var

2010-06-03  Joe Daly  <skinny.moey@gmail.com>

	try and create some logic with header files, and implement flush status properly

2010-06-03  Joe Daly  <skinny.moey@gmail.com>

	remove more bits related to old show status

2010-06-02  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-06-02  Joe Daly  <skinny.moey@gmail.com>

	remove old SESSION_STATUS tables, add new ones

2010-06-01  Joe Daly  <skinny.moey@gmail.com>

	global status changes, will need updates to combine session and global status to a realistic class structure

2010-05-31  Joe Daly  <skinny.moey@gmail.com>

	working SESSION_STATUS table

2010-05-27  Joe Daly  <skinny.moey@gmail.com>

	add session_status_new

2010-05-26  Joe Daly  <skinny.moey@gmail.com>

	add status_vars to scoreboard, initial pass

2010-06-11  Brian Aker  <brian@gaz>

	Fix solaris warning. 

2010-06-11  Brian Aker  <brian@gaz>

	Merge Monty

2010-06-10  Monty Taylor  <mordred@inaugust.com>

	Changed the way we generated configmake.h - this time with working

2010-06-09  Monty Taylor  <mordred@inaugust.com>

	Added back direct link of libprotobuf. Fedora13 apparently wants this during
	RPM creation.

2010-06-09  Monty Taylor  <mordred@inaugust.com>

	Changed the way we generated configmake.h to prevent it from being
	erroneously included in dist tarballs.

2010-06-11  Brian Aker  <brian@gaz>

	MErge up CSV.

2010-06-10  Zimin  <ziminq@gmail.com>

	refactor CSV engine's tina_set
	this eliminates hand-made list and make the code more concise.

2010-06-11  Brian Aker  <brian@gaz>

	Merge in some recent changes to tableshare.

2010-06-11  Brian Aker  <brian@gaz>

	Update for having share declared type.

2010-06-10  Brian Aker  <brian@gaz>

	Encapsulate type for TableShare.

2010-06-10  Brian Aker  <brian@gaz>

	Move constructors to .cc file.

2010-06-09  Brian Aker  <brian@gaz>

	Modified to table identifier to fix temporary table creation loss of file.

2010-06-11  Brian Aker  <brian@gaz>

	Rollup merge.

2010-06-09  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris protobuf warnings issue.

2010-06-09  Brian Aker  <brian@gaz>

	Merge enum test

2010-06-09  Brian Aker  <brian@gaz>

	Merge David

2010-06-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Made the boost::format object reusable.

2010-06-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Replace static buffers with std::string.

2010-06-08  Brian Aker  <brian@gaz>

	This encapsulates prev/next.

2010-06-07  Brian Aker  <brian@gaz>

	Cursor now fully handles the update to timestamp for the engine.

2010-06-07  Brian Aker  <brian@gaz>

	datetime was still allowing an alter table with an invalid date.

2010-06-07  Brian Aker  <brian@gaz>

	Remove current_session from myisam.

2010-06-07  Brian Aker  <brian@gaz>

	REmove current_session for heap, show temp

2010-06-07  Brian Aker  <brian@gaz>

	Remove current_session from usage in table stats logging.

2010-06-07  Brian Aker  <brian@gaz>

	Update for current_session removal.

2010-06-07  Brian Aker  <brian@gaz>

	Move functions to class methods.

2010-06-06  Brian Aker  <brian@gaz>

	Rollup patch. Mainly has current_session removed.

2010-06-04  Brian Aker  <brian@gir>

	Additional current_session removal

2010-06-04  Brian Aker  <brian@gir>

	Additional removal of current_session

2010-06-04  Brian Aker  <brian@gir>

	Merge records changes.

2010-06-04  Brian Aker  <brian@gir>

	Mege in change from main.

2010-06-03  Brian Aker  <brian@gir-2.local>

	No NULL currently used in printing.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Removed current_session for use to find out current session divide value.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Remove current_session (which... would not even be set yet, so would be
	NULL). All current error modules do not require the value.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Remove error message for less effective one, but remove current_session().
	Basic problem? We need to factor out the SE error call bits. They are all
	over the place right now.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Factor out conversion of charset (since we don't have more then one...).

2010-06-03  Brian Aker  <brian@gir-2.local>

	More current_session removal.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Remove ha_session.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Remove ha_session where table->in_use should have been checked.

2010-06-06  Brian Aker  <brian@gaz>

	Merge Andrew.

2010-06-05  Andrew Hutchings  <Andrew.Hutchings@Sun.COM>

	Ignore all databases that have tables with non-standard engines.
	This should ignore I_S and D_D and anything else we add later.

2010-06-06  Brian Aker  <brian@gaz>

	NULL Merge.

2010-06-05  Monty Taylor  <mordred@inaugust.com>

	Merged in:
	Stewart's rand() -> plugin.
	Vijay's refactoring of client/drizzle.cc to use boost::program_options
	Monty's removal of drizzled/libinternal.la from client/drizzle.cc
	And some various bug and build fixes.

2010-06-06  Brian Aker  <brian@gaz>

	Merge Monty

2010-06-06  Monty Taylor  <mordred@inaugust.com>

	Fixed TableIdentifier sorting. The customer operator<() wasn't getting called on Sun Studio.

2010-06-05  Monty Taylor  <mordred@inaugust.com>

	Modified hash function into a function object so that Sun Studio would
	deal with it properly as a template param.

2010-06-05  Monty Taylor  <mordred@inaugust.com>

	Removed LTLIBPROTOBUF from direct drizzled linking - it comes in through
	libdrizzledmessage which is a shared lib, so we're getting it from there.
	Removes some duplicate linking warnings on Solaris.

2010-06-05  Monty Taylor  <mordred@inaugust.com>

	Merged in remove-internal-from-drizzle-cc

2010-06-05  Monty Taylor  <mordred@inaugust.com>

	The default value for database should not be "test".

2010-06-04  Monty Taylor  <mordred@inaugust.com>

	Remove special behavior of 0.

2010-06-04  Monty Taylor  <mordred@inaugust.com>

	Merged from VJ.

2010-06-04  Vijay Samuel  <vijay@vijay>

	Merge fix for additional parser for --password.

2010-06-04  Monty Taylor  <mordred@inaugust.com>

	Replaced the snowman sentinel with a series of nulls. As it is physically
	impossible for someone to use this as a password, we should be ok here.

2010-06-04  Monty Taylor  <mordred@inaugust.com>

	Merged latest from vijay.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Merge patch for sql_connect() and style issue.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Merge OSX fix for client drizzle.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Client drizzle final version with all changes.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Added unittests for utf8 header.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Merged with build.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Added first bit of unittest.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Cleaned up comments.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Include cerrno for ENOMEM on FreeBSD.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Moved function from drizzle client to the utf8 header where it belongs.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Removed UTF-8 lib that we don't use.
	Changed another UTF-8 lib that is in use to be template functions rather
	than macros.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Changed num_cells to use std::string.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Fixed utf-8 space handling in client output.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Removed more C-string strings. replaced with std::string.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Added in proper check for mb quality before skipping based on mb length.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Removed the last vestiges of my_sys from drizzle.cc.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Removed the need for drizzled::internal usage in drizzle.cc.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Merged in changes from slap.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Drizzle client completely refactored using boost::program_options.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Client completely refactored using boost::program_options.

2010-06-02  Vijay Samuel  <vijay@vijay>

	Client refactored completely using boost::program_options.

2010-06-02  Vijay Samuel  <vijay@vijay>

	Client refactored.

2010-06-02  Vijay Samuel  <vijay@vijay>

	Refactor drizzle client.

2010-06-02  Vijay Samuel  <vijay@vijay>

	Refactored command line options for the drizzle client.

2010-06-02  Vijay Samuel  <vijay@vijay>

	Refactored Client

2010-06-02  Vijay Samuel  <vijay@vijay>

	Refactored client.

2010-06-01  Vijay Samuel  <vijay@vijay>

	Refactored drizzle client. 

2010-06-01  Vijay Samuel  <vijay@vijay>

	Client refactored.

2010-05-28  Jay Pipes  <jpipes@serialcoder>

	Some style fixes and removal of deprecated stuff...

2010-05-28  Jay Pipes  <jpipes@serialcoder>

	Remove unnecessary check methods.  GCC throws errors of comparison is always true due to limited range of data type [-Wtype-limits]

2010-05-28  Vijay Samuel  <vijay@vijay>

	Refactored drizzle client.

2010-05-28  Vijay Samuel  <vijay@vijay>

	Refactoring of the drizzle client.

2010-06-05  Brian Aker  <brian@gaz>

	rand() merge from Stewart.

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	move RAND() tests from func_math into rand_function/tests/ - there's a lot of them (not).

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	move RAND() into a plugin

2010-06-05  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	re-enable commented out parts of enum test and update for drizzle.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	Add a test for what the MySQL bug2077 test in type_enum.test was probably meant to be doing - testing hex default values ended up as the proper string a ä in utf8

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	re-enable mysql bug2077 test in type_enum.test - we are a bit different and this possibly exposes an actual bug about valid utf8 and enum.

2010-06-05  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	Fix assertion failure on HAVING subquery. Drizzle bug lp:588408 (MySQL bug 46680 - http://bugs.mysql.com/bug.php?id=46680).

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	update bug lp:588408 for Drizzle EXPLAIN results

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	add test (straight from bug report) for bug lp:588408

2010-06-04  Brian Aker  <brian@gaz>

	Merge in Barry.

2010-06-04  Barry.Leslie@PrimeBase.com

	Changed the table event observers to pass the 'Table' not the TableShare' to the observers.
	Also added some usefull utility methods to the Table class.

2010-06-04  Brian Aker  <brian@gaz>

	Merge for getTable() to have its own getField.* type methods. 

2010-06-04  Brian Aker  <brian@gir>

	Merge in change to getTable() to private the field objects.

2010-06-04  Brian Aker  <brian@gaz>

	Small bits of field abstraction.

2010-06-04  Brian Aker  <brian@gir>

	Merge of additions to Field abstraction.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Additional pass through to remove raw field access.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Use iterator for Field in share creation.

2010-06-04  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	have a constant for the maximum number of enum elements

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	fix storage, display and sorting of enum with 65536 elements.

2010-06-04  Stewart Smith  <stewart@flamingspork.com>

	test for bug lp:589497 maximum number of ENUM elements

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	Fix parsing the table proto message so that an error is returned (ER_CORRUPT_TABLE_DEFINITION) if there are too many elements for an ENUM column.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	switch check_duplicates_in_interval() over to use a boost::unordered_set. Keep using the same comparison operator (whatever the charset/collation). Changes from O(N^2) to O(N) execution. Reduces a test case execution time for 2^16 enum elements from over 4 minutes to less than half a second. The 'real' fix is to get rid of TYPELIB of course.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	add a test for creating a table with an ENUM column with more than the maximum number of elements (in this case, we try 70,000 elements). The query should fail (it doesn't, see bug lp:589031).

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	we need to increase MAX_QUERY size in drizzletest to run a query to test if we can properly create an ENUM column that has more than the maximum number of elements

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	test case for SHOW CREATE TABLE for a table proto that has too many enum values. table proto is generated by tableprototester test engine.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	add a too_many_enum_options table to tableprototester. It seems as if we don't get a corruption warning/error if an engine presents a table with > 2^16 enum options (anything over 2^16 is not representable in 2 bytes of storage, so is invalid).

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	update tableprototester missing_engine test to not do a SHOW TABLES of every table provided by the prototester.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	fix trailing whitespace in field/enum

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	remove unused pack_length_from_metadata() from Field_enum

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	cleanup unused code in Field_enum. There was never a packlength of 4 or 8, so get rid of it. This should also dramatically increase our code coverage, because we remove useless unused code.

2010-06-03  Stewart Smith  <stewart@flamingspork.com>

	fix trailing whitespace in field/enum

2010-06-03  Brian Aker  <brian@gaz>

	Merge row.

2010-06-03  Brian Aker  <brian@gaz>

	Revert records

2010-06-03  Brian Aker  <brian@gir-2.local>

	This removes a couple of additional uses of current_session.

2010-06-03  Brian Aker  <brian@gir-2.local>

	PAss through the code removing current_session

2010-06-02  Brian Aker  <brian@gir-2.local>

	Simple code {} commit (aka style)

2010-06-02  Brian Aker  <brian@gir-2.local>

	Modification to use std::vector

2010-06-02  Brian Aker  <brian@gir-2.local>

	Modify merge-buffer to use std::vector in one location (just curious to see
	if this shows up on benchmarks).

2010-06-02  Brian Aker  <brian@gir-2.local>

	Small syntax update.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Modify cache to be a vector.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Remove memset call around IO_CACHE.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Remove pthread mutex that is no longer used (since IO_CACHE is single
	threaded it is not needed).

2010-06-01  Brian Aker  <brian@gir-2.local>

	Remove dead code in IO_CACHE for shared access.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Remove memset() operation in readrecord.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Static/contain the only function that was seen outside of records.cc

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build issue.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Mereged fix of InnoDB autoincrement behavior.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	remove redundant part from innodb.test, it's now in auto_increment_update.test, along with behaviour change to match MyISAM.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	Make innobase auto_increment behaviour be the same as MyISAM on UPDATE. We also fix up auto_increment.result as the previous result was incorrect (we now match the mysql myisam test result). Also add a basic test (from the bug report) for the correct functionality

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Merged in atomic unittest expansion.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Removed old unittests info from .bzrignore. Added new one.

2010-06-03  Monty Taylor  <mordred@inaugust.com>

	Merged up with latest pandora macros to roll up things we've added directly
	in tree here.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.133

2010-05-31  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.131

2010-05-31  Monty Taylor  <mordred@inaugust.com>

	Updated the project name so that quickly add works properly

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Force the deletion of check_PROGRAMS files ... bug in automake 1.9.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Updated AM_INIT_AUTOMAKE to work with atomics test on automake 1.9. (I hate RHEL)

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Rearragned unittests into a single exe because of how we need to link it
	(thanks lifeless)
	Link with server symbols without needing to build a library.
	Added an additional atomics test which tests whatever version of the atomics
	lib the running platform would actually use.

2010-06-03  Brian Aker  <brian@gaz>

	Merge Brian, mostly encapsulation around TableShare.

2010-06-03  Brian Aker  <brian@gir-2.local>

	Removed where we had field set to zero.

2010-06-02  Brian Aker  <brian@gir-2.local>

	Use the Fields generated from share for Table.

2010-06-02  Brian Aker  <brian@gir-2.local>

	keys and fields partial encapsulation.

2010-06-02  Brian Aker  <brian@gir-2.local>

	Simplify ha_open.

2010-06-02  Brian Aker  <brian@gir-2.local>

	Encapsulate record length.

2010-06-02  Brian Aker  <brian@gir-2.local>

	Move Field to being a vector.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Encapsulate timestamp field in table share.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Encapsulate name lock.

2010-06-01  Brian Aker  <brian@gir-2.local>

	More encapsulation of table Share, this time table count.

2010-06-01  Brian Aker  <brian@gir-2.local>

	Take version and encapsulate it in TableShare

2010-06-01  Brian Aker  <brian@gir-2.local>

	Const'ize TableShare methods (first pass, not completed)

2010-06-01  Brian Aker  <brian@gir-2.local>

	Make init() methods private in TableShare.

2010-06-03  Brian Aker  <brian@gaz>

	Fix for compiler warning.

2010-06-02  Brian Aker  <brian@gaz>

	Merge in Stewart's Embedded work.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-bug586348-merge into embedded-innodb-isolation-level.

2010-06-02  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-06-01  Stewart Smith  <stewart@flamingspork.com>

	static cast to EmbeddedInnoDBEngine, we don't need reinterpret in this path

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	add test for embedded_innodb serializable isolation level (a basic test that is)

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	support correct isolation levels for Embedded InnoDB. READ COMMITTED doesn't work because of bug lp:587772 - it doesn't work for innobase either. We also add tests for READ UNCOMMITTED and REPEATABLE READ

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	merge atomics fix

2010-06-02  Brian Aker  <brian@gaz>

	Merge auth_ldap information.

2010-05-05  Edward "Koko" Konetzko  <konetzed@quixoticagony.com>

	check in first version of the schema for plugin auth_ldap

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Merged in update of drizzleslap build warning suppression.

2010-06-03  Vijay Samuel  <vijay@vijay>

	Slap completely refactored using boost::program_options.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Added an additional warning solaris can't deal with.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Added boostskip warnings flags to client progs on osx where gcc is too old
	to handle it.

2010-06-02  Monty Taylor  <mordred@inaugust.com>

	Added a suppression for boost for OSX.

2010-06-02  Brian Aker  <brian@gaz>

	MErge VJ

2010-06-02  Vijay Samuel  <vijay@vijay>

	slap completely refactored using boost::program_options.

2010-05-27  Vijay Samuel  <vijay@vijay>

	Slap completely refactored using boost::program_options.

2010-05-25  Vijay Samuel  <vijay@vijay>

	Slap completely refactored using boost::program_options.

2010-05-25  Vijay Samuel  <vijay@vijay>

	Slap completely refactored with boost::program_options.

2010-05-25  Vijay Samuel  <vijay@vijay>

	Slap completely refactored with boost::program_options.

2010-05-24  Vijay Samuel  <vijay@vijay>

	refactored command line for drizzleslap using boost::program_options.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Fixed the centos issue.

2010-05-24  Vijay Samuel  <vijay@vijay>

	Refactored command line for drizzleslap using boost::program_options

2010-05-23  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-23  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-22  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-22  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-21  Vijay Samuel  <vijay@vijay>

	Completely refactored commandline options for drizzleslap

2010-05-21  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-21  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Refactored command line options for slap using boost::program_options

2010-05-20  Vijay Samuel  <vijay@vijay>

	Slap refactored with boost::program_options. 

2010-05-20  Vijay Samuel  <vijay@vijay>

	updated slap

2010-05-19  Vijay Samuel  <vijay@vijay>

	Updated Slap

2010-05-19  Vijay Samuel  <vijay@vijay>

	updated slap

2010-05-19  Vijay Samuel  <vijay@vijay>

	Updated Slap

2010-05-19  Vijay Samuel  <vijay@vijay>

	Updated slap

2010-05-18  Vijay Samuel  <vijay@vijay>

	Updated Slap

2010-05-18  Vijay Samuel  <vijay@vijay>

	Updated Slap code

2010-05-18  Vijay Samuel  <vijay@vijay>

	Updated slap code

2010-05-17  Vijay Samuel  <vijay@vijay>

	Slap refactored

2010-06-01  Monty Taylor  <mordred@inaugust.com>

	Merged in pthread atomics unittests and archive_reader
	boost::program_options, with build fixes for solaris.

2010-06-01  Monty Taylor  <mordred@inaugust.com>

	Added suppression of warning for boost on solaris.

2010-06-01  Monty Taylor  <mordred@inaugust.com>

	Removed inclusion of cstdint from atomic unittest. We pre-include stdint
	inside of config.h because it's hard to get it right. (who has what where)

2010-06-01  Brian Aker  <brian@gaz>

	This just factors out command line usage for archive. Same state as before,
	not tests (I think I may just solve that...).

2010-05-26  Vijay Samuel  <vijay@vijay>

	Command line of archive_reader refactored with boost::program_options.

2010-05-24  Vijay Samuel  <vijay@vijay>

	Archive_reader command-line completely refactored using boost::program_options.

2010-05-24  Vijay Samuel  <vijay@vijay>

	archive_reader completely refactored using boost::program_options.

2010-05-23  Vijay Samuel  <vijay@vijay>

	Refactor archive_reader

2010-06-01  Brian Aker  <brian@gaz>

	Yep, Moo.... this will probably slow down the valgrind test.

2010-06-01  Brian Aker  <brian@gaz>

	Merge stewart, Monty, and pawel. Unittesting framework.

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	fix pthread atomics. operator precedence is important. The unit test now passes.

2010-05-31  Stewart Smith  <stewart@flamingspork.com>

	add unit test for pthread based atomics. It fails. Why? because the implementation is broken.

2010-05-26  Monty Taylor  <mordred@inaugust.com>

	Made gtest optional.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Removed duplicate check.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Added gnulib build dep.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Fixed to work without libdrizzled.la.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-04-19  Monty Taylor  <mordred@inaugust.com>

	Hook in to autoconf and automake.

2010-04-19  Monty Taylor  <mordred@inaugust.com>

	Merged Pawel.

2010-04-03  pawel  <pawel@paw>

	primitive integration of the testing framework with the building process
	created simple tests for drizzled/calendar
	removed unused code from drizzled/calendar

2010-05-28  Brian Aker  <brian@gir>

	Merge Brian

2010-05-28  Brian Aker  <brian@gaz>

	Blob now allocated via vector

2010-05-28  Brian Aker  <brian@gaz>

	Remove interval allocation via memroot.

2010-05-28  Brian Aker  <brian@gaz>

	Merge Stewart/Jay

2010-05-28  Brian Aker  <brian@gaz>

	Merge Stewart (who merged Jay).

2010-05-28  Stewart Smith  <stewart@flamingspork.com>

	merge bug 552420 fix with current embedded_innodb tree. this fixes implicit start transaction in doStartTableScan.

2010-04-30  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug #552420. Because the copied-to table in ALTER TABLE is temporary, mysql_lock_tables() is not called, and the automatic StorageEngine::startStatement() is also not called.  So, we call it manually to ensure transactional engines have a notification of a new statement/transaction.

2010-04-30  Jay Pipes  <jpipes@serialcoder>

	Merge latest Stew embedded-innodb branch

2010-05-28  Brian Aker  <brian@gaz>

	Additional removal of mybitmap to being more C++

2010-05-28  Brian Aker  <brian@gaz>

	Furthere encapsulation for TableShare.

2010-05-28  Brian Aker  <brian@gaz>

	Encapsulate Key info in share.

2010-05-28  Brian Aker  <brian@gaz>

	Remove =this reference.

2010-05-28  Brian Aker  <brian@gaz>

	Small touchup for using array, not increment.

2010-05-28  Brian Aker  <brian@gir>

	Next bit of pack removal (this removes it from where we store it).

2010-05-28  Brian Aker  <brian@gir>

	Remove pack flag from Create.

2010-05-28  Brian Aker  <brian@gir>

	First part, remove pack flags.

2010-05-27  Brian Aker  <brian@gaz>

	Rollup patch for hiding tableshare.

2010-05-27  Brian Aker  <brian@gaz>

	Merge Monty, just a note for freebsd during configure.

2010-05-27  Monty Taylor  <mordred@inaugust.com>

	Add note about gcc44 LD_LIBRARY_PATH.

2010-05-27  Monty Taylor  <mordred@inaugust.com>

	Added note for freebsd about using gmake.

2010-05-27  Brian Aker  <brian@gaz>

	Merge of Stewart.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-type-blob into embedded-innodb-type-decimal.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-type-blob into embedded-innodb-type-decimal.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	add type_decimal test for embedded_innodb

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	very basic decimal type test for embedded_innodb

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	very simple addition to create fields of DECIMAL type

2010-05-27  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	table structure of table function has changed. update test result.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	table structure of table function has changed. update test result.

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	we actually don't need to check the result, just set status correctly

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	add a copy of type_blob for embedded_innodb

2010-05-27  Stewart Smith  <stewart@flamingspork.com>

	check that we really did move to the right row in EmbeddedInnoDBCursor::innodb_index_read(). This emans type_blob test now passes. We need to update table->status as well here.

2010-05-26  Stewart Smith  <stewart@flamingspork.com>

	doStartTableScan() can be called twice in a row without a doEndTableScan()
	
	Showing up in count_distinct test with embedded_innodb.
	
	Inspection of innobase handler shows that this would be okay for innobase.
	
	What the fuck is the point of a programming interface if all the rules of how you are called are violated?

2010-05-26  Stewart Smith  <stewart@flamingspork.com>

	the memory management for BLOBS is completely insane. For certain types of index lookups we *must* do a copy and clear it *only* in ::reset() or ::extra(). This patch fixes up any valgrind warnings/assertions for embedded_innodb executing type_blob test.

2010-05-25  Stewart Smith  <stewart@flamingspork.com>

	fix (rather embarrassing) bug where with a hidden primary key in rnd_pos() we would go to the row in ref rather tahn the parameter pos. If we had a style of m_ prefix for members, this would not have been a problem.

2010-05-25  Stewart Smith  <stewart@flamingspork.com>

	A ::position() call requires teh primary key in the record buffer, so we must *always* read the primary key in the various read methods in case we get a ::position() call. This was showing up in the simple ORDER BY test in type_blob_func.test

2010-05-25  Stewart Smith  <stewart@flamingspork.com>

	improve error handling in EmbeddedInnoDBCursor::rnd_pos()

2010-05-24  Stewart Smith  <stewart@flamingspork.com>

	update libinnodb_datadict_dump_func() to dump some more information from the InnoDB data dictionary.

2010-05-21  Stewart Smith  <stewart@flamingspork.com>

	add BLOB support to embedded_innodb along with a simple test.

2010-05-20  Stewart Smith  <stewart@flamingspork.com>

	Change when we call ib_cursor_next/prev. Instead of calling it after reading
	the row (previous behaviour between Cursor calls was to have the cursor
	pointing to the *next* row) we now call it before reading the next row.
	
	This means we have to do some fancy things in the first call to start the scan
	to make sure we don't advance the cursor past the first row in the subsequent
	call. e.g. rnd_init() sets to start of table, rnd_next should only advance
	the cursor on it's second call.
	
	This means that the *current* row is available between Cursor calls. The
	way that memory management with BLOBs works in the Server, this means we
	avoid a copy and can just use the pointer from get_value().

2010-05-20  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-27  Brian Aker  <brian@gaz>

	Clean up message for compression failure.

2010-05-26  Brian Aker  <brian@gaz>

	Merge of Joe

2010-05-21  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-05-21  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-05-21  Joe Daly  <skinny.moey@gmail.com>

	fix cast should be uint32_t rather then long

2010-05-21  Joe Daly  <skinny.moey@gmail.com>

	fix for connection_count, it was not being displayed properly because it was returning a address of a atomic<uint32_t> when show status was expecting uint32_t

2010-05-26  Brian Aker  <brian@gaz>

	Merge of Brian, Paul. PBXT compile issue, and test framework cleanup. 

2010-05-26  Brian Aker  <brian@gaz>

	Remove dead .opt files. Removed two options from Innodb which do not relate
	to drizzle (backwards compatible options for old MySQL). 

2010-05-26  Brian Aker  <brian@gaz>

	Merge Paul.

2010-05-26  Paul McCullagh  <paul.mccullagh@primebase.org>

	Adjust for namespace changes

2010-05-26  Brian Aker  <brian@gaz>

	1) Fix assignment find by G++ pendatic.
	2) Fix test-run.pl to loop less, wait more.

2010-05-26  Brian Aker  <brian@gaz>

	This fixes bug 586009, increases the size of the log files so that the UNION
	test doesn't hit Innodb's default limit. Increases the size of the initial
	Innodb data file, and fixes one case where an empty string on error was
	causing a crash on OSX.

2010-05-25  Brian Aker  <brian@gaz>

	Remove restriction on schemas named temporary.

2010-05-25  Brian Aker  <brian@gaz>

	This fixes the issue where a tmp file might still exist once Innodb has
	finished an alter table.

2010-05-25  Brian Aker  <brian@gaz>

	Merge Patrick

2010-05-25  Patrick Crews  <gleebix@gmail.com>

	Fixed .result issue where mysqldump was incorrectly replaced with drizzledump in MySQL bug names

2010-05-19  patrick crews  <patrick.crews@sun.com>

	Fixed incorrectly altered test commenting to reflect the proper bug descriptions (mysqldump v. drizzledump)

2010-05-19  patrick crews  <patrick.crews@sun.com>

	Removed unnecessary commenting from drizzledump.inc

2010-05-19  patrick crews  <patrick.crews@sun.com>

	Incorporated review feedback and deleted unused code from diff_tables.inc.  Also fixed omission of the new include, test, and result files

2010-05-25  Brian Aker  <brian@gaz>

	Merge Translations

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Updated translations to what's in the tree.

2010-05-24  Monty Taylor  <mordred@inaugust.com>

	Merged from Launchpad.

2010-05-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-29  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-27  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-22  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-18  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-08  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-04-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-31  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-05-25  Brian Aker  <brian@gaz>

	Merge Hartmut

2010-05-20  Hartmut Holzgraefe  <hartmut@mysql.com>

	do not enable PAGER in print_warnings() when in batch mode (mysql bug #44732)

2010-05-24  Brian Aker  <brian@gaz>

	Merge Joe's scheduler fix

2010-05-22  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-05-22  Joe Daly  <skinny.moey@gmail.com>

	fix to display scheduler in show variables

2010-05-22  Brian Aker  <brian@gaz>

	Merge of tmp files cleanup.

2010-05-22  Brian Aker  <brian@gaz>

	Merge in test fixes.

2010-05-21  Brian Aker  <brian@gaz>

	First pass on a table function to see the contents of Innodb's
	data_dictionary.

2010-05-21  Brian Aker  <brian@gaz>

	Creates a "cleanup" of Innodb's temp files in case of a crash of the DB.

2010-05-21  Brian Aker  <brian@gaz>

	Merge Monty (pandora).

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Back down on boost requirement to 1.37 until we get fedora11 gone.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Don't let's overwrite values the user has provided.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Fixed build errors on FreeBSD.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged new-valgrind-suppressions into force-gcc44.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged fix-lcov-failure into new-valgrind-suppressions.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged new-valgrind-suppressions into force-gcc44.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged fix-lcov-failure into new-valgrind-suppressions.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged new-valgrind-suppressions into force-gcc44.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged fix-lcov-failure into new-valgrind-suppressions.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.129

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Made sure we order tests in the right way - we want to make sure that we upgrade the gcc version before we test for C++0x support.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Made a macro out of repeated text.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Added macro to force use of gcc44 on centos.

2010-05-19  Monty Taylor  <mordred@inaugust.com>

	One more little suppression.

2010-05-18  Monty Taylor  <mordred@inaugust.com>

	A totally new suppressions file. To the point, easy to read, and many, many fewer suppressions in it.

2010-05-21  Brian Aker  <brian@gaz>

	Merge of temp directory change.

2010-05-21  Brian Aker  <brian@gaz>

	Updates for moving temporary directory.

2010-05-21  Brian Aker  <brian@gaz>

	Merge Paul's work to use TableShare

2010-05-21  Paul McCullagh  <paul.mccullagh@primebase.org>

	Changed from using a Table to a TableShare

2010-05-21  Paul McCullagh  <paul.mccullagh@primebase.org>

	Removed some non-Drizzle code

2010-05-21  Paul McCullagh  <paul.mccullagh@primebase.org>

	Moved to xt_defs.h

2010-05-21  Brian Aker  <brian@gaz>

	Confirmation for bug fix.

2010-05-21  Brian Aker  <brian@gaz>

	Merge Monty

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-to-module into fix-lcov-failure.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Two more missed renames.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-to-module into fix-lcov-failure.

2010-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged up with event work.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-to-module into fix-lcov-failure.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged align-static-plugins into plugin-to-module.

2010-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged pandora-build into align-static-plugins.

2010-05-18  Monty Taylor  <mordred@inaugust.com>

	Added another GCOV_LIBS entry.

2010-05-18  Monty Taylor  <mordred@inaugust.com>

	Moved plugin::Context to module::Context.
	Fixed valgrind suppressions to match the name change.

2010-05-15  Monty Taylor  <mordred@inaugust.com>

	Renamed classes that were in drizzled::plugin but which were not meant
	for consumption by plugin authors to drizzled::module - since they
	really have to do with plugin module loading. This way when we
	look in drizzled/plugin, we see nothing but plugin interfaces. Win.

2010-05-18  Monty Taylor  <mordred@inaugust.com>

	Fixed style catches from Jay.

2010-05-15  Monty Taylor  <mordred@inaugust.com>

	Changed the builtin plugin code path to work exactly the same as dynamic.
	Allows us to use --plugin-remove on builtins.

2010-05-20  Brian Aker  <brian@gaz>

	Merge Joe, stats.

2010-05-20  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-05-20  Joe Daly  <skinny.moey@gmail.com>

	add comment to statistics_variables.h

2010-05-20  Joe Daly  <skinny.moey@gmail.com>

	add statistics_variables.h

2010-05-20  Brian Aker  <brian@gaz>

	Merge for auto increment bug.

2010-05-20  Brian Aker  <brian@gaz>

	Remove dead if0 (no longer needed).

2010-05-20  Brian Aker  <brian@gaz>

	Fixes the assertion bug on handling of auto increment (sort of worthless,
	since we only use this behavior).

2010-05-20  Brian Aker  <brian@gaz>

	Merge Brian, includes work to move all TableShare to being newed, introduced
	placeholder to be used for placeholders. This also includes a number of bug
	fixes.

2010-05-20  Brian Aker  <brian@gaz>

	This 1) fixes issue of reset()   2) uses a better cache design to decrease
	alloc calls.

2010-05-20  Brian Aker  <brian@gaz>

	Merge TableShare latest patch.

2010-05-19  Brian Aker  <brian@gaz>

	Partial encapsulation of TableShare from Table.

2010-05-19  Brian Aker  <brian@gaz>

	We no longer use alloc for placeholders (due to HASH I didn't use a
	virtualize method to determine type... HASH needs to go soonish).

2010-05-19  Brian Aker  <brian@gaz>

	Merge of trunk

2010-05-19  Brian Aker  <brian@gaz>

	Remove one of the set key table cache methods.

2010-05-19  Brian Aker  <brian@gaz>

	Merge main tree.

2010-05-18  Brian Aker  <brian@gaz>

	Encapsulation of mem_root for session/this switches the creation of new_path
	for one internal type of table to session (we will be moving it back shortly
	once we have the encapsulation is done).

2010-05-19  Brian Aker  <brian@gaz>

	It is somewhat amazing that EXPLAIN works at all (too many myisam assumptions)

2010-05-19  Brian Aker  <brian@gaz>

	This fixes the issue with filesort() possibly crashing on a Function based
	table.

2010-05-19  Brian Aker  <brian@gaz>

	Remove dead define.

2010-05-19  Brian Aker  <brian@gaz>

	Fix for misspelling.

2010-05-19  Brian Aker  <brian@gaz>

	Merge Patrick

2010-05-19  patrick crews  <patrick.crews@sun.com>

	Added drizzledump_restore.test - a basic test of whether or not we can restore a table from drizzledump output.  The test dumps a table, alters the original table name (<table_name>_orig), restores from the dump file, then compares the original and restored tables.  Also included a minor change to test-run.pl so that we can call the drizzle client to restore from a dump file as well as a partial port of the fix for mysql bug#51057, which was a weakness in include/diff_tables.inc that would cause the test to run until timeout if one of the expected tables did not exist.  Had to alter diff_tables.inc to work for this test, but this is the only test using this include file.  The altered code is merely commented out for now, to see if we need it

2010-05-19  Brian Aker  <brian@gaz>

	This fixes a bug where we did a full open for a temporary table for CREATE
	TABLE LIKE when all we really needed to do was look at the definition.
	
	BTW I realized this bug while looking at placeholders and seeing that one
	was somehow being reused for a temporary table. We don't have nearly enough
	logic in the system to correctly make sure that placeholders do not get
	recycled (though they should not be).

2010-05-19  Brian Aker  <brian@gaz>

	Merge of Joe's patch (and I updated the author file to include his name as
	well).

2010-05-18  Joe Daly  <skinny.moey@gmail.com>

	add bytes_sent and bytes_received counters

2010-05-19  Brian Aker  <brian@gaz>

	Fix for table -> table_share call.

2010-05-18  Brian Aker  <brian@gaz>

	Merge of events

2010-05-17  Barry.Leslie@PrimeBase.com

	Fixed header guard to comply with naming convention.

2010-05-17  Barry.Leslie@PrimeBase.com

	Fix integer overflow problem.

2010-05-14  Barry.Leslie@PrimeBase.com

	Fixed header guard style.

2010-05-12  Barry.Leslie@PrimeBase.com

	- Cleaned up some style points.
	- Added a destructor to the EventObserverList class.
	- Took credit for my source code.

2010-05-11  Barry.Leslie@PrimeBase.com

	- Changed names to match  the drizzle naming convention.
	- Use portable data types instead if things like unsigned int.
	- Restructured the classes so that the interface between them is cleaner and simpler.

2010-05-06  Barry.Leslie@PrimeBase.com

	Renamed the 'Event' plugin to 'EventObserver' plugin along with some internal class renames to make things clearer.
	Unless I really need a pointer to an object I now always pass things by reference.
	'Post' event observers can now report a failure the same as 'Pre' event observers.

2010-04-30  Barry.Leslie@PrimeBase.com

	Fixed a compiler error due to an uninitialized variavble and cleaned up some coding standard stuff.

2010-04-28  Barry.Leslie@PrimeBase.com

	Added the ability to position the order in which event observers are called 
	when multiple plugins are observing the same event.

2010-04-23  Barry.Leslie@PrimeBase.com

	Added a demo plugin based on the the events plugin API.

2010-04-23  Barry.Leslie@PrimeBase.com

	Added the source code for the events plugin.

2010-04-23  Barry.Leslie@PrimeBase.com

	Changes made to drizzle source when building in the events plugin.

2010-04-23  Barry.Leslie@PrimeBase.com

	Fixed 'unuses parameter' warnnings when building on OS X PPC.

2010-05-18  Brian Aker  <brian@gaz>

	Merge Monty

2010-05-14  Monty Taylor  <mordred@inaugust.com>

	Removed cruft from the tree that we don't need. Also, add things to
	the tarball that should be in the tarball.

2010-05-14  Monty Taylor  <mordred@inaugust.com>

	Updated pandora-build files to version 0.127

2010-05-18  Brian Aker  <brian@gaz>

	Merge (rename of JOIN to Join)

2010-05-18  Brian Aker  <brian@gaz>

	JOIN -> Join rename

2010-05-18  Brian Aker  <brian@gaz>

	Merge of overall patch for TableShare new() work.

2010-05-18  Brian Aker  <brian@gaz>

	Fix for Solaris build issue.

2010-05-18  Brian Aker  <brian@gaz>

	Yet more movement/encapsulation of mem_root in table.

2010-05-18  Brian Aker  <brian@gaz>

	Fix for non-portable vastart usage.

2010-05-18  Brian Aker  <brian@gaz>

	Encapsulate the ownership of the table members to the table (so not in
	session).

2010-05-18  Brian Aker  <brian@gaz>

	Shift the varargs so that they are a part of memory::Root

2010-05-18  Brian Aker  <brian@gaz>

	Remove memset() on table, also add methods to table for allocation
	encapsulation.

2010-05-18  Brian Aker  <brian@gaz>

	Merge.

2010-05-18  Brian Aker  <brian@gaz>

	Remove need for memset on Table object.

2010-05-18  Brian Aker  <brian@gaz>

	Merge of change to flip table instance to be share instance

2010-05-18  Brian Aker  <brian@gaz>

	Merge. Rename of JoinCache, ReadRecords, and a fix for Hades for stewart's
	embedded work.

2010-05-18  Brian Aker  <brian@gaz>

	JoinCache rename.

2010-05-18  Brian Aker  <brian@gaz>

	Update for Join structure changes.

2010-05-18  Brian Aker  <brian@gaz>

	Dead reference to ReadRecord in structs.h

2010-05-18  Brian Aker  <brian@gaz>

	More RR encapsulation.

2010-05-18  Brian Aker  <brian@gaz>

	Additional function -> method for readrecord

2010-05-18  Brian Aker  <brian@gaz>

	Fix Hades build error.

2010-05-18  Brian Aker  <brian@gaz>

	MErge Stewart

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-hidden-autoinc-on-no-explicit-pkey into embedded-innodb-fix-status-table-function-test.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	the status_table_function test has proven to be a bit non-deterministic when we've been counting the actual fsync() calls that have occured. Instead, we just check that the number is increasing (i.e. that txn commit means we sync to disk)

2010-05-18  Brian Aker  <brian@gaz>

	Simplify out Open_tables_state() backup/restore (no longer needed).

2010-05-17  Brian Aker  <brian@gaz>

	Code shuffle on ReadRecord

2010-05-17  Brian Aker  <brian@gaz>

	Remove dead options/rename Option and remove the update that we no longer
	use.

2010-05-17  Brian Aker  <brian@gaz>

	Merge Stewart Innodb only.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration into embedded-innodb-hidden-autoinc-on-no-explicit-pkey.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-threads into embedded-innodb-configuration.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-open-files into embedded-innodb-configuration-io-threads.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-purge-dirty-and-lru into embedded-innodb-configuration-open-files.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-log-group-home-dir into embedded-innodb-configuration-purge-dirty-and-lru.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-method into embedded-innodb-configuration-log-group-home-dir.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-log-at-trx-commit into embedded-innodb-configuration-flush-method.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-timestamp into embedded-innodb-datetime.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-fix-update-record into embedded-innodb-timestamp.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-resets-autoinc into embedded-innodb-fix-update-record.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-truncate-resets-autoinc.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-replace.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged reenable-embedded_innodb into embedded-innodb-autoincrement.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	move embedded_innodb tests away from a directory where they are detected by 'make test' and the plugins system. instead, now to run the embedded_innodb test suite, you get to 'cd tests; ./test-run.pl --suitepath=.././plugin/embedded_innodb/test-suite-dir/ --suite=embedded_innodb' after you have built with './configure --disable-innobase-plugin --without-innobase-plugin'. Static plugins are *fun*

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration into embedded-innodb-hidden-autoinc-on-no-explicit-pkey.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-threads into embedded-innodb-configuration.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-open-files into embedded-innodb-configuration-io-threads.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-purge-dirty-and-lru into embedded-innodb-configuration-open-files.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-log-group-home-dir into embedded-innodb-configuration-purge-dirty-and-lru.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-method into embedded-innodb-configuration-log-group-home-dir.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-log-at-trx-commit into embedded-innodb-configuration-flush-method.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-timestamp into embedded-innodb-datetime.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-resets-autoinc into embedded-innodb-fix-update-record.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-truncate-resets-autoinc.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	make replace test for embedded_innodb run with embedded_innodb (add master.opt

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	fix up store_key_value_from_innodb() prototype after switch from KEY to KeyInfo

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration into embedded-innodb-hidden-autoinc-on-no-explicit-pkey.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-threads into embedded-innodb-configuration.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-open-files into embedded-innodb-configuration-io-threads.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-purge-dirty-and-lru into embedded-innodb-configuration-open-files.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-log-group-home-dir into embedded-innodb-configuration-purge-dirty-and-lru.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-method into embedded-innodb-configuration-log-group-home-dir.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-log-at-trx-commit into embedded-innodb-configuration-flush-method.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-timestamp into embedded-innodb-datetime.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-fix-update-record into embedded-innodb-timestamp.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-resets-autoinc into embedded-innodb-fix-update-record.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-truncate-resets-autoinc.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-replace.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	Merged reenable-embedded_innodb into embedded-innodb-autoincrement.

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	fix many compile failures that people introduced in embedded_innodb because it's not built by default.. i.e. plugin=disabled is EPIC FAIL

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	undo making innobase plugin static

2010-05-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-15  Brian Aker  <brian@gaz>

	Rename only (around keys).

2010-05-14  Brian Aker  <brian@gaz>

	Merge of Brian/Stewart. Keypair, plus fieldname gone in share.

2010-05-14  Stewart Smith  <stewart@flamingspork.com>

	copy several tests from the main test suite that use tables without an explicit primary key to embedded_innodb to increase testing.

2010-05-13  Stewart Smith  <stewart@flamingspork.com>

	support tables without an explicit primary key in embedded_innodb by creating a hidden auto_increment primary key. We also have to support tables without an explicit primary key but with an auto increment, so we have our own hidden one. yes, it hurts.

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge getInitialAutoIncrementValue() calls new names for index_init and index_end()

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	getInitialAutoIncrementValue() calls new names for index_init and index_end()

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-12  Stewart Smith  <stewart@flamingspork.com>

	fix up config_table_function test for embedded_innodb defaults that are now in line with innobase plugin

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add tests for use_sys_malloc and sync_spin_loops for embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add use_sys_malloc for embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add sync_spin_loops config option to embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	support innodb_status_file. We allow it to be switched at runtime (unlike innobase plugin) due to this being supported by libinnodb.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	rollback_on_timeout for embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add print_verbose_log to embedded_innodB

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add log_buffer_size config option to embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	make lock_wait_timeout work for embedded_innodb.  A difference is that it is now global, not a Session variable. I don't think this matters to anyone (but is also a limitation of libinnodb). we don't have a 'default' test due to the fact that dtr sets it as a parameter'

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add force_recovery to embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-threads into embedded-innodb-configuration.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-open-files into embedded-innodb-configuration-io-threads.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-purge-dirty-and-lru into embedded-innodb-configuration-open-files.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-log-group-home-dir into embedded-innodb-configuration-purge-dirty-and-lru.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-method into embedded-innodb-configuration-log-group-home-dir.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-log-at-trx-commit into embedded-innodb-configuration-flush-method.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	simplify filling search tuple for DATE types in embedded_innodb

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-threads into embedded-innodb-configuration.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-open-files into embedded-innodb-configuration-io-threads.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-purge-dirty-and-lru into embedded-innodb-configuration-open-files.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-log-group-home-dir into embedded-innodb-configuration-purge-dirty-and-lru.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-method into embedded-innodb-configuration-log-group-home-dir.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-flush-log-at-trx-commit into embedded-innodb-configuration-flush-method.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-timestamp into embedded-innodb-datetime.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-fix-update-record into embedded-innodb-timestamp.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-resets-autoinc into embedded-innodb-fix-update-record.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-truncate-resets-autoinc.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	uncomment a bit of the replace test for embedded_innodb.

2010-05-11  Stewart Smith  <stewart@flamingspork.com>

	add innodb_buffer_pool_size config option to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add innodb_autoextend_increment config option to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add innodb_additional_mem_pool_size config option to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add innodb_adaptive_flushing config option to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	fix up adaptive_hasH-index_off test

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add adaptive_hash_index toggle configuration option to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add write_io_threads config variable to embedded_innodb

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	add read_io_threads to embedded_innodb configuration variables

2010-05-10  Stewart Smith  <stewart@flamingspork.com>

	support innodb_open_files for embedded_innodb

2010-05-07  Stewart Smith  <stewart@flamingspork.com>

	add lru_old_blocks_pct and lru_block_access_recency configuration options to embedded_innodb. Exciting and new for Drizzle.

2010-05-07  Stewart Smith  <stewart@flamingspork.com>

	add max_purge_lag to embedded_innodb. because we should also support black magic configuration variables.

2010-05-07  Stewart Smith  <stewart@flamingspork.com>

	some tests for max_dirty_pages_pct in embedded_innodb

2010-05-07  Stewart Smith  <stewart@flamingspork.com>

	support max_dirty_pages_pct for embedded_innodb

2010-05-07  Stewart Smith  <stewart@flamingspork.com>

	support log_group_home_dir for embedded_innodb

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	some tests for innodb_flush_method. We can't do negative tests as the server fails to start.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	support innodb_flush_method configuration for embedded_innodb. We don't give as clear error message as innobase currently as we just get back 'invalid option' from libinnodb, not anything more descriptive.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	remove mem leak as well as properly show the default innodb_file_format.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	fix setting of \0 for innodb_file_format. compiler warnings FTW:
	error: array subscript is above array bounds [-Warray-bounds]

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-format into embedded-innodb-configuration-flush-log-at-trx-commit.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-fast-shutdown into embedded-innodb-configuration-file-per-table.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-io-capacity into embedded-innodb-configuration-fast-shutdown.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-datahome into embedded-innodb-configuration-doublewrite.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-checksums into embedded-innodb-configuration-datahome.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-first-unique-can-be-clustered-index into embedded-innodb-configuration-checksums.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datetime into embedded-innodb-first-unique-can-be-clustered-index.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-timestamp into embedded-innodb-datetime.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-fix-update-record into embedded-innodb-timestamp.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-resets-autoinc into embedded-innodb-fix-update-record.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-truncate-resets-autoinc.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-replace.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	Merged reenable-embedded_innodb into embedded-innodb-autoincrement.

2010-05-06  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	support innodb_flush_trx_log_at_commit config option for embedded_innodb. Test tests that we set it in libinnodb, not that it actually works (as that's hard).

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	add file_format configuration option to embedded_innodb. Also add a simple test for changing it

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	file_format option in next pipe

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-file-per-table into embedded-innodb-configuration-file-format.

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	add file_format configuration option to embedded_innodb. Also add a simple test for changing it

2010-05-05  Stewart Smith  <stewart@flamingspork.com>

	add file_format configuration option to embedded_innodb. Also add a simple test for changing it

2010-05-04  Stewart Smith  <stewart@flamingspork.com>

	number of fsyncs() now done is much less (embedded_innodb status_table_function.test) as we're not using file_per_table

2010-05-04  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb config_table_function.result for the fact that file_per_table is now the traditional default of FALSE rather than TRUE.

2010-05-04  Stewart Smith  <stewart@flamingspork.com>

	add test for innodb_file_per_table being disabled for embedded_innodb

2010-05-04  Stewart Smith  <stewart@flamingspork.com>

	add innodb_file_per_table option to embedded_innodb. Include a test to see that a file is indeed created for it.

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	support innodb_fast_shutdown configuration for embedded_innodb. Currently the tests miss any ability to check what kind of shutdown was actually done... not sure how to get around that.

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-configuration-doublewrite into embedded-innodb-configuration-io-capacity.

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	also check SHOW VARIABLES for innodb_doublebuffer

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	add innodb_io_capacity configuration option for embedded_innodb. Check that both sysvar is set and that we get the right answer from embedded_innodb

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	add innodb_doublewrite configuration option to embedded_innodb along with tests for explicitly disabling and enabling it.

2010-05-03  Stewart Smith  <stewart@flamingspork.com>

	add data_home_dir configuration option to embedded_innodb

2010-04-30  Stewart Smith  <stewart@flamingspork.com>

	add support (and tests) for innodb-checksums configuration variable to embedded_innodb

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	since we now support how drizzleslap creates autoinc columns (serial, i.e. just a unique index), include what we can from drizzleslap tests (currently missing blobs) for embedded_innodb.

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	allow embedded_innodb tables to be created with a first not null unique index instead of just explicit PRIMARY KEY. We use this key as the clustered index (which is really our requirement)

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	datetime type now exists in embedded_innodb - remove old bit of basic_create_table test

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	make embedded_innodb type_datetime test run with embedded_innodB

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	make type_datetime.test for embedded_innodb use primary keys (remove one bit of the test as it's not easily adaptable to requiring primary key. it's still in the main test though, just not in embedded-innodb)

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	enable DATE type for embedded_innodb.

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	make embedded_innodb test type_date use primary keys

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	make embedded_innodb test type_date use primary keys

2010-04-28  Stewart Smith  <stewart@flamingspork.com>

	copy type_date and type_datetime tests for embedded_innodb

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-fix-update-record into embedded-innodb-timestamp.

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	fix write_row_to_innodb_tuple for proper WriteSet behaviour. oh my the API is bonghits.

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	add test for TRUNCATE TABLE resetting auto increment value

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	TRUNCATE TABLE should reset auto increment value

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	update timestamp column for ON UPDATE NOW() in embedded_innodb

2010-04-27  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb timestamp.test for embedded_innodb: currently without ON DUPLICATE KEY UPDATE working, lack of BLOB etc

2010-04-24  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-timestamp.

2010-04-24  Stewart Smith  <stewart@flamingspork.com>

	add support for REPLACE to embedded_innodb. On duplicate key on insert if we have HA_EXTRA_WRITE_CAN_REPLACE set, then we delete the row and insert.

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-replace into embedded-innodb-timestamp.

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	fix update_record nad delete_record in embedded_innodb to be doUpdateRecord and doDeleteRecord

2010-04-23  Stewart Smith  <stewart@flamingspork.com>

	merge trunk. fixes for embedded_innodb needed due to API changes

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged reenable-embedded_innodb into embedded-innodb-autoincrement.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged reenable-embedded_innodb into embedded-innodb-autoincrement.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	reenable embedded_innodb and make innobase plugin static again. Monty said he fixed things r.e. valgrind output

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-21  Stewart Smith  <stewart@flamingspork.com>

	fix embedded_innodb auto_increment for negative values (just strange really).

2010-04-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-17  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-17  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	fix get_auto_incremenT

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-enum-type into embedded-innodb-timestamp.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-double-type into embedded-innodb-enum-type.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-create-select-transaction-arrgh.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-04-09  Stewart Smith  <stewart@flamingspork.com>

	merge-

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	support creating embedded_innodb tables with timestamp columns.

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	change embedded_innodb.type_timestamp test to always have a primary key in tables.

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	copy type_timestamp into embedded_innodb

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	add ENUM SQL type support to Embedded InnoDB

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	run embedded_innodb.type_enum test with embedded_innodb engine (which obviously fails currently)

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	copy type_enum.test to embedded innodb test and (still running with innobase) make it have primary key for everything.

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	fix up embedded_innodb.type_float test for must have a primary key

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-select-transaction-arrgh into embedded-innodb-double-type.

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	fix CREATE SELECT for Embedded Innodb. Special case of DB_MISSING_HISTORY due to transaction started before destination table exists.

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	add basic_create_select test that currently causes a crash due to https://bugs.launchpad.net/drizzle/+bug/556978

2010-04-07  Stewart Smith  <stewart@flamingspork.com>

	modify embedded_innodb.type_float to have primary key for each table.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	modify auto_increment tests for constraint that embedded_innodb tables *must* have a primary key

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	remove duplicate get_auto_increment definition

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-02  Stewart Smith  <stewart@flamingspork.com>

	remove negative value part of auto_increment test

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	basic auto_increment implementation for embedded_innodb. On startup, fetch the maximum value for the auto_increment column (or what's in the table message as the auto_increment value). Use an atomic variable in the embedded-innodb table share to keep track of the auto_increment_value. We can then use atomic ops to get an autoinc value (or several) as well as update it in the event of inserting a larger number. Currently there's a bug (well, difference in behaviour) around inserting -1 into an auto-inc field where the table already has a value 'higher' than that and then asking for another auto-inc value. Check the auto_increment test case failure for it. This will be fixed in a later commit.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb.auto_increment result for removal of the few things we don't support.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	remove another test for replace and timestamp column for  auto increment test as we don't yet support that in embedded_innodb.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	fix error code in auto_increment test for embedded_innodb

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	remove another test for replace with duplicate keys for auto increment as we don't yet support that.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	fix error codes for embedded_innodb, remove test for replace with duplicate keys for auto increment as we don't yet support that.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autoincrement into embedded-innodb-double-type.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-autoincrement.

2010-03-26  Stewart Smith  <stewart@flamingspork.com>

	add test for leftover table in embedded_innodb after ALTER TABLE

2010-03-26  Stewart Smith  <stewart@flamingspork.com>

	add a basic auto increment test along with a copy of the main test suite auto_increment.test for testing embedded innodb auto increment.

2010-03-26  Stewart Smith  <stewart@flamingspork.com>

	fix read_row_from_innodb to respect which buffer the row should be written into from innodb by using the amazing Field::move_field_offset() call properly.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-double-type.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-position-rnd-pos into embedded-innodb-double-type.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-double-type.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-double-type.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-double-type.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-double-type.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-double-type.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-double-type.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-double-type.

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	basic DOUBLE type support. Currently fails some of the type_float test, researching error.

2010-05-14  Brian Aker  <brian@gaz>

	Rename of KEY to KeyInfo

2010-05-14  Brian Aker  <brian@gaz>

	Remove of KeyPartInfo

2010-05-14  Brian Aker  <brian@gaz>

	Merge in key/pair for engine.

2010-05-14  Brian Aker  <brian@gaz>

	Remove old master list bits.

2010-05-12  Brian Aker  <brian@gaz>

	Merge engine options for schema/table.

2010-05-12  Brian Aker  <brian@gaz>

	First pass on cleanup of Stewart's patch, plus re-engineer to make it work a
	bit more with the current system. Engines approve key/pair.

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	add test for invalid table options on ALTER TABLE

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	add test for invalid table options on CREATE TABLE

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	error on invalid option for ALTER TABLE

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	error out on invalid table options

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	merge schema options (needed for error number)

2009-12-18  Stewart Smith  <stewart@flamingspork.com>

	handle schema options in create_db, add one for testing, test it, update schema_reader to read it (for testing)

2009-12-16  Stewart Smith  <stewart@flamingspork.com>

	move error generation of incorrect create schema options into mysql_create_db

2009-12-15  Stewart Smith  <stewart@flamingspork.com>

	simple key,value options for CREATE DATABASE. All options are currently unknown.

2010-01-11  Stewart Smith  <stewart@flamingspork.com>

	builtin table options with their own place in the proto shouldn't be in the list of custom options, remove them from teh parsed_engine_options list.

2010-01-08  Stewart Smith  <stewart@flamingspork.com>

	make the equals of KEY=VALUE required for CREATE TABLE options

2010-01-06  Stewart Smith  <stewart@flamingspork.com>

	convert builtin table options to use key,value code in parser

2009-12-22  Stewart Smith  <stewart@flamingspork.com>

	small addition of custom engine options in parser and statement/create_table. No error checking performed yet (although the list is constructed). We are parsing them in () after ENGINE=FOO in CREATE TABLE and not as first class options to CREATE TABLE (like ENGINE=) currently due to shift/reduce conflicts in parser if we do. We must first reimpliment the existing CREATE TABLE options as these options before we can have this.

2009-12-21  Stewart Smith  <stewart@flamingspork.com>

	make engine options in table proto same as in db proto: no need to specify type, the engine should keep track.

2010-05-14  Brian Aker  <brian@gaz>

	just remove entirely the need for fieldnames.

2010-05-14  Brian Aker  <brian@gaz>

	Rollup merge for typelib/tableshare cleanup.

2010-05-13  Brian Aker  <brian@gaz>

	Style cleanup for table_share

2010-05-13  Brian Aker  <brian@gaz>

	Second pass through field name, this also corrects _ name usage.

2010-05-13  Brian Aker  <brian@gaz>

	Removes typelib usage from fieldname

2010-05-13  Brian Aker  <brian@gaz>

	Merge Stewart, this increases the max size of indexed columns.

2010-05-13  Stewart Smith  <stewart@flamingspork.com>

	increase maximum size of an indexed column to 1023 from 767. This means on disk format changes (which we don't mind) as well as some test cases changes that were previously seeing the 767 limit. In one case, the test needed to be updated as it now hit the 3500 byte total index size limit.

2010-05-13  Brian Aker  <brian@gaz>

	MErge Monty (this includes Innodb fix for Stewart).

2010-05-13  Brian Aker  <brian@gaz>

	MErge Monty (this includes Innodb fix for Stewart).

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	typtypoo

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Consistent naming would be nice.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Fixes stewart's uncleanliness.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Fix typos.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Fixed the --disable-*-plugin not working. It's enablevar - not withvar.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Wrap the libraries in if BUILD_*_PLUGIN so that they don't build when we're
	disabling.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	We don't need to wrap this in '.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Enables the disabling of a static plugin at compile time. Incidentally,
	fixes all --enable options.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Updated pandora version number.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-05-12  Monty Taylor  <mordred@inaugust.com>

	Merged in some stuff from pandora-build.

2010-05-13  Brian Aker  <brian@gaz>

	Merge of TableShare keynames typelib removal.

2010-05-12  Brian Aker  <brian@gaz>

	Second pass to remove keynames typelib.

2010-05-12  Brian Aker  <brian@gaz>

	This is:
	1) First pass to have Share use something other then mem_root allocated bits.
	2) A bug fix on how keys are matched for with USE INDEX, etc.

2010-05-11  Brian Aker  <brian@gaz>

	Move all TableShare methods into .cc file.

2010-05-11  Brian Aker  <brian@gaz>

	Merge Brian, encapsulation of TableShare members.

2010-05-10  Brian Aker  <brian@gaz>

	Another option removed.

2010-05-10  Brian Aker  <brian@gaz>

	Remove dead option from parser for tables.

2010-05-10  Brian Aker  <brian@gaz>

	Remove dead pack keys code.

2010-05-10  Brian Aker  <brian@gaz>

	Small c++ refactor around this trick during conversion.

2010-05-10  Brian Aker  <brian@gaz>

	Function -> method for TableShare.

2010-05-10  Brian Aker  <brian@gaz>

	Absorb TableShare proto to share methods.

2010-05-10  Brian Aker  <brian@gaz>

	Some encapsulation.

2010-05-10  Brian Aker  <brian@gaz>

	Merge Monty.

2010-05-06  Monty Taylor  <mordred@inaugust.com>

	Include signal_handler.o in DTRACE_FILES. Silly me.

2010-05-06  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-05-04  Monty Taylor  <mordred@inaugust.com>

	Make sure we pick -mt instead of not -mt if there are both.

2010-05-04  Monty Taylor  <mordred@inaugust.com>

	Merged trunk

2010-04-21  mordred  <mordred@orisndriz08>

	Fixed the check for boost::program_options on platforms which only install the
	-mt variant.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	dtrace is broken on FreeBSD. Check for that and don't attempt to use it if it don't work.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	Add generated_probes to bzrignore.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	We don't want to lint generated_probes.h.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	Fixed dtrace in vpath build.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	Fixed the 8000 port thing.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	Merged fix for vc version test.

2010-04-21  Monty Taylor  <mordred@inaugust.com>

	Don't overwrite the pandora_vc_revinfo file if we don't have new
	authoratative information.

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Fixed lcov builds. Fixed the dtrace enabling.

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Enabled building dtrace if we have it by default. Apparently it doesn't add
	any runtime hit... now lets test that...

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Merged in libboost_program_options changes.

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Added build checking requiring libboost_program_options

2010-04-16  Monty Taylor  <mordred@inaugust.com>

	Removed bad spacing discovered while looking at translations.

2010-05-09  Brian Aker  <brian@gaz>

	Merge in modifications to make TableShare and actual object. 
	
	Crazy.

2010-05-09  Brian Aker  <brian@gaz>

	Additional remove of memset on TableShare().

2010-05-09  Brian Aker  <brian@gaz>

	Removes one of the memset() calls used on TableShare.

2010-05-08  Brian Aker  <brian@gaz>

	Folding the destructor into the object.

2010-05-08  Brian Aker  <brian@gaz>

	Adds concept of table owned TableShare.

2010-05-07  Brian Aker  <brian@gaz>

	Encapsulate mem_root in TableShare

2010-05-07  Brian Aker  <brian@gaz>

	Update such that we now delete mem_root for a share without copying it.

2010-05-06  Brian Aker  <brian@gaz>

	Remove members to functions that are no longer used.

2010-05-06  Brian Aker  <brian@gaz>

	Small opt to not need TableList

2010-05-06  Brian Aker  <brian@gaz>

	Remove memcpy() from TableShare and just have it deal with its own mem_root.

2010-05-05  Brian Aker  <brian@gaz>

	Next bit of TableShare to c++.

2010-05-04  Brian Aker  <brian@gaz>

	Second pass through TableShare to new(). Partial hack in using bool for the
	moment to designate origin allocation.

2010-05-04  Brian Aker  <brian@gaz>

	This fixes TableShare such that for the cache we now correctly call new()
	instead of malloc.

2010-05-04  Brian Aker  <brian@gaz>

	Encapsulate table name in TableShare.

2010-05-03  Brian Aker  <brian@gaz>

	More encapsulation.

2010-05-03  Brian Aker  <brian@gaz>

	Fixed table_share_key from being public.

2010-05-03  Brian Aker  <brian@gaz>

	Partial encapsulation of table_share

2010-05-03  Brian Aker  <brian@gaz>

	Further shift TableShare to private strucute.

2010-05-03  Brian Aker  <brian@gaz>

	Merge trunk

2010-04-22  Brian Aker  <brian@gaz>

	This splits the alloc for table/share to different pieces (this allows me to
	track them as different objects).

2010-04-22  Brian Aker  <brian@gaz>

	Cleanup to use references.

2010-05-07  Brian Aker  <brian@gaz>

	Merge for command line app struct conversion

2010-05-07  Vijay Samuel  <vijay@vijay>

	Changes made to the struct conversion

2010-05-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-07  Vijay Samuel  <vijay@ubuntu>

	all required updations have been made

2010-05-05  Brian Aker  <brian@gaz>

	Merge name changes

2010-04-23  Jay Pipes  <jpipes@serialcoder>

	ha_rnd_init -> startTableScan, rnd_init -> doStartTableScan, ha_rnd_end -> endTableScan, rnd_end -> doEndTableScan

2010-04-23  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-23  Jay Pipes  <jpipes@serialcoder>

	Removes HEAP-specific Cursor::implicit_emptied member.  Was unused.

2010-04-22  Jay Pipes  <jpipes@serialcoder>

	Resolve simple conflict in join.cc

2010-04-22  Jay Pipes  <jpipes@serialcoder>

	Cursor::ha_index_init() -> Cursor::startIndexScan().  Cursor::ha_index_end() -> Cursor::endIndexScan()

2010-04-22  Jay Pipes  <jpipes@serialcoder>

	Removes Cursor::restart_rnd_next().  This was one of those MyISAM-only things and was just a shim over rnd_pos().

2010-05-04  Brian Aker  <brian@gaz>

	Merge joe.

2010-05-02  Joe Daly  <skinny.moey@gmail.com>

	add comment in TODO field of logging_stats.cc

2010-05-02  Joe Daly  <skinny.moey@gmail.com>

	disable logging_stats plugin and rename GLOBAL_STATEMENTS and SESSION_STATEMENTS tables to remove NEW tag

2010-05-02  Joe Daly  <skinny.moey@gmail.com>

	remove scoreboard index from Session class

2010-05-02  Joe Daly  <skinny.moey@gmail.com>

	more experimentation with scoreboard defaults

2010-04-30  Joe Daly  <skinny.moey@gmail.com>

	update schema_dictionary result

2010-04-30  Joe Daly  <skinny.moey@gmail.com>

	update data_dictionary tests

2010-04-30  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-30  Joe Daly  <skinny.moey@gmail.com>

	add a index on the session to keep track of the scoreboard slot

2010-04-29  Joe Daly  <skinny.moey@gmail.com>

	increase the number of buckets in the scoreboard from 10 to 500 and the size from 2000 to 5000, so 10 slots per bucket

2010-04-29  Joe Daly  <skinny.moey@gmail.com>

	load by defualt to test sysbench

2010-04-28  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-28  Joe Daly  <skinny.moey@gmail.com>

	remove com_stat_vars and rework lock in scoreboard to not lock on Sessions locating a slot they previously owned

2010-05-04  Brian Aker  <brian@gaz>

	MErge Paul. PBXT only

2010-05-04  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed further: comparison between signed and unsigned integer expressions, errors

2010-05-03  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed compile errors: comparison between signed and unsigned integer

2010-05-04  Brian Aker  <brian@gaz>

	Merge Eric

2010-05-04  Eric Day  <eday@oddments.org>

	Changed uuid algorithm to be random and not time based, was getting duplicates with time when used concurrently.

2010-05-04  Brian Aker  <brian@gaz>

	Merge Monty

2010-05-03  Monty Taylor  <mordred@inaugust.com>

	Fixed the wrong usage of libgcrypt in md5 module. This fixes the leak that
	was happening.  Doing things properly produces a valgrind warning on
	initialization now, which isn't a real leak as much as a global static. Added
	a suppression for that.

2010-05-03  Brian Aker  <brian@gaz>

	Merge Eric. This changed options such that = is now interpreted from last, not first

2010-05-03  Eric Day  <eday@drizzle-os>

	Fixed libldap detection for Solaris/Netscape headers.

2010-04-27  Eric Day  <eday@oddments.org>

	Added external test script for auth_ldap.

2010-04-23  Eric Day  <eday@oddments.org>

	Initial auth_ldap plugin. There are no test cases since this would require a pre-configured LDAP server running. Testing will instead be done on one of the build hosts that has been configured with LDAP and a separate test script.

2010-04-23  Eric Day  <eday@oddments.org>

	Changed option parsing to search for first '=', not last, since some option values can contain '='.

2010-05-03  Brian Aker  <brian@gaz>

	Merge Monty -> cppcheck changes, plus change to deleteTable

2010-04-29  mordred  <mordred@orisndriz05>

	This struct is unused.

2010-04-29  mordred  <mordred@orisndriz05>

	Fixed note from cppcheck - passing NULL to free is valid, so the check for non-null here is redundant. Also, casting to unsigned char * is pretty pointless.

2010-04-29  mordred  <mordred@orisndriz05>

	Fix error found by cppcheck - modifying a container invalidates its iterators,
	so erasing from a list and then continuing to access the iterator over that list is a real nono. The standard idiom in stl parlance is cont.erase(remove_if())
	In this case, to apply that idiom means splitting this into a futher functor.

2010-04-29  mordred  <mordred@orisndriz05>

	Fixed error found by cppcheck - entry here is allocated using new, thus should be deleted.

2010-05-03  Brian Aker  <brian@gaz>

	Merge Paul's latest PBXT (includes version 1.1)

2010-05-03  Brian Aker  <brian@gaz>

	Merge Paul, PBXT ENDIAN.

2010-04-30  Paul McCullagh  <paul.mccullagh@primebase.org>

	Added defintions for .._ENDIAN because it is missing on some Solaris machines

2010-05-03  Brian Aker  <brian@gaz>

	Merge Paul

2010-05-03  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged with trunk

2010-05-03  Paul McCullagh  <paul.mccullagh@primebase.org>

	Actually, the function name was just changed

2010-04-30  Paul McCullagh  <paul.mccullagh@primebase.org>

	I no longer have to tell the server to rollback when an error occurs, oh joy!

2010-04-29  Paul McCullagh  <paul.mccullagh@primebase.org>

	Correct compiler errors

2010-04-29  Paul McCullagh  <paul.mccullagh@primebase.org>

	Improved changes back from 1.1 trunk

2010-04-29  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged with 1.1 trunk

2010-05-01  Brian Aker  <brian@gaz>

	Merge of Sanders (iocache macro to inline).

2010-04-24  Sanders King  <sanders@mupanda.com>

	Changes to quote.cc and mf_iocache.cc: convert macros to inline functions; reformat comments to suit Doxygen

2010-04-30  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-22  iwamatsu@nigauri.org

	Add cstdio include to files needing it. Fixes the build on some debian
	platforms.

2010-04-29  Brian Aker  <brian@gaz>

	Merge Joe

2010-04-26  Joe Daly  <skinny.moey@gmail.com>

	add note in todo list

2010-04-26  Joe Daly  <skinny.moey@gmail.com>

	incrementCount() function should be private

2010-04-26  Joe Daly  <skinny.moey@gmail.com>

	add all the com_stats vars

2010-04-25  Joe Daly  <skinny.moey@gmail.com>

	move comments to .cc file

2010-04-25  Joe Daly  <skinny.moey@gmail.com>

	update comments

2010-04-25  Joe Daly  <skinny.moey@gmail.com>

	remove Identifiers class and fix guard in header

2010-04-24  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-24  Joe Daly  <skinny.moey@gmail.com>

	add tests for SESSION_STATEMENTS_NEW and GLOBAL_STATEMENTS_NEW table

2010-04-24  Joe Daly  <skinny.moey@gmail.com>

	rework stats_schema use static char * for command strings

2010-04-23  Joe Daly  <skinny.moey@gmail.com>

	new class to hold column names or column values in some cases

2010-04-23  Joe Daly  <skinny.moey@gmail.com>

	rework UserCommands class to have a simplier interface and remove get/increment functions

2010-04-21  Joe Daly  <skinny.moey@gmail.com>

	update comment

2010-04-21  Joe Daly  <skinny.moey@gmail.com>

	rework atomics on cumulative user tables

2010-04-20  Joe Daly  <skinny.moey@gmail.com>

	move any tracking logic out of logging_stats its almost just a entry point, rework logic on cumulative stats by user to use a atomic rather then a lock

2010-04-28  Brian Aker  <brian@gaz>

	This patch reverts the ROR change which created a memory leak (bzr diff -r 1294..1293)

2010-04-28  Brian Aker  <brian@gaz>

	Merge of Paul. All PBXT related changes.

2010-04-28  Brian Aker  <brian@gaz>

	MErge Paul

2010-04-26  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed bug #567402 pbxt doesn't build on debian ppc 32bit

2010-04-28  Brian Aker  <brian@gaz>

	Merge Paul

2010-04-26  Paul McCullagh  <paul.mccullagh@primebase.org>

	Prevent warning: variable 'edx' might be clobbered by 'longjmp' or 'vfork', without a hack

2010-04-27  Brian Aker  <brian@gaz>

	This should be dead code, but I am going to see if that was the case.

2010-04-27  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-27  Monty Taylor  <mordred@inaugust.com>

	Undid the libdrizzled.so.

2010-04-23  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Hardcode an exclusion for port 8000. It comes up surprisingly often.

2010-04-23  Brian Aker  <brian@gaz>

	Fix for PBXT build issue

2010-04-23  Vladimir Kolesnikov  <vladimir@primebase.org>

	fix of bug #567526: pbxt doesn't build under gcc on Solaris

2010-04-22  Brian Aker  <brian@gaz>

	Small cleanup on handler

2010-04-22  Brian Aker  <brian@gaz>

	encapsulate engine inside of cursor.

2010-04-22  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-22  Jay Pipes  <jpipes@serialcoder>

	Fix for Bug #542299.  The cause of the segfault was no pre-allocation of the target vector in set_difference().  Depending on STL implementations, set_difference() calls the STL's copy(), which requires pre-allocation of all targets and destinations.  This meant the default constructor for set_difference_contexts was not adequate, and we should call vector<>::reserve() to allocate enough memory for pointers to the target elements.

2010-04-22  Jay Pipes  <jpipes@serialcoder>

	Reduce large test case for savepoints on Bug 542299 down to the smallest reproduceable test case.

2010-04-21  Jay Pipes  <jpipes@serialcoder>

	Add exact SQL that produces bug #542299 to the savepoints.test case.

2010-04-22  Brian Aker  <brian@gaz>

	Fixes for "big" suite.

2010-04-22  Brian Aker  <brian@gaz>

	Merge Brian

2010-04-22  Brian Aker  <brian@gaz>

	Remove valgrind issue by setting the second row's null bits to null.

2010-04-22  Brian Aker  <brian@gaz>

	This is a small update to remove reopen hack (this also moves us one more
	step to to having cursors which do not switch).

2010-04-20  Brian Aker  <brian@gaz>

	Merge in heap != myisam

2010-04-20  Brian Aker  <brian@gaz>

	There is room for improvement around this. We should be using rows as well
	in the future as a metric for disk/memory store. 

2010-04-20  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-20  Jay Pipes  <jpipes@serialcoder>

	delete_row() is now deleteRecord() and doDeleteRecord() in Cursor

2010-04-20  Jay Pipes  <jpipes@serialcoder>

	Cursor::update_row() changed to doUpdateRecord() and updateRecord()

2010-04-20  Jay Pipes  <jpipes@serialcoder>

	Cursor::write_row() -> Cursor::doInsertRecord().  Cursor::ha_write_row() -> Cursor::insertRecord()

2010-04-20  Jay Pipes  <jpipes@serialcoder>

	Remove dead code and typedefs

2010-04-20  Brian Aker  <brian@gaz>

	Fix for PPC

2010-04-20  Brian Aker  <brian@gaz>

	Merge up Padraig

2010-04-20  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2010-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Used shared_ptr for the pointer returned from the factory method since we can use boost now...yay

2010-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Integrated the AccessMethodFactory class into the code base. We have now abstracted out the concept of an access method.

2010-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed various compiler errors in access method classes due to forgetting includes.

2010-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added interface and various implementations to abstract out the concept of an access method. Also added a factory class for creating an instance of an access method.

2010-04-20  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-19  mordred  <mordred@orisndriz09>

	Merged up with build.

2010-04-19  mordred  <mordred@orisndriz09>

	Merged in more-valgrind.

2010-04-19  mordred  <mordred@orisndriz05>

	Finally found the stinking issue.

2010-04-19  mordred  <mordred@orisndriz05>

	Removed some extern "C" bits that were screwing with the callstack.

2010-04-19  Monty Taylor  <mordred@inaugust.com>

	Added suppression for static innodb.

2010-04-12  mordred  <mordred@orisndriz09>

	Get rid of all of the bogus valgrind warnings on 64-bit.

2010-04-19  Brian Aker  <brian@gaz>

	Small fixes, remove malloc usage in share creation.

2010-04-19  Brian Aker  <brian@gaz>

	Dead code pull

2010-04-19  Brian Aker  <brian@gaz>

	Updates to remove multi_malloc()

2010-04-19  Brian Aker  <brian@gaz>

	Remove usage of multi_malloc

2010-04-19  Brian Aker  <brian@gaz>

	Remove dead call around "fixing" case where MRR lacked buffer.

2010-04-19  Brian Aker  <brian@gaz>

	Dead code removal.

2010-04-19  Brian Aker  <brian@gaz>

	Remove call bits in dead mrr caller.

2010-04-19  Brian Aker  <brian@gaz>

	Updates to remove a fe bits of dead code around C support for plugins
	written only in C.

2010-04-19  Brian Aker  <brian@gaz>

	Fix for bad manual-gdb (merged from Monty)

2010-04-19  Monty Taylor  <mordred@inaugust.com>

	We need to launch drizzled via libtool now.

2010-04-19  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2010-04-19  Brian Aker  <brian@gaz>

	Small bug fix for when make_field lacks a mem_root.

2010-04-19  Brian Aker  <brian@gaz>

	More updates for memory::Root

2010-04-19  Brian Aker  <brian@gaz>

	More encapsulation.

2010-04-19  Brian Aker  <brian@gaz>

	Updates to confine memroot

2010-04-18  Brian Aker  <brian@gaz>

	Use typdef for SessionList

2010-04-17  Brian Aker  <brian@gaz>

	Small change to move over call to cursor API.

2010-04-17  Brian Aker  <brian@gaz>

	Remove dead index call.

2010-04-17  Brian Aker  <brian@gaz>

	Remove dead code.

2010-04-17  Brian Aker  <brian@gaz>

	Merge range.

2010-04-17  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-16  Monty Taylor  <mordred@inaugust.com>

	Fixed a symbol oops.

2010-04-16  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-04-16  Monty Taylor  <mordred@inaugust.com>

	Added a missing file.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Merged in old drizzled-as-lib patch.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Merged the revert.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Reverted a change that snuck in to this branch.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Fixed two merge issues.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Merged trunk and use-std-unordred.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Use unordered_map from the upcoming c++0x standard instead of a homemade
	hash_map.h. For the one platform we have that doesn't properly support it
	(hi, centos5) we make two quick classes just to rename the hash_map there to
	the standard unordred_map.
	Change the codebase to use unordered_map and unordered_set.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Merged in revs removing depend on the plugin tree.

2010-03-26  Monty Taylor  <mordred@inaugust.com>

	Moved and reworked a wrapper around sigset - which we shouldn't be using
	anyway.

2010-03-26  Monty Taylor  <mordred@inaugust.com>

	Fixed indent.

2010-03-26  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-21  Monty Taylor  <mordred@inaugust.com>

	Added missing file from merge.

2010-03-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the merge.

2010-03-18  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Changed library link ordering.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Merged latest pandora-build.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Removed libdrizzled from plugin build deps for now until automake install
	depend ordering is sussed out.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Fixed include guard.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Patch pandora-plugin to add the link-time depend between plugins and
	libdrizzled. Mmm. Tight coupling.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged in trunk.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Fixed merge oops.

2010-02-19  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Added some better suppressions?

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed Sun Studio issues.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed trunk Sun Studio build errors.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed the spec file to match what we're instaling now.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed the link on RHEL/CentOS

2010-02-15  Monty Taylor  <mordred@inaugust.com>

	Removed drizzle_ prefix from some things that don't need it since they're
	in a namespace.

2010-02-15  Monty Taylor  <mordred@inaugust.com>

	Changed build to build the almost all of drizzle into libdrizzled and then
	have a small main.cc program which links in libdrizzled. This will allow us
	to easily track exported API symbols and symbol changes.

2010-04-16  Brian Aker  <brian@gaz>

	Merge Paul

2010-04-16  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed warning: variable 'edx' might be clobbered by 'longjmp' or 'vfork'

2010-04-16  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Latest pandora-build. Moves the lint check to only run distcheck.

2010-04-16  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-16  Monty Taylor  <mordred@inaugust.com>

	Fix header guard.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Updated test to get it to be able to be consistently run.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Fixed a stoopid.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Replaced test_authz with a plugin implementing a hard-coded simple
	multi-tennancy policy. The policy describes:
	- A root user exists which can do anything
	- A user may only see a schema that is named the same has his user name
	- A user may see data_dictionary and information_schema (data_dictionary
	required for show databases to work)
	
	This way, we can more clearly test the results of the authorization
	interface while providing an optional plugin that is actually useful to some
	human.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	Updated Authorization plugin interface to use new Schema|TableIdentifier
	code.
	Also - fixed Authorization::pruneSchemaNames to use stl's remove_if and
	erase to properly trim down the set.

2010-04-15  Monty Taylor  <mordred@inaugust.com>

	There's a bug here. Passing in the length causes std::string to believe the
	length over the \0 termination. In some cases, the length is wrong and
	causes SchemaIdentifier.compare to blow up.

2010-04-16  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Force Embedded InnoDB tables to have a primary key. This is because we cannot do ::position() type calls on embedded innodb tables that do not have an explicit primary key.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	remove duplicate doRenameTable() that was missed in auto-merge.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merge

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	fix rename table for new prototype as well as that table names are read from the proto instead of from getTableNames, which means on rename we must read the table proto, modify ita nd then store it again.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-25  Stewart Smith  <stewart@flamingspork.com>

	add test that utilises rnd_pos(). From part of alias.test. I've added a primary key as we currently can only do position() and rnd_pos() on tables with a primary key.

2010-03-25  Stewart Smith  <stewart@flamingspork.com>

	implement rnd_pos for embedded_innodb. Also fix up fill_ib_search_tpl_froM_drizzle_key for primary keys that aren't all at the start of the table. It turns out that the clustered index search tuple numbers columns just in the clustered index, not anything to do with column numbers in the table.

2010-03-25  Stewart Smith  <stewart@flamingspork.com>

	fix up store_key_value_from_innodb for embedded_innodb ::position() with varchar columns that weren't full.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-full-index-read into embedded-innodb-position-rnd-pos.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	merge trunk, remove my hack to get anything to work with table identifier

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	simple ::position() implementation for embedded innodb. include simple test (that does call it).

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	store ref_length in ::open() for ::position() in embedded_innodb. This method doesn't work for tables without a primary key though.... :/

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	find_flag is used in index_read, don't need to pretend it is

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	merge Tableidentifier and embedded_innodb rename table

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	add test for index_read with null values

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-secondary-index-scan into embedded-innodb-full-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-status-table-function into embedded-innodb-secondary-index-scan.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	implement index_read for multi column indexes

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	use appropriate ib_srch_mode for index_read. implement ha_rkey_function to ib_sch_mode function.

2010-03-19  Stewart Smith  <stewart@flamingspork.com>

	support secondary index scan in embedded_innodb. we add a next_innodb_error member to EmbeddedInnodbCursor as unlike clustered indexes, trying to fetch a row after you have gotten DB_END_OF_INDEX results in a much nastier crash than a simple error code.

2010-03-19  Stewart Smith  <stewart@flamingspork.com>

	use FORCE INDEX for secondary index scans as embedded innodb doesn't give index stats that make the optimiser choose them.

2010-03-19  Stewart Smith  <stewart@flamingspork.com>

	add test (and result) for secondary index scan. Will fail when using embedded_innodb as we haven't yet implemented that functionality.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-config-table-function into embedded-innodb-status-table-function.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rename-table into embedded-innodb-config-table-function.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-update-row into embedded-innodb-rename-table.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-savepoints into embedded-innodb-update-row.

2010-03-16  Stewart Smith  <stewart@flamingspork.com>

	modify innodb_status test (status_table_function) to test the number of fsyncs being called around some functions.

2010-03-16  Stewart Smith  <stewart@flamingspork.com>

	basic DATA_DICTIONARY.INNODB_STATUS table_function plugin. This gets the InnoDB status and lets the user query it.
	
	Currently the API means we have to hard code in each status variable (which isn't so great).

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	fix up handling of NULL for VALUEs in DATA_DICTIONARY.INNODB_CONFIGURATION table_function

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	export values of Embedded InnoDB configuration options in the data_dictionary.innodb_configuration table. Currently the test will fail due to aparrent bugs in the table_function implementation in drizzle (it's not respecting push() setting value to NULL)

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	add configuration variable type to data_dictionary.innodb_configuration table.

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	basic embedded innodb DATA_DICTIONARY.INNODB_CONFIGURATION test

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	fetch configuration variable names, put them in the table, test.

2010-03-15  Stewart Smith  <stewart@flamingspork.com>

	simple table function for Embedded InnoDB Configuration. Currently returns nothing.

2010-03-13  Stewart Smith  <stewart@flamingspork.com>

	add basic RENAME TABLE support for Embedded InnoDB. Also add a basic test, and copy over the rename.test test and run it against embedded innodb.

2010-03-12  Stewart Smith  <stewart@flamingspork.com>

	basic UPDATE row for Embedded InnoDB Engine.
	
	Factor out read_row_from_innodb to *not* clear the tuple, so that entering any function we have the tuple filled out for the previous record. To perofrma na update, we then move the cursor back a row (as cursor points to *NEXT* row) and we can then use the tuple (which has not been cleared) to perform the update.
	
	This means that the tuple is now cleared on the *next* Cursor call. Calls to read_row_from_innodb() have been updated accordingly.
	
	We also now have a write_row_to_innodb_tuple() method that takes an array of Field objects and uses them to write out the record to the supplied innodb tuple. This can be used in write_row or update_row.

2010-04-16  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-12  mordred  <mordred@orisndriz08>

	Added one more suppression.

2010-04-12  mordred  <mordred@orisndriz09>

	Get rid of all of the bogus valgrind warnings on 64-bit.

2010-04-15  Brian Aker  <brian@gaz>

	Merge docs

2010-04-11  Tim Martin  <timm@woolly>

	More doxygen commenting

2010-04-11  Tim Martin  <timm@woolly>

	Merge from trunk

2010-04-08  Tim Martin  <timm@woolly>

	Updating existing comments to doxygen format

2010-04-08  Tim Martin  <timm@woolly>

	Merge from trunk

2010-04-07  Tim Martin  <timm@woolly>

	Reformatting some memory/root.h comments for doxygen

2010-04-15  Brian Aker  <brian@gaz>

	Testing bug fix

2010-04-09  Yanbo Wu  <yanbo.wu@gmail.com>

	convert st_foreign_key_info to class ForeignKeyInfo

2010-04-14  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-07  Monty Taylor  <mordred@inaugust.com>

	Fixed the memcached_stats plugin to work with the latest libmemcached, now
	that it exists on intel03.

2010-04-07  Monty Taylor  <mordred@inaugust.com>

	Removed a naming conflict on Solaris.

2010-04-07  Monty Taylor  <mordred@inaugust.com>

	Removed a naming conflict on solaris.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Reverted a change that snuck in to this branch.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Use unordered_map from the upcoming c++0x standard instead of a homemade
	hash_map.h. For the one platform we have that doesn't properly support it
	(hi, centos5) we make two quick classes just to rename the hash_map there to
	the standard unordred_map.
	Change the codebase to use unordered_map and unordered_set.

2010-04-14  Brian Aker  <brian@gaz>

	Merge of Monty

2010-04-14  Monty Taylor  <mordred@inaugust.com>

	Moved gcc-specific optoins to their own thing.

2010-04-14  Monty Taylor  <mordred@inaugust.com>

	Fixed the compile for Sun Studio.

2010-04-13  Brian Aker  <brian@gaz>

	Disabling compile by default

2010-04-14  Brian Aker  <brian@gaz>

	Stored.

2010-04-13  Brian Aker  <brian@gaz>

	Fix 

2010-04-13  Brian Aker  <brian@gaz>

	Merge.

2010-04-10  Monty Taylor  <mordred@inaugust.com>

	Disabled memcached_stats plugin. It needs to be ported up to 0.38 of
	libmemcached.

2010-04-13  Brian Aker  <brian@gaz>

	Merge

2010-04-13  Stewart Smith  <stewart@flamingspork.com>

	remove HTON_FILE_BASED: it's unused now.

2010-04-13  Brian Aker  <brian@gaz>

	Merge 

2010-04-13  Monty Taylor  <mordred@inaugust.com>

	Fixed a few further things.

2010-04-13  Monty Taylor  <mordred@inaugust.com>

	Crapbags.

2010-04-13  Monty Taylor  <mordred@inaugust.com>

	Ship plugin/pbxt/bin.

2010-04-13  Monty Taylor  <mordred@inaugust.com>

	More build

2010-04-12  Monty Taylor  <mordred@inaugust.com>

	Removed a warning declaration that's included in pandora-build

2010-04-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a few pbxt build issues.

2010-04-12  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-12  Jay Pipes  <jpipes@serialcoder>

	TransactionLogApplier now manages (frees) memory for TransactionLog and TransactionLogIndex

2010-04-12  Brian Aker  <brian@gaz>

	Merge change to load by default

2010-04-12  Brian Aker  <brian@gaz>

	Merge PBXT

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged with trunk

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	The Drizzle trunk has one more tab

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Some compilers complained that: variable 'err' might be clobbered by 'longjmp' or 'vfork'

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	bzlib.h header not available on suse-11-amd64 or ubuntu-9.10-amd64

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged with trunk

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Removed the PBXT system/virtual tables, this meant that the call to mysql_prepare_create_table() is no longer required

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Added required PBXT specific test results

2010-04-11  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed PBXT specific test results

2010-04-09  Vladimir Kolesnikov  <vladimir@primebase.org>

	fixed alter_table test

2010-04-09  Vladimir Kolesnikov  <vladimir@primebase.org>

	fixed fetch field count in select (all fields are selected for now)

2010-04-09  Vladimir Kolesnikov  <vladimir@primebase.org>

	fixed easy test cases

2010-04-08  Vladimir Kolesnikov  <vladimir@primebase.org>

	Brian's changes

2010-04-08  Brian Aker  <brian@gaz>

	Merge PBXT.

2010-04-08  Vladimir Kolesnikov  <vladimir@primebase.org>

	create/insert/select/drop works

2010-04-08  Vladimir Kolesnikov  <vladimir@primebase.org>

	lp:drizzle + pbxt 1.1 + test results

2010-04-11  Brian Aker  <brian@gaz>

	Merge version requirement

2010-04-11  Monty Taylor  <mordred@inaugust.com>

	Bumped the required libmemcached version.

2010-04-11  Brian Aker  <brian@gaz>

	Seeing static effects valgrind output

2010-04-10  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-10  mordred  <mordred@orisndriz08>

	Disabled auth_test until it works again.

2010-04-10  mordred  <mordred@orisndriz08>

	Booyah! Suppressions working. bee-yatch!

2010-04-10  mordred  <mordred@orisndriz08>

	Removed dlclose() call to fix valgrind output.

2010-04-08  Brian Aker  <brian@gaz>

	Merge Joe

2010-04-08  Joe Daly  <skinny.moey@gmail.com>

	lower the max number of users that are tracked, the default of 10000 is to high when testing with valgrind, this causes the server to start up slow and tests to try and connect before its running

2010-04-08  Joe Daly  <skinny.moey@gmail.com>

	reduce the number of users 10000 takes the server to long to start for testing

2010-04-08  Brian Aker  <brian@gaz>

	Commit.

2010-04-08  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and replication-pairs with conflict resolution

2010-04-08  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts

2010-04-08  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	Merge replication-api

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-08  Brian Aker  <brian@gaz>

	Merge in remove checksum code.

2010-04-08  Stewart Smith  <stewart@flamingspork.com>

	remove CHECKSUM TABLE

2010-04-07  Brian Aker  <brian@gaz>

	Null merge

2010-04-07  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-07  Brian Aker  <brian@gaz>

	Merge Monty

2010-04-05  mordred  <mordred@orisndriz09>

	Added more innodb suppressions.

2010-04-05  mordred  <mordred@orisndriz09>

	Suppress dlopen calls.

2010-04-05  mordred  <mordred@orisndriz09>

	Made the TransactionLogApplier own the memory of the TransactionLog.

2010-04-05  mordred  <mordred@orisndriz09>

	Fixed some of the suppressions for newer and 32-bit machines.

2010-04-07  Brian Aker  <brian@gaz>

	Merge Joe

2010-04-06  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-05  Joe Daly  <skinny.moey@gmail.com>

	merge trunk, and add drop table calls and end of logging_stats tests where needed

2010-04-03  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-04-01  Joe Daly  <skinny.moey@gmail.com>

	fix comment about locking

2010-03-31  Joe Daly  <skinny.moey@gmail.com>

	fix string assignment

2010-03-31  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-31  Joe Daly  <skinny.moey@gmail.com>

	add lock inits and remove a lock on resetting the scoreboard slot

2010-03-29  Joe Daly  <skinny.moey@gmail.com>

	fix incrementors to be prefix

2010-03-29  Joe Daly  <skinny.moey@gmail.com>

	fix incrementors

2010-03-28  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-28  Joe Daly  <skinny.moey@gmail.com>

	update comments in logging_stats.cc

2010-03-26  Joe Daly  <skinny.moey@gmail.com>

	clean up some unneeded destructors and add update comments

2010-03-26  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-26  Joe Daly  <skinny.moey@gmail.com>

	add a new test to make sure nothing crashes when the scoreboard is full, lower the limit in logging_stats to accomadate this test, its not a reasonable value but the test is necessary

2010-03-26  Joe Daly  <skinny.moey@gmail.com>

	add max user test, and get it to work

2010-03-26  Joe Daly  <skinny.moey@gmail.com>

	add description and comments to various files

2010-03-25  Joe Daly  <skinny.moey@gmail.com>

	fix a warning, by brute force static_casts

2010-03-25  Joe Daly  <skinny.moey@gmail.com>

	correct initializations and make sure delete call is only called if needed

2010-03-25  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-25  Joe Daly  <skinny.moey@gmail.com>

	add destructors

2010-03-23  Joe Daly  <skinny.moey@gmail.com>

	add read only lock for current scoreboard when doing a query

2010-03-23  Joe Daly  <skinny.moey@gmail.com>

	get tests to work, need to fix read lock on stats_schema current commands

2010-03-23  Joe Daly  <skinny.moey@gmail.com>

	first pass at using a module vector approach of scoreboard

2010-03-20  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-18  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-18  Joe Daly  <skinny.moey@gmail.com>

	update description of logging_stats class

2010-03-18  Joe Daly  <skinny.moey@gmail.com>

	use a vector instead of array for current user stats, rename score_board to scoreboard, move code around to be more OO

2010-03-18  Joe Daly  <skinny.moey@gmail.com>

	add cumulative stats

2010-04-07  Brian Aker  <brian@gaz>

	Remove dead code Merge from Tim.

2010-04-05  Tim Martin  <timm@woolly>

	Dead code removal

2010-04-05  Tim Martin  <timm@woolly>

	Removed function prototype left over after previous dead code removal

2010-04-05  Tim Martin  <timm@woolly>

	Dead code removal

2010-04-05  Tim Martin  <timm@woolly>

	More dead code removal

2010-04-05  Tim Martin  <timm@woolly>

	Dead code removal

2010-04-05  Tim Martin  <timm@woolly>

	Merged from trunk

2010-04-05  Tim Martin  <timm@woolly>

	Dead code removal

2010-04-04  Tim Martin  <timm@woolly>

	More Doxygen commenting

2010-04-04  Tim Martin  <timm@woolly>

	More doxygen commenting

2010-04-04  Tim Martin  <timm@woolly>

	Doxygen commenting

2010-04-07  Brian Aker  <brian@gaz>

	Merge Eric

2010-04-02  Eric Day  <eday@oddments.org>

	Added auth_file plugin.

2010-04-07  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-07  Jay Pipes  <jpipes@serialcoder>

	Merge rabbitmq fixes

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Add --rabbitmq-use-replicator=[default|filtered|...] functionality and update variables test case

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Merge replication-pairs

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Two little problems were preventing the plugin from being loaded:
	
	#include <exception> needed to be placed in the handler source
	file to properly refer to std::exception.
	
	Had two variables declared extern in rabbitmq_log.cc but those
	variables were not defined elsewhere.  Simple fix...change extern
	to static to have the variables defined in that file locally.
	
	Adds a test suite for the rabbitmq module with a simple test case
	for variables.

2010-04-06  Marcus Eriksson  <marcuse@localhost.localdomain>

	drizzle_plugin changed

2010-04-07  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Merge DDL

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	Merge

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	Update test result files for data_dictionary and information_schema due to additional replication_streams table.

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	merge trunk

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	Records correct results for new replication_dictionary tests.

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	This patch adds the following functionality:
	
	* Removes the need to manually enable replicators in order
	for an applier to work.
	* Removes the enabled/disabled setting of both transaction
	applier plugins and transaction replicator plugins
	* Pairs a replicator with an applier into a "ReplicationStream"
	and removes all checks for "enabled" replicators and appliers
	* Allows modules that implement a TransactionApplier (such as
	the transaction_log module) to specify which replicator to
	use via a configuration variable.  For instance, the transaction
	log module now has --transaction-log-use-replicator=[default|filtered..]
	instead of the user having to do --default-replicator-enable and such
	* Adds a new data dictionary table for REPLICATION_STREAMS, which
	allows querying of activated replication-to-applier streams
	managed by drizzled::ReplicationServices

2010-04-06  Brian Aker  <brian@gaz>

	Merge Stewart

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	implement both doGetTableNames and doGetTableIdentifiers through a common function

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	add two new empty functions that are required for a skeleton engine: get_auto_increment and doGetTableIdentifiers

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge fixes for embedded_innodb: changed prototypes for engine

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-04-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk, fix up table name in doGetTableDefinition due to bug lp:552178

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge libinnodb init/de-init with trunk

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge plugin init with trunk: plugin::Context instead of Registry

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	fix up plugin initialisation and add doRenameTable empty function as it's now pure virtual

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-31  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-27  Stewart Smith  <stewart@flamingspork.com>

	rework error handling in create_table_message_table() for embedded_innodb to not use transaction uninitialised in teh error case of setting up the table structure for innodb.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	implement a stupid way to convert TableIdentifier to an innodb table name that actually works.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix up create table with indexes  for TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix up store/read table message for TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix up drop table for new bits of storage engine API r.e. TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix up table exists for new bits of storage engine API r.e. TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix up create table for new bits of storage engine API r.e. TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	update embedded_innodb for TableIdentifier

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix reading null values from embedded innodb. don't try and retrieve a value for a column taht is null

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	add test for testing inserting NULL values into embedded_innodb

2010-03-22  Stewart Smith  <stewart@flamingspork.com>

	fix storing of NULL in embedded innodb. Need to explicitly set column value to IB_SQL_NULL

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	store (bogus) values for creation_timestamp and update_timestamp in the table proto for data_dictionary.innodb_table_definitions

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rollback-statement into embedded-innodb-savepoints.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-transactions into embedded-innodb-rollback-statement.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	basic savepoints for embedded innodb

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	take a savepoint at the start of each embedded innodb statement and roll back to that savepoint on error.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-delete-row into embedded-innodb-truncate-table.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	fix doDropTable prototype (now takes const string&)

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	fix description of embedded innodB

2010-03-11  Stewart Smith  <stewart@flamingspork.com>

	implement basic ROLLBACK (with test) for embedded innodb

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	add test to make sure autocommit is functioning properly for embedded innodb

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-truncate-table into embedded-innodb-transactions.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	add truncate table test for embedded innodb

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	add basic transactional support to Embedded InnoDB engine.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	implement TRUNCATE TABLE for Embedded Innodb using the (fast) ib_cursor_truncate() call instead of deleting each row individually.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up error code checking

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up error code checking

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up error code checking

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up error handling in index creation

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fixup error checking

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	merge

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up return code checking.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	merge collation fixup

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	merge collation fixup

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up table message table proto for collation to always be binary.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up result file for basic_innodb_table_proto_table, merge other pipes.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix up result file for basic_innodb_table_proto_table, merge other pipes.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix return code checking for schema message store/read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	we don't need to move the cursor to first row in the clustered index before doing a lookup based on our search term. doGetTableNames optim

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	use search tuple in doGetTableNames to scan SYS_TABLES using an index read instead of full table scan.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	check error codse in doGetTableNames for embedded innodb

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	lock schema in drop table (needed for drop table to work

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	fix up doDropTable for schema transaction

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	assert out on rollback errors in error states in drop table

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	In Embedded InnoDB 1.0.6, dropping a table can be part of a schema transaction. So we now include the drop table call in our schema transaction in doDropTable. This means that Embedded InnoDB is fully crash safe for CREATE and DROP table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	fix up ib_cursor_close() error checking in doGetTableDefinition

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	check return code for ib_cursor_close in doGetTabledefinition of embedded innodb. currently just assert... possibly in the future do something nicer... but if we fail to close the cursor, we're in trouble.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	fix up checking return codes used in CREATE TABLE for Embedded InnoDB Engine

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	check return code of ib_trx_rollback() in datadict_dump function. We just assert on it being successful as this function is for debug purposes only.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	check all return codes from ib_cfg in plugin init for embedded innodb. Embedded InnoDB 1.0.6 has warn_unused_result for all of these.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	check return code from ib_init().

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	innodb 1.0.6 needs parameter to ib_shutdown(). Do normal shutdown on plugin finalise

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-settings.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-09  Stewart Smith  <stewart@flamingspork.com>

	update libinnodb_version_func for libinnodb version 1.0.6.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	style fixup for for

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	merge style fixups: == and spaces

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	merge style fixups: == and spaces

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	style fixups: == and spaces

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	merge, fixup table_proto versus table_definitions table

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	merge, fixup table_proto versus table_definitions table

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	add proper error checking to store_table_message() and roll back the data dictionary transaction if there was an error storing the table proto

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	style fix

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	define should be a const char*

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	use define to set the name of the innodb_table_definitions table instead of repeating it 5 times through the code

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	change data_dictionary.innodb_table_proto to data_dictionary.innodb_table_definition

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	fix setting of IB_COL_NOT_NULL flag

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	add test for writing rows with NULLable and NOT NULLable columns.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-lookup into embedded-innodb-delete-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-index-read into embedded-innodb-index-lookup.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-03  Stewart Smith  <stewart@flamingspork.com>

	create_table_add_field should take const reference of the field

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	we need to advance the cursor in EmbeddedInnoDBCursor::delete_row() after deleting the row. Fixes DELETE FROM without WHERE.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	add basic delete row test for embedded innodb

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	support delete_row() in Embedded InnoDB. We move to the previous record in the cursor as after any of the read methods, the cursor always points to the *next* record to be read.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	simple index_read() for embedded innodb. Add a test for first column beivng primary key and index lookups/scans.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-settings into embedded-innodb-dump-datadict-func.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Add innodb_log_file_size and innodb_log_files_in_group to embedded_innodb. Also make their defaults *exactly* the same as the standard innobase plugin (same goes for innodb_data_file_path). This fixse an incompatibility with the log file sizes between innobase and embedded_innodb that would prevent the server being restarted with the other plugin loaded.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	since index reads work, we can expose the primary key of data_dictionary.innodb_table_proto to the sql server.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	store VARCHAR columns correctly. Don't store the length bytes. instead use and abuse Field_varstring::val_str() to get the length and pointer to data to tell innodb.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	retrieve non-VARCHAR columns properly from embedded InnoDB. We should just shunt the bytes around except if we need to do things with strings...

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	modify basic_innodb_table_proto_table.test so that we print out the names of the tables we have.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	fix up rnd_next for reading tables a bit more properly: respect readset, set writeset (to assert we're getting everything). Also use the Field::store() method to store the result in the Drizzle row buffer. This means the Field classes look after things like the length bytes.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	read the count of the number of tables in the data_dictionary/innodb_table_proto table. Currently don't report the existence of an index on the table as we don't have index scan yet

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-duplicate-key into embedded-innodb-index-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-rnd-read into embedded-innodb-create-table-with-index.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-26  Stewart Smith  <stewart@flamingspork.com>

	generate a basic table proto for data_dictionary/innodb_table_proto system table.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	reverse index scanning for embedded innodb. support index_last and index_prev

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	refactor out rnd_next() into read_row_from_innodb() and a call to ib_cursor_next(). This allows us to make the row reading code generic for index scans/lookups.

2010-02-25  Stewart Smith  <stewart@flamingspork.com>

	basic index scan of embedded innodb clustered index

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-with-index into embedded-innodb-duplicate-key.

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	modify basic_with_indexes test for the fact that embedded innodb does not yet support index scanning, so force full table scan.

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	add basic test for embedded innodb for a table with indexes: insert a value, select all.

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	add basic CREATE TABLE with indexes test for embedded innodb

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	make basic_drop_table embedded innodb test independent (creates tables itself

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	make basic_create_table embedded innodb test clean up after itself.

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	add simple insert duplicate key on pkey test

2010-02-24  Stewart Smith  <stewart@flamingspork.com>

	return HA_ERR_FOUND_DUPP_KEY on duplicate key error from embedded innodb.

2010-02-23  Stewart Smith  <stewart@flamingspork.com>

	add comment about TODO for index prefixes

2010-02-23  Stewart Smith  <stewart@flamingspork.com>

	basic support for indexes in CREATE TABLE for embedded innodb engine

2010-02-23  Stewart Smith  <stewart@flamingspork.com>

	'correctly' deal with transaction in an autocommit type way. this means queries like 'insert select' work as we're always in the correct transactional context.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	merge in fix to DRIZZLE_DECLARE_PLUGIN changes.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	DRIZZLE_DECLARE_PLUGIN fixup for embedded innodb

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into innodb-not-static.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-22  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-datadict-table-functions into embedded-innodb-create-table-basic.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-merge-plugin-remove into innodb-not-static.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into embedded-innodb-merge-plugin-remove.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	remove unneeded file

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embeddded-innodb-store-table-proto into embedded-innodb-write-row.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-show-tables into embeddded-innodb-store-table-proto.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-drop-table into embedded-innodb-show-tables.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-table-eists into embedded-innodb-drop-table.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-init into embedded-innodb-dump-datadict-func.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-merge-plugin-remove into innodb-not-static.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into embedded-innodb-merge-plugin-remove.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	test retrieval of two columns

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-write-row into embedded-innodb-rnd-read.

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	test writing to 2 columns. one int, one varchar.

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	add test for inserting multiple rows

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	simple rnd_init/rnd_next implementation for embedded innodb. It now works for inserting 1 row with an int column and selecting that row back (at least).

2010-02-14  Stewart Smith  <stewart@flamingspork.com>

	basic code to insert a integer

2010-02-13  Stewart Smith  <stewart@flamingspork.com>

	basic store/read/delete table proto from embedded innodb table. This makes CREATE TABLE 100% crash safe. This also makes SHOW CREATE TABLE work for embedded innodb tables.

2010-02-13  Stewart Smith  <stewart@flamingspork.com>

	basic creating of data_dictionary/innodb_table_proto table on startup

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	add SHOW TABLES support to embedded innodb engine
	
	an implementation of StorageEngine::doGetTableNames()
	
	This version just iterates over every entry in SYS_TABLES due to a libinnodb
	bug that prevents us using a search tuple.
	This should be fixed in the next libinnodb release.
	See: http://forums.innodb.com/read.php?8,1090,1094#msg-1094

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	Add basic DROP TABLE support to embedded innodb engine.
	
	As mentioned by Sunny in:
	http://forums.innodb.com/read.php?8,1075,1081#msg-1081
	
	future libinnodb versions will have txn parameter to drop table.

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	to really work with drop table, doGetTableDefinition must fill out the Engine part of the protobuf.

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-create-table-basic into embedded-innodb-table-eists.

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-12  Stewart Smith  <stewart@flamingspork.com>

	unlock datadict and rollback transaction after having dumped innodb datadict

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	*really* simple embeddded_innodb check if a table exists in doGetTableDefinition.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	increase testing a bit: CREATE a table with multiple columns, checked in datadict_dump() for col count. check that we give correct error message on unsupported column type.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	don't print libinnodb datadict dump to stderr

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	add test/t1 result part to libinnodb_datadict_dump_func.result. At some point this will go away when whe support DROP TABLE

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	add simple test for libinnodb_datadict_dump()

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	correct production of libinnodb_datadict_dump string.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	simple LIBINNODB_DATADICT_DUMP() function to dump contents of libinnodb data dict as string.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-dump-datadict-func into embedded-innodb-create-table-basic.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged innodb-not-static into embedded-innodb-init.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-merge-plugin-remove into innodb-not-static.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-lib-version into embedded-innodb-merge-plugin-remove.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-load_plugin-test into embedded-innodb-lib-version.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged embedded-innodb-autofoo into embedded-innodb-load_plugin-test.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-11  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-10  Stewart Smith  <stewart@flamingspork.com>

	beginning of creating the table specified in the table proto. Embedded InnoDB now creates at least INT and VARCHAR types.

2010-02-09  Stewart Smith  <stewart@flamingspork.com>

	incredibly simple CREATE TABLE (and test) for embedded innodb. just creates a table with the supplied name (NOT with the supplied schema). Tests that we can't create the same table twice and that we're talking okay to libinnodb.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	Name the EMBEDDED_INNODB plugin as InnoDB and add two variables (data_file_path and lock_wait_timeout) to make test-run.pl happy.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	modify -master.opt for embedded_innodb tests so that we remove the innobase plugin and load the embedded_innodb plugin instead as embedded_innodb and innobase badly conflict.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	call basic embedded innodb init functions (ib_init() and ib_startup()). Also shutdown functions.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	make Innobase plugin not statically built into server so we can disable it.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	merge add-plugin-remove-option. Embedded InnoDB needs this to remove InnoDB plugin.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	fix (C) notice in libinnodb_version_func

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	add LIBINNODB_VERSION() function

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	test loading of embedded_innodb plugin

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	Merged skeleton-embedded-innodb-engine into embedded-innodb-autofoo.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	currently storage engine plugins definition file extension *must* be 3 characters.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	add PANDORA_HAVE_LIBINNODB check for building embedded_innodb plugin.

2010-02-06  Stewart Smith  <stewart@flamingspork.com>

	Skeleton embedded_innodb plugin. Does nothing.

2010-04-06  Brian Aker  <brian@gaz>

	Fix for bug on show tables.:w
	:x

2010-04-06  Brian Aker  <brian@gaz>

	Test fix

2010-04-06  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Merge build

2010-04-06  Jay Pipes  <jpipes@serialcoder>

	Try another const_cast<> technique on pthread_traits.

2010-04-06  Brian Aker  <brian@gaz>

	Update for most recent version of libmemcached

2010-04-06  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-04-06  Stewart Smith  <stewart@flamingspork.com>

	HTON_PRIMARY_KEY_REQUIRED_FOR_POSITION flag is a complete lie. Kernel would call engine with ::position() anyway. Looks that way in MySQL too. Remove it and stop lying to poor engine authors.

2010-04-05  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	merge replication-api

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	merge trunk

2010-04-01  Jay Pipes  <jpipes@serialcoder>

	Fix cpplint header guard.

2010-04-01  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-04-01  Jay Pipes  <jpipes@serialcoder>

	OK, Sun Studio still didn't like that...seems to think that inline means something different than other compilers think it is...

2010-04-01  Jay Pipes  <jpipes@serialcoder>

	Sun Studio says inlined functions must be defined before being called...

2010-04-01  Jay Pipes  <jpipes@serialcoder>

	Add Solaris atomics fixes and test files. Add replication.h header to makefile.

2010-03-31  Jay Pipes  <jpipes@serialcoder>

	* Fixes drizzled's atomics:
	
	- fetch_and_add() was actually add_and_fetch() - fixed to have both methods correct
	- compare_and_swap() was incorrect for all traits classes.  Fixed to return a bool
	true only when the supplied value is actually swapped
	- fixes increment() and decrement() methods and operator+=() in outer atomics class
	template to call proper add_and_fetch() methods on traits classes
	- Now that above are fixed, removed the hacks in Query_id and TransactionLog to
	have query ID and the new transactoin ID start properly at 1.
	
	* Transaction messages sent over replication stream now use
	a real transaction ID, managed by drizzled::TransactionServices.  Previously, 
	the Query_id was being used, resulting in SELECT statements incrementing the
	transaction ID.
	
	* Added a test case to ensure that DDL ops are given a transaction ID and SELECT
	ops do not increment the transaction ID.
	
	The transaction ID will be paired with a channel ID to become the global
	transaction identifier.  ReplicationServices will manage the pairing of
	channel and transaction ID and understand how far a particular subscriber
	node has applied.

2010-03-31  Jay Pipes  <jpipes@serialcoder>

	Add DROP TABLE to insert test to ensure test cases are idempotent.

2010-03-31  Jay Pipes  <jpipes@serialcoder>

	Changes Query_id to start at 0, not 1, since increment() will make the first Query ID 2, not 1.

2010-03-31  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-30  Jay Pipes  <jpipes@serialcoder>

	merge write buffers work

2010-03-29  Jay Pipes  <jpipes@serialcoder>

	Changes uint8_t * to vector<uint8_t>.

2010-03-27  Jay Pipes  <jpipes@serialcoder>

	Merge const removal of Session parameter in replication API.

2010-03-27  Jay Pipes  <jpipes@serialcoder>

	Adds a vector of write buffers to the transaction log applier
	object.  This eliminates the calls to malloc() for writing
	most transaction log entries (the only calls to malloc() will
	be when an existing write buffer is not large enough).  
	
	There is a configuration setting now for the number of write
	buffers to create on startup.  The slot algorithm is a simple
	modulo on the session ID.

2010-04-05  Brian Aker  <brian@gaz>

	Merge Jay

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	Possible that result was returned uninitialized.  Initialize to plugin::SUCCESS before iterating across replication streams.

2010-04-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-27  Jay Pipes  <jpipes@serialcoder>

	Change to non-const Session reference in replication API.

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	Here, we do two main things:
	
	* We alter the code path inside the transaction coordinator
	to push transaction messages to replicators in between the
	prepare and commit stages of a transaction
	* We remove the prepare_commit_mutex in the InnoDB
	storage engine

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	TransactionServices method names now meet code style guidelines.

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	Removes mysql_xa_recover()

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	Adds Session reference to replication API

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	Add replication common header file.

2010-03-26  Jay Pipes  <jpipes@serialcoder>

	Adapts the plugin::TransactionReplicator and plugin::TransactionApplier
	APIs to return a ReplicationReturnCode enum.  Modifies all existing
	replicator and applier plugin implementing classes.

2010-04-05  Brian Aker  <brian@gaz>

	Fixing tests to work with PBXT.

2010-04-05  Brian Aker  <brian@gaz>

	Merge.

2010-04-02  Djellel E. Difallah  <ded@ubuntu>

	merge to trunk

2010-03-30  Djellel E. Difallah  <ded@ubuntu>

	update references to old my_'s

2010-03-30  Djellel E. Difallah  <ded@ubuntu>

	removing my

2010-03-30  Djellel E. Difallah  <ded@ubuntu>

	removing my

2010-04-04  Brian Aker  <brian@gaz>

	Fix for bad header.

2010-04-04  Brian Aker  <brian@gaz>

	Merge

2010-02-22  Marcus Eriksson  <marcuse@localhost.localdomain>

	add copyright headers, change load_by_default to no, include config.h, change string initialization to () style

2010-02-06  Marcus Eriksson  <marcuse@localhost.localdomain>

	rabbitmq replication applier

2010-04-03  Brian Aker  <brian@gaz>

	Merge.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	update test leaving tables in the hallway for me to trip over.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	select test leaving around tables carelessly

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	randgen_queries wasn't cleaning up after itself.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	fix delete test case so that it doesn't leave databases and tables lying around carelessly for somebody to trip down the stairs on.

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	fix logging_stats.command test to not leave tables a and b around that was causing a failure in any test case run after it that did SHOW TABLES (e.g embedded innodb)

2010-04-03  Stewart Smith  <stewart@flamingspork.com>

	fix check-testcase.test to work for modern Drizzle. This makes ./test-run.pl --check-testcases work again.

2010-04-02  Brian Aker  <brian@gaz>

	Move toward not having to call current_session (first pass).

2010-04-01  Brian Aker  <brian@gaz>

	Merge Monty fix.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	Use const std::string.

2010-04-01  Monty Taylor  <mordred@inaugust.com>

	The logic here was actually looking for strlen.

2010-04-01  Brian Aker  <brian@gaz>

	Rework to move show commands merge/etc.

2010-04-01  Brian Aker  <brian@gaz>

	Merge in work for fetching a list of table identifiers.

2010-03-31  Brian Aker  <brian@gaz>

	Update for show temporary tables;

2010-03-31  Brian Aker  <brian@gaz>

	Shift show commands to their own dictionary.

2010-04-01  Brian Aker  <brian@gaz>

	Merge.

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	remove debug code

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	add locking init

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	remove option that will restart the server

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	add debug code in post() functions

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	add update inside of lock

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	remove debug code

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	disable check for session 0

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	dont log session 0

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	tmp test on new'd new string

2010-03-30  Joe Daly  <skinny.moey@gmail.com>

	fix string assignment

2010-03-31  Brian Aker  <brian@gaz>

	Merge Siddharth

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	code refactoring - drizzled/algorithm/include.am

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	code refactoring - removing the type when calling crc32

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	deleted the file drizzled/algorithm/crc32.cc

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	remove #include config.h from drizzled/algorithm/crc32.h file

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	templatizing drizzle::algorithm::crc32(), all tests passed

2010-03-30  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	branch for templatizing drizzled::algorithm::crc32()

2010-03-31  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-03-30  Stewart Smith  <stewart@flamingspork.com>

	make get_auto_increment pure virtual and force engines not supporting auto_increment to be explicit about it

2010-03-30  Stewart Smith  <stewart@flamingspork.com>

	remove default get_auto_increment() implementation from Cursor. It's not safe when you don't have full table locks (it does a read of the MAX value for the column and then allocates after that). Instead leave a empty implementation that engines supporting auto_increment should implement.

2010-03-31  Brian Aker  <brian@gaz>

	Merge Zimin

2010-03-29  Zimin  <ziminq@gmail.com>

	fix 549914

2010-03-31  Brian Aker  <brian@gaz>

	Merge

2010-03-27  Djellel E. Difallah  <ded@ubuntu>

	fix

2010-03-27  Djellel E. Difallah  <ded@ubuntu>

	removed my_decimal h/cc and it's references

2010-03-27  Djellel E. Difallah  <ded@ubuntu>

	merge my_decimal and decimal

2010-03-31  Brian Aker  <brian@gaz>

	Merge.

2010-03-29  pawel  <pawel@paw>

	changed function-like defines into functions in some files

2010-03-28  pawel  <pawel@paw>

	changed tab to spaces

2010-03-28  pawel  <pawel@paw>

	added missing .engine() element

2010-03-31  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-27  Monty Taylor  <mordred@inaugust.com>

	Merged remove-dead-code.

2010-03-27  Monty Taylor  <mordred@inaugust.com>

	Merged remove-dead-code.

2010-03-26  Monty Taylor  <mordred@inaugust.com>

	We don't have this.

2010-03-27  Monty Taylor  <mordred@inaugust.com>

	Merged  lp:~mordred/drizzle/fix-information-schema-result-readd

2010-03-31  Brian Aker  <brian@gaz>

	Merge jobin

2010-03-27  jobin  <jobin@jobin-laptop>

	modified for the coding standard

2010-03-27  jobin  <jobin@jobin-laptop>

	correcting for the coding standard for the ealier fix

2010-03-27  jobin  <jobin@jobin-laptop>

	bug fix for 537880
	just like other search methods (_mi_seq_search,_mi_prefix_search) which are replacement for _mi_bin_search,
	return flag of _mi_bin_search also initilized with 0.

2010-03-31  Brian Aker  <brian@gaz>

	Merge Siddharth

2010-03-29  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	changed another status of sprintf to snprintf

2010-03-28  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	adding gettext in osstream

2010-03-28  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	replace snprintf with ostringstream

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	bug fixing

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	more sprintf->snprintf

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	more sprintf->snprintf

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	sprintf->snprintf continued

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	sprintf->snprintf in drizzled/sql_parse.cc

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	sprintf->snprintf in drizzled/plugin/client.cc

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	code refactoring

2010-03-27  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	merging with trunk

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	some more sprintf --> snprintf

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	more sprintf --> snprintf

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	code refactoring - exapanding tab and other code conventions

2010-03-31  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-03-29  Stewart Smith  <stewart@flamingspork.com>

	fix schema_dictionary.show test result.

2010-03-29  Stewart Smith  <stewart@flamingspork.com>

	fix schema_dictionary.show test to use the correct schema so that it cleans up after itself.

2010-03-31  Brian Aker  <brian@gaz>

	Merge linuxjedi

2010-03-26  Andrew Hutchings  <Andrew.Hutchings@Sun.COM>

	Drop indentation inside namespace one level

2010-03-31  Brian Aker  <brian@gaz>

	Merge from Monty.

2010-03-27  Monty Taylor  <mordred@inaugust.com>

	Merged  lp:~mordred/drizzle/fix-information-schema-result-read

2010-03-26  Monty Taylor  <mordred@inaugust.com>

	Reverted the deleted/re-add of tests/r/information_schema.result- it was
	causing some merge issues. Made sure the content is what the content needed
	to be.

2010-03-31  Brian Aker  <brian@gaz>

	Removed dead function.

2010-03-31  Brian Aker  <brian@gaz>

	Updated to use show schemas specific table.

2010-03-31  Brian Aker  <brian@gaz>

	Merge.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed uninitialized variable issue.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Removed the bit from test-run where we grep some strings from the error log
	and attempt to put some of them into a magical log file called warnings.
	This file causes bunnies to melt.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris issue with the operator< by adding some constness. While I was
	at it, added a few more const markers.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Explicitly suck the base-class compare method into the child class to avoid
	compiler warning.

2010-03-31  Brian Aker  <brian@gaz>

	Merge Monty's fix.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Made getTableName() return a const reference instead of a temporary const
	value object.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	This should return ENOENT if it doesn't have it. ENOENT != -1 on Solaris.

2010-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed the breakpoint setting for dbx.

2010-03-30  Brian Aker  <brian@gaz>

	Interface for Stewart.

2010-03-30  Brian Aker  <brian@gaz>

	Merge Lee.

2010-03-30  Brian Aker  <brian@gir.tangent.org>

	MErge Lee

2010-03-30  lbieber  <lbieber@orisndriz03>

	Ran update-po on updated translations files

2010-03-30  lbieber  <lbieber@orisndriz03>

	Merged Translations from Launchpad

2010-03-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-25  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-16  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-15  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-30  Brian Aker  <brian@gaz>

	Mass overhaul to use schema_identifier.

2010-03-27  Brian Aker  <brian@gaz>

	Remove dead type.

2010-03-27  Brian Aker  <brian@gaz>

	doCreateTable() was still taking a pointer instead of a session reference.

2010-03-27  Brian Aker  <brian@gaz>

	Innodb is now in the house (aka... it handls its own DFE).

2010-03-26  Brian Aker  <brian@gaz>

	Merge (fixes known issues in ALTER TABLE not resetting correctly DFE).

2010-03-26  Brian Aker  <brian@gaz>

	Small update.

2010-03-26  Brian Aker  <brian@gaz>

	Correction to some of the output.

2010-03-26  Brian Aker  <brian@gaz>

	Final fix (needed to update the DFE in the share that is cached). show
	tables is now using the actual value not the iterator.

2010-03-26  Brian Aker  <brian@gaz>

	Standardize error messages.

2010-03-26  Brian Aker  <brian@gaz>

	Fix for Innodb dfe files.

2010-03-25  Brian Aker  <brian@gaz>

	Clean up path.

2010-03-25  Brian Aker  <brian@gaz>

	Fixes failure related to Heap's hack on deletion. Also cleans up error
	message (I made one more specific).

2010-03-25  Brian Aker  <brian@gaz>

	Rename of close_temporary to nukeTable() so that my regex will stop looking
	for it. All of this is getting rewritten so don't sweat the name.

2010-03-25  Brian Aker  <brian@gaz>

	Trying to be consistent through interface on state of tmp.

2010-03-25  Brian Aker  <brian@gaz>

	Small cleanup around how we do types internally.

2010-03-25  Brian Aker  <brian@gaz>

	Cleanup usage of TI so that the NULL ones no longer exist.

2010-03-25  Brian Aker  <brian@gaz>

	Removed the internal table type in favor of the protobuf one.

2010-03-25  Brian Aker  <brian@gaz>

	Modified TableIdentifier output for errors.

2010-03-25  Brian Aker  <brian@gaz>

	Remode dead internal table type.

2010-03-26  Brian Aker  <brian@gir.local>

	Correct output, preserve indention. 

2010-03-26  Brian Aker  <brian@gir.local>

	MErge Eric.

2010-03-25  Eric Day  <eday@oddments.org>

	Merged trunk, rsolved conflicts.

2010-03-19  Eric Day  <eday@oddments.org>

	Changed auth_pam service name to 'drizzle', see bug #484069.

2010-03-19  Eric Day  <eday@oddments.org>

	Merged trunk and mysql-protocol-password-udf changes.

2010-03-19  Eric Day  <eday@oddments.org>

	FIxed header guards.

2010-03-19  Eric Day  <eday@oddments.org>

	Moved sha1 to algorithm directory.

2010-03-19  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-03-18  Eric Day  <eday@oddments.org>

	Merged mysql-protocol-password-udf into mysql-protocol-password-hash-support.

2010-03-18  Eric Day  <eday@oddments.org>

	Fixed byte order check for SHA1, only shows up with Solaris x86.

2010-03-18  Eric Day  <eday@oddments.org>

	Added auth_test module for testing auth interface and MySQL password hashing.

2010-03-18  Eric Day  <eday@oddments.org>

	Added MySQL password hash support.

2010-03-18  Eric Day  <eday@oddments.org>

	Fixed authentication plugin checks, added required functionality for protocol/auth plugins to specify password type and context.

2010-03-17  Eric Day  <eday@oddments.org>

	Fixed sha1 cpplint issues.

2010-03-17  Eric Day  <eday@oddments.org>

	Added MYSQL_PASSWORD() UDF.

2010-03-26  Brian Aker  <brian@gir.local>

	Merge Monty

2010-03-25  Monty Taylor  <mordred@inaugust.com>

	Updated the search for libmemcached.

2010-03-26  Brian Aker  <brian@gir.local>

	Merge Siddharth, ran formatting across it.
	
	Someone really should take these programs apart and clean them up.

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	Remove sprintf from client/drizzledump.cc

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	sprintf --> snprintf in client/drizzle.cc ; this completes one low-hanging-fruit

2010-03-26  Siddharth Prakash Singh  <spsneo@spsneo-laptop>

	sprintf --> snprintf: first commit

2010-03-25  Brian Aker  <brian@gir.local>

	Merge Andrew

2010-03-25  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Convert get_one_option to return an int instead of a bool
	Change all get_one_option 'false' returns and exit errors to exit return codes for handle_options
	Catch the return of get_one_option in handle_options and handle appropriately
	Fix weird mixed indentation in my_getopt.cc

2010-03-24  Brian Aker  <brian@gaz>

	Merge stewart.

2010-03-23  Stewart Smith  <stewart@flamingspork.com>

	in this day and age we can assume 80 column terminals
	
	makes test-run.pl output much nicer to read when you have moderate sized plugin names and test names.

2010-03-24  Brian Aker  <brian@gaz>

	Merge.

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	add a lock in postEnd, as other threads could be reading this in post() function

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	use a atomic for in_use

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	add lock around postEnd

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	disable plugin in test

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	create a copy for user and ip string

2010-03-24  Joe Daly  <skinny.moey@gmail.com>

	remove the select to test if this is querying a deleted user somehow

2010-03-24  Brian Aker  <brian@gaz>

	Merge Eric

2010-03-23  Eric Day  <eday@oddments.org>

	Fixed valgrind warnings exposed by prototest.

2010-03-19  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-03-24  Brian Aker  <brian@gaz>

	Re-enabling blackhole.

2010-03-24  Brian Aker  <brian@gaz>

	Merge of ALTER TABLE code.

2010-03-24  Brian Aker  <brian@gaz>

	Last of the goto are gone.

2010-03-24  Brian Aker  <brian@gaz>

	Pass through on refactoring, locks now are wrapped up in layer above.

2010-03-24  Brian Aker  <brian@gaz>

	More logic pulling from ALTER TABLE

2010-03-24  Brian Aker  <brian@gaz>

	Fixes for alter table to make sure that the proto on disk is valid.

2010-03-24  Brian Aker  <brian@gaz>

	Merge.

2010-03-24  Brian Aker  <brian@gir.tangent.org>

	Merge.

2010-03-24  Brian Aker  <brian@gir.tangent.org>

	Test was non-determinitic.

2010-03-24  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Fixed some leftover old API calls in the DTRACE macros.

2010-03-24  Brian Aker  <brian@gaz>

	Merge monty

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Test to see if the port we want to use is in use. If it is, then try another one.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Look for .dylib instead of .so on OSX.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	This fixes the other 32-bit failure. On 32-bit, CMP_MEM shows an additional
	PAGE_SIZE of 64. That's not important to our test that the table works,
	so add a filter on the query to match up the data output with 64-bit.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Casting the value of a  pointer to an offset within a struct that holds a ulong
	to an int64_t causes it to read past the end of the actual variable's bits in
	the struct. This fixes one of the two 32-bit test failures which need to get

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Fixed warning message.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Took the last suggestion from Diego and used a library that doesn't have
	crazy symbol conflict issues (or the unclean-header problem that openssl
	has)
	
	Also, it's lgpl and not oddly licensed.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Fixed some test overlap.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Moved test depending on blackhole into plugin/blackhole/tests.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Added some better suppressions.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Suppress duplicate plugin names.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Merged in crc lib fix.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	blackhole was marked as load_by_default but also had --plugin_add=blackhole
	listed in its -master.opt file. This is silly - and also blackhole has no
	need to be loaded by default since we have a set of test cases for it.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Let's not hardcode bzr.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Read out the vcinfo file if it's there.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Set the default plugin version for plugins not specifying a version to be
	tied to the actual server version.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	The requirement for 0.8 is only on Solaris non-sparc.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Wow. Actually check this in. :)

2010-03-22  Monty Taylor  <mordred@inaugust.com>

	Don't ship config/autorun.sh in the tarball... there is no need for anyone
	to run it in a tarball, and it breaks CentOS5 because of the ass-tasticly
	old libtool there.

2010-03-22  Monty Taylor  <mordred@inaugust.com>

	Up the requirement on libdrizzle to 0.8.

2010-03-22  Monty Taylor  <mordred@inaugust.com>

	Pulls boost check into Pandora. Adds it to PANDORA_DRIZZLE_BUILD so it'll
	happen properly for out of tree plugins too.

2010-03-24  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-22  Monty Taylor  <mordred@inaugust.com>

	Made supressions better with new Context object.

2010-03-24  Brian Aker  <brian@gaz>

	Simple rename.

2010-03-24  Brian Aker  <brian@gaz>

	Merge.

2010-03-24  Zimin  <ziminq@gmail.com>

	bug fix: ./bin/drizzle with \s would segfault.

2010-03-24  Lu Guanqun  <Guanqun@Lu-Guanquns-MacBook-Pro.local>

	apply the patch to fix a problem on mac osx
	
	http://bazaar.launchpad.net/~mordred/drizzle/dylib-osx-fix/revision/1386

2010-03-24  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Updated test case with new column.

2010-03-23  Monty Taylor  <mordred@inaugust.com>

	Moved access of it.second until after the test to see if it's valid or not.
	Fixes valgrind warning.

2010-03-23  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-22  Monty Taylor  <mordred@inaugust.com>

	Append .dylib on OSX, not .so.

2010-03-23  Brian Aker  <brian@gaz>

	new code for show tables.

2010-03-23  Brian Aker  <brian@gaz>

	Remove dead call in schemas.

2010-03-22  Brian Aker  <brian@gaz>

	Split of tables from being a part of show (we jsut use customized functions
	now, which is a bit faster).

2010-03-22  Brian Aker  <brian@gaz>

	This works, but there is a cheat in it to get around bugs in rename table
	for the moment (aka... we use a filename, not the proto name).
	
	This will be corrected in the alter table patch for rename.

2010-03-22  Brian Aker  <brian@gaz>

	Test cases updated (removed tests that were not UTF-8)

2010-03-23  Brian Aker  <brian@gaz>

	Updating interface.

2010-03-23  Brian Aker  <brian@gaz>

	Update interface to use Identifiers directly.

2010-03-23  Brian Aker  <brian@gaz>

	Large reord in ALTER TABLE for RENAME.

2010-03-22  Brian Aker  <brian@gaz>

	The temporary engine can handle its own for dictionary calls.

2010-03-22  Brian Aker  <brian@gaz>

	Fix for cases where not all files are removed during a deletion of a schema.
	I've added a dump of the directory if this happens (I want to see this in
	the valgrind reports on lp).

2010-03-22  Brian Aker  <brian@gaz>

	Adding catalog string.

2010-03-22  Brian Aker  <brian@gaz>

	Merge bug fix. 

2010-03-22  mordred  <mordred@fedora12>

	Add a missing lib dep.

2010-03-22  Brian Aker  <brian@gaz>

	Merge

2010-03-22  Brian Aker  <brian@gaz>

	Update to remove cache in enginges for per session (which also means... no
	locks...).

2010-03-22  Brian Aker  <brian@gaz>

	Change Set to Enum

2010-03-22  Brian Aker  <brian@gaz>

	We were printing out info on charset (which we don't need to do... and don't
	technically have the data for).

2010-03-22  Brian Aker  <brian@gaz>

	Merge Monty.

2010-03-20  Monty Taylor  <mordred@inaugust.com>

	Updated Stewart's new plugins.

2010-03-20  Monty Taylor  <mordred@inaugust.com>

	Fixed up myisam just a little bit.

2010-03-20  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Fixed suppression to match destructor change.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Moved innodb cleanup into innodb destructor.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Removed MyisamCleanup... encorporated into Engine destructor.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Took Jay's note and removed the HeapCleanup engine.

2010-03-17  Monty Taylor  <mordred@inaugust.com>

	Fixed the suppressions.

2010-03-16  Monty Taylor  <mordred@inaugust.com>

	Fixed some merge stoopidity.

2010-03-16  Monty Taylor  <mordred@inaugust.com>

	Merged in latest pandora-build.

2010-03-15  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2010-03-11  Monty Taylor  <mordred@inaugust.com>

	Added some comment headers.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Added a descriptive comment.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Merged latest pandora-build.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Turned off module deletion.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Remove plugin deinit.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Use the plugin::Context everywhere.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Create a plugin::Context object to carry information about the plugin module
	currently being loaded, and also to hide the entire Registry from the
	plugin. Essentially, the context is the plugin's view of the Registry.

2010-03-22  Brian Aker  <brian@gaz>

	Merge to Trunk.

2010-03-20  Joe Daly  <skinny.moey@gmail.com>

	remove quotes in opt files for tests

2010-03-20  Joe Daly  <skinny.moey@gmail.com>

	make logging_stats not loaded by default

2010-03-20  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-19  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-17  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-14  Joe Daly  <skinny.moey@gmail.com>

	fix up some variable names, and namespaces paths in *.cc files, and add constant for UNINITIALIZED

2010-03-13  Joe Daly  <skinny.moey@gmail.com>

	update comment

2010-03-12  Joe Daly  <skinny.moey@gmail.com>

	fix tests which were may not have been deterministic because of the ip field, add comments, add scoreboard size as a system var, remove multiple setting in a scoreboard slot

2010-03-12  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-12  Joe Daly  <skinny.moey@gmail.com>

	initialize session id and scoreboard size

2010-03-10  Joe Daly  <skinny.moey@gmail.com>

	add tests and get them working

2010-03-07  Joe Daly  <skinny.moey@gmail.com>

	scoreboard implementation for statistics

2010-03-22  Brian Aker  <brian@gaz>

	Merge docs.

2010-03-22  stefan  <stefan@eyebeem>

	mysql(dump)->drizzle(dump) replacements

2010-03-22  stefan  <stefan@eyebeem>

	some minor mysql->drizzle replacements

2010-03-22  Brian Aker  <brian@gaz>

	Fix for a path vs fullname connection.

2010-03-21  Brian Aker  <brian@gaz>

	Merge DED

2010-03-19  Djellel E. Difallah  <ded@ubuntu>

	add file ./drizzled/optimizer/cost_vector.h

2010-03-19  Djellel E. Difallah  <ded@ubuntu>

	rename class COST_VECT to CostVector and move it to ./drizzled/optimizer directory

2010-03-16  Djellel E. Difallah  <ded@ubuntu>

	Cleanup & Encapsulate the COST_VECT class, and remove ./drizzled/cursor.h self include

2010-03-21  Brian Aker  <brian@gaz>

	Fix for goto that could be removed.

2010-03-21  Brian Aker  <brian@gaz>

	Merge Brian.

2010-03-21  Brian Aker  <brian@gaz>

	Refactor for table message.

2010-03-21  Brian Aker  <brian@gaz>

	Rework to remove goto in the create table path.

2010-03-20  Brian Aker  <brian@gaz>

	Removed/rewrite to remove goto in alter table.

2010-03-20  Brian Aker  <brian@gaz>

	Solaris fix.

2010-03-19  Brian Aker  <brian@gaz>

	Simple style cleanup.

2010-03-19  Brian Aker  <brian@gaz>

	Save on an identifier creation.

2010-03-19  Brian Aker  <brian@gaz>

	Small corrections.

2010-03-19  Brian Aker  <brian@gaz>

	Remove dead call.

2010-03-19  Brian Aker  <brian@gaz>

	Small interface bits.

2010-03-19  Brian Aker  <brian@gaz>

	Fix build issues, disabled tests (someone needs to go through them... who is
	not me). 

2010-03-19  Brian Aker  <brian@gaz>

	Merge

2010-03-18  Brian Aker  <brian@gaz>

	Typo fix.

2010-03-19  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	move USER() function into a plugin (loaded by default). Also, remove the special case (and completely untested) CURRENT_USER() function and just have it also point to USER(). If somebody wants CURRENT_USER() style behaviour they can add it back in with a test.

2010-03-19  Brian Aker  <brian@gaz>

	Merge Stefan

2010-03-18  stefan  <stefan@eyebeem>

	copyright mysql/sun

2010-03-18  stefan  <stefan@eyebeem>

	mysql->drizzle

2010-03-19  Brian Aker  <brian@gaz>

	Go at this again.

2010-03-11  Monty Taylor  <mordred@inaugust.com>

	Changed the required version.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Added quick fatal check for boost. Version 1.39 and above are accepted.

2010-03-18  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-18  Brian Aker  <brian@gaz>

	Update for std::string

2010-03-18  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-18  Brian Aker  <brian@gaz>

	Another pass through the interface...

2010-03-18  Brian Aker  <brian@gaz>

	Remove interface bits around caller for internal lookup of create table.

2010-03-18  Brian Aker  <brian@gaz>

	Remove old calls for path.

2010-03-18  Brian Aker  <brian@gaz>

	Merge more cleanup from TableIdentifier.

2010-03-18  Brian Aker  <brian@gaz>

	Cleans up use of static buffer in TableIdentifier.

2010-03-18  Brian Aker  <brian@gaz>

	Remove checklower code. We don't need it any longer :)

2010-03-18  Brian Aker  <brian@gaz>

	doDropTable() now only uses identifier.

2010-03-18  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-18  Brian Aker  <brian@gaz>

	Long pass through the system to use more of TableIdentifiers.

2010-03-18  Brian Aker  <brian@gaz>

	Fixes regression in performance from Exists patch.

2010-03-18  Brian Aker  <brian@gaz>

	Merge Pandora

2010-03-18  mordred  <mordred@orisndriz09>

	Fixed thrift/cassandra checking.

2010-03-16  Monty Taylor  <mordred@inaugust.com>

	Merged with build.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Fixed curl error message.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Fixed error message.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.113 - Added thrift/cassandra support.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Also fixed space issue for headers.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Fixed a space cleaning issue.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Put in error check for out of tree plugin builds.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Fixed out-of-tree generated configure file issue.

2010-03-10  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Fixed an extra suffix.

2010-03-05  Monty Taylor  <mordred@inaugust.com>

	Actually disable the lib on not-recent-enough. duh.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged in noinst fix for plugins.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Added version checking for libmemcached. Re-enabled libmemcached plugins
	with the proper version check enabled.

2010-03-01  Monty Taylor  <mordred@inaugust.com>

	Added check for 1.0.6 of embedded innodb.

2010-03-01  Monty Taylor  <mordred@inaugust.com>

	Need to be able to actually disable plugins in the build.

2010-02-25  Monty Taylor  <mordred@inaugust.com>

	Merged in changes fixing VC detection.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Added include so that transform works on Sun Studio.

2010-02-14  Monty Taylor  <mordred@inaugust.com>

	Added a comment to the empty dummy file to help with patch bundles.

2010-02-14  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Merged in latest pandora-build changes. Install plugins in pkglibdir now
	instead of constructing an extra pkgplugindir... there is no need for the
	extra level of directory.

2010-03-18  Brian Aker  <brian@gaz>

	Merge Eric.

2010-03-16  Eric Day  <eday@oddments.org>

	Removed unused functions and extra complexity in MySQL module. Not rewriting any code here (yet?), just reshuffling to make it easier to manage.

2010-03-18  Brian Aker  <brian@gaz>

	Merge Eric.

2010-03-17  Eric Day  <eday@oddments.org>

	Changed exceptions to socket.error for Python 2.4.

2010-03-16  Eric Day  <eday@oddments.org>

	Forgot to update autmake rules with rename.

2010-03-16  Eric Day  <eday@oddments.org>

	Renamed mysql_test, added tcp_nodelay option to speed up testing.

2010-03-15  Eric Day  <eday@oddments.org>

	Fixed prototest to run on Python 2.4 for centos.

2010-03-15  Eric Day  <eday@oddments.org>

	Catch sigpipe/reset when over max packet size.

2010-03-14  Eric Day  <eday@oddments.org>

	Fixed mysql_protocol test run for separate build dirs.

2010-03-11  Eric Day  <eday@oddments.org>

	Added prototest to distribution.

2010-03-11  Eric Day  <eday@oddments.org>

	Added prototest test case for mysql_protocol.

2010-03-10  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-03-10  Eric Day  <eday@oddments.org>

	Finished first pass of protocol testing tool.

2010-03-01  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-03-01  Eric Day  <eday@oddments.org>

	Updates for handshake testing.

2010-02-25  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-02-25  Eric Day  <eday@oddments.org>

	Updated result unit tests.

2010-02-18  Eric Day  <eday@oddments.org>

	Moving prototest code from libdrizzle to Drizzle project. So far tests covers handshake and simple command. More command tests coming soon. Checking in now for preliminary review before finishing up and integrating into the test suite.

2010-03-17  Brian Aker  <brian@gaz>

	Merge  for Brian

2010-03-17  Brian Aker  <brian@gaz>

	Fix for identifier.

2010-03-17  Brian Aker  <brian@gaz>

	Modify ptr to reference.

2010-03-17  Brian Aker  <brian@gaz>

	Make check catch

2010-03-17  Brian Aker  <brian@gaz>

	Merge in I_S tables.

2010-03-17  Brian Aker  <brian@gaz>

	Update, we now have all of the ANSI INFORMATION_SCHEMA listed.

2010-03-17  Brian Aker  <brian@gaz>

	Merge Stewart, but I dropped the plugin for now.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	remove count_elements from show_table_message.enum  test

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	Merged table-message-add-schema-name into table-message-set-field-count-elements.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	fix missing_engine test for proto tester for presence of schema name

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	remove (seemingly unused) count_elements in SetFieldOptions of the table protobuf message. this should be a forwards compatible change.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	add small test for ENUM columns to show_table_message test suite. This will later be used to test remove SetFieldOptions::count_elements from the table message.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	Add Schema to table message. modify alter table to correctly set a schema when running ALTER TABLE. Also update show_table_message test results to reflect the new field.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	add SHOW_TABLE_MESSAGE() function and tests (a basic one and a randgen generated one)

2010-03-17  Brian Aker  <brian@gaz>

	I'm not entire sure I buy that column default should be varbinary... 

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	now that we've fixed the data_dictionary, we need to update all the result files to reflect the fact that we're now not returning garbage.

2010-03-18  Stewart Smith  <stewart@flamingspork.com>

	fix table_function to allow empty string as a column value (e.g. a default value for a column being an empty string)

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	make DATA_DICTIONARY.COLUMNS.COLUMN_DEFAULT be a VARBINARY column that can be null. Add a test for binary default values as well as non-binary default values.

2010-03-17  Stewart Smith  <stewart@flamingspork.com>

	fix setting notnull for NUMBER columns in a TableFunction.

2010-03-16  Brian Aker  <brian@gaz>

	Style changes.

2010-03-16  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve

2010-03-16  Jay Pipes  <jpipes@serialcoder>

	NO CODE CHANGES - Simply moves pieces of ReplicationServices to TransactionServices.  Preparation for making the ReplicationServices component only responsible for communication between replicators, appliers, publishers, and subscribers.

2010-03-15  Jay Pipes  <jpipes@serialcoder>

	Move transactionContainsBulkSegment() to statement transform library.

2010-03-16  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-16  Brian Aker  <brian@gaz>

	A first pass through adding a timestamp to our proto.

2010-03-16  Brian Aker  <brian@gaz>

	Merge Padraig

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Clear up a vector in a class desctructor to attempt to remove a memory leak.

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	More dead code removal.

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the SEL_TREE and SEL_IMERGE classes out into their own header and implementation files.

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed an incorrect comment.

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed unused functions in the optimizer.

2010-03-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-02-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk

2010-03-16  Brian Aker  <brian@gaz>

	Merge Monty (really Tim)

2010-03-11  Monty Taylor  <mordred@inaugust.com>

	Cleaned up merge errors.

2010-03-11  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Change some of the declarations to follow the drizzle coding standard.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Missed an enum.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Merged unify_error into errors-in-hash-map.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Remove more conflicts.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Merge unify-errors and resolve conflicts.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Fix mistakes from the merge.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Merge prev pipe and resolve conflicts.

2010-02-01  Tim Penhey  <tim@penhey.net>

	Merge Monty's fix.

2010-01-30  Monty Taylor  <mordred@inaugust.com>

	Added extern "C" declarations (these will go away in a later patch... but we need them for now).

2010-01-31  Tim Penhey  <tim@penhey.net>

	Put the gettext macro back in.

2010-01-31  Tim Penhey  <tim@penhey.net>

	Merged unify_error into errors-in-hash-map.

2010-01-31  Tim Penhey  <tim@penhey.net>

	Merged unify_error into errors-in-hash-map.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Almost there.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Spaces.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Move the error enums into the enum header.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Remove obsolete junk from error.cc.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Clean up call sites for unneeded functions.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Another incremental commit.

2010-01-30  Tim Penhey  <tim@penhey.net>

	Kinda changed, probably doesn't compile.

2010-01-24  Tim Penhey  <tim@penhey.net>

	Add notes and typedef.

2010-01-22  Tim Penhey  <tim@penhey.net>

	Remove the __cplusplus check.

2010-03-16  Brian Aker  <brian@gaz>

	Update/fix for leak.

2010-03-15  Brian Aker  <brian@gaz>

	Solve non-null termination issue.

2010-03-15  Brian Aker  <brian@gaz>

	Corrections.

2010-03-15  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-15  Brian Aker  <brian@gaz>

	Lets hide stuff.

2010-03-15  Brian Aker  <brian@gaz>

	Additional DD.

2010-03-15  Brian Aker  <brian@gaz>

	Merge of table cache/def DD.

2010-03-15  Brian Aker  <brian@gaz>

	Merge Brian

2010-03-15  Brian Aker  <brian@gaz>

	Length usage of identifier down the tree.

2010-03-15  Brian Aker  <brian@gaz>

	See if these are now cleaned up.

2010-03-15  Brian Aker  <brian@gaz>

	Merge small removal of variables.

2010-03-14  Brian Aker  <brian@gaz>

	Jay + extended test case.

2010-03-09  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug #535296 by only incrementing ha_commit_count when its a normal transaction commit.

2010-03-14  Brian Aker  <brian@gaz>

	Merge in Jay's bug fix.

2010-03-10  Jay Pipes  <jpipes@serialcoder>

	Quick fix for Bug #536818 -- no delete for corresponding new TransactionLogApplier()

2010-03-14  Brian Aker  <brian@gaz>

	Mege Monty

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Fixed the translation header issue. Let's see if this fixes imports.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Changed po/Makefile.in.in to add header back in but strip the changed date.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Merged latest translations from launchpad.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Imported latest translations.

2010-03-12  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-03-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-02-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-02-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-02-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-29  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-25  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-16  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-13  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-01-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-12-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-12-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-12-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-12-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-12-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-19  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-11-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-31  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-29  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-27  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-19  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-18  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-15  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-14  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-13  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-09  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-10-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2010-03-11  Brian Aker  <brian@gaz>

	Merge Jay

2010-03-10  Jay Pipes  <jpipes@serialcoder>

	Add savepoint test case

2010-03-10  Jay Pipes  <jpipes@serialcoder>

	Manually issue a call to TransactionStorageEngine::startTransaction() inside
	TransactionServices::registerResourceForTransaction().  An assert() in the InnoDB
	handler was being hit because although startStatement() was properly being
	called for an UPDATE ... LIMIT 0, startTransaction() was not called, and because
	external_lock() bailed out without committing the transaction, an 
	assert(conc_state ! TRX_NOT_STARTED) was being hit when a SAVEPOINT A statement
	expected the transaction to have been started...

2010-03-11  Brian Aker  <brian@gaz>

	Merge Jay

2010-03-10  Jay Pipes  <jpipes@serialcoder>

	Merge trunk:

2010-03-03  Jay Pipes  <jpipes@serialcoder>

	Remove unnecessary sleep calls in tests cases

2010-03-11  Brian Aker  <brian@gaz>

	Merge Lee.

2010-03-03  Lee Bieber  <lbieber@kalebral-2.local>

	update randgen_queries test and results to use the same query as is being used in randgen

2010-03-09  Brian Aker  <brian@gaz>

	Fix naming issue.

2010-03-09  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-04  Monty Taylor  <mordred@inaugust.com>

	Merged in drizzle_protocol namespace change.

2010-02-15  Monty Taylor  <mordred@inaugust.com>

	Put drizzle_protocol plugin in to its own namespace so that symbols won't
	conflict with mysql_protocol plugin.

2010-03-09  Brian Aker  <brian@gaz>

	Merge in Padraig changes.

2010-03-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the query rewriting API based on a suggestion from Jay to pass the schema the Session is currently in after seeing the result of rewriting plugin Padraig developed.

2010-03-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-03-09  Brian Aker  <brian@gaz>

	Merge in show status work.

2010-03-09  Brian Aker  <brian@gaz>

	Overhaul of SHOW TABLE STATUS.

2010-03-08  Brian Aker  <brian@gaz>

	New code for a show temporary tables;

2010-03-05  Brian Aker  <brian@gaz>

	First pass through creating a DD for showing what temporary tables you
	currently have.

2010-03-08  Brian Aker  <brian@gaz>

	Merge Eric

2010-03-05  Eric Day  <eday@oddments.org>

	Merged trunk.

2010-03-04  Eric Day  <eday@oddments.org>

	Added command line options to console to pass username, password, and db name during authentication step.

2010-03-04  Eric Day  <eday@oddments.org>

	Switched to using the MySQL protocol by default.

2010-03-08  Brian Aker  <brian@gaz>

	Bad config.h

2010-03-05  Brian Aker  <brian@gaz>

	Open solaris fix.

2010-03-05  Brian Aker  <brian@gaz>

	Merge Jay

2010-03-05  Jay Pipes  <jpipes@serialcoder>

	Add errno.h to a few files.  Apparently, this is necessary on OSX.

2010-03-05  Brian Aker  <brian@gaz>

	Merge of Jay

2010-03-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and add in data dictionary fix for OSX/FreeBSD

2010-03-05  Jay Pipes  <jpipes@serialcoder>

	Make OSX/FreeBSD happy about size_t != uint64_t != int64_t...

2010-03-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-05  Jay Pipes  <jpipes@serialcoder>

	Completes the blueprint for refactoring applier out of log descriptor.
	
	1) Makes the TransactionLog class a simple descriptor for the actual transaction log file
	2) Splits out the TransactionLogApplier into separate class with constructor taking a TransactionLog instance
	3) Splits the module initialization stuff out into a file, /plugin/transaction_log/module.cc

2010-03-04  Jay Pipes  <jpipes@serialcoder>

	Merge fixes for LP Bug 530870

2010-03-05  Brian Aker  <brian@gaz>

	Merge Jay.

2010-03-04  Jay Pipes  <jpipes@serialcoder>

	Adds concurrency tests for transaction log and its data dictionary table.  Adds ability to see size of the in-memory index of the transaction log in bytes to the transaction_log data dictionary table.

2010-03-04  Brian Aker  <brian@gaz>

	Merge Jay's bugfix.

2010-03-04  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug #530870
	
	* in drizzled/lock.cc, the involved_engines calculation was incorrectly
	using getSlot() instead of the new unified MonitoredInTransaction::getId()
	method for determining uniqueness.
	* Removed InnoDB's trx_t's active_trans data member.  Now using only
	trx_t's conc_state member to determine state of the transaction (imagine that.)
	Added asserts() to test some assumptions about when and how a trx_t's
	conc_state can and cannot be in TRX_NOT_STARTED state.
	* Remove getSlot() from plugin::StorageEngine.

2010-03-04  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-03  Jay Pipes  <jpipes@serialcoder>

	* Completes the blueprint for splitting the XA Resource Manager
	API from the storage engine API:
	
	We add a new plugin::XaResourceManager abstract interface class
	which exposes the X/Open XA distributed transaction protocol for
	resource managers.
	
	We add a new plugin::MonitoredInTransaction base class from
	which all plugins that need monitored by Drizzle's transaction
	manager (drizzled::TransactionServices component) derive.
	
	All plugin::StorageEngine's now derive from plugin::MonitoredInTransaction
	since all storage engines a monitored by the transaction manager
	and the Session keeps a "slot" available for keeping the engine's
	per-session data state.  In a future patch, the transaction log's
	XaApplier plugin will also derive from MonitoredInTransaction, as
	the transaction log, in XA mode, is also monitored by Drizzle's
	transaction manager and automatically enlisted in XA transactions.
	
	* Updates all documentation in /drizzled/transaction_services.cc
	to accurately reflect Drizzle's new transaction management
	process and explicit transaction and statement boundaries.
	
	* Kills off dead code:
	
	binlog_format_names
	ha_init()
	total_ha, total_ha_2pc (no longer necessary, as the above-mentioned
	abstract base classes provide all of this functionality)
	StorageEngine::slot (now plugin::MonitoredInTransaction::getId())
	TransactionalStorageEngine::two_phase_commit (same as above)

2010-03-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-04  Brian Aker  <brian@gaz>

	Merge Monty/Brian

2010-03-04  Brian Aker  <brian@gaz>

	Remove old need for Cursor in creating table.

2010-03-04  Brian Aker  <brian@gaz>

	Small style issue.

2010-03-04  Brian Aker  <brian@gaz>

	Merge for build of Monty.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-plugin.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Turned off send_error for isViewable. The error there always gets thrown in
	other contexts.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-plugin.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Fix the use of isViewable in processlist Generator to properly skip
	unauthorized processes.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Use isViewable also in kill.

2010-03-03  Monty Taylor  <mordred@inaugust.com>

	Moved isViewable check in to Session.h.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Do the check directly in processlist.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-plugin.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged remove-senseless-charsetinfo-var into use-authorization-interface.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged add-authorization-interface into remove-senseless-charsetinfo-var.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged fix-authentication-api into add-authorization-interface.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Replaced call of size()==0 with empty()

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-plugin.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged remove-senseless-charsetinfo-var into use-authorization-interface.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged add-authorization-interface into remove-senseless-charsetinfo-var.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Replaced calls of size()==0 with empty().

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-test.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Prevent users from attempting to access schemas that he is not authorized to
	view.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Prevent the user from attempting to kill a process that he is not authorized
	to see.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Prevent the user from seeing or attempting to access tables that he is not
	authorized to see.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Filter out processlist entries that the user is not authorized to see.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Filter out schemas the user is not authorized to see.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Prevent unauthorized users from changing schema.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged use-authorization-interface into add-authorization-test.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Removed an unused variable.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Added plugin to test the Authorization interface.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Added Authorization interface.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Added string to security_context header so that the header can be used.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Fixed Authentication plugin interface to use SecurityContext rather than the
	whole darned Session object.

2010-03-04  Brian Aker  <brian@gaz>

	Merge.

2010-03-03  Brian Aker  <brian@gaz>

	MErge additional changes.

2010-03-03  Brian Aker  <brian@gaz>

	Remove no longer referenced engine.

2010-03-03  Brian Aker  <brian@gaz>

	Additional pass through doDropTable()

2010-03-03  Brian Aker  <brian@gaz>

	Removing special case dropTable()

2010-03-03  Brian Aker  <brian@gaz>

	Temporary fix for allowing engines to say "don't do this".

2010-03-03  Brian Aker  <brian@gaz>

	Remove dead call to drizzle_write_proto_file().

2010-03-03  Brian Aker  <brian@gaz>

	Remove unused createTable() option

2010-03-03  Brian Aker  <brian@gaz>

	Second pass through remove proto write outside of SE.

2010-03-03  Brian Aker  <brian@gaz>

	Move proto file write into createTable() (where it obviously belongs).

2010-03-03  Brian Aker  <brian@gaz>

	More reference cleanup.

2010-03-03  Brian Aker  <brian@gaz>

	More reference counting.

2010-03-03  Brian Aker  <brian@gaz>

	Light cleanup for references.

2010-03-02  Brian Aker  <brian@gaz>

	MErge.

2010-03-02  Brian Aker  <brian@gaz>

	Merge from Monty.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	Removed extraneous NULL from notify plugin.

2010-03-02  Monty Taylor  <mordred@inaugust.com>

	There is no reason this file should be executable.

2010-03-02  Brian Aker  <brian@gaz>

	Merge Joe.

2010-03-02  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-03-02  Joe Daly  <skinny.moey@gmail.com>

	add plugin handle to logging to indicate when the session destructor is called

2010-03-02  Brian Aker  <brian@gaz>

	Merge.

2010-03-02  Brian Aker  <brian@gaz>

	Removing cerr call, and fixed bug where tables might not be dropped if there
	was confusion about if it was a temp file or not.

2010-03-02  Brian Aker  <brian@gaz>

	Remove a lot of the goto logic from createTable (this will allow me to
	simplify the actual call... now that I know what it is doing).

2010-03-02  Brian Aker  <brian@gaz>

	Update to refactor out the inner code in create table.

2010-03-02  Brian Aker  <brian@gaz>

	Small name change (AKA... I hate reading the NO_**@##@$# logic).

2010-03-02  Brian Aker  <brian@gaz>

	Small cleanup around alter table.

2010-03-02  Brian Aker  <brian@gaz>

	Merge Jay

2010-03-02  Jay Pipes  <jpipes@serialcoder>

	Fixes CREATE TABLE output in statement_transform.cc for VARCHAR prefix indexes.  What ass.

2010-03-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-02-27  Jay Pipes  <jpipes@serialcoder>

	* Adds CREATE TABLE as a specific CreateTableStatement message in the
	replication stream.
	* Corrects previous incorrect behaviour where non-MyISAM tables were
	incorrectly being defined with PACK_RECORD = TRUE.  This affected the
	checksumming of the table.
	* There is still one remaining test case failure in the create_table.test
	case in the transaction log test suite regarding the incorrect setting
	of Table::Index::IndexPart::compare_length.

2010-02-27  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-02-26  Jay Pipes  <jpipes@serialcoder>

	Adds CREATE TABLE work to the statement tranform library. Removes it from /drizzle/message/table_reader.cc

2010-02-26  Jay Pipes  <jpipes@serialcoder>

	Adds method to statement_transform library to output CREATE TABLE options properly...

2010-02-26  Jay Pipes  <jpipes@serialcoder>

	Add function to statement transform library which constructs INDEX clause

2010-02-26  Jay Pipes  <jpipes@serialcoder>

	Forgot to add new test case result...

2010-02-25  Jay Pipes  <jpipes@serialcoder>

	Adds ability to take a Field message and convert it to its SQL field attributes list.

2010-02-25  Jay Pipes  <jpipes@serialcoder>

	Adds DROP TABLE to the list of non RAW_SQL statements in replication stream

2010-02-25  Jay Pipes  <jpipes@serialcoder>

	Adds DROP SCHEMA to the list of non RAW_SQL statements in replication stream.

2010-02-25  Jay Pipes  <jpipes@serialcoder>

	Fixes transaction log/replication for multi-column primary keys.  Changes CREATE SCHEMA to not use statement-base RAW_SQL and instead use a derived message::Statement subclass.

2010-02-25  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-03-02  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-03-02  Brian Aker  <brian@gaz>

	Merge Stewart

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	fix flush tables

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	move FLUSH statement to use boolean values in statement::Flush instead of overloading Lex->type with REFRESH_STATUS and others.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	move (TABLE|COLUMN|INDEX)_COMMENT_MAXLEN defines out into table_proto.h, as they only have two users. These limits are just historical... they don't really need to exist anymore, but we won't break compatibility here.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove the now unused SET_FLAG define. We don't have the SET field type, and this flag was never set.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	move Item_result out to its own header file and out of common.h

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	don't lie about what Item_result is for

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused OPTION_LOG_OFF and OPTION_ALLOW_BATCH defines.

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused SERVER_STATUS_ defines in common.h. Unused forever, or just old and unused in drizzle

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove obsolete OPTION_SCHEMA_TABLE and OPTION_PROFILING defines. certainly not used any more now that we have table functions. we also don't have anything that uses PROFILING

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused and old THD::killable defines

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_CHAR_WIDTH define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELD_STORAGE_FLAGS define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELD_IS_RENAMED define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELD_IN_ADD_INDEX define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELD_IN_PART_FUNC_FLAG define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused GET_FIXED_FIELDS_FLAG define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused NUM_FLAG define

2010-03-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused LOCAL_HOST define

2010-03-02  Brian Aker  <brian@gaz>

	Merge Randgen

2010-03-02  Brian Aker  <brian@gaz>

	Column changing.

2010-03-02  Brian Aker  <brian@gaz>

	Refactor DESC to use new table.

2010-03-01  Brian Aker  <brian@gaz>

	Updates to schema dictionary for lee

2010-03-01  Brian Aker  <brian@gaz>

	Small update.

2010-03-01  Lee Bieber  <lbieber@kalebral-2.local>

	add queries used to setup randgen testing so we can ensure that randgen tests can at least build and run

2010-03-02  Brian Aker  <brian@gaz>

	Small patch for getTableDefinition()

2010-03-01  Brian Aker  <brian@gaz>

	Merge.

2010-03-01  Brian Aker  <brian@gir.tangent.org>

	OSX fixes.

2010-03-01  Brian Aker  <brian@gaz>

	Partial fix for OSX.

2010-03-01  Brian Aker  <brian@gaz>

	Missing result file from merge.

2010-03-01  Brian Aker  <brian@gaz>

	Merge of show work (updates, a bit faster)

2010-03-01  Brian Aker  <brian@gaz>

	Updating to add support for Identifier.

2010-03-01  Brian Aker  <brian@gaz>

	Update to use table identifier.

2010-03-01  Brian Aker  <brian@gaz>

	Minor name cleanup.

2010-03-01  Brian Aker  <brian@gaz>

	Simplify dropTable() (will add exceptions right now)

2010-03-01  Brian Aker  <brian@gaz>

	We must walk, before we can run.

2010-03-01  Brian Aker  <brian@gaz>

	Change in API to use reference.

2010-03-01  Brian Aker  <brian@gaz>

	Updating interface around doesTablExist()

2010-03-01  Brian Aker  <brian@gaz>

	Small conversion for does()

2010-03-01  Brian Aker  <brian@gaz>

	Slight cleanup.

2010-03-01  Brian Aker  <brian@gaz>

	Moved the build table stuff into table_identifier (all to make it simpler to
	delete...)

2010-03-01  Brian Aker  <brian@gaz>

	Adding more tests.

2010-03-01  Brian Aker  <brian@gaz>

	Reworked the code (split classes).

2010-03-01  Brian Aker  <brian@gaz>

	New version of show columns code.

2010-03-01  Brian Aker  <brian@gaz>

	Update the code so use a faster index lookup method.

2010-03-01  Brian Aker  <brian@gaz>

	Merge up build to staging.

2010-03-01  Brian Aker  <brian@gaz>

	Updated Innodb table functions.

2010-03-01  Joe Daly  <skinny.moey@gmail.com>

	rename populate* functions to conform to naming standards

2010-03-01  Joe Daly  <skinny.moey@gmail.com>

	add drizzleslap tests

2010-02-28  Joe Daly  <skinny.moey@gmail.com>

	add new tests, and fix counter in data_dictionary.cc that was off by one

2010-02-27  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-02-27  Joe Daly  <skinny.moey@gmail.com>

	port last tables, and fix up tests

2010-02-26  Joe Daly  <skinny.moey@gmail.com>

	add new tables

2010-02-25  Joe Daly  <skinny.moey@gmail.com>

	fix compilation error

2010-02-25  Joe Daly  <skinny.moey@gmail.com>

	move i_s methods to data_dictionary tables

2010-03-01  Brian Aker  <brian@gaz>

	Merge Brian

2010-02-28  Brian Aker  <brian@gaz>

	Re-enable tests. Note issue in DESC (need to look at).

2010-02-28  Brian Aker  <brian@gaz>

	Merge in refactor on Innodb.

2010-03-01  Brian Aker  <brian@gaz>

	Merge.

2010-03-01  Monty Taylor  <mordred@inaugust.com>

	Moved reference to innodb plugin header to innodb plugin where it should be.

2010-03-01  Brian Aker  <brian@gaz>

	Merge Monty

2010-03-01  Monty Taylor  <mordred@inaugust.com>

	Also check for schema_writer in $builddir (which is $glob_builddir in mtr)
	so that distcheck and vpath builds work properly.

2010-02-28  Brian Aker  <brian@gaz>

	MErge Strewart.

2010-02-28  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused SCROLL_EXTRA define. no idea what it was ever about.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove now unused SCALE_SEC and SCALE_USEC defines. Were related to time somehow. We're a bit different now.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused MEM_ROOT_BLOCK_SIZE and MEM_ROOT_PREALLOC size. Used back with some memory preallocation things...

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused PROGDIR define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused and strange LIBLEN define... something from some old library loading thing?

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused SHOW_LOG_STATUS_FREE and INUSE defines.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused f_packtype() macro.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAXGTRIDSIZE and MAXBQUALSIZE defines. no idea what they were ever for

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove #undef remove. We do totally 100% not care about SCO 5.0.0

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove now unused MY_I_S_MAYBE_NULL and MY_I_S_UNSIGNED. old INFORMATION_SCHEMA defines.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused IS_EQUAL_NO, IS_EQUAL_YES and IS_EQUAL_PACK_LENGTH defines. something left over from how ::is_equal used to work

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove some Insane Clown Posse define: HA_DO_INDEX_COND_PUSHDOWN

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_NOT_DELETE_WITH_CACHE define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELD_NAME_USED and FIELD_NR_MASK defines. probably left over from some crackful bitfield

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused FERR define. we just use -1 everywhere explicitly since that's rather standard.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused CREATE_MODE define.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused MIN_ROWS_TO_USE_BULK_INSERT define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	TABLE_OPEN_CACHE_MIN should be used instead of unused.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused macros: TRANS_ALLOC_BLOCK_SIZE and TRANS_ALLOC_PREALLOC_SIZE

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused TEMP_POOL_SIZE define.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	move COLUMN_FORMAT_FLAGS define so it is with the other COLUMN_FLAGS defines in common.h instead

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused COLUMN_FORMAT_SHIFT #define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove old and unused ME_INFO #define. Something to do with displaying info/errors.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused mysys my_b_get_buffer_start macro

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused mysys #define for MY_PACK_FILENAME

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove now unused mysys #define ME_HIGHBYTE.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove some unused mysys #defines about colors

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused mysys ME_WAITTOT macro... something old about waiting errtime for an action

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused ME_NOCUR define... some old mysys thing

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused string2decimal_fixed() macro

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_STATE_BUFF_SAVED define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_STATE_NO_KEY define

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused QUICK_USED define... something in opt_flag aparrently.

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused MBR_DATA define. not really sure if any of this related stuff is used anymore..

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYFLAG_MASK macro

2010-03-01  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_MAX_KEYTYPE macro

2010-02-28  Brian Aker  <brian@gaz>

	Merge Padraig.

2010-02-28  Brian Aker  <brian@gaz>

	Merge query rewrite.

2010-02-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Stopped using bind2 for now because of build error on centos.

2010-02-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated based on review comments from Jay. Thanks Jay!

2010-02-23  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added the plugin point for the query rewriting interface.

2010-02-23  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added query rewrite interface and plugin point.

2010-02-26  Brian Aker  <brian@gaz>

	Merge Brian

2010-02-26  Brian Aker  <brian@gaz>

	Merge.

2010-02-26  Brian Aker  <brian@gaz>

	Remove dead bits.

2010-02-26  Brian Aker  <brian@gaz>

	Thank lordy that this code is no longer needed...

2010-02-26  Brian Aker  <brian@gaz>

	Remove dead code.

2010-02-26  Brian Aker  <brian@gaz>

	Remove dead code.

2010-02-26  Brian Aker  <brian@gaz>

	Cleanup of rm schema;

2010-02-26  Brian Aker  <brian@gaz>

	Small helper bit for dealing with lists of table_identifiers.

2010-02-26  Brian Aker  <brian@gaz>

	Partial pass through replication code.

2010-02-26  Brian Aker  <brian@gaz>

	Baby steps.

2010-02-26  Brian Aker  <brian@gaz>

	Merge of Brian

2010-02-26  Brian Aker  <brian@gaz>

	Merge Brian.

2010-02-26  Brian Aker  <brian@gaz>

	Modest update to drop schema.

2010-02-26  Brian Aker  <brian@gaz>

	Small update for test-run.pl

2010-02-26  Brian Aker  <brian@gaz>

	Fix for some platforms.

2010-02-26  Brian Aker  <brian@gaz>

	A number of fixes (including long directory names again).

2010-02-26  Brian Aker  <brian@gaz>

	Dead code removal.

2010-02-25  Brian Aker  <brian@gaz>

	Remove dead code.

2010-02-25  Brian Aker  <brian@gaz>

	Small cleanup.

2010-02-25  Brian Aker  <brian@gaz>

	Re-enabling test for OSX.

2010-02-25  Brian Aker  <brian@gaz>

	Cache for Schema.

2010-02-25  Brian Aker  <brian@gaz>

	Move IO for default DFE out of SE (more of).

2010-02-25  Brian Aker  <brian@gaz>

	This removes the special case read of proto from SE interface, down to
	schema for it to control.

2010-02-25  Brian Aker  <brian@gaz>

	Merge Monty

2010-02-25  Monty Taylor  <mordred@inaugust.com>

	Merged in Eric's Gearman fix.

2010-02-24  eday  <eday@orisndriz05>

	Fixed logging_gearman compilation from Padraig's session->query type change.

2010-02-25  Monty Taylor  <mordred@inaugust.com>

	Fixed a stoopid logic error on all the non-mac platforms.

2010-02-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-02-24  Monty Taylor  <mordred@inaugust.com>

	Fixed pandora stuff.

2010-02-25  Brian Aker  <brian@gaz>

	Merge Jay

2010-02-24  Jay Pipes  <jpipes@serialcoder>

	Completes the work of removing the weirdness around transaction
	boundaries in the storage engine API.
	
	* Transactional storage engines are now all explicitly notified
	of the start of a new "normal" transaction in the new PSE API
	method plugin::TransactionalStorageEngine::doStartTransaction()
	This new method takes a start_transaction_option_t as one of its
	parameters, and passing this option allows the storage engine
	API to cleanly signal the start of a consistent snapshot (and in
	the future additional transaction attributes).  This meant the
	removal of the old start_consistent_snapshot() method.
	
	* The TransactionServices component now fully manages the transaction
	boundaries, notification of transaction boundaries to participating
	resource managers (transactional storage engines)
	
	Adds a simple test case (to be expanded with future XA work) for
	transaction behaviour.

2010-02-23  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and fix conflicts.

2010-02-19  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-02-18  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-02-18  Jay Pipes  <jpipes@serialcoder>

	Finally kills of n_mysql_tables_in_use.

2010-02-17  Jay Pipes  <jpipes@serialcoder>

	Automates registration of statement transaction resources.  No more need for storage engines to call TransactionServices::trans_register_ha(session, false, engine).  yeah \o/

2010-02-17  Jay Pipes  <jpipes@serialcoder>

	* Remove dead ha_innobase::init_table_handle_for_HANDLER()
	* Remove dead Cursor::start_stmt()
	* Add plugin::StorageEngine::startStatement() and endStatement()
	* Add calls in drizzled/lock.cc to notify involved storage
	engines about the start and end of an SQL statement.

2010-02-17  Jay Pipes  <jpipes@serialcoder>

	Remove StorageEngine::start_consitent_snapshot() and StorageEngine::enable(), disable() and is_enabled(). Unused.

2010-02-24  Brian Aker  <brian@gaz>

	Merge of all patches in build.

2010-02-24  Brian Aker  <brian@gaz>

	Merge schema.

2010-02-24  Brian Aker  <brian@gaz>

	Fix dropSchema().

2010-02-24  Brian Aker  <brian@gaz>

	Performance patch... we now only cycle through engines that actually have
	schema dictionary code.

2010-02-24  Brian Aker  <brian@gaz>

	Code style cleanup.

2010-02-24  Brian Aker  <brian@gaz>

	More cleanup on ALTER SCHEMA. Hey! MySQL never had errors on half of it...
	we do :)

2010-02-24  Brian Aker  <brian@gaz>

	Move schema writing code to schema engine plugin.

2010-02-24  Brian Aker  <brian@gaz>

	Move Alter schema to SE interface.

2010-02-24  Brian Aker  <brian@gaz>

	createSchema() now works via SE interface.

2010-02-24  Brian Aker  <brian@gaz>

	Merge schema engine work.

2010-02-24  Brian Aker  <brian@gaz>

	Remove calls to create data_dictionary schema, this is handled now entirely
	in the SE interface.

2010-02-24  Brian Aker  <brian@gaz>

	Updated meta calls for data_dictionary

2010-02-24  Brian Aker  <brian@gaz>

	Shuffled information_schema;

2010-02-24  Brian Aker  <brian@gaz>

	Remove check_db_dir_existence.

2010-02-24  Brian Aker  <brian@gaz>

	Remove meta data call from db.cc

2010-02-24  Brian Aker  <brian@gaz>

	Add doesSchemaExist() method.

2010-02-23  Brian Aker  <brian@gaz>

	Merge of Schema tree.

2010-02-20  Brian Aker  <brian@gir.tangent.org>

	Fixing charset return.

2010-02-19  Brian Aker  <brian@gir.tangent.org>

	Adding on more bits for schema engine.

2010-02-19  Brian Aker  <brian@gir.tangent.org>

	Basic engine with test.

2010-02-23  Brian Aker  <brian@gaz>

	Merge Brian.

2010-02-23  Brian Aker  <brian@gaz>

	Bug on OSX.

2010-02-23  Brian Aker  <brian@gaz>

	Update for test run to write out good opt files.

2010-02-23  Brian Aker  <brian@gaz>

	Added binary to ignore.

2010-02-23  Brian Aker  <brian@gaz>

	Remove stray std::cerr

2010-02-23  Brian Aker  <brian@gaz>

	Adding in schema_writer tool (aka... lets actually setup the correct
	schemas).

2010-02-23  Brian Aker  <brian@gaz>

	Merging change info_schema changes.

2010-02-23  Brian Aker  <brian@gaz>

	Merge of show work.

2010-02-23  Brian Aker  <brian@gaz>

	Enabled more tests.

2010-02-23  Brian Aker  <brian@gaz>

	This restores temporary tables back to being viewable via show/select.

2010-02-22  Brian Aker  <brian@gaz>

	Add support for listing temporay tables from show commands.

2010-02-22  Brian Aker  <brian@gaz>

	Minor style fix.

2010-02-19  Brian Aker  <brian@gaz>

	Fixes for lint.

2010-02-19  Brian Aker  <brian@gaz>

	More removal.

2010-02-19  Brian Aker  <brian@gaz>

	This remove the original info_schema system for the server. More still to
	cut, but we are on our way.

2010-02-19  Brian Aker  <brian@gaz>

	Remove the old columns I_S table.

2010-02-19  Brian Aker  <brian@gaz>

	Updates for DESC.

2010-02-19  Brian Aker  <brian@gaz>

	Merge stewart, fix output from bugfix.

2010-02-19  Stewart Smith  <stewart@flamingspork.com>

	correctly set FieldOptions default_null in table proto
	
	This should correct the following problem:
	
	drizzle> create table e ( b int DEFAULT NULL);
	Query OK, 0 rows affected (0.01 sec)
	
	drizzle> show fields from e;
	+-------+---------+------+---------+-----------------+
	| Field | Type    | Null | Default | Default is NULL |
	+-------+---------+------+---------+-----------------+
	| b     | INTEGER | TRUE |         | FALSE           | 
	+-------+---------+------+---------+-----------------+
	1 row in set (0 sec)
	
	drizzle> show create table e;
	+-------+-----------------------------------------------------------+
	| Table | Create Table                                              |
	+-------+-----------------------------------------------------------+
	| e     | CREATE TABLE `e` (
	`b` int DEFAULT NULL
	) ENGINE=InnoDB | 
	+-------+-----------------------------------------------------------+
	1 row in set (0 sec)
	
	
	(the default_null in the table proto wasn't set).

2010-02-18  Brian Aker  <brian@gaz>

	First pass through show indexs.

2010-02-18  Brian Aker  <brian@gaz>

	Update for show fields.

2010-02-23  Brian Aker  <brian@gaz>

	Merge of stewart.

2010-02-23  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-02-19  Stewart Smith  <stewart@flamingspork.com>

	convert UUID() to plugin. We move the libuuid requirement to the UUID() function plugin as it's not neeeded anywhere else

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	move SUBSTR, SUBSTRING and SUBSTR_INDEX to plugins. add parser hooks for substr being a plugin now.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	move HEX() and UNHEX() to hex_functions plugin.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	make REVERSE() a plugin instead of built in function. Generalise the code for such keyword functions otu into reserved_keyword_function() in sql_yacc.

2010-02-15  Stewart Smith  <stewart@flamingspork.com>

	move DATABASE() to function plugin. modify parser so that it looks for a function named 'database' when DATABASE() is called. Special case still needed in parser due to hilarity of not-really-reserved words.

2010-02-22  Brian Aker  <brian@gaz>

	Merge Padraig.

2010-02-22  Brian Aker  <brian@gaz>

	MErge Padraig

2010-02-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with my query rewrite tree to change the query member in Session to std::string

2010-02-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk

2010-02-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merged from Monty

2010-02-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the calls to dtrace probes to use the c_str() pointer from query in Session

2010-02-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated query rewriting API to conform to coding standards

2010-02-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the issue with empty queries

2010-02-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the found_semicolon member from the parsing stage

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the query member of Session to be std::string

2010-02-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-02-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed plugins that I created which are not needed in this branch.

2010-02-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed an obsolete comment related to the query cache that was confusing.

2010-02-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the isEnabled() method from the QueryRewriter base class. The assumption we are making is
	that if a plugin is built, it is enabled. Work still needs to be done on a generic enable/disable
	mechanism for plugins which Monty and Jay have started discussing on IRC.....

2010-02-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Started adding plugin which will rewrite SHOW commands. Still in a pretty rudimentary state.

2010-02-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Just added a simple test suite to enable the pointless query rewriter.

2010-02-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the call to mysql_parse so that it now takes the rewritten query. Modified the simple
	lower_rewriter plugin so it is not enabled by default.

2010-02-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Put the plugin point for a query rewriter in the dispatch_command method instead of the
	executeStatement method. Seems to fit better there in my opinion.

2010-02-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added simple plugin which simply converts the query to lower case.

2010-02-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added plugin point for a query rewriter. Added call to the plugin within the executeStatement
	method. Right now, the plugin takes a std::string which it can operate on. Would it be better to
	pass it something else? Maybe a parse tree? Or a GPB message?

2010-02-19  Brian Aker  <brian@gaz>

	Merge JDaly, Lint fixes by brian.

2010-02-19  Brian Aker  <brian@gaz>

	Lint fixes.

2010-02-19  Brian Aker  <brian@gaz>

	Merge Jdaly work

2010-02-17  Joe Daly  <skinny.moey@gmail.com>

	merge trunk and rerun memcached tests

2010-02-14  Joe Daly  <skinny.moey@gmail.com>

	revert information_schema test, dont include it with these changes

2010-02-14  Joe Daly  <skinny.moey@gmail.com>

	fix up tests to create data dictionary schema if it does not already exist

2010-02-14  Joe Daly  <skinny.moey@gmail.com>

	port memcached stats plugin to use data_dictionary

2010-02-14  Joe Daly  <skinny.moey@gmail.com>

	fix problem with schema not being created if the tests are run stand alone

2010-02-19  Brian Aker  <brian@gaz>

	Merge.

2010-02-19  Brian Aker  <brian@gaz>

	Merge Jay.

2010-02-15  Jay Pipes  <jpipes@serialcoder>

	fix for include.am having non-existent transaction_context.cc

2010-02-15  Jay Pipes  <jpipes@serialcoder>

	One more merge conflict...

2010-02-14  Jay Pipes  <jpipes@serialcoder>

	Fix missing files in include.am after merging trunk.

2010-02-14  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts

2010-02-14  Jay Pipes  <jpipes@serialcoder>

	This patch completes the first step in the splitting of
	the XA resource manager API from the storage engine API,
	as outlined in the specification here:
	
	http://drizzle.org/wiki/XaStorageEngine
	
	* Splits plugin::StorageEngine into a base StorageEngine
	class and two derived classes, TransactionalStorageEngine
	and XaStorageEngine.  XaStorageEngine derives from
	TransactionalStorageEngine and creates the XA Resource
	Manager API for storage engines.
	
	- The methods moved from StorageEngine to TransactionalStorageEngine
	include releaseTemporaryLatches(), startConsistentSnapshot(), 
	commit(), rollback(), setSavepoint(), releaseSavepoint(),
	rollbackToSavepoint() and hasTwoPhaseCommit()
	- The methods moved from StorageEngine to XaStorageEngine
	include recover(), commitXid(), rollbackXid(), and prepare()
	
	* Places all static "EngineVector"s into their proper
	namespaces (typedefs belong in header files, not implementation files)
	and places all static methods corresponding
	to either only transactional engines or only XA engines
	into their respective files in /drizzled/plugin/
	
	* Modifies the InnoDB "handler" files to extend plugin::XaStorageEngine
	and not plugin::StorageEngine
	
	The next step, as outlined in the wiki spec page above, is to isolate
	the XA Resource Manager API into its own plugin class and modify
	plugin::XaStorageEngine to implement plugin::XaResourceManager via
	composition.  This is necessary to enable building plugins which can
	participate in an XA transaction *without having to have that plugin
	implement the entire storage engine API*

2010-02-08  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-02-05  Jay Pipes  <jpipes@serialcoder>

	Style cleanup around TransactionContext::modified_non_trans_table and dead code removal

2010-02-05  Jay Pipes  <jpipes@serialcoder>

	Cleanup style and documentation for ResourceContext and setTransactionReadWrite

2010-02-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk changes and resolve conflicts

2010-02-04  Jay Pipes  <jpipes@serialcoder>

	* Renames Ha_trx_info to drizzled::ResourceContext
	* Renames Sesssion_TRANS to drizzled::TransactionContext
	* Replaces homegrown linked-lists of Ha_trx_info pointers
	with vector<drizzled::ResourceContext> operations
	* Renames Session::getEngineInfo() to Session::getResourceContext()

2010-02-01  Jay Pipes  <jpipes@serialcoder>

	Simple renames of plugin::StorageEngine methods for XA interaction to meet our style guidelines.

2010-02-18  Brian Aker  <brian@gaz>

	Giant merge! Of everything for DD currently.

2010-02-18  Brian Aker  <brian@gaz>

	Updates to tests (not deterministic ouput). I still want the actual commands
	tested.

2010-02-18  Brian Aker  <brian@gaz>

	Fix from Monty

2010-02-18  Monty Taylor  <mordred@inaugust.com>

	Fix innodb plugin build issue.

2010-02-18  Brian Aker  <brian@gaz>

	Fix test cases.

2010-02-18  Brian Aker  <brian@gaz>

	Remove dead typedef.

2010-02-18  Brian Aker  <brian@gaz>

	Remove typedef.

2010-02-17  Brian Aker  <brian@gaz>

	Remove dead variable.

2010-02-17  Brian Aker  <brian@gaz>

	Merge from Trunk

2010-02-17  Brian Aker  <brian@gaz>

	Merge trunk

2010-02-18  Brian Aker  <brian@gaz>

	Added lsap tests for schema_dictionary.

2010-02-18  Brian Aker  <brian@gaz>

	Adding data_dictionary.

2010-02-18  Brian Aker  <brian@gaz>

	Adding slap tests.

2010-02-18  Brian Aker  <brian@gaz>

	Slap tests for collation.

2010-02-18  Brian Aker  <brian@gaz>

	Mutual OSX/Fedora fix (finally).

2010-02-18  Brian Aker  <brian@gaz>

	Revert OSX fix, requiring more cast.

2010-02-18  Brian Aker  <brian@gaz>

	Merge with build.

2010-02-17  Brian Aker  <brian@gir.tangent.org>

	MEge Monty

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed the OSX build issues.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed osx build without templates.

2010-02-15  Monty Taylor  <mordred@inaugust.com>

	Turn some of the push functions into template functions with specializations.
	This is needed because of how the typedefs for stdint and stdbool are done
	on OSX.

2010-02-15  Monty Taylor  <mordred@inaugust.com>

	Had to add suffixes because of this:
	
	/usr/include/sys/param.h:72:#define	BSD	199506		/* System version (year & month). */
	
	On OSX.

2010-02-18  Brian Aker  <brian@gaz>

	Fix missing files (the Innodb fix should be moved to the correct plugin
	file... but we have like three in the directory and none of them are
	straightforward.)

2010-02-17  Brian Aker  <brian@gaz>

	REmove dead COM enum

2010-02-17  Brian Aker  <brian@gaz>

	Remove option for status hookup in plugins (either generate your own table
	function (and union) or we add a new type of plugin which just does this).

2010-02-17  Brian Aker  <brian@gaz>

	Updates to include sample Innodb table function.

2010-02-17  Brian Aker  <brian@gaz>

	Remove dead SHOW_ARRAY type.

2010-02-17  Brian Aker  <brian@gaz>

	Remove dead globals related to my_sys.

2010-02-17  Brian Aker  <brian@gaz>

	Bits of dead code/STATUS_VAR rename.

2010-02-17  Brian Aker  <brian@gaz>

	Remove typedef and drop some dead code.

2010-02-17  Brian Aker  <brian@gaz>

	1) Reduced the size of VARIABLE_VALUE.
	2) Shifted tests around to be in their suite.
	
	There is still a bug in VARIABLES, but the bug in not in DD, but somewhere
	up above (and as Padraig pointed out in IM, the values were messed up
	before).
	
	I noticed while debugging that the values for SHOW_TYPE are not always
	right. I am going to go down the rabit hole a bit and take a look at what is
	up.
	
	Doing an ORDER BY on VARIABLES creates issues. I created a test for that,
	but have it commented out for the moment.

2010-02-16  Brian Aker  <brian@gaz>

	Update to tests.

2010-02-16  Brian Aker  <brian@gaz>

	REmove stray fprintf()

2010-02-16  Brian Aker  <brian@gaz>

	Many updates. Brian, Monty.

2010-02-16  Brian Aker  <brian@gaz>

	Monty's fixes, my rewrite of collations dictionary.

2010-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed Sun studio compile errors.

2010-02-16  Brian Aker  <brian@gaz>

	Updates for DD.

2010-02-16  Brian Aker  <brian@gaz>

	Added columsn for COLUMNS

2010-02-15  Brian Aker  <brian@gaz>

	Merge in trunk.

2010-02-15  Brian Aker  <brian@gaz>

	Dead code removal.

2010-02-15  Brian Aker  <brian@gaz>

	More removal of show code.

2010-02-15  Brian Aker  <brian@gaz>

	Merge of dead yacc bits.

2010-02-15  Brian Aker  <brian@gaz>

	Remove dead bits from YACC

2010-02-15  Brian Aker  <brian@gaz>

	Merge of Brian stuff

2010-02-15  Brian Aker  <brian@gaz>

	Modify return type for COLUMNS type.

2010-02-15  Brian Aker  <brian@gaz>

	Lint fixes.

2010-02-13  Brian Aker  <brian@gaz>

	Merge in data_dictionary.

2010-02-13  Brian Aker  <brian@gaz>

	Two fixes for "make dist"

2010-02-13  Brian Aker  <brian@gaz>

	Mege with trunk.

2010-02-13  Brian Aker  <brian@gaz>

	Fix for bad syscall to close bad file descriptor.

2010-02-12  Brian Aker  <brian@gaz>

	Fixes a memory leak. sql_string() sucks.

2010-02-12  Brian Aker  <brian@gaz>

	Merge with trunk.

2010-02-12  Brian Aker  <brian@gaz>

	Updates for VARIABLES

2010-02-11  Brian Aker  <brian@gaz>

	Merge with tree.

2010-02-11  Brian Aker  <brian@gaz>

	Fix for recursive stat use.

2010-02-11  Brian Aker  <brian@gaz>

	Merge of Joe

2010-02-10  Joe Daly  <skinny.moey@gmail.com>

	merge latest changes from data_dictionary branch

2010-02-10  Joe Daly  <skinny.moey@gmail.com>

	port transaction_log to use data_dictionary

2010-02-10  Brian Aker  <brian@gaz>

	Naming fixes.

2010-02-10  Brian Aker  <brian@gaz>

	Update to use processlist code from plugin.

2010-02-10  Brian Aker  <brian@gaz>

	Updates to tests (now moved into plugins).

2010-02-10  Brian Aker  <brian@gaz>

	Moved test files.

2010-02-10  Brian Aker  <brian@gaz>

	Fix plugin definitions.

2010-02-10  Brian Aker  <brian@gaz>

	Additional plugins.

2010-02-09  Brian Aker  <brian@gaz>

	Does not work (compile issue in plugin).

2010-02-09  Brian Aker  <brian@gaz>

	Fix debug assert.

2010-02-09  Brian Aker  <brian@gaz>

	Merge main code.

2010-02-06  Brian Aker  <brian@gaz>

	Fixes valgrind issue with status variables.

2010-02-06  Brian Aker  <brian@gaz>

	Update for test split.

2010-02-06  Brian Aker  <brian@gaz>

	Updates/bug fix for columns. Assert now for checking that we filled in all
	columns.

2010-02-05  Brian Aker  <brian@gaz>

	Merge Monty

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2010-02-04  Monty Taylor  <mordred@inaugust.com>

	Merged up with brian.

2010-02-02  Monty Taylor  <mordred@inaugust.com>

	Merged brian - used the table_function_container.

2010-02-02  Monty Taylor  <mordred@inaugust.com>

	Added to makefile.

2010-02-02  Monty Taylor  <mordred@inaugust.com>

	Added initial TableFunction thing.

2010-02-05  Brian Aker  <brian@gaz>

	Removed dead code.

2010-02-04  Brian Aker  <brian@gaz>

	Updating from additional schemas added.

2010-02-04  Brian Aker  <brian@gaz>

	Updates for show table status.

2010-02-04  Brian Aker  <brian@gaz>

	Remove old schemata plugin.

2010-02-04  Brian Aker  <brian@gaz>

	Add in new show work.

2010-02-04  Brian Aker  <brian@gaz>

	Remove "full" syntax.

2010-02-03  Brian Aker  <brian@gaz>

	Adding support for LOCAL_TABLE_NAMES and SCHEMA_NAMES

2010-02-03  Brian Aker  <brian@gaz>

	Remove processlist from old I_S.

2010-02-03  Brian Aker  <brian@gaz>

	Remove PLUGIN and MODULES.

2010-02-03  Brian Aker  <brian@gaz>

	First pass through removing some of the code for the old I_S system.

2010-02-03  Brian Aker  <brian@gaz>

	Big ole patch. This covers moving information_schema to  old_* table names
	(to not have plugins bang against each other).

2010-02-03  Brian Aker  <brian@gaz>

	Merge.

2010-02-03  Brian Aker  <brian@gaz>

	Merge current tree.

2010-02-02  Brian Aker  <brian@gaz>

	Added file for include.

2010-02-02  Brian Aker  <brian@gaz>

	Adding in the container.

2010-02-02  Brian Aker  <brian@gaz>

	Remove unused list;

2010-02-02  Brian Aker  <brian@gaz>

	Fix bad directory usage.

2010-02-02  Brian Aker  <brian@gaz>

	Updates for table functions to insert tables into additional schemas;

2010-02-02  Brian Aker  <brian@gaz>

	Updating style, simplified code.

2010-02-02  Brian Aker  <brian@gaz>

	Variables support.

2010-02-01  Brian Aker  <brian@gaz>

	Added status bits. Variables next!

2010-01-31  Brian Aker  <brian@gaz>

	Fix interface (we no longer need Fields passed around).

2010-01-31  Brian Aker  <brian@gaz>

	Updating other modules to use new interface.

2010-01-31  Brian Aker  <brian@gaz>

	Updated for longer hostname (aka... follow what the machine would actually
	record).

2010-01-31  Brian Aker  <brian@gaz>

	Update code, first pass through cleaner method for recursing through
	dictionary of table information.

2010-01-29  Brian Aker  <brian@gaz>

	Pass through rewrite.

2010-01-28  Brian Aker  <brian@gaz>

	Updates for COLUMNS code.

2010-01-28  Brian Aker  <brian@gaz>

	First pass through making columns work.

2010-01-28  Brian Aker  <brian@gaz>

	Patching up naming.

2010-01-28  Brian Aker  <brian@gaz>

	Clean up schemata

2010-01-27  Brian Aker  <brian@gaz>

	Refactored to make the code a tiny bit simpler to follow.

2010-01-27  Brian Aker  <brian@gaz>

	First pass through tables.

2010-01-27  Brian Aker  <brian@gaz>

	Store table names.

2010-01-26  Brian Aker  <brian@gaz>

	Updating test cases + added Drizzle specific schema_names and schema_info.

2010-01-26  Brian Aker  <brian@gaz>

	Second pass through the interface.

2010-01-26  Brian Aker  <brian@gaz>

	Updates to the classes (first pass).

2010-01-26  Brian Aker  <brian@gaz>

	Updates for interface/etc.

2010-01-25  Brian Aker  <brian@gaz>

	Additional definitions.

2010-01-25  Brian Aker  <brian@gaz>

	Adding data_dictionary.collation_character_set_applicability

2010-01-25  Brian Aker  <brian@gaz>

	Added character sets.

2010-01-25  Brian Aker  <brian@gaz>

	Small cleanups, pushing test cases.

2010-01-25  Brian Aker  <brian@gaz>

	First pass through data dictionary.

2010-02-12  Brian Aker  <brian@gaz>

	Merge.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Fix to include.am to remove error.cc as it is linked in through liberror.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Remove conflict markers missed.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Merge trunk and resolve conflict.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Make sure the bits from my_error.h are inside the drizzled namespace.

2010-02-11  Tim Penhey  <tim@penhey.net>

	Merge trunk and resolve conflicts.

2010-02-12  Brian Aker  <brian@gaz>

	Monty update for Pandora

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Fixed valgrind suppressions.

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Fix build issues on 32-bit solaris.

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Merged up latest pandora-build.

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Fixed m4 on solaris. Urg.

2010-02-12  Monty Taylor  <mordred@inaugust.com>

	Fixed test-run to send proper namespace. Also un-static'd mysql_parse, since
	it breaks gdb.

2010-02-11  Monty Taylor  <mordred@inaugust.com>

	Added support for disabling plugins

2010-02-11  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2010-02-02  Monty Taylor  <mordred@inaugust.com>

	Fixed the clock_gettime test.

2010-02-02  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.104

2010-02-01  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.103 - fix macros for cross-compiling. Fix stack direction check.

2010-01-25  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.100 - Fixes several bugs found by cb1kenobi. Add several thoughts from folks at LCA.

2010-02-12  Brian Aker  <brian@gaz>

	Fix style issue.

2010-02-11  Brian Aker  <brian@gaz>

	Remove WEIGHT_STRING() from parser (where it does not belong). If someone
	wants to they can reimplement this as a straight function.

2010-02-11  Brian Aker  <brian@gaz>

	Disabling support for memcached plugins until we can test for version of
	memcached.

2010-02-11  Brian Aker  <brian@gaz>

	Merge Padraig

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	tiny style related changes

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Went with a std::vector to represent an array instead of having 2 pointer variables to mark the start and end of an array

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Used a std::vector to represent an array in the RorUnionReadPlan class instead of pointers.

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected an order of initialization in a few optimizer classes

2010-02-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Small style formatting fix

2010-02-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made some members of the RorIntersectReadPlan private

2010-02-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made all members of the RangeReadPlan class private

2010-02-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-02-10  Brian Aker  <brian@gaz>

	Merge in Tim's error work.

2010-02-10  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2010-01-31  Tim Penhey  <tim@penhey.net>

	Merge trunk.

2010-01-31  Tim Penhey  <tim@penhey.net>

	Merge trunk.

2010-01-22  Tim Penhey  <tim@penhey.net>

	Make it compile.

2010-01-22  Tim Penhey  <tim@penhey.net>

	change the include files

2010-01-22  Tim Penhey  <tim@penhey.net>

	Remove my_error.h and my_error.cc.

2010-01-22  Tim Penhey  <tim@penhey.net>

	Move the bits from my_error.h and my_error.cc into error.h and error.cc.

2010-02-10  Brian Aker  <brian@gaz>

	Merge in security refactor.

2010-02-03  Dennis Schoen  <dennis@blogma.de>

	merge trunk

2010-01-29  Dennis Schoen  <dennis@blogma.de>

	add second getSecurityContext() function that returns a non-const refernce

2010-01-29  Dennis Schoen  <dennis@blogma.de>

	add some const madness

2010-01-28  Dennis Schoen  <dennis@blogma.de>

	add getSecurityContext()

2010-01-28  Dennis Schoen  <dennis@blogma.de>

	remove skip_grants() method

2010-01-28  Dennis Schoen  <dennis@blogma.de>

	remove priv_host_name()

2010-01-28  Dennis Schoen  <dennis@blogma.de>

	make data members private

2010-01-28  Dennis Schoen  <dennis@blogma.de>

	rename class

2010-02-10  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-02-06  Stewart Smith  <stewart@flamingspork.com>

	remove incorrect and out of date comments in make_internal_temporary_table_path

2010-02-10  Brian Aker  <brian@gaz>

	Merge bug fix.

2010-02-10  Brian Aker  <brian@gaz>

	Merge Monty.

2010-02-10  Monty Taylor  <mordred@inaugust.com>

	Add a fatal error if a plugin has a name which has already been registered.

2010-02-10  Brian Aker  <brian@gaz>

	Merge of Brian/Padraig

2010-02-10  Brian Aker  <brian@gaz>

	Merge Padraig

2010-02-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated sys var handling correctly in filtered replicator to remove valgrind warning

2010-02-10  Brian Aker  <brian@gaz>

	Style change in Archive. Split a few files out.

2010-02-10  Brian Aker  <brian@gaz>

	Adding support for RPM/merge Brian

2010-02-10  Brian Aker  <brian@gaz>

	Modify to remove config.h from parser.h

2010-02-10  Brian Aker  <brian@gaz>

	Added very basic RPM support.

2010-02-09  Brian Aker  <brian@gaz>

	Merge Stewart

2010-02-09  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	Merged enum_field_type_to_table_message_type into table-proto-message-error-checking.

2010-02-08  Stewart Smith  <stewart@flamingspork.com>

	de-duplicate internal field type to field proto field type code. Consolidate that in replication_services and table_proto_write and now just have it in statement_transform.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	fix TableProtoTester Engine up for drizzled namespace changes.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	Merged enum_field_type_to_table_message_type into table-proto-message-error-checking.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-dead-Item-save_in_field_no_warnings into fix-order_st-BY-comments.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-dead-find_field_in_table_sef into remove-dead-Item-save_in_field_no_warnings.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	Merged remove-bit_fields_as_long into create-tmp-field-cleanup.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	Merged null-not-zero-as-pointer into remove-bit_fields_as_long.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	merge trunk

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	explicitly put source and header in plugin.ini for TableProtoTester engine

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	lint:  #endif line should be "#endif /* PLUGIN_TABLEPROTOTESTER_TABLEPROTOTESTER_H */"

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	corrupt_table_01missing_engine test is redundant (and failed on some protobuf lib versions). TableProtoTester engine replaces it.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	add missing_engine and drop_table tests for tableprototester.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	add t1 test (missing engine) to TableProtoTester. Fix up proper error reporting.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	initial TableProtoTester engine. We can't just use table_write as some protobuf library versions don't let us write invalid protobuf messages :(

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	only produce error in DropTable path if it's something interesting. also generate correct error if we have  non-ER_CORRUPT_TABLE_DEFINITION error from engine in getting table definition.

2010-02-05  Stewart Smith  <stewart@flamingspork.com>

	test getting corrupt table definition error on DROP TABLE. Ideally, we'd still try to drop the table. this is more of a temporary solution, but is much better than SIGSEGV :)

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	if error reading table proto in DROP TABLE code path, do a simple error out.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	use DROP TABLE instead of --remove_file in corrupt_table_01missing_engine.test to remove corrupt table proto. This means that bug lp:516900 is exposed as a crashing bug.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	bug has been fixed: corrupt table proto does not error out correctly in open table

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	move corrupt table proto tests to main test suite.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	throw ER_CORRUPT_TABLE_DEFINITION in drizzled::parse_table_proto() on corrupt proto passed in for parsing.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	correctly throw a ER_CORRUPT_TABLE_DEFINITION error message from BlackholeEngine if reading table proto message fails. Modify storage_engine.cc code so that errors are reported back to the user correctly.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	add ER_CORRUPT_TABLE_DEFINITION error

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	fix corrupt_table_message.01_missing_engine.test and result file for what behaviour should be: return ER_CORRUPT_TABLE_DEFINITION

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	add test for reading invalid table proto. use BLACKHOLE engine as we're a bit lazy and its file format is just the serialised proto anyway.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	add a table to table_write missing a StorageEngine message (a required field). Should generate error if ever accessed/loaded.

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	add checking of valid table number to table_writer

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	add some basic command line parsing to table_writer. In prep for writing several table messages of varying correctness

2010-02-04  Stewart Smith  <stewart@flamingspork.com>

	Fix table_write to write a valid Table protobuf message.
	
	stewart@willster:~/drizzle/working$ ./drizzled/message/table_writer /tmp/a.dfe
	stewart@willster:~/drizzle/working$ ./drizzled/message/table_reader /tmp/a.dfe
	libprotobuf ERROR google/protobuf/message_lite.cc:106] Can't parse message of type "drizzled.message.Table" because it is missing required fields: indexes[0].key_length, indexes[1].key_length
	Failed to parse table.

2010-02-01  Stewart Smith  <stewart@flamingspork.com>

	enum_field_types_to_field_message_type() now not static, so it can be used by others (create temp table)

2010-02-01  Stewart Smith  <stewart@flamingspork.com>

	move conversion of enum_field_types to Field protobuf message type out into function so it can be reused in tmp table code.

2010-01-28  Stewart Smith  <stewart@flamingspork.com>

	move creating the file name for internal temporary table into a function so we can use it in both the current create_tmp_table() and the new create_internal_temporary_table() function that will use normal create table interfaces.

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in drizzled/join.h

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in drizzled/item/sum.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in drizzled/statement/alter_table.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in drizzled/item/subselect.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in drizzled/join.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in sql_select.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in sql_parse.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in sql_update.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	fix accidental mangling of comment: s/order_st BY/ORDER BY/. in sql_union.cc

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	Item::save_in_field_no_warnings() was dead code, never being called.

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	remove old and unused find_field_in_table_sef() which wasn't being called anywhere. thanks lcov\!

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	remove unused parameter to create_tmp_field() - was table_cant_handle_bit_fields which was around for HEAP based temp tables.

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	cleanup trailing whitespace

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	it turns out that bit_fields_as_long in tmp_table_param is in fact unused. remove it.

2010-01-27  Stewart Smith  <stewart@flamingspork.com>

	simply semantic that 0 is not a pointer, NULL is the null pointer, not 0. in sql_union.cc

2010-02-09  Brian Aker  <brian@gaz>

	Merge Monty.

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Fixed a style variance.

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Fixed the const argument so that Sun Studio isn't unhappy.

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Added --plugin-remove option, which prunes plugins from the list of plugins
	to be loaded.

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Added string tokenizing template function.

2010-02-06  Brian Aker  <brian@gaz>

	Remove giant include header to its own file.

2010-02-05  Brian Aker  <brian@gaz>

	Merge Monty

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Hrm. Sometimes initializing memory is nice.

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Removed some dead code. Thanks jay!

2010-02-05  Monty Taylor  <mordred@inaugust.com>

	Remove code which adds skip options for plugins, since that's not how we
	control plugin loading.

2010-02-04  Brian Aker  <brian@gaz>

	Merge Monty

2010-02-04  Monty Taylor  <mordred@inaugust.com>

	Removed test testing transaction_prealloc_size - we no longer have this
	variable.

2010-02-04  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2010-02-04  Monty Taylor  <mordred@inaugust.com>

	Put everything in drizzled into drizzled namespace.
	Put internal stuff into drizzled::internal namespace.
	Removed some cruft.
	Now every symbol that is shipped in a header is in the drizzled namespace
	and everything in the server that's not shipped is labeled internal. woot. 
	Removed a lot of the extra extern "C" stuff that was in there. Less ugliness for
	internal callbacks now for Sun Studio.

2010-02-01  Brian Aker  <brian@gaz>

	Remove open tables, other assorted code bits (cleanup on style)

2010-02-02  Brian Aker  <brian@gaz>

	Merge Jay

2010-02-04  Brian Aker  <brian@gaz>

	Merge Lee

2010-01-30  Lee Bieber  <lbieber@lee-biebers-macbook-pro.local>

	add target to japanese tests

2010-02-04  Brian Aker  <brian@gaz>

	Rollup of Brian, Jay

2010-02-03  Brian Aker  <brian@gaz>

	More dead code removal.

2010-02-03  Brian Aker  <brian@gaz>

	More dead code is gone.

2010-02-03  Brian Aker  <brian@gaz>

	Remove some of the old Vars we do not use/allow plugins to use (less code to
	edit in the system).

2010-02-03  Brian Aker  <brian@gaz>

	removw DRIZZLE_SYSVAR_ENUM

2010-02-03  Brian Aker  <brian@gaz>

	Dead code removal.

2010-02-03  Brian Aker  <brian@gaz>

	Remove dead option.

2010-02-03  Brian Aker  <brian@gaz>

	Fixing test cases/removed dead optimizer switches.

2010-02-03  Brian Aker  <brian@gaz>

	Merge Jay

2010-02-01  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-01-28  Jay Pipes  <jpipes@serialcoder>

	Another lint cleanup.

2010-01-28  Jay Pipes  <jpipes@serialcoder>

	Correct cpplint issue with header guard on drizzled/named_savepoint.h

2010-01-28  Jay Pipes  <jpipes@serialcoder>

	Remove last vestiges of savepoint_alloc_size, savepoint_offset, and SAVEPOINT struct.

2010-01-28  Jay Pipes  <jpipes@serialcoder>

	This patch significantly reworks the way that
	savepoints are handled:
	
	1) Memory management
	
	Removes the trans_prealloc_size and trans_block_size
	variables which set up a separate mem_root for storing
	"savepoint data".  Without the binlog, this separate
	memory root, which by default allocated 1M *for every
	single transaction regardless of whether savepoints
	were used*, was not useful any more.
	
	2) No more DIY linked lists of SAVEPOINT pointers
	
	The Session::transaction struct used to contain a 
	member "savepoints" which was of type pointer to
	SAVEPOINT.  This has been replaced with an STL
	std::deque<drizzled::NamedSavepoint> and the pointeri and
	linked-list fiddling is gone, replaced with STL conventions.
	
	3) SAVEPOINT struct is now drizzled::NamedSavepoint
	
	The SAVEPOINT struct has been converted to an STL container-
	safe class called drizzled::NamedSavepoint.
	
	4) RollbackToSavepoint, Savepoint, and ReleaseSavepoint
	
	RollbackToSavepoint, Savepoint, and ReleaseSavepoint classes
	have had their logic revamped and documented.
	
	5) The innodb.test case had (has?) an error in it
	
	The innodb.test case was testing a wrong assertion that
	a ROLLBACK TO SAVEPOINT x; should result in an error if
	called twice in a row.  This is incorrect behaviour.  If
	a ROLLBACK TO SAVEPOINT x; is executed, the savepoint x
	should stay on the top of the savepoint stack.
	
	6) XID and XID_STATE classes made STL-container-safe
	
	Places proper initializer lists and constructors for
	the XID and XID_STATE classes and removes use of the
	horrible memset(this, 0, sizeof(*this)); usage.
	
	7) The various savepoint-handling routines use references
	
	A switch was made to the various savepoint-handling routines
	of TransactionServices to ensure only references to a 
	drizzled::NamedSavepoint were being passed, and not void pointers.

2010-01-27  Jay Pipes  <jpipes@serialcoder>

	Removes pointless ha_enable_transaction call.  This wasn't used anywhere to any effect.

2010-01-27  Jay Pipes  <jpipes@serialcoder>

	This patch does not change any algorithms or code paths, 
	it just moves the transaction-related methods in the
	drizzled/ha_commands.cc file into a file named
	drizzled/transaction_services.cc and creates a singleton
	Service class called TransactionServices containing all
	the previous ha_xxx methods related specifically to the
	XA distributed transaction processing model.
	
	This is a quick stopgap patch in the move towards separating
	out the XA Resource Manager API from the Storage Engine API.

2010-02-03  Brian Aker  <brian@gaz>

	Remove option where variable case is changed.

2010-02-01  Brian Aker  <brian@gaz>

	Fix for bad build.

2010-01-31  Brian Aker  <brian@gaz>

	Remove show engine status, and show open tables (which no longer applies in
	our design).

2010-01-31  Brian Aker  <brian@gaz>

	Merge Jay

2010-01-25  Jay Pipes  <jpipes@serialcoder>

	* Changes Session::warn_id to Session::warn_query_id
	* Makes Session::query_id and Session::warn_query_id private members
	* Adds getters and setters for above members
	* Changes ReplicationServices::initTransactionMessage() to use
	Session::getQueryId() instead of Session::getTransactionId()

2010-01-29  Brian Aker  <brian@gaz>

	Merged Lee, enabled jp tests by default.

2010-01-21  lbieber  <lbieber@orisndriz08>

	clean up japanese tests, remove tests that no longer apply.  In test-run.pl change mysql_version_id to drizzle_version_id

2010-01-28  Brian Aker  <brian@gaz>

	Merge Padraig

2010-01-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Minor revisions based on review comments from Jay. Thanks Jay!

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected a valgrind warning due to using std::string in the Select_Lex class whose memory is
	allocated on mem_root so its desctructor is never called. Created a static string array and an enum
	to index into this array instead.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced a DYNAMIC_ARRAY with std::vector in the range optimizer.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified classes to have names in camel case instead of all upper case. Added default constructors
	to the Parameter and RangeParameter classes within the optimizer namespace.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Correcting the case of a number of classes in the optimizer to adhere to the coding standards. Also
	removed the use of thr TRP acronym in places and instead replaced it with ReadPlan as TRP stands for
	Table Read Plan.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the case of TABLE_READ_PLAN to now be TableReadPlan.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced an instance of List with std::vector in the range optimizer.

2010-01-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2010-01-27  Brian Aker  <brian@gaz>

	Merge rot13()

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	More standard indentation.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Remove the global using namespace std.  Yes I know it is in the coding standard, but that dones't make it good, and this one I'm prepared to fight.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Make the tests pass again, needed to scope the rot13::name reference to avoid grabbing a different global.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Merged string-conversion-functions into rot-13.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Remove the converter not being used, and make the String setter copy the underlying string.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Use an anonymous namespace unstead of adding a function declaration.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Follow the current coding standard. TODO: change the coding standard :-)

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Namespaces are a honking good idea, lets do more of those.

2010-01-21  Tim Penhey  <tim.penhey@canonical.com>

	Add version, author and license to the plugin.ini file.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Merged string-conversion-functions into rot-13.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Extracted the string conversion functions.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	OMG it works \o/

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Make it actually rot-13.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Add some standard converstion functions.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Make it compile and pass the test.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Add in a rot 13 function.

2010-01-20  Tim Penhey  <tim.penhey@canonical.com>

	Move the member variable to be local to the function.

2010-01-27  Brian Aker  <brian@gaz>

	Remove dead code.

2010-01-21  Brian Aker  <brian@gaz>

	Revert db patch.

2010-01-20  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-21  Monty Taylor  <mordred@inaugust.com>

	Removed extra title field.

2010-01-21  Monty Taylor  <mordred@inaugust.com>

	Added tests for errmsg plugins.

2010-01-20  Monty Taylor  <mordred@inaugust.com>

	va_lists need to be copied when you use them more than once.

2010-01-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the errmsg_notify plugin.

2010-01-20  Monty Taylor  <mordred@inaugust.com>

	Added libnotify plugin.

2010-01-18  Brian Aker  <brian@gaz>

	Merge Eric

2010-01-16  Eric Day  <eday@oddments.org>

	Fixed test to not output verbose drizzleslap output.

2010-01-12  Eric Day  <eday@oddments.org>

	Added test cases for --mysql flag.

2010-01-11  Eric Day  <eday@oddments.org>

	Added --mysql option flags to client utilities. Also removed the socket option since that is no used anymoe (requested from mailing list).

2010-01-07  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-12-07  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-11-23  Eric Day  <eday@oddments.org>

	Merge trunk.

2010-01-18  Brian Aker  <brian@gaz>

	Merge Jay

2010-01-15  Jay Pipes  <jpipes@serialcoder>

	More size_t != uint32_t crap.

2010-01-15  Jay Pipes  <jpipes@serialcoder>

	More size_t != uint32_t crap.

2010-01-15  Jay Pipes  <jpipes@serialcoder>

	Why on Earth key_buffer_size was a 64-bit integer when the resize_key_cache() expected a 32-bit integer is beyond me.

2010-01-15  Jay Pipes  <jpipes@serialcoder>

	Adds ability to change division limit and age threshold
	for MyISAM key cache.
	
	Adds tests to key_cache test case for above variables.

2010-01-15  Jay Pipes  <jpipes@serialcoder>

	Yet another try at fixing 32-bit key_cache_block_size variable.

2010-01-12  Jay Pipes  <jpipes@serialcoder>

	Testing a possible 32-bit fix for myisam plugin vars.

2010-01-12  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts

2010-01-11  Jay Pipes  <jpipes@serialcoder>

	Pulls MyISAM-specific server variables into the MyISAM
	plugin scope.  No more key_buffer_size, either.  The 
	key cache variables are all now consistently named:
	
	myisam_key_cache_size
	myisam_key_cache_block_size
	myisam_key_cache_division_limit
	myisam_key_cache_age_threshold

2009-12-24  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2010-01-14  Brian Aker  <brian@gaz>

	Merge Joe Daly

2010-01-12  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-01-04  Joe Daly  <skinny.moey@gmail.com>

	fix up review comments

2010-01-03  Joe Daly  <skinny.moey@gmail.com>

	add plugin_name column to I_S.tables view

2010-01-14  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-13  Monty Taylor  <mordred@inaugust.com>

	Merged up trunk.

2010-01-13  Monty Taylor  <mordred@inaugust.com>

	Removed the apparent ability to disable builtin plugins. We don't actually support it
	so presenting an option to do it is silly. Additionally, add options to differentiate
	between building and default loading dyanmic plugins. And - actually - fix the building
	of non-default dyamic plugins (we weren't doing it)

2010-01-13  Monty Taylor  <mordred@inaugust.com>

	Fixed namespace and include issues in some plugins we hadn't been building.

2010-01-13  Monty Taylor  <mordred@inaugust.com>

	Fixed dtrace build.

2010-01-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a variable save.

2010-01-12  Monty Taylor  <mordred@inaugust.com>

	Updated to pandora-buld v0.94

2010-01-12  Brian Aker  <brian@gaz>

	Merge Joe

2010-01-05  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2010-01-05  Joe Daly  <skinny.moey@gmail.com>

	rename hash_algorithm to algorithm

2010-01-03  Joe Daly  <skinny.moey@gmail.com>

	rename hash namespace to hash_algorithm this avoids a naming collision with the hash_map impl

2010-01-11  Brian Aker  <brian@gaz>

	Merge Stewart.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove reference to frm file in StorageEngine::dropTable code path

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove the effectively dead READ_ALL and EXTRA_RECORD defines that were part of the rotting FRM corspe. This means we can remove prgflag from open_table_from_share()

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	prepare for removing READ_ALL and EXTRA_RECORD by introducing an assert() to check that it is safe to remove them

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused DELAYED_OPEN. Part of corpse of FRM

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused DONT_GIVE_ERROR. Part of the rotting corpse of frm.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove (not ever checked) OPEN_TABLE_ONLY which was part of old I_S and FRM related things.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove the (never checked) old OPTIMIZE_I_S_TABLE flag

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	not FRM test at all - it's all about a broken table proto file.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove OPEN_FRM_FILE_ONLY. Unused, unneeded, obsolete and obscene

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove references to FRM in comments around tableshare

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	document 4096 column limit as historical MySQL limit, not an actual limit of any FRM file that currently exists.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	Remove some FRM references in archive_reader

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	better reflect reality in why we have TIMESTAMP types around.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	calc_pack_length() was never about creating a field from FRM. Lies and Comments. Damn lies.

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	remove mention of getting information from FRM files for INFORMATION_SCHEMA. The comment was now pretty much all lies anyway

2010-01-09  Stewart Smith  <stewart@flamingspork.com>

	ER_FRM_UNKNOWN_TYPE is now an unused error code

2010-01-11  Brian Aker  <brian@gaz>

	Updated Makefile.am to push client rules to include.am

2010-01-11  Brian Aker  <brian@gaz>

	Added merge-clean rule that I use :)

2010-01-10  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-09  Monty Taylor  <mordred@inaugust.com>

	Fixed the memcached stats test to launch a memcached, and also to deal with the
	server names in the more appropriate callback-based manner.

2010-01-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.93 - added a check for memcached_server_fn name change.

2010-01-04  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-03  Brian Aker  <brian@gaz>

	A few fixes from Monty

2010-01-03  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Fixed OSX build error.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Fixed a Fedora build error.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Removed my_dir. Woot. (I feel a little bad doing this since Dave Shrewsbury did all the heavy lifting)

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Just a little bit of a cleanup.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Removed last use of my_dir.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	Fixed 32-bit solaris build issue.

2010-01-01  Brian Aker  <brian@gaz>

	Merge Monty

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	The atomics.h header wasn't using pthreads correctly for 64-bit values on PPC.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	pandora-build - proper detection of memcached.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	Added option for OSX Fat Binaries.

2010-01-01  Monty Taylor  <mordred@inaugust.com>

	Updates to pandora-build visibility settings.

2010-01-02  Brian Aker  <brian@gaz>

	Merge Monty.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Replaced operator overloads with methods since we can't actually usefully follow the proper semantics for the operators.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Fixed drizzleslap test on OSX.

2010-01-02  Brian Aker  <brian@gaz>

	Merge Monty.

2010-01-02  Monty Taylor  <mordred@inaugust.com>

	Fixed the variables-big test to run show processlist like we run it elsewhere.

2009-12-30  Brian Aker  <brian@gaz>

	Merge Monty.

2009-12-30  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-12-27  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the store methods to take std::string properly.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed unused explicit template instantiation sections.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed I_List<> and its brethren. Finally.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed final use if I_List<> in the server.

2009-12-29  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-29  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-12-26  Monty Taylor  <mordred@inaugust.com>

	Some GCC warnings fixes.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Cleaned effc++ warnings from sql_string.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Fixed some effc++ warnings.

2009-12-26  Monty Taylor  <mordred@inaugust.com>

	Various build fixes. Fixes out-of-tree builds again (stupid me. gonna set up a hudson job this time) Also fixes the 32-bit solaris build problem. Again. Sigh.

2009-12-26  Monty Taylor  <mordred@inaugust.com>

	Fixed 32-bit solaris build. Again.

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris 32-bit.

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.88

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged from Diego.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Fixed a potential linking problem that we have not yet seen but which we found in the protobuf codebase.

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	Fixed header install.

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	Moved plugin versioning out of drizzled/configmake.h and into drizzled/plugin/version.h. Also fixed header include paths.

2009-12-28  Brian Aker  <brian@gaz>

	Merge of Diego fix.

2009-12-23  Diego Pettenò  <flameeyes@gentoo.org>

	Fix building when using --as-needed linker option.
	
	Without this change, libz will not be linked-in in the archive plugin
	when using the --as-needed linker option (causing either build failure
	or failing to load at runtime).
	
	The order of parameters for the linker _is_ important.

2009-12-28  Brian Aker  <brian@gaz>

	Null commit

2009-11-29  Trond Norbye  <trond.norbye@sun.com>

	Fix compile error: find_if --> std::find_if

2009-11-28  Brian Aker  <brian@gaz>

	Merge Padraig 

2009-12-27  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-26  Monty Taylor  <mordred@inaugust.com>

	Fixed the include guards.

2009-12-26  Monty Taylor  <mordred@inaugust.com>

	Moved mem_root functions into drizzled::memory:: namespace.

2009-12-25  Monty Taylor  <mordred@inaugust.com>

	These are either dead or don't belong there.

2009-12-25  Monty Taylor  <mordred@inaugust.com>

	Moved sql_alloc into memory.

2009-12-25  Monty Taylor  <mordred@inaugust.com>

	MEM_ROOT == memory::Root

2009-12-25  Monty Taylor  <mordred@inaugust.com>

	We have init_sql_alloc and init_alloc_root - and I can't tell the difference.

2009-12-24  Monty Taylor  <mordred@inaugust.com>

	First bits of namespacing. Ugh. Why do I do this to myself.

2009-12-26  Brian Aker  <brian@gaz>

	Merge

2009-12-24  Jay Pipes  <jpipes@serialcoder>

	Fixes LP Bug #500031:
	
	"dbt2 fails with 1024 connections"
	
	After investigation into this, I discovered that there was a 
	race condition in TemporalFormat::match():
	
	TemporalFormat::_re is the compiled PCRE regular expression object 
	inside each of the TemporalFormat objects, which are shared 
	among all threads and live in global scope.
	
	Unfortunately, TemporalFormat::match() was using the member 
	variable TemporalFormat::_match_vector as its match state. 
	At high concurrency, this means that the following race
	condition could happen:
	
	Thread 1 executes pcre_exec() and finds a match, therefore 
	populating TemporalFormat::_match_vector of integers 
	with the position offsets of the matched pieces of the temporal object.
	
	Thread 1, during construction of the Temporal output of 
	TemporalFormat::match(), uses these _match_vector position 
	offsets in calling std::string::substr on a copy of the 
	matched string, essentially "cutting up" the string 
	into year, month, day, etc.
	
	Thread 2 executes pcre_exec() and also finds a match, 
	thereby changing TemporalFormat::_match_vector to something 
	different
	
	Thread 1 continues trying to use std::string::substr(), 
	but now uses offsets that are invalid for its string, 
	thereby producing an out_of_range exception.
	
	The solution is to pull the TemporalFormat::_match_vector 
	member variable and instead put a function-scope-level 
	match_vector variable on the stack inside TemporalFormat::match().

2009-12-24  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	And fixed OSx.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed some unused files.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Reverted a change that is no longer necessary.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Moved remaining non-public portions of mysys and mystrings to drizzled/internal.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	zomg. I think drizzled/ is clean now.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed plugin/myisam/myisam.h from session.h

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	No more mystrings in drizzled/

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Moved decimal code into drizzled.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed the first mystrings header.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Dear god. I think we're not including anything from mysys in drizzled anymore.

2009-12-23  Monty Taylor  <mordred@inaugust.com>

	Oy. Bigger change than I normally like - but this stuff is all intertwined.
	Moved a bunch of things to public drizzled/ area. Split some files. Made some
	convenience libs. EVENTUALLY, some of this will be able to be re-factored, but
	for now I'm ok with erring on the side of too many files.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	More mysys cleaning.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Moved tree into drizzled/

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Moved bitmap into drizzled.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Drizzle_time is part of the API.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Fixed valgrind issue.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	More mysys stuff out of headers.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Removed last non-pointer public IO_CACHE from drizzled/

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Removed one more public IO_CACHE.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Made one of the drizzled instances of IO_CACHE a pointer.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Add sys/types.cc to drizzled to fix freebsd.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Removed some more evil.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Added a header for qsort_cmp.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Made magic with cached_directory.

2009-12-22  Monty Taylor  <mordred@inaugust.com>

	Merged trunk. Also renamed thr_lock. Doh. I hate it when I do both.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed mysys from sql_alloc.h and table.h.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed Array<>.

2009-12-23  Brian Aker  <brian@gaz>

	Merge Jay

2009-12-23  Jay Pipes  <jpipes@serialcoder>

	Correctly puts START TRANSACTION; COMMIT; containers around group-related SQL statements in the transaction_reader and ensures that when a different type of Statement message is started in an existing Transaction message, that the active Statement message is finalized.

2009-12-21  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-12-21  Brian Aker  <brian@gaz>

	Merging in massif option to test-run.pl

2009-12-21  Stewart Smith  <stewart@flamingspork.com>

	add option to test-run.pl to run with massif valgrind tool

2009-12-21  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Fixed OSX.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Added a few extra includes for Solaris.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Ho-ho. There were a bunch of files that should have failed cpplint before. Not sure why they didn't. But now they're fixed.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed the server_includes.h and global.h exceptions from cpplint.py. You know, because they're both gone.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	ZOMG. I deleted drizzled/server_includes.h.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed the last bits of server_includes.h.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed errmsg_printf from server_includes.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Moved most of the global vars to set_var where they belong.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Moved global myisam and heap pointers out of server_includes.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Moved global pthread variables into their own header.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	More cruft gone.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed some globals from server_includes.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed global_charset_info.h from server_includes.h

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	Removed mysys/m_sys.h from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed forward declares from server_includes.h

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed global LEX_STRING ref from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed m_string.h from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed sql_table.h from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed some bits from drizzled/common.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed sql_string.h from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed global sql_list.h include.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed global cstdlib include.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed global string.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed more bits from server_includes.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed global bitsets.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Moved last of the global function decls out of server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Removed things from server_includes.h.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Merged latest out-of-tree.

2009-12-19  Monty Taylor  <mordred@inaugust.com>

	One more time.
	One more time.
	One more time we're gonna celebrate.
	Oh yeah all right don't stop the dancing.
	One more time we're gonna celebrate.

2009-12-19  Monty Taylor  <mordred@inaugust.com>

	Put in a line to remove old cruft that breaks the tree.

2009-12-19  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Removed virtual destructor on sql_alloc. We can't do this until we fix the inheritance in sql_list.h.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Merged latest header fixes for solaris.

2009-12-19  Monty Taylor  <mordred@inaugust.com>

	Merged with latest header-fixes.

2009-12-19  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-12-19  Brian Aker  <brian@gaz>

	Merge from Dennis Schoen

2009-12-18  Brian Aker  <brian@gaz>

	Staging merge Padraig.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Merged up latest header-fixes.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Wow. This script was SO not /bin/sh.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Fixed FreeBSD nonsense.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Merged in change from Trond.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	We don't actually support an array of these, so remove the extra bits.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Replace hand-rolled libm check with the standard autoconf one.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Fixed distcheck.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Fixed missing semi-colons.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Merged re-addition of my_off_t.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Put my_off_t back... but this time localized only to myisam and mysys.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Fixed a few plugins.

2009-12-20  Monty Taylor  <mordred@inaugust.com>

	Trims more out of server_includes.h.

2009-12-20  Robert Collins  <robertc@robertcollins.net>

	Fixed a sort order problem which was causing spurious extra rebuilds.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.85 - Fixed the C++ standard setting in the build checks.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Fixed symlinks.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.85 - Fixed C++ standard setting.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Merged in some icc warning fixes that also had something to do with the plugin header.

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Removed some casts- also removed a few c-interface functions and made them actual methods on session. Also made the ha_data private. (fancy that)

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	remark #82: storage class is not first

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	destructor for base class "Open_tables_state" (declared at line 31 of "../drizzled/open_tables_state.h") is not virtual

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	remark #444: destructor for base class "Query_tables_list" (declared at line 656) is not virtual

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fixed: warning #2203: cast discards qualifiers from target type

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fixed: remark #444: destructor for base class "Sql_alloc" is not virtual

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Removed some plugin loading cruft.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Removed some cruft.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Removed the mem_root from plugin::Module - it was unused.

2009-12-12  Monty Taylor  <mordred@inaugust.com>

	Removed hardcoded option options around myisam and memory.

2009-12-14  Monty Taylor  <mordred@inaugust.com>

	Fixed setting of C++ standard.

2009-12-13  Monty Taylor  <mordred@inaugust.com>

	Enhanced our version of array_elements.

2009-12-13  Monty Taylor  <mordred@inaugust.com>

	Fixed the plugin script to not bork plugin visibility.

2009-12-13  Monty Taylor  <mordred@inaugust.com>

	Beginnings of what we need to do to support -fvisibility=hidden.

2009-12-13  Monty Taylor  <mordred@inaugust.com>

	Fixed the out-of-tree plugin file generation.

2009-12-13  Monty Taylor  <mordred@inaugust.com>

	Merged meta-info branch.

2009-12-12  Monty Taylor  <mordred@inaugust.com>

	Actually throw errors on failure to init plugins.

2009-12-12  Monty Taylor  <mordred@inaugust.com>

	Throw an error on invalid library version.

2009-12-11  Monty Taylor  <mordred@inaugust.com>

	Added support for embedding the drizzle version number in the plugin file.

2009-12-09  Monty Taylor  <mordred@inaugust.com>

	Added ability to specify all of the meta information in the plugin.ini file. This allows us to have a streamlined out-of-tree build.

2009-12-11  Monty Taylor  <mordred@inaugust.com>

	Removed global.h. Fixed all the headers.
	Also fixed headers to allow for some out of tree builds.

2009-12-21  Brian Aker  <brian@gaz>

	Merge Valgrind.

2009-12-21  Monty Taylor  <mordred@inaugust.com>

	More valgrind suppressions.

2009-12-19  Brian Aker  <brian@gaz>

	Merge from Dennis Schoen

2009-12-15  Dennis Schoen  <dennis@blogma.de>

	merge trunk

2009-12-15  Dennis Schoen  <dennis@blogma.de>

	record more test changes

2009-12-15  Dennis Schoen  <dennis@blogma.de>

	move caching after subquery initialization

2009-12-15  Dennis Schoen  <dennis@blogma.de>

	add basic_const_item() to Item_cache and Item_ref

2009-12-10  Dennis Schoen  <dennis@blogma.de>

	record changes to select testcase

2009-12-10  Dennis Schoen  <dennis@blogma.de>

	remove udf stuff from select testcase

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	record changes to main.func_time

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	record changes to main.func_like

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	add Item functions

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	fix uchar and FALSE

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	add cache_const_exprs() to JOIN

2009-12-08  Dennis Schoen  <dennis@blogma.de>

	add testcase

2009-12-18  Brian Aker  <brian@gaz>

	Merge from Padraig

2009-12-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved some conflicts after merging with build.

2009-12-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from build.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved one last conflict after the merge from trunk.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved conflicts after merging from trunk.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Used std::string for the type in Select_Lex instead of char *.

2009-12-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the explainUnion method. I'm all for using the ? conditional statement but when it is nested
	about 10 times, it becomes pretty damn hard to read! I removed one of these hugely nested statements
	in favour of good old if/else statements. Easier to read and it doesn't make a difference to the
	compiler so there is no reason to stick with the hard to read version.

2009-12-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created an ExplainPlan class in the optimizer namespace. All printing of an explain in drizzle goes
	through this class now.

2009-12-18  Brian Aker  <brian@gaz>

	MErge Padraig

2009-12-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the declaration for the cursor related probes when dtrace is not enabled.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some dtrace probes for tracing the optimizer.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added the lock related dtrace probes to the cursor interface.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Inserted calls to the cursor related probes that fire on inserts, updates, and deletes.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the rule for the generated probes object file.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected a dtrace probe now that db is std::string and not char * in the Session class.

2009-12-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	DTrace probes are now generated again. Fixes compilation error when dtrace is enabled.

2009-12-18  Brian Aker  <brian@gaz>

	Merge Jay

2009-12-18  Jay Pipes  <jpipes@serialcoder>

	Oops, forgot to add no_primary_key.inc to bzr..

2009-12-15  Jay Pipes  <jpipes@serialcoder>

	Ensures that a Statement message can only contain a single type
	of Statement.  Previously, a Statement could contain both an
	InsertStatement and a DeleteStatement if both an INSERT and a
	DELETE were used in an explicit transaction.
	
	This patch changes the behaviour of the ReplicationServices::
	getUpdateStatement(), getInsertStatement(), and getDeleteStatement()
	methods to ensure if the to-be-logged statement is different from
	the current active Statement on the Session, that the active 
	Statement is finalized.

2009-12-14  Jay Pipes  <jpipes@serialcoder>

	Fixes various transaction_log test cases which contained improper CREATE TABLE statements with no primary key on the table.

2009-12-14  Jay Pipes  <jpipes@serialcoder>

	Merging Joe's test additions for the transaction log.  Thanks, Joe :)

2009-12-08  Joe Daly  <skinny.moey@gmail.com>

	fix up test name

2009-12-08  Joe Daly  <skinny.moey@gmail.com>

	update path to match new location for .test file

2009-12-08  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2009-12-08  Joe Daly  <skinny.moey@gmail.com>

	update select for update test to include a update that will timeout

2009-12-06  Joe Daly  <skinny.moey@gmail.com>

	add new test for SELECT FOR UPDATE, and add a update that does nothing to the no_modification test

2009-12-14  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	Fix no primary key on table in no_modification test.

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	Fix bad no-primary-key tables in insert_multi and insert_select test cases.

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	Fixes auto_commit test case which had a table with no primary key

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	Adds error for when a record is inserted into a table containing
	no primary key and replication is enabled.  Adds a test case
	verifying the error is thrown when an insert is attempted.

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	Corrects bug in insert.inc test case include where the created table does not have a primary key.  This works right now, but not for long, as we should throw an error when inserting into a table without a primary key.

2009-12-11  Jay Pipes  <jpipes@serialcoder>

	This patch adds support for a new transaction log configuration/CLI
	option for controlling the file flush/sync behvaiour of the transaction
	log file.
	
	We add a new --transaction-log-sync-method variable controlling the
	sync behvaiour:
	
	0 (default) == Leave sync up tp the operating system
	1           == Sync on every write to the log file
	2           == Sync at most every one second

2009-12-09  Jay Pipes  <jpipes@serialcoder>

	Add nss lookup name for mem leak false positive into the valgrind suppression file.

2009-12-09  Jay Pipes  <jpipes@serialcoder>

	Fixes valgrind memory leak in ReplicationServices::setUpdateHeader()

2009-12-08  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-12-18  Brian Aker  <brian@gaz>

	Fixed from Monty.

2009-12-18  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-18  Monty Taylor  <mordred@inaugust.com>

	Fixed the OSX distcheck issue.

2009-12-17  Monty Taylor  <mordred@inaugust.com>

	Redid the add.

2009-12-17  Brian Aker  <brian@gaz>

	Merge of Padraig/Monty/Trond

2009-12-17  Brian Aker  <brian@gaz>

	Merge Padraig

2009-12-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot a copyright notice for the new header file I added.

2009-12-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted a number of small classes into the table_read_plan.h header file.

2009-12-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected some style issues in the QuickGroupMinMaxSelect class.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to include a copyright header in one of the new files I created.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved warning on OSX due to initializing a class member in a constructor to an incorrect type.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the QUICK_GROUP_MIN_MAX_SELECT class out into its own header and implementation files.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced List with std::vector in the QuickIndexMergeSelect class.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced List with std::vector in the QuickRorIntersectSelect class.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Used std::vector instead of List in the QuickRorUnionSelect class.

2009-12-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected some style issues in quick_ror_union_select.[cc,h] and range.cc

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the QUICK_ROR_UNION_SELECT class into its own header and implementation files.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the name of the QUICK_ROR_INTERSECT_CLASS class to adhere to the drizzle coding standards.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the QUICK_ROR_INTERSECT_SELECT class out into its own header and implementation files.

2009-12-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-17  Brian Aker  <brian@gaz>

	Startup/fixin' for memcached testing

2009-12-17  Trond Norbye  <trond.norbye@sun.com>

	Fixed memcached test to start the memcached server found by configure

2009-12-17  Brian Aker  <brian@gaz>

	Mege Monty.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Added make target for generating suppressions.

2009-12-15  Monty Taylor  <mordred@inaugust.com>

	Added better suppressions for our runs on hudson.

2009-12-16  Brian Aker  <brian@gaz>

	A few fixes.

2009-12-16  Brian Aker  <brian@gaz>

	Merge Trond

2009-12-16  Trond Norbye  <tn202803@tor01>

	Remove virtual destructor from class with no virtual functions

2009-12-15  Brian Aker  <brian@gaz>

	Merge Trond

2009-12-15  Trond Norbye  <trond.norbye@sun.com>

	Cleanup: use C++ style casting, init-list and virtual destructors

2009-12-15  Trond Norbye  <tn202803@tor01>

	Cleanup: use c++ style casting

2009-12-15  Trond Norbye  <tn202803@tor01>

	Cleanup: use c++ style casting

2009-12-15  Trond Norbye  <trond.norbye@sun.com>

	cleanup: const'd mystrings/decimal.h and use new style const in drizzled/my_decimal.h

2009-12-15  Brian Aker  <brian@gaz>

	Dead code removal from Stewart Merge

2009-12-11  Stewart Smith  <stewart@flamingspork.com>

	fill_files_table isn't required, we don't have a INFORMATION_SCHEMA.FILES table

2009-12-08  Brian Aker  <brian@gaz>

	Merge build

2009-12-08  Brian Aker  <brian@gaz>

	Merge range fix

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Make range test shut up.

2009-12-08  Brian Aker  <brian@gaz>

	Solaris fix.

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fix for odd solaris build error.

2009-12-08  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fixed plugin for Solaris.

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Merged up build.

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2009-12-08  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fixed dynamic loading with lcov and gprof.

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig.

2009-12-08  Robert Collins  <robertc@robertcollins.net>

	merge mtaylor.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	/me castigates himself.

2009-12-08  Robert Collins  <robertc@robertcollins.net>

	Finish the renaming of plugin.list -> pandora-plugin.list that mtaylor started.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	Fix distcheck.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	Merged up with staging.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	Merged valgrind suppressions.

2009-12-06  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Merged up.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed distcheck.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Added convenience Makefile for hudson compat.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Marked drizzled/message/check_length.sh as bash, rather than /bin/sh, since it's not actually /bin/sh.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed OSX.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed some non-linux build issues.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.82. Re-removed the -default-symver flag.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Removed a bunch of files that are cruft, useless or just plain suck.
	Also, fixed distcheck.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Turned off remarks in ICC.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Fixed distcheck.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged util lib thing.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Changed the exec bit on check_length.sh.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.81 - disable static building and also throw an error on Sun Studio and old libtool.

2009-12-04  Robert Collins  <robertc@robertcollins.net>

	Merged from Robert: changed subdir make files to be included makefiles.

2009-12-04  Robert Collins  <robertc@robertcollins.net>

	Merged from Robert: Eliminate separate Makefile.am for drizzled/hash and drizzled/message.

2009-12-04  Robert Collins  <robertc@robertcollins.net>

	Build fixes from Robert.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged in linted: rule from Robert.

2009-12-03  Monty Taylor  <mordred@inaugust.com>

	Fixes the default datadir location.

2009-12-03  Monty Taylor  <mordred@inaugust.com>

	Updated header on autorun.sh.

2009-12-02  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.80. Fixed for FreeBSD

2009-12-02  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-12-02  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.79

2009-12-01  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.76

2009-12-01  Monty Taylor  <mordred@inaugust.com>

	PANDORA_STACK_DIRECTION actually requires AC_FUNC_ALLOCA - so require it.

2009-11-26  Monty Taylor  <mordred@inaugust.com>

	Removed checks for things that are either defined ISO/POSIX standard, or that
	we don't use/check for anyway.

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Removed many, many checks for functions that do not need to be checked.

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Removed a bunch of checks for things that are, in fact, everywhere.

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Removed more unused bits.

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Removed port setting from configure. The situation is a bit different now than that code was designed for.

2009-12-08  Brian Aker  <brian@gaz>

	Big merge.

2009-12-08  Brian Aker  <brian@gaz>

	MErgig snowstalker

2009-12-08  Snowstalker  <snowstalker@codersrule>

	Adding gettext macro

2009-12-07  Snowstalker  <snowstalker@codersrule>

	Adding error check for data directory

2009-12-08  Brian Aker  <brian@gaz>

	Committing Stewart's work.

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	space before negation operator

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	s/using std::string/using namespace std/ for create-alter-database-using-proto

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	for NormalisedDatabaseName s/is_valid/isValid/ to conform to style guide.

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	small style fix

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	fix includes for drizzled/db.h. Now only in .cc files, no header files. should make modifying db.h much less painful.

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	drizzled/db.h does not need to be included by sql_parse.cc

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	drizzled/db.h does not need to be included by drizzled.cc

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	add some extra protection to DatabasePathName.

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	use DatabasePathName instead of build_table_filename in mysql_create_db and mysql_alter_db codepaths. write_schema_file now takes a DatabasePathName as a parameter.

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	replace check_db_dir_existence() with class DatabasePathName and a ::exists() method.

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	remove unused cmp_db_names()

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	use Schema proto for ALTER DATABASE/SCHEMA as well. Fix 'ALTER DATABASE COLLATE = foo'. Remove now obsolete fill_schema_message. HA_CREATE_INFO is no longer used in CREATE or ALTER SCHEMA.

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	commit test case showing buggy ALTER DATABASE COLLATE = foo that was broken by previous patch (fix coming in next commit)

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	use message::Schema in mysql_create_db instead of HA_CREATE_INFO

2009-12-07  Stewart Smith  <stewart@flamingspork.com>

	have write_schema_file() just write the schema file. Now fill_schema_message takes a HA_CREATE_INFO and name and fills out the Schema message ready for serialisation to disk.

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	use NormalisedDatabaseName for mysql_create_db()

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	remove unused and not referenced obsolete extern int creating_database and creating_table

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	remove the (now unused) and poorly named check_db_name()

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	remove check_db_name() from sql_yacc.yy and replace with NormalisedDatabaseName and friends. This check should really be down a layer... but let's not change everything at once

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	remove the last check_db_name() from sql_parse.cc and replace with NormalisedDatabaseName and friends

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	remove a check_db_name() from sql_parse.cc and replace with NormalisedDatabaseName and friends

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	ALTER DATABASE using NormalisedDatabaseName

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	SHOW CREATE SCHEMA/SHOW CREATE DATABASE to use NormalisedDatabaseName

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	add more protection from misuse to NormalisedDatabaseName and NonNormalisedDatabaseName

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	make DROP DATABASE/DROP SCHEMA use NormalisedDatabaseName instead of check_db_name()

2009-12-04  Stewart Smith  <stewart@flamingspork.com>

	start using a set of classes for database names, enforcing type safety when converting from what user entered to a normalised form.
	
	we also start to remove check_db_name() which modifies its parameter!
	
	The idea is that what comes in from the parser is a NonNormalisedDatabaseName,
	it is completely raw, could be mixed case or anything.
	
	You take this and construct a NormalisedDatabaseName, which is always in lower
	case and all the good things one would expect.
	
	You always change database to a NormalisedDatabaseName.
	
	You can do some simple is_valid() checks (what was part of check_db_name()
	that did *not* modify the argument) on a NormalisedDatabaseName, but doing
	these on a NonNormalisedDatabaseName does not make any sense.
	
	Once created, these objects are immutable, so should always be passed by
	reference. To enforce this with compiler errors, we have a private and not
	implemented copy constructor.

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	move check_db_name() to db.cc and not table.cc. Sanity casualy prevails.

2009-12-08  Brian Aker  <brian@gaz>

	Additional test.

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	test CREATE TABLE with one less than and equal to MAX_FIELDS. This previously wasn't being tested (thanks lcov reports)

2009-12-08  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	small SHOW_SCHEMA_PROTO() function (like SHOW_TABLE_PROTO()) to show content of Schema proto message in db.opt to test what we're storing.

2009-12-08  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-12-08  Stewart Smith  <stewart@flamingspork.com>

	print_as_stmt was dead code in function/set_user_var.cc (and .h)

2009-12-08  Brian Aker  <brian@gaz>

	Merge fixes.

2009-12-05  Joe Daly  <skinny.moey@gmail.com>

	call table->setWriteSet() on each column

2009-12-08  Brian Aker  <brian@gaz>

	Cleanup white space.

2009-12-08  Brian Aker  <brian@gaz>

	Merge Padraig.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated another include guard that was caught by make check.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated an include guard thanks to a nice catch during code review from Jay. Thanks Jay!

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Renamed PARAM to Parameter and RANGE_OPT_PARAM to RangeParameter.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the SEL_ARG class into its own header and implementation files. Cleaned up a bunch of style
	issues in the code for that class. Next commit will clean up more style issues in that class.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split some classes from the range optimizer out in to their own header and implementation files.
	Corrected the case on these classes also to adhere to the coding standards. Cleaned up any style
	issues in any code I came across while moving code.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Performed numerous style cleanups in range.[cc,h].
	
	Mainly involved:
	* renaming classes to not be all upper case
	* initializing variables when they are declared
	* correcting wrong indentation
	* removing tabs where I found them
	* correctly lining up paramaters in function calls and delcarations

2009-12-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the names of 2 classes in the optimizer to adhere to the coding standards.

2009-12-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-08  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-03  Monty Taylor  <mordred@inaugust.com>

	Added valgrind suppressions for libz.

2009-12-08  Brian Aker  <brian@gaz>

	Fix for spare (from Monty).

2009-12-08  Monty Taylor  <mordred@inaugust.com>

	Fixed blackhole crashses on Spare - made Blackhole follow the pattern of CSV and Archive.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	Turned TINA_SHARE into TinaShare.

2009-12-07  Monty Taylor  <mordred@inaugust.com>

	Fixed the CSV tina_open_tables HASH to be a std::map.

2009-12-08  Brian Aker  <brian@gaz>

	ICC patch.

2009-12-06  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-05  Brian Aker  <brian@gaz>

	Merge Monty.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from build.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Removed num_transaction_entries since it's duplicated in transaction_entries.size()

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Changed some global static objects in the transaction_log.information_schema plugin.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Disabled building things twice by default. This will come in also via pandora-build- but it really makes the build take a long time.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Plugin tests in plugin dirs.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Dynamic Transaction Log.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Information Schema related plugins dynamic.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Merged from me. I suck.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Blackhole, CSV, Pool of Threads,Single Thread, Multi Thread.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made multi_thread dynamic.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made pool_of_threads dynamic

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made single_thread dynamic

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made blackhole dynamic

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made csv dynamic

2009-12-03  Monty Taylor  <mordred@inaugust.com>

	Make archive dynamic.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Dynamic archive.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made archive dynamic.

2009-12-05  Brian Aker  <brian@gaz>

	Bundle for staging.

2009-12-05  Brian Aker  <brian@gaz>

	Headers fixes for temporal.

2009-12-05  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build.

2009-12-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated header file includes in temporal.cc

2009-12-05  Brian Aker  <brian@gaz>

	ICC cleanup

2009-12-05  Brian Aker  <brian@gaz>

	ICC fixes/fix for solaris.

2009-12-05  Brian Aker  <brian@gaz>

	Merge Style

2009-12-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved some conflicts that appeared after merging with trunk.

2009-12-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-12-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the inclusion of drizzled/field.h in the server_includes header file.
	
	Created a time.h header file and records.h header file. This allowed me to move the declarations of
	a number of methods from the server_includes header file into these respective header files. I
	updated numerous files to reflect this.

2009-12-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed one the includes I put in server_includes.h for the last commit to get rid of the inclusion
	of opt_range.h in there. Wow...that was much more work than expected!

2009-12-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved opt_range.[cc,h] into the optimizer directory and namespace and renamed the files to
	range.[cc,h]. Removed the opt_range.h include in the server_includes.h header file. Need to do more
	work on that header file as I had to add some extra includes in there to compensate for removing
	that header file. Cleaned up a bunch of style in the range.[cc,h] files.

2009-12-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the opt_sum.cc file into the optimizer directory and renamed it to sum.cc. Added a header file
	specifically for the methods within that file. Also moved those methods into the optimizer
	namespace.

2009-12-05  Brian Aker  <brian@gaz>

	Merge Brian.

2009-12-04  Brian Aker  <brian@gaz>

	Adding patch for engine methods for definition files.

2009-12-04  Brian Aker  <brian@gaz>

	Merge for staging.

2009-12-04  Brian Aker  <brian@gaz>

	Update for build.

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Fixed the util build issue.

2009-12-04  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-04  Monty Taylor  <mordred@inaugust.com>

	Added Makefile-based valgrind run.

2009-12-04  Brian Aker  <brian@gaz>

	Merging Jay

2009-12-04  Jay Pipes  <jpipes@serialcoder>

	Fixes LP Bug#480710.
	
	ReplicationServices::updateRecord() was not properly setting the
	key_value to the *old* record value for the primary key field.
	
	This patch adds an ugly hack to grab the old value, not the
	new one for the prmary key field...

2009-12-04  Jay Pipes  <jpipes@serialcoder>

	This commit fixes issues raised by Joe Daly in Bug#489823.
	
	Basically, ROLLBACK was not being properly dealt with in the
	ReplicationServices component nor the ha_rollback_trans() function
	which is the kernel's interface to the storage engines for rolling
	back statements.
	
	This patch corrects the prior behvaviour:
	
	1) If no bulk segments have been passed to replicators for the
	existing transaction when a ROLLBACK occurs, then the current
	Transaction message is cleared and deleted from the Session object.
	
	2) If a bulk segment has been sent, then we clear the current
	Transaction message, populate it with a single Stateme of type
	ROLLBACK, and send this to the replicator stream.
	
	Adds a test case for the behvaiour of #1. We have yet to finalize
	the interface for bulk statements, so #2 is not yet testable.
	
	In addition, this patch cleans up the output of errors in the
	transaction_reader program to output a human readable hexdump of the
	read buffer instead of dumping raw bytes to the screen.

2009-12-03  Jay Pipes  <jpipes@serialcoder>

	Removes unused ReplicationServices::startNormalTransaction() and switches from while to for loop in evaluateActivePlugins().

2009-12-03  Jay Pipes  <jpipes@serialcoder>

	Adds test case to transaction log for TRUNCATE TABLE.
	
	Adds ReplicationServices::truncateTable() method specific
	to the ha_delete_all_rows() Cursor call.
	
	Adds some placeholder comments and test case to the delete.test
	case in the transaction log suite to test occasions where a DELETE
	FROM statement with no WHERE clause happens
	
	Updates the statement_transform library to deal properly with
	TRUNCATE TABLE statements.

2009-12-02  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-12-01  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-12-04  Brian Aker  <brian@gaz>

	Fixing bad include.

2009-12-03  Brian Aker  <brian@gaz>

	More dead merge..

2009-12-03  Brian Aker  <brian@gaz>

	Dead functions.

2009-12-03  Brian Aker  <brian@gaz>

	Merge.

2009-12-03  Brian Aker  <brian@gaz>

	Pass through charsets to remove dead code.

2009-12-03  Brian Aker  <brian@gaz>

	Remove dead code from blob

2009-12-03  Brian Aker  <brian@gaz>

	More dead varstring field code.

2009-12-03  Brian Aker  <brian@gaz>

	More removal of field

2009-12-03  Brian Aker  <brian@gaz>

	More field removal.

2009-12-03  Brian Aker  <brian@gaz>

	Dead Field code.

2009-12-03  Brian Aker  <brian@gaz>

	Remove dead section of Field

2009-12-03  Brian Aker  <brian@gaz>

	Remove dead code.

2009-12-03  Brian Aker  <brian@gaz>

	Minor cleanup for dead code.

2009-12-03  Brian Aker  <brian@gaz>

	Remove dead bits in parser/whitespace/etc.

2009-12-03  Brian Aker  <brian@gaz>

	Fix for bug #492046

2009-12-03  Brian Aker  <brian@gaz>

	Updating for libz

2009-12-02  Monty Taylor  <mordred@inaugust.com>

	Added valgrind suppressions for the libz things.

2009-12-03  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-02  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-12-01  Monty Taylor  <mordred@inaugust.com>

	Removed engine_map - just use vector_of_engines.

2009-11-26  Monty Taylor  <mordred@inaugust.com>

	Removed NameMap. Also remove the aliases from the plugin, since we can just
	stick them into StorageEngine directly now.

2009-12-03  Brian Aker  <brian@gaz>

	Tiny cast and remove dead call cleanup.

2009-12-02  Brian Aker  <brian@gaz>

	Merge for staging.

2009-12-02  Brian Aker  <brian@gaz>

	Merge

2009-12-02  Brian Aker  <brian@gaz>

	Remove dead handler call.

2009-12-02  Brian Aker  <brian@gaz>

	Table index up to SE merge.

2009-12-02  Brian Aker  <brian@gaz>

	Final move of index flags up to Engine (new interface still needed).

2009-12-02  Brian Aker  <brian@gaz>

	Next pass through interface to move index flag bits up to engine.

2009-12-02  Brian Aker  <brian@gaz>

	Clean up index interface before moving to SE.

2009-12-02  Brian Aker  <brian@gaz>

	A number of dead code removal patches.

2009-12-02  Brian Aker  <brian@gaz>

	Small cleanups, did in MERGE table only engine flag.

2009-12-02  Brian Aker  <brian@gaz>

	Cleaned up the update call (I noticed that there were still update view code
	in it).

2009-12-02  Brian Aker  <brian@gaz>

	Remove code around update batch handler (we have no engines supporting
	it/testing it right now).

2009-12-02  Brian Aker  <brian@gaz>

	Dead code removal.

2009-12-02  Brian Aker  <brian@gaz>

	Remove low byte from cursor.

2009-12-02  Brian Aker  <brian@gaz>

	Merge for Staging.

2009-12-02  Brian Aker  <brian@gaz>

	Merge Brian

2009-12-01  Brian Aker  <brian@gaz>

	Remove more dead code.

2009-12-01  Brian Aker  <brian@gaz>

	Remove dead code.

2009-12-01  Brian Aker  <brian@gaz>

	Remove dead table_map_iterator.

2009-12-02  Brian Aker  <brian@gaz>

	Merge Stewart

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	my_end() no longer requires an argument (we removed them all)

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove MY_GIVE_INFO parameter to my_end() that really just gave us the output of time(1). Use UNIX, don't re-implement the kitchen sink. This also removes --debug-info from most command line utilities.

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove final bits of my_end(MY_CHECK_ERROR) and associated code. Mostly all dead, would do the (now absent) my_print_open_files() which valgrind (or a simple LD_PRELOAD) does for us anyway..

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove remaining --debug-check calls from test-run.pl

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove --debug-check from drizzle

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove --debug-check from drizzledump

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove --debug-check from drizzleimport

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove outdated --compress option from drizzleimport

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	fix copyright notice in drizzleimport.cc

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove --debug-check from drizzleslap

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove outdated --compress option from drizzleslap

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	Add who modified drizzletest for Drizzle to output, to give more accurate credit/blame

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove unused --compress option from drizzletest

2009-12-02  Stewart Smith  <stewart@flamingspork.com>

	remove dead embedded server code from drizzletest

2009-12-01  Brian Aker  <brian@gaz>

	Merge Monty

2009-12-01  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-11-30  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris. Duh.

2009-11-29  Monty Taylor  <mordred@inaugust.com>

	Logging modules.

2009-11-29  Monty Taylor  <mordred@inaugust.com>

	Version, length, transaction_log.

2009-11-29  Monty Taylor  <mordred@inaugust.com>

	Replication and error messages.

2009-11-29  Monty Taylor  <mordred@inaugust.com>

	Made a bunch of smaler plugins dynamic.

2009-11-28  Monty Taylor  <mordred@inaugust.com>

	Merged dynamic crc and md5.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Fix crc32 dynamic loading.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made crc32 dynamic.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made md5 dynamic.

2009-11-28  Monty Taylor  <mordred@inaugust.com>

	Merged making sleep dynamic.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Made sleep dynamic.

2009-11-28  Monty Taylor  <mordred@inaugust.com>

	Merged in some naming things.

2009-11-27  Monty Taylor  <mordred@inaugust.com>

	Fixes to valgrind supressions.

2009-11-27  Monty Taylor  <mordred@inaugust.com>

	All of the outstanding plugin loader system cleanups:
	Libraries know how to load and unload themselves.
	Error message constants changed name to be generic.
	Plugins dlopen() once and only once and also always dlclose().

2009-11-27  Monty Taylor  <mordred@inaugust.com>

	Moved STL containers into the PoolOfThreadsScheduler class.

2009-11-27  Monty Taylor  <mordred@inaugust.com>

	Moved the archive_open_tables list into the Archive Storage Engine itself.

2009-12-01  Brian Aker  <brian@gaz>

	Merge current set for staging.

2009-12-01  Brian Aker  <brian@gaz>

	Updating blackhole to skip store_lock. I've added a test to make sure that
	we never break the overal read lock state that flush tables provides.

2009-12-01  Brian Aker  <brian@gaz>

	Remove locks from information engine.

2009-12-01  Brian Aker  <brian@gaz>

	Merge Brian + Monty. This has the HEAP -> MEMORY change in it, so some
	breakage for wrong table name is expected.

2009-12-01  Brian Aker  <brian@gaz>

	Merge of identifier work.

2009-12-01  Brian Aker  <brian@gaz>

	More identifier work.

2009-12-01  Brian Aker  <brian@gaz>

	Remove the need for trans/non-trans temp tables for lock conditions.

2009-12-01  Brian Aker  <brian@gaz>

	Added engine flag so that an engine can skip store_lock.

2009-12-01  Brian Aker  <brian@gaz>

	Merge Monty.

2009-12-01  Monty Taylor  <mordred@inaugust.com>

	Renamed instances of HEAP engine to MEMORY. Removed the alias.

2009-11-30  Brian Aker  <brian@gaz>

	Merge of Brian + Jay test fixes.

2009-11-30  Brian Aker  <brian@gaz>

	Merge Brian auto-repair removal and max key code.

2009-11-30  Brian Aker  <brian@gaz>

	Remove second pass of auto repair code.

2009-11-30  Brian Aker  <brian@gaz>

	First pass removing auto-repair.

2009-11-30  Brian Aker  <brian@gaz>

	Move max key stuff up to engine.

2009-11-30  Brian Aker  <brian@gaz>

	Merge in removal of table_flags.

2009-11-30  Brian Aker  <brian@gaz>

	Final removal table_flag().

2009-11-30  Brian Aker  <brian@gaz>

	Final table flag removal.

2009-11-30  Brian Aker  <brian@gaz>

	Remove table_flags from MyISAM.

2009-11-30  Brian Aker  <brian@gaz>

	More table_flags converted.

2009-11-30  Brian Aker  <brian@gaz>

	Added: 
	HTON_BIT_PRIMARY_KEY_REQUIRED_FOR_POSITION,
	HTON_BIT_PRIMARY_KEY_IN_READ_INDEX,
	HTON_BIT_PARTIAL_COLUMN_READ,
	HTON_BIT_TABLE_SCAN_ON_INDEX,
	HTON_BIT_MRR_CANT_SORT,

2009-11-30  Brian Aker  <brian@gaz>

	Move more of the flags up to engine flags.

2009-11-30  Brian Aker  <brian@gaz>

	Move stat read define into engine flags.

2009-11-30  Brian Aker  <brian@gaz>

	Remove HA_NO_TRANSACTIONS flag.

2009-11-30  Brian Aker  <brian@gaz>

	Merge Jay

2009-11-30  Jay Pipes  <jpipes@serialcoder>

	Fixes final information_schema test case and result.

2009-11-30  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-30  Brian Aker  <brian@gaz>

	Merge Jay's test.

2009-11-30  Jay Pipes  <jpipes@serialcoder>

	X out the part of the information_schema result and test case which seems to be faulty on Solaris.

2009-11-30  Brian Aker  <brian@gaz>

	Merge Padraig

2009-11-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved issues with the I_S tables in the transaction log due to the modifications we have made to
	the I_S engine and interface. All is good now.

2009-11-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from staging.

2009-11-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added specific methods for init and deinit of the thread lock associated with the share in the I_S
	engine.

2009-11-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added std:: prefix to find_if. Thanks trond!

2009-11-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Doxygen comments for the new functions in the InfoSchemaTable class related to the I_S storage
	engine.

2009-11-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some doxygen comments for the InfoSchemaRecord class.

2009-11-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added an extra column to the ORDER BY clause for one of the larger queries in the I_S test case in
	order to make the query results deterministic.

2009-11-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed the final issues with the I_S storage engine. Corrected the function which returns an estimate
	on the upper bound of the number of rows returned by the table. 

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Now we check to see if we are adding a duplicate row to the vector of rows created by the fillTable
	method. This seems to solve the problem of the cursor being re-used on us. More investigation is
	still needed...damn I_S!

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Implemented a primitive prototype for rnd_pos and position. It works for now and its something I'll
	have to go back to at a later stage. For now it will do because I want to get all of the engine
	working before coming back to it. This allows simple ORDER BY queries on the I_S engine to work
	correctly now though.

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the estimate_rows_upper_bound function in the I_S engine.

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case.

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Tables with the same name as an I_S table can now be created and dropped without issues.

2009-11-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-11-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-11-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved issues with drop and alter table statements on tables in the I_S engine.

2009-11-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed a redundant order by in the variables test case and also updated its result file.

2009-11-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated result file for show_check test case now that I_S engine is being used.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the check in the CREATE TABLE LIKE code path for whether the source table is an I_S table
	or not. That test case now passes again.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed all remnants of schema_table from the TableList class. This cleans up a bunch of code.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the fillTable method to not take a TableList parameter anymore. Instead we now take a Table
	and an InfoSchemaTable parameter. This should allow us to get rid of the schema_table member of the
	TableList class a bit easier.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the schema_table_state enum as it is no longer needed. More special case I_S crap that can
	be removed :)

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added check in rnd_init to make sure we clear the vector of rows before populating the vector again.
	This prevents duplicate rows from occuring when they shouldn't.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the rnd_pos method to just return 0 for now. I actually don't think my problems are in the
	rnd_pos method now. Its hard to tell - I did a hackish implementation of position and rnd_pos and
	the information_schema test case still had the same output.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the fillTable in the Modules I_S table to ensure the correct bits are set in the write
	bitset for that table.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the redundant open table method parameter to columns associated with an I_S table.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the open_table_method member from the TableList class.

2009-11-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed fill_schema_table_from_frm method.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the rnd_pos method say it is not supported for now so it easier for us to see where test cases
	fail because of this.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the result file for the create test case since a column type has now changed from TEXT to
	VARCHAR.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Ensuring that the null constraint for fields is set for tables created from I_S tables.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	We throw the correct error now when creating a table from an I_S table using the CREATE LIKE syntax.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Ok, we have nearly everything working with the I_S engine now. Next step is to implement the rnd_pos
	method and see how that goes.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Now we are correctly setting the bitmaps in the I_S methods before adding a row to an I_S table.
	This resolved some assertion failures we were hitting when running the test suite.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Temporarily hard-coded the length of a column in the processlist I_S table.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	The alter_table header file still needs to be included by sql_table 

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Death to create_like_schema_frm()...yay!

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved issue with segmentation fault on some queries on some I_S tables. Needed to change the
	processTable method to actually take the I_S table where the rows will be stored as a parameter.

2009-11-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed special case I_S code paths. All queries are now going against the I_S engine.

2009-11-29  Brian Aker  <brian@gaz>

	Small Innodb fix

2009-11-29  Brian Aker  <brian@gaz>

	Whitespace fix.

2009-11-25  Brian Aker  <brian@gaz>

	Removed white space/removed one dumb conversion for getpid().

2009-11-29  Brian Aker  <brian@gaz>

	Open Table list fix from Monty.

2009-11-27  Brian Aker  <brian@gaz>

	Removes global Archive open table state.

2009-11-29  Brian Aker  <brian@gaz>

	Fix from Trond.

2009-11-26  Trond Norbye  <trond.norbye@sun.com>

	Mute errors from protobuffer headers

2009-11-27  Brian Aker  <brian@gaz>

	Merge Jay

2009-11-25  Jay Pipes  <jpipes@serialcoder>

	Fixes information schema tests, adds a hexdump UDF for the transaction message.

2009-11-24  Jay Pipes  <jpipes@serialcoder>

	Merge trunk:

2009-11-20  Jay Pipes  <jpipes@serialcoder>

	Fix up duplicate plugin names in transaction log as well as fix 2 transactoin log test cases to remove non-deterministic columns from output.

2009-11-20  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-16  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-16  Jay Pipes  <jpipes@serialcoder>

	Adds INFORMATION_SCHEMA views for the transaction log:
	
	TRANSACTION_LOG
	TRANSACTION_LOG_ENTRIES
	TRANSACTION_LOG_TRANSACTIONS
	
	Adds a new user-defined function:
	
	PRINT_TRANSACTION_MESSAGE(filename, offset)
	
	Adds tests for all of the above
	
	Implementation notes:
	
	An indexer now runs when transaction messages are applied
	to the transaction log.  It creates a simple index of the
	transaction log entries.  This index is used when the
	information schema views' fillTable() method is called.

2009-11-09  Jay Pipes  <jpipes@serialcoder>

	Fix stupid error in calculation of filename vs. filepath in transaction log.

2009-11-09  Jay Pipes  <jpipes@serialcoder>

	Adds INFORMATION_SCHEMA views for the transaction log - Phase 1.  Does not currently output correctly. Pushing for some help.. :)

2009-11-06  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-26  Brian Aker  <brian@gaz>

	Mege of TableIdentifier gran patch

2009-11-25  Brian Aker  <brian@gaz>

	Grant patch for TableIdentifier

2009-11-25  Brian Aker  <brian@gaz>

	More TableIdentifier code.

2009-11-25  Brian Aker  <brian@gaz>

	Added a form of getTableDefinition() that uses TableIdentifiers

2009-11-25  Brian Aker  <brian@gaz>

	Drop Table now uses identifier.

2009-11-25  Brian Aker  <brian@gaz>

	Final step to make createTable() use the TableIdentifier.

2009-11-25  Brian Aker  <brian@gaz>

	Remove dead flag.

2009-11-24  Brian Aker  <brian@gaz>

	Small shift in alter table (break the baby down...).

2009-11-24  Brian Aker  <brian@gaz>

	Modified internal loop so that identifier is now used from top to bottom.

2009-11-24  Brian Aker  <brian@gaz>

	Modifications to use mysql_rm_table

2009-11-24  Brian Aker  <brian@gaz>

	Split remove table into 2 parts. The piece for dropDatabase() needs to be
	completely rethought out after TableIdentifier is done.

2009-11-24  Brian Aker  <brian@gaz>

	Moved mysql_rm to its statement since it is just used there. Also removed
	some whitespace at the end of a few lines.

2009-11-23  Brian Aker  <brian@gaz>

	More table identifier love :)

2009-11-23  Brian Aker  <brian@gaz>

	Next pass through for TableIdentifier.

2009-11-23  Brian Aker  <brian@gaz>

	Additional TableIdentifier usage.

2009-11-23  Brian Aker  <brian@gaz>

	Added << and == operators to TableIdentifier

2009-11-23  Brian Aker  <brian@gaz>

	Modify rm temp table to use const.

2009-11-22  Brian Aker  <brian@gaz>

	More identifier work.

2009-11-22  Brian Aker  <brian@gaz>

	Extended mysql_create_table_no_lock to use TableIdentifier 

2009-11-20  Brian Aker  <brian@gaz>

	Table Identifier patch.

2009-11-26  Brian Aker  <brian@gaz>

	Bundle Brian + Monty  (been through staging, just collecting it as want
	overall patch as seen by staging).

2009-11-25  Brian Aker  <brian@gaz>

	Possible solution for hash/rehash.

2009-11-25  Brian Aker  <brian@gaz>

	Small cleanups.

2009-11-25  Brian Aker  <brian@gaz>

	Remove OPTIMIZE, place in ALTER TABLE (which does the same thing).

2009-11-25  Brian Aker  <brian@gaz>

	Remove dead "any-" case for DB name.
	
	I wonder how easy this would be to hack... Hmm...

2009-11-25  Brian Aker  <brian@gaz>

	New merge for TableShare

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Fixed OSX.

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Account for older hash_maps

2009-11-25  Monty Taylor  <mordred@inaugust.com>

	Added init-time rehash to the table_def_cache.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Replace HASH in table_share with drizzled::hash_map

2009-11-24  Brian Aker  <brian@gaz>

	Merge Monty

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Fixed make update-po so that it doesn't change the .po files EVERY time distcheck is run. This one needs to go in to get us a good .po file baseline, and after that, the only changes to files  in .po dir will be specific changes driven by the actual changes in the actual source, rather than 100-bazillion lines which are comments about line numbers.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Fixed the linting.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Fixed % pattern rule.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Merged from myself one more time.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.73 - Added support for libevent searching.

2009-11-24  Monty Taylor  <mordred@inaugust.com>

	Add PANDORA_RUN_CPPLINT.

2009-11-23  Robert Collins  <robertc@robertcollins.net>

	Merged in lifeless' fix for parallel lint and only linting changed files.
	Changed it a bit to ensure that it does not run before the first build, but
	rather only during make check.

2009-11-21  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Fixed memcached test to be not a failure if memcached isn't there, but rather to cause memcached plugins to just not build.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Removed a bogus line. Methinks this never ran before, because it's a pile of poo.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Removed over-eager and invalid error. Ooops.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Added pandora check for berkeley db.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Added check for tokyocabinet.

2009-11-20  Monty Taylor  <mordred@inaugust.com>

	Added check for libxml2.

2009-11-17  Monty Taylor  <mordred@inaugust.com>

	Moved cstdint checks outside of the warnings context.

2009-11-17  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.72 - Moved remaining hard-coded tests into pandora-build
	macros.
	Add PANDORA_DRIZZLE_BUILD to run the extra checks that drizzle needs that 
	plugins would also need to run so we can just use that macro in generated
	external plugin builds.
	Added support to register_plugins for external plugin building.
	Renamed register_plugins.py to pandora-plugin.

2009-11-17  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.71. Added check for avahi.

2009-11-23  Brian Aker  <brian@gaz>

	Merge for staging.

2009-11-22  Brian Aker  <brian@gaz>

	Merge Brian

2009-11-22  Brian Aker  <brian@gaz>

	Fix for Solaris build.

2009-11-21  Brian Aker  <brian@gaz>

	Remove dead store_lock() path.

2009-11-20  Brian Aker  <brian@gaz>

	Removes options from DDL left in Cursor for admin operations (they were
	MyISAM specific... we need to put in a generic one).
	
	Note: Left checksum and its ability to do internal/external.

2009-11-20  Brian Aker  <brian@gaz>

	Trond merge

2009-11-20  Trond Norbye  <trond.norbye@sun.com>

	Bug #485658: Compile failure on 32 bit system due to mixing ulong, uint64_t and uint32_t

2009-11-20  Brian Aker  <brian@gaz>

	Collected Merge.

2009-11-19  Brian Aker  <brian@gaz>

	Adding stewart's patch (put in result)

2009-11-20  Stewart Smith  <stewart@flamingspork.com>

	mi_write valgrind warning in alias test
	
	We were getting this Valgrind warning in the alias test:
	
	==16136== Thread 16:
	==16136== Syscall param pwrite64(buf) points to uninitialised byte(s)
	==16136== at 0x76D2B08: ??? (in /lib/libpthread-2.10.1.so)
	==16136== by 0x818AD9: my_pwrite (my_pread.cc:106)
	==16136== by 0x7FAEFC: mi_nommap_pwrite (mi_dynrec.cc:231)
	==16136== by 0x7FD054: _mi_write_part_record (mi_dynrec.cc:743)
	==16136== by 0x7FB2DD: write_dynamic_record(st_myisam_info*, unsigned char const*, unsigned long) (mi_dynrec.cc:354)
	==16136== by 0x7FB08E: _mi_write_blob_record (mi_dynrec.cc:273)
	==16136== by 0x814C04: mi_write (mi_write.cc:126)
	==16136== by 0x7DE922: ha_myisam::write_row(unsigned char*) (ha_myisam.cc:631)
	==16136== by 0x5E5DAD: Cursor::ha_write_row(unsigned char*) (cursor.cc:1765)
	==16136== by 0x564136: write_record(Session*, Table*, st_copy_info*) (sql_insert.cc:914)
	==16136== by 0x562E33: mysql_insert(Session*, TableList*, List<Item>&, List<List<Item> >&, List<Item>&, List<Item>&, enum_duplicates, bool) (sql_insert.cc:388)
	
	
	for this query in alias.test:
	INSERT INTO t1 VALUES (3359356,405,3359356,'Mustermann Musterfrau',52500,'2000-05-20','workflow','Auftrag erledigt','Originalvertrag eingegangen und geprft','','privat',1485525,2122316,'+','','N',1909160,'MobilComSuper92000D2',NULL,NULL,'MS9ND2',3,24,'MobilCom Shop Koeln',52500,NULL,'auto','2001-02-02 10:59:16','Mobilfunk','PP','','','');
	
	The table definition has 33 fields, 13 of which are NULLable.
	This means we have 2 bytes for the NULL bitmap at the start of the row.
	
	For some reason that escapes most sane people, we had a check to see if
	session->used_tables was set, and only if it was restore the default
	record to table->record[0]. Otherwise, we'd clear the delete marker....
	which is the lovely obscure darn bit that may be added to the front
	of the record iff it's a packed record. Of course, instead of flipping the
	bit, we'd copy the byte. This has the lovely characteristic of having things
	work fine for tables with up to 8 nullable columns.
	
	In MySQL, session->used_tables was being set for mysql_insert in
	check_view_single_update. When we removed VIEWs, we didn't fix up this
	funny if() condition in mysql_insert (which is not at *all* surprising).
	Why is this not surprising? Because having this kind of interdependency is
	just total ass and ends up taking days to find something as damn ass subtle
	as this. Clear, readable, obvious code FTW.

2009-11-19  Brian Aker  <brian@gaz>

	Merge Brian

2009-11-19  Brian Aker  <brian@gaz>

	One more bit of HA_CREATE_INFO gone.

2009-11-19  Brian Aker  <brian@gaz>

	Remove check_table()

2009-11-19  Brian Aker  <brian@gaz>

	Remove HA_CREATE_INFO from createTable()

2009-11-19  Brian Aker  <brian@gaz>

	Fix engines to not rely on HA_CREATE_INFO.
	
	There were a number of test cases where Innodb was accepting the wrong
	ROW_FORMAT and just tossing warnings. It would cause the DFE to then be
	different then the actual table definition.

2009-11-19  Brian Aker  <brian@gaz>

	Remove dependency in engines for auto_increment primer to be passed in by
	HA_CREATE_INFO

2009-11-19  Brian Aker  <brian@gaz>

	Remove dead bits for HA_COMMENTS and fix test for reporting engine.

2009-11-18  Brian Aker  <brian@gaz>

	Remove used flag for engine.

2009-11-19  Brian Aker  <brian@gaz>

	Merge Trond

2009-11-16  Trond Norbye  <trond.norbye@sun.com>

	Offset to memcached_increment and decrement should be uint32_t

2009-11-19  Brian Aker  <brian@gaz>

	Merge Jay

2009-11-19  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-19  Jay Pipes  <jpipes@serialcoder>

	Fixes some valgrind warnings regarding conditionals depending on unintialized variables.  Use initializer lists properly, dang it. :) Also, removed the new_Cached_item() function's use_result_field, as this was only used for views and was producing a valgrind warning unnecessarily.

2009-11-18  Brian Aker  <brian@gaz>

	Merge (with fix for dangling bit in merge)

2009-11-18  Brian Aker  <brian@gaz>

	Merge of HA_CREATE_INFO simplifications.
	
	AKA... proto now working better!
	
	You start these things... and then you wonder. What problem did I start out
	today to solve? Was the store_lock() issues, or was it related to 
	TableIdentifiers.

2009-11-18  Brian Aker  <brian@gaz>

	Remove final "option" from HA_CREATE_INFO.
	
	We shall overcome :)

2009-11-18  Brian Aker  <brian@gaz>

	Remove a few more options, from options in HA_CREATE_INFO.

2009-11-18  Brian Aker  <brian@gaz>

	Remove last ofl HA_CREATE_INFO being involved with temporary tables (always
	trust the proto now).

2009-11-18  Brian Aker  <brian@gaz>

	Takes the majority usage of parser based HA_CREATE_INFO usage around
	temporary tables and moves it behind a few call places.

2009-11-18  Brian Aker  <brian@gaz>

	Second pass through bugs related to CREATE TABLE LIKE

2009-11-18  Brian Aker  <brian@gaz>

	Merge of Padraig

2009-11-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolved valgrind warnings in the I_S plugin.

2009-11-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Apparently, the db member of the Session class has changed from const char *
	to std::string so I had to adjust some code in the I_S plugin because of
	that.

2009-11-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-11-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the info_schema_methods files and created a helper_methods header
	and implementation file instead. All I_S tables are now split out into
	individual header and implementation files.

2009-11-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the status and variable related I_S tables into their own header
	and implementation files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the statistics I_S table into its own header and implementation files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated version for I_S plugin.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the table names I_S table into its own header and implementation
	files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to include a header file related to the Time_zone structures for the
	TABLES I_S table.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved TABLES into its own header and implementation files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the table constraints I_S table into its own header and implementation
	files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split schemata out into its own header and implementation files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the referential constraints I_S table into its own implementation and
	header files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moved the processlist I_S table into its own header and implementation
	files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the open tables I_S table into its own header and implementation
	files.

2009-11-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the plugins I_S table into its own header and implementation files.

2009-11-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected incorrect parameter type passed to a method.

2009-11-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the modules I_S table out into its own header and implementation
	files.

2009-11-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a header file include I forgot.

2009-11-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the key column usage I_S table out into its own implementation and
	header files.

2009-11-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-11-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the columns I_S table into its own header and implementation files.

2009-11-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the collation character set I_S table into its own implementation and
	header files.

2009-11-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the collation I_S table out into its own implentation and header file.

2009-11-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Split the character set I_S table out in to its own implementation and
	header file.

2009-11-17  Brian Aker  <brian@gaz>

	Merge Brian + Stewart

2009-11-17  Brian Aker  <brian@gaz>

	Null commit to force build.

2009-11-17  Brian Aker  <brian@gaz>

	Updated fix for create table like.

2009-11-17  Brian Aker  <brian@gaz>

	Remove mysql_lock_have_duplicate()  (we don't have merge, and our partition
	will not require this in the future).

2009-11-17  Brian Aker  <brian@gaz>

	Small cleanup from something Jay noticed.

2009-11-16  Brian Aker  <brian@gaz>

	Committing Stewart's work

2009-11-16  stewart@flamingspork.com

	[patch 17/17] set varbinary charset in parser

2009-11-16  stewart@flamingspork.com

	[patch 16/17] VARBINARY length in proto in parser

2009-11-16  stewart@flamingspork.com

	[patch 15/17] add length of VARCHAR colmun to proto in parser

2009-11-16  stewart@flamingspork.com

	[patch 14/17] add length of CHAR column to proto in parser

2009-11-16  stewart@flamingspork.com

	[patch 13/17] Remove generic field length from table protoAll field lengths are now either in their specific Options message (e.g. String. i.e. VARCHAR, VARBINARY) or are static and computed on table open.

2009-11-16  stewart@flamingspork.com

	[patch 12/17] remove VARCHAR generic length from proto

2009-11-16  stewart@flamingspork.com

	[patch 11/17] Remove ENUM column length from proto

2009-11-16  stewart@flamingspork.com

	[patch 10/17] remove length of DATE type from proto, set on open table insteadIndex: yet-more-proto-in-parser/drizzled/table.cc
	===================================================================

2009-11-16  stewart@flamingspork.com

	[patch 09/17] remove datetime length from proto

2009-11-16  stewart@flamingspork.com

	[patch 08/17] Set MAX_BIGINT_WIDTH (a string length) for bigint columns on open, not storing in table proto

2009-11-16  stewart@flamingspork.com

	[patch 07/17] Set length of LONG on open table, not storing MAX_INT_WIDTH (string length) in table proto

2009-11-16  stewart@flamingspork.com

	[patch 06/17] Dont store TIMESTAMP length in proto. Always the same (max string length), so just set it on load instead.

2009-11-16  stewart@flamingspork.com

	[patch 05/17] Set Field type in proto in parser.

2009-11-16  stewart@flamingspork.com

	[patch 04/17] field comment set in table proto in parser

2009-11-16  stewart@flamingspork.com

	[patch 03/17] set field name in parser, assert that its correct when filling out the rest of the table proto

2009-11-16  stewart@flamingspork.com

	[patch 02/17] field NULL | NOT NULL in proto in parser. Only for CREATE TABLE. Change default in proto to reflect default in SQL.

2009-11-16  stewart@flamingspork.com

	[patch 01/17] horrible hack to have one lonely codepath produce Fields in the table proto

2009-11-17  Brian Aker  <brian@gaz>

	Monty + Brian Merge.

2009-11-16  Brian Aker  <brian@gaz>

	Small correction to I_S engine.

2009-11-16  Brian Aker  <brian@gaz>

	Remove char *db from session, and replaces it with std::string.
	
	Amazing thing? C++ works well enough now in the code that a change like this
	works.

2009-11-16  Brian Aker  <brian@gaz>

	Fix for Valgrind.

2009-11-16  Brian Aker  <brian@gaz>

	Cleanup interface for open session.

2009-11-16  Brian Aker  <brian@gaz>

	Remove HTON_BIT_FLUSH_AFTER_RENAME

2009-11-16  Brian Aker  <brian@gaz>

	Clean up around engine returns.

2009-11-16  Brian Aker  <brian@gir.tangent.org>

	Cleanup of return errors from engines (still... a better job could be done).

2009-11-16  Brian Aker  <brian@gir.tangent.org>

	Remove NameMap from Storage Engine. Modified the cleanup code to just do a
	one pass cleanup (Jay had asked about the multiple clear, so until
	we have something that is a bit more cleanish... I just did a quick patch
	using a static). I suspect I can make this go away soon.

2009-11-16  Brian Aker  <brian@gaz>

	Merge Brian (first pass of this cleanup)

2009-11-16  Brian Aker  <brian@gaz>

	Move cursor flags up to storage engine flags. These need to be merged.

2009-11-16  Brian Aker  <brian@gaz>

	Remove atomic on refresh (go back to do it via lazy method).

2009-11-16  Brian Aker  <brian@gaz>

	MErge of cursor patch.

2009-11-16  Brian Aker  <brian@gaz>

	Move print_error up to Engine.

2009-11-16  Brian Aker  <brian@gaz>

	MErge Monty.

2009-11-16  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-11-14  Monty Taylor  <mordred@inaugust.com>

	It seems to work.

2009-11-13  Monty Taylor  <mordred@inaugust.com>

	Fixed the massive shit-storm of re-running configure caused by leaving in a line of debugging. Sorry world.

2009-11-13  Monty Taylor  <mordred@inaugust.com>

	Ensure that moving/renaming plugins works.

2009-11-13  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2009-11-13  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-11-12  Monty Taylor  <mordred@inaugust.com>

	Added the testsuite location finding code to support in-plugin-dir test suites.

2009-11-12  Monty Taylor  <mordred@inaugust.com>

	Merged in global changes from plugin-dynamic-load.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Cleaned up a few global tests which aren't happy now.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Removed the ununsed REPORT_TO_USER flag. Changed a few returns to return NULL
	rather than 0

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Ensure that we export symbols so that plugins can use them.

2009-11-11  Monty Taylor  <mordred@inaugust.com>

	Fixed a distclean ideosyncracy.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of visibility attributes.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Fixed the illusive touch errors in vpath builds.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Migrated pandora_with_gettext.m4 to use m4_syscmd so that the code runs at the right time.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Renamed syscmd() to m4_syscmd.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Removed use of ack-grep from run_cpplint.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Fixed another distcheck issue. Distcheck works now.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Fixed a few distcheck issues.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Fixed bashism.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Added two files to .bzrignore.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-11-10  Monty Taylor  <mordred@inaugust.com>

	Added code necessary for building plugins dynamically.
	Merged in changes from lifeless to allow autoreconf to work.
	Touching plugin.ini files now triggers a rebuid - so config/autorun.sh is no
	longer required to be run after touching those.
	Removed the duplicate plugin names - also removed the issue that getting them
	different would silently fail weirdly later.

2009-11-03  Robert Collins  <robertc@robertcollins.net>

	Merged buildsystem change from lifeless.

2009-11-03  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.67 - Support configure-time bzr version checking.

2009-11-02  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.66 - add pthread specific checks to pandora-pthread _inside_ of
	the pthread flags section.

2009-11-02  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.65

2009-10-27  Monty Taylor  <mordred@inaugust.com>

	Fixed the bison test. It was erroneously checking an old variable name. Doh.

2009-10-27  Monty Taylor  <mordred@inaugust.com>

	Cleaned up some bits of configure.

2009-10-26  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.64

2009-11-14  Brian Aker  <brian@gaz>

	Remove open mode/dead bits around dead temp type.

2009-11-14  Brian Aker  <brian@gir.local>

	Remove dead TMP_TABLE_FRM_FILE_ONLY enum type for tmp tables.

2009-11-14  Brian Aker  <brian@gir.local>

	Remove open_table_mode (no longer in use).

2009-11-13  Brian Aker  <brian@gaz>

	Merge Stewart (test re-enable)

2009-11-13  Stewart Smith  <stewart@flamingspork.com>

	uncomment out part of alias test, related to bug309865. results checked against mysql alias test.

2009-11-13  Brian Aker  <brian@gaz>

	Merge Eric

2009-11-10  Eric Day  <eday@oddments.org>

	Fixed header file guards and fixed test cases.

2009-11-10  Eric Day  <eday@oddments.org>

	Duplicated oldlibdrizzle module, one for Drizzle protocol and one for MySQL, per Brian's request from merge proposal. Port options are now --drizzle-protocol-port and --mysql-protocol-port.

2009-11-07  Eric Day  <eday@oddments.org>

	Renamed mysql protocol variable from Jay's suggestion.

2009-11-06  Eric Day  <eday@oddments.org>

	Moved port options into protocol plugin and added MySQL protocol support.

2009-11-12  Brian Aker  <brian@gir.local>

	Removed bits of charset support from the parser.

2009-11-12  Brian Aker  <brian@gaz>

	Fix for ENUM tests (commented out non-utf-8 tests).

2009-11-12  Brian Aker  <brian@gaz>

	Jay's replication patches

2009-11-11  Jay Pipes  <jpipes@serialcoder>

	Merge Joe's new test cases for transaction log

2009-11-11  Joe Daly  <skinny.moey@gmail.com>

	remove sub_select test thsi is still failing on updating a primary key. Add drop table to rand, create_select tests

2009-11-11  Joe Daly  <skinny.moey@gmail.com>

	add subselect test

2009-11-10  Joe Daly  <skinny.moey@gmail.com>

	merge trunk

2009-11-09  Joe Daly  <skinny.moey@gmail.com>

	remove sub_select test its currently not working filed bug 479743

2009-11-09  Joe Daly  <skinny.moey@gmail.com>

	updates to sub_select

2009-11-09  Joe Daly  <skinny.moey@gmail.com>

	add new tests for create table with select, update with a subquery, and a call to rand()

2009-11-11  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-11-06  Jay Pipes  <jpipes@serialcoder>

	Adds support for BLOB fields in the replication stream. Note that
	this does not yet support extremely large BLOB data.  Extremely large
	BLOB data will be written to the transaction log in specialized transaction
	log entries for that.  In this patch, we simply allow the main Transaction
	message and the reader/writer programs to work with binary data properly.
	
	Adds a simple test for BLOB fields and the transaction log.
	The problem was figuring out how to correctly replace embedded NUL
	characters in the output of the transaction reader with \\0 so that
	mysqltest.cc wouldn't puke when cat'ing the result of the reading
	of the transaction log when BLOB data was contained.

2009-11-12  Brian Aker  <brian@gaz>

	Fixes leaked memory during a fail proto read.

2009-11-12  Brian Aker  <brian@gaz>

	Fixes startup failures when temporary tables were left behind in a crash.

2009-11-12  Brian Aker  <brian@gaz>

	Rollup of Brian, Padraig, and Stewart patches.

2009-11-11  Brian Aker  <brian@gaz>

	Fix on typo

2009-11-11  Brian Aker  <brian@gaz>

	I made share a member of the engine class.
	
	Every so often I think that share should jsut be a service of
	StorageEngine... let classes inherit it.
	
	And then?
	
	Then I remember that it should just go away...

2009-11-11  Brian Aker  <brian@gaz>

	Remove the Valgrind warning on:
	
	CURRENT_TEST: main.null_key
	==12866== 
	==12866== Invalid read of size 8
	==12866==    at 0x51EA8B: get_store_key(Session*, drizzled::optimizer::KeyUse*, unsigned long, st_key_part_info*, unsigned char*, unsigned int) (sql_select.cc:902)
	==12866==    by 0x51F4DE: create_ref_for_key(JOIN*, JoinTable*, drizzled::optimizer::KeyUse*, unsigned long) (sql_select.cc:1065)
	==12866==    by 0x4A4CA7: make_join_statistics(JOIN*, TableList*, Item*, st_dynamic_array*) (join.cc:3166)

2009-11-11  Brian Aker  <brian@gaz>

	Update for cursor name change.

2009-11-11  brian  <brian@orisndriz04>

	Adding missingfile.

2009-11-11  brian  <brian@orisndriz04>

	Update for Cursor renaming.

2009-11-11  Brian Aker  <brian@gaz>

	PArtial cleanup of ENUM type. We had not UTF8 characters in the test file
	(and still allowed a BINARY type for ENUM... which is odd).

2009-11-11  Brian Aker  <brian@gaz>

	Merge of Padraig's work on I_S

2009-11-10  brian  <brian@orisndriz04>

	Updating Padraig's work for I_S

2009-11-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	doGetTableDefinition now returns the correct return code at all times. This
	fixes an issue with drop table caused by this.

2009-11-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some doxygen comments in places.

2009-11-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Re-factored some of the I_S engine. Changed the InformationShare to not have
	static methods anymore. Added a new singleton class named OpenTables that
	encapsulates how open tables are tracked. 
	
	Split the Cursor for the engine and the actual engine class out in to 2
	separate implementation and header files.

2009-11-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added the doGetTableDeinfition method to the I_S engine. This methods
	generates the protobuf defintion for the various I_S tables.

2009-11-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the use of the drizzled namespace in the I_S engine.

2009-11-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with trunk.

2009-11-11  Brian Aker  <brian@gaz>

	Updating with my change to to DECIMAL from NEWDECIMAL and Stewart's update
	for protobuf to correctly store DECIMAL

2009-11-11  Brian Aker  <brian@gaz>

	Reverses old patch which introduced memory leaks. Also found a solution
	(worked on Fedora11) to get rid of dlerror() memory leak.

2009-11-11  Brian Aker  <brian@gaz>

	Merge new Truncate

2009-11-10  Brian Aker  <brian@gaz>

	Merge Truncate patch. This fixes all of the "half setup" of Truncate. Still
	leaves open the question of what we should be doing in replication.

2009-11-10  Brian Aker  <brian@gaz>

	Merge Monty

2009-11-10  Brian Aker  <brian@gaz>

	Merge Monty fixes for FreeBSD

2009-11-09  Monty Taylor  <mordred@inaugust.com>

	Fixed FreeBSD build issues.

2009-11-04  Brian Aker  <brian@gaz>

	Merge Jay

2009-11-02  Jay Pipes  <jpipes@serialcoder>

	This patch changes a few things from a previous patch around
	the table definition cache:
	
	a) Places typedefs for TableDefinition and TableDefinitions in the
	public scope of plugin::StorageEngine. Previously these were in
	the protected scope.
	
	b) Removes the proto_cache and proto_cache_mutex members of the
	plugin::StorageEngine class and moves them into a new class
	called TableDefinitionCache.
	
	c) Updates the heap, myisam, and csv handlers to privately inherit
	from TableDefinitionCache.  private inheritance means "is implemented
	in terms of" and not "is a" and is the appropriate use here.  These
	handlers now call the relevant methods of the TableDefinitionCache
	in order to handle their internal table definition caches.  The
	advantage to this approach is encapsulation of the mutex and cache
	insert/remove calls into the TableDefinitionCache class instead of
	being repeated in the various handlers.

2009-11-02  Jay Pipes  <jpipes@serialcoder>

	Remove incorrect use of std:: prefix in .cc file.

2009-11-02  Jay Pipes  <jpipes@serialcoder>

	Cleans up a few things in CachedDirectory class:
	
	a) Corrects doxygenated comments that were incorrectly updated
	in a prior commit, including renaming the "exts" variable to
	"allowable_exts" to make it more descriptive of what that 
	parameter expects.
	
	b) Per Item 4 of Meyers' Effective STL, it is more efficient to
	use STL containers' empty() method over the size() method, the
	latter of which forces a recalculation of the container's size.
	So, replaces usage of size() with correlating empty() call.
	
	c) Remove unused honor_exts boolean.

2009-11-02  Jay Pipes  <jpipes@serialcoder>

	Fixes a few things I found on reviewing a recent commit:
	
	a) Variable names should not include the type of the variable.  There were
	some new variables called vector_of_engines, vector_of_transactional_engines, 
	set_of_table_definition_ext which I changed to reflect our normal naming
	practices.  The reason we do not prefix variable names with the type of the
	variable is that this means the variable name is not future-proof.  If another
	developer wants to use a set instead of a vector for the variable in the
	future, then the variable name has to be changed needlessly.  The purpose of
	the standard template library is to templatize containers so that they act
	much like each other and follow standard interfaces.  Naming variables with a
	type prefix takes away this generalization.
	
	b) Removes the std:: prefix used in various places in drizzled/plugin/storage_engine.cc.
	Per the style guide, these are not necessary.
	
	c) Corrects an improper use of vector<>.clear() in plugin::StorageEngine::removePlugin().
	The code was incorrectly calling vector<>.clear() instead of vector<>.erase().
	
	d) Removes the fn_rext() function which was removed in a recent commit and re-added in
	this later commit, presumably because the commit was not merged up with trunk.

2009-11-04  Brian Aker  <brian@gaz>

	Merge of Padraig && Brian

2009-11-04  Brian Aker  <brian@gaz>

	Fix for build issue on for_each()

2009-11-04  Brian Aker  <brian@gaz>

	Valgrind fix for startTransaction()

2009-11-03  Brian Aker  <brian@gaz>

	Fixes memory leak from new MODULES table.

2009-11-03  Brian Aker  <brian@gaz>

	Merge Padraig I_S

2009-11-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolutions for build issues after merging.

2009-11-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with build.

2009-11-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-10-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Hooking the rnd_* methods in the I_S storage engine in to the existing I_S
	interface.

2009-10-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added an InfoSchemaRecord class for the I_S storage engine work. We will
	have a std::vector if InfoSchemaRecord's to represent the rows in an I_S
	tabe.

2009-10-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the fillTable method to not take a COND parameter anymore.

2009-11-03  Brian Aker  <brian@gaz>

	Merging Jay.

2009-11-03  Jay Pipes  <jpipes@serialcoder>

	Updated filtered_replicator test due to new tests for UPDATE.

2009-11-03  Jay Pipes  <jpipes@serialcoder>

	This patch fixes a bug in the replication service and transaction
	proto file that was occurring when an UPDATE statement was SETting
	a field to a value by referencing the field itself.
	
	For instance, imagine the following scenario:
	
	CREATE TABLE t1 (id INT NOT NULL PRIMARY KEY, count INT NOT NULL);
	INSERT INTO t1 (id, counter) VALUES (1,1),(2,2),(3,3);
	UPDATE t1 SET counter = counter + 1 WHERE id IN (1,2);
	
	Previously, the UpdateHeader message contained a single set_value
	byte array containing the new value to set the field to.  However,
	in scenarios such as the above, for each record being updated, the
	value that the field would be set to is different.  Therefore, this
	patch moves the set_value byte array from the UpdateHeader message
	into the UpdateRecord message and names it after_value to match the
	existing before_value byte array.
	
	This patch adds a test case to the existing update.test case in the
	transaction log suite and modifies the statement_transform library to
	properly handle the above scenario.

2009-11-03  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-10-29  Jay Pipes  <jpipes@serialcoder>

	Add test case for when a transaction is manually started but no data modification occurs.  This happens, for instance, when sysbench runs, and was causing major performance degradation because lots of blank transactions were being written to the transaction log needlessly.

2009-11-02  Brian Aker  <brian@gaz>

	Remove dead function.

2009-11-02  Brian Aker  <brian@gaz>

	Merge Jay.

2009-11-02  Jay Pipes  <jpipes@serialcoder>

	Update required protobuf library version to 2.1.0

2009-11-02  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-29  Monty Taylor  <mordred@inaugust.com>

	Made make test a synonym for make check,

2009-10-29  Monty Taylor  <mordred@inaugust.com>

	Re-merged stl hash.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Replaced drizzletests's copy of HASH with drizzled::hash_map

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Removed now-needless configure hack to remove deprecation warnings.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Made drizzledump use drizzled::hash.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Added drizzled::hash_map and drizzled::hash_set so that we can use STL hash stuff without boost and without failing on too-early gcc. Also adds ability to our code to easily change out hash algorithms, so we can try some of the various hash algs out there in our context.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Updated stl_hash to not bother checking boost and to check for unordered_map.

2009-11-02  Brian Aker  <brian@gaz>

	Merge Eric

2009-10-31  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-10-31  Eric Day  <eday@oddments.org>

	Merged Stewart's tinyint removal, and fixed a few things to not break protocol.

2009-10-02  Stewart Smith  <stewart@flamingspork.com>

	remove last bits of TINYINT. NOTE: this needs an updated libdrizzle to prevent a small drizzledump test failure

2009-10-14  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-11-02  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-29  Monty Taylor  <mordred@inaugust.com>

	Updated plugin::Registry to use std::map instead of NameMap.

2009-10-28  Monty Taylor  <mordred@inaugust.com>

	Removed commented out line.

2009-10-28  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-10-27  Monty Taylor  <mordred@inaugust.com>

	Replaced overridable virtual methods with passing name to constructor. Now individual plugins will not be allowed to set their own plugin type name. :)

2009-10-26  Monty Taylor  <mordred@inaugust.com>

	Fixed test cases to match new I_S tables.

2009-10-26  Monty Taylor  <mordred@inaugust.com>

	Renamed plugin::Handle to plugin::Module for clarity.

2009-10-26  Monty Taylor  <mordred@inaugust.com>

	Added type name strings to all of the plugin types.

2009-10-26  Monty Taylor  <mordred@inaugust.com>

	Added the MODULES table.

2009-10-30  Brian Aker  <brian@gaz>

	Clean up some mispellings

2009-10-30  Brian Aker  <brian@gaz>

	Fix comment.

2009-10-30  Brian Aker  <brian@gaz>

	Merge Brian

2009-10-29  Brian Aker  <brian@gaz>

	Added engine internal locks (instead of the session based....)
	
	So why not session based? Basically session is not "stable" for storing the
	members of anything... some bugs in truncate... others... annoying. 

2009-10-29  Brian Aker  <brian@gaz>

	Clean up interface so that Truncate sets the propper engine when
	it generates a tmp engine (so a cursor can be created).
	
	Also fixed Session to be passed by ref in a number of places (hunting down
	NULL session issues).

2009-10-29  Brian Aker  <brian@gaz>

	Memory leak fixed in blackhole

2009-10-28  Brian Aker  <brian@gaz>

	Fix issue where there are too many files in data directory. We now only
	cache files with correct ext. AKA... we no longer keep all the filenames in
	memory. The comparison operation will have us holding the lock on directory
	a little longer (aka... whatever the OS is doing).

2009-10-28  Brian Aker  <brian@gaz>

	Require engines to implement their own doDropTable().

2009-10-28  Brian Aker  <brian@gaz>

	Remove dead code.

2009-10-28  Brian Aker  <brian@gaz>

	Fixing the design to allow any engine to have a proto-cache (aka... no
	copying code... as much).

2009-10-28  Brian Aker  <brian@gaz>

	Update to interface for getTableDefinition.

2009-10-27  Brian Aker  <brian@114.2.46.10.in-addr.arpa.noptr.antlabs.com>

	Extended definition interface (filename building should now be moved
	"closer" to the engine).
	
	Note: Innodb has a bug in it requiring that a / be in the "tablename" passed
	to it.
	
	YEs... lame.

2009-10-26  Brian Aker  <brian@gaz>

	Merge Name changes

2009-10-26  Brian Aker  <brian@gaz>

	Fixed temp engines to no longer write out DFE. I have two designs right now
	(I am going to valgrind/perf test both to see how it goes).

2009-10-23  Brian Aker  <brian@gaz>

	Quick pass through ha_create in doTableCreate() to turn it into a reference.

2009-10-22  Brian Aker  <brian@gaz>

	Three cleanups from build test.

2009-10-21  Brian Aker  <brian@gaz>

	Fixed references to doCreateTable()

2009-10-20  Brian Aker  <brian@gaz>

	Added Innodb specific vector (well... for any engine)

2009-10-20  Brian Aker  <brian@gaz>

	Switch to using vector over Registry

2009-10-20  Brian Aker  <brian@gaz>

	I_S now provides its own tables via the SE interface

2009-10-19  Brian Aker  <brian@gaz>

	Style cleanup

2009-10-19  Brian Aker  <brian@gaz>

	Fix pass by reference for directory object

2009-10-19  Brian Aker  <brian@gaz>

	Slight cleanup of the interface (no need to keep checking CachedDirectory
	for success);

2009-10-19  Brian Aker  <brian@gaz>

	Updating with new engine interface to I_S

2009-10-14  Brian Aker  <brian@gaz>

	First pass of information engine. OMG, ponies... is it so much easier to
	deal with creating and engine.
	
	The list table iterator though... its ass, needs to go. We should also
	abstract out share. Very few engines need a custom one. Just say'in

2009-10-19  Brian Aker  <brian@gaz>

	Update blackhole engine to handle its own dictionary

2009-10-19  Brian Aker  <brian@gaz>

	Rename deleteTableImpl -> doDeleteTable()

2009-10-19  Brian Aker  <brian@gaz>

	Reworked delete table code (thank god... or... whatever... how about my dog?
	Yeah... thank dog...))

2009-10-19  Brian Aker  <brian@gaz>

	Fix name conventions for rename table

2009-10-19  Brian Aker  <brian@gaz>

	Simplify createTable()

2009-10-19  Brian Aker  <brian@gaz>

	Reworked getTableNames() interface. Way simpler, less mallocs....
	
	Added a straight vector<> for use with storage engines.

2009-10-29  Brian Aker  <brian@gaz>

	Remove test for 32bit max on heap tables.
	
	Yeah... set the HEAP table to max on a 32bit machine and watch the Piñata
	go. The value shouldn't be max, but should be some number less then MAX...
	aka don't let the user blow up.

2009-10-29  Brian Aker  <brian@gaz>

	Small fixes

2009-10-27  Stewart Smith  <stewart@flamingspork.com>

	move key_block_size out of table_share and into the table proto. init it in parser

2009-10-29  Brian Aker  <brian@gaz>

	Merge Diego

2009-10-22  Diego Medina  <wizard@fedora.local>

	merge from trunk

2009-09-17  Diego Medina  <diego.medina@sun.com>

	* Replaced some ugly code for nicer one :)

2009-09-17  Diego Medina  <diego.medina@sun.com>

	Add Thread ID, Query ID, Hostname, Client IP and Username to show engine innodb status

2009-10-29  Brian Aker  <brian@gaz>

	Removed test for ARCH (it only looked at Intel style systems). Left in SELECT for it.

2009-10-26  Diego Medina  <wizard@fedora.local>

	Fixed  LP bug#461380  - variables test fails on Stewart's 64 bit SPARC machine
	Instead of trying to detect if the current server is 32 or 64-bit, and disable
	warnings based on that, simple disable warnings for all platforms.

2009-10-26  Brian Aker  <brian@gaz>

	Merge Jay

2009-10-26  Jay Pipes  <jpipes@serialcoder>

	Mac doesn't have fdatasync() :( transaction_log.cc now uses mysys/my_sync.cc's my_sync() call to handle this.

2009-10-26  Jay Pipes  <jpipes@serialcoder>

	Added fdatasync() calls to transaction_log.cc.  Not sure how nobody caught this :)

2009-10-26  Jay Pipes  <jpipes@serialcoder>

	Moves all calls to replication services' commitNormalTransaction() into the ha_commit_one_phase() block.

2009-10-23  Jay Pipes  <jpipes@serialcoder>

	Corrects problems where REPLACE and INSERT ... ON DUPLICATE KEY UPDATE
	were not properly logging the atomic change in server state to the
	transaction log.
	
	The problem had to do with the log_row_for_replication() method
	not completely understanding whether a call to ha_update_row() had
	really been called during a REPLACE or INSERT call.
	
	See my blog entries for an overly-elaborate explanation as to what
	was really going on:
	
	http://www.jpipes.com/index.php?/archives/301-Pop-Quiz-What-Does-REPLACE-Do.html
	http://www.jpipes.com/index.php?/archives/303-The-Deal-with-REPLACE-..-Or-Is-It-UPDATE.html
	http://jpipes.com/index.php?/archives/305-Yet-Another-Post-on-REPLACE.html
	
	Added test cases for REPLACE and INSERT .. ON DUPLICATE KEY UPDATE.

2009-10-23  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-10-20  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-10-19  Jay Pipes  <jpipes@serialcoder>

	Fixes some stuff from make check (include guards). Also adds stuff for REPLACE logic that does not work.

2009-10-19  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve all conflicts.

2009-10-18  Jay Pipes  <jpipes@serialcoder>

	Adds functionality to handle REPLACE statements correctly in the replication
	service.  REPLACE represents a DELETE of a row followed by an INSERT of new
	data into the same row.
	
	Adds a new test case to the transaction_log test case for REPLACE.
	
	The replace test case does not pass and I'm not sure why.  Pushing up to
	LP so I can have krow take a looksie...

2009-10-18  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug 440141 - Replication stream contains incorrect key field information for UPDATE statements.

2009-10-16  Jay Pipes  <jpipes@serialcoder>

	* Fixes bug in replication where inserts, updates, and 
	deletes from temporary tables where being included in the
	replication stream.  Adds a new test case for temporary
	table usage and the transaction log.
	
	* Fixes up all the test cases to remove the now-unecessary
	stripping of comments that used to be in the transaction log
	output from the transaction_reader program.

2009-10-16  Jay Pipes  <jpipes@serialcoder>

	Merge trunk w/ new InnoDB plugin.

2009-10-15  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts.

2009-10-15  Jay Pipes  <jpipes@serialcoder>

	Fixes filtered replicator and test result file.  Was not properly filtering out statements.

2009-10-13  Jay Pipes  <jpipes@serialcoder>

	Removes incorrect addition of ending parentheses in transformDeleteRecordToSql()
	Thanks Eric Lambert for discovering this!

2009-10-13  Jay Pipes  <jpipes@serialcoder>

	This patch does the following:
	
	1) The transaction log now writes a 4-byte header containing the type of 
	message which follows the header.  This allows us to future-proof the
	transaction log in order to allow BLOBs to be written in chunks to the
	log file along with GPB Transaction messages.
	
	2) The algorithm which writes Transaction messages to the transaction log
	has been improved.  Instead of 3 separate calls to pwrite(), I have now
	reduced that to a single call to pwrite() and a raw buffer is used to 
	construct the raw bytes that get written in bulk to the transaction log
	at the atomic offset.
	
	3) Update the transaction_reader and transaction_writer programs for the 
	above changes.

2009-10-12  Jay Pipes  <jpipes@serialcoder>

	Quick typo fix command -> transaction

2009-10-08  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's fix for transaction pb stuff

2009-10-08  Jay Pipes  <jpipes@serialcoder>

	Fixes 64-bit length encoding to be 32-bit, which is what is supported by GPB.  We will need to use a segment strategy for large blob records.

2009-10-08  Jay Pipes  <jpipes@serialcoder>

	Fixes a bug appearing on hades b/c forgot to initalize statement_message and transaction_message members of Session to NULL

2009-10-07  Jay Pipes  <jpipes@serialcoder>

	Phase 2 new replication work:
	
	* Removes old replication.proto file, old command_transform library
	* Removes use of korr.h macro calls in favor of GPB's CodedOutputStream
	API.
	* Updates transaction_log, default_replicator, and filtered_replicator module
	to use new Transaction message.
	* Updates ReplicationServices to construct the new Transaction messages and
	associated Statement sub-messages
	* Corrects transaction boundaries.  AUTOCOMMIT now works properly, and I have
	added a new test case to verify AUTOCOMMIT variable modification of the way
	in which Transaction messages are bundled up and sent across to replicators.

2009-10-07  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's fixes for moving crc32 function into a library.

2009-10-07  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-10-20  Brian Aker  <brian@gaz>

	Merge Stewart's dead code removal

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	put compatible_mode_typelib back, as it is actually used. I have a feeling I've been overzealous here before...

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove some old HA_ALTER_ defines that aren't used anymore

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused HP_MIN_RECORDS_IN_BLOCK and HP_MAX_RECORDS_IN_BLOCK from HEAP engine

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused BLACKHOLE_MAX_KEY_SEG define from blackhole engine

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused MY_RESOLVE_LINK define from mysys

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused clear_alloc_root() macro from mysys

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_fill_cache(), my_b_get_bytes_in_buffer() and my_b_get_pos_in_file() macros from mysys

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_checkmalloc() from mysys

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused hash_init2() and hash_clear() macros

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_init_dynamic_array2() and my_init_dynamic_array2_ci() macros

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused defines in structs.h: REG_MAKE_DUPP etc. Old UNIREG defines.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove some unused defines from sql_base.h to do with FRM.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove some unused defines from sql_base.h, probably to do with partitioning: NORMAL_PART_NAME, TEMP_PART_NAME, RENAMED_PART_NAME

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused extra_size define in drizzled/session.cc - no idea what this was originally for, what with the excellent name and obviousness of it all.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused ushortget() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused int4net() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused float4store() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused uint5korr() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused UDF_ALLOC_BLOCK_SIZE as no more UDF, just loadable functions.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_PASSWORD_LENGTH define. This is all the responsibility of a plugin now.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused STORAGE_TYPE_MASK define. No idea at all what this did.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused DEFAULT_KEY_CACHE_NAME define. We only have one key cache for myisam now.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused CHANGE_FRM define. Was originally used for something weird and probably not at all crash safe.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_float8store() macros from myisampack.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_uint1korr() macros from myisampack.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_float8store() macros from myisampack.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_float4store() macros from myisampack.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused UNUSED_CLIENT_PROTOCOL_41 define from oldlibdrizzle

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused net_new_transaction macro from oldlibdrizzle

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused VIO_LOCALHOST define from oldlibdrizzle

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused CLIENT_NET_READ_TIMEOUT and CLIENT_NET_WRITE_TIMEOUT define from oldlibdrizzle plugin

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused LOCAL_INFILE_ERROR_LEN define from oldlibdrizzle plugin

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove old SCRAMBLED_PASSWORD_CHAR_LENGTH defines.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused LOCAL_HOST_NAMEDPIPE define. Think was for Win32.

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_NAMELEN define

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove completely unused CHSIZE_USED define

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_OPTION_PAGE_CHECKSUM define

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_OPTION_NULL_FIELDS define.... unused for a rather long time

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused define: MASK_ANSI_QUOTES from drizzledump

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused define: DRIZZLE_DEFALUT_INPUT_LINE

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused myisam recover definitions, typelib and default value

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove some unused PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP related things as errorcheck mutexes are never used (and haven't been since at least MySQL 4.1

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused define for THREAD_NAME_SIZE

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_OPTION_CREATE_FROM_ENGINE

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused USTRING_WITH_LEN() macro

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove old 'compat' define HA_EXTRA_PREPARE_FOR_DELETE

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused extra_size define in drizzled/user_var_entry.cc

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused TRANS_MEM_ROOT_BLOCK_SIZE and TRANS_MEM_ROOT_PREALLOC defines!

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused uint6korr() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused int6store() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused floatget() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused int5store() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused ulongget() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused hash_init_opt macro

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused PROFILE_ALLOC_BLOCK_SIZE and PREALLOC_SIZE #define

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused levelof() macro

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused ulongget() macro from korr.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused isthai() macro

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused thr_setconcurrency() macro

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove MY_HOW_OFTEN_TO_WRITE. Think this was a leftover from unireg. MyISAM has a 'how often to write' define that is defined to this, just put the value directly in myisamdef.h

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused MY_HOW_OFTEN_TO_ALARM (from unireg?)

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused FIELDFLAG_SUM

2009-10-20  Brian Aker  <brian@gaz>

	Adding test cases that came from SergP.

2009-10-20  Lee Bieber  <lbieber@dhcp-umpk18-111-94.SFBay.Sun.COM>

	Add test case for MySQL BUG #42742: crash in setup_sj_materialization, Copy_field::set
	If a semi-join strategy covers certain [first_table; last_table] range in join order, do reset the sj_strategy member for all tables within the range, except the first one.  Failure to do so caused EXPLAIN/execution code to try applying two strategies at once which would cause all kinds of undesired effects. 

2009-10-20  Brian Aker  <brian@gaz>

	Merge Jay.

2009-10-20  Jay Pipes  <jpipes@serialcoder>

	Style and doxygen cleanup ONLY.  Moves method documentation from source into header files.  Removes TAB characters and cleans up indentation.

2009-10-20  Jay Pipes  <jpipes@serialcoder>

	Style-only cleanups and doxygenation of TableList class and its members.

2009-10-19  Brian Aker  <brian@gaz>

	Adding in memcached_functions

2009-10-19  Patrick Galbraith  <patg@patg.net>

	Merge with Padraig's valgrind fix tree 

2009-10-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixes for various valgrind errors in the memcached functions.

2009-10-16  Monty Taylor  <mordred@inaugust.com>

	Made the memcached_functions run in distcheck and VPATH builds. Also made it so that the ports don't step on each other.

2009-10-16  Monty Taylor  <mordred@inaugust.com>

	Fixed merge-related errors, including libmemcached detection and header issues caught by cpplint.

2009-10-16  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2009-10-09  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Removing old tests.

2009-10-08  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Starting over with a fresh tree, moved in memcached functions.
	
	Memcached Functions for Drizzle. 
	
	All tests pass.

2009-10-18  Brian Aker  <brian@gaz>

	Merge Stewart

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	remove --disable-warnings in func_in_null_scan.test

2009-10-19  Stewart Smith  <stewart@flamingspork.com>

	use MyISAM for tests so results for EXPLAIN are deterministic

2009-10-12  gshchepa@mysql.com

	MySQL Bug #44139: Table scan when NULL appears in IN clause
	
	fixed in MySQL by Gleb, merged into Drizzle by Stewart
	
	SELECT ... WHERE ... IN (NULL, ...) does full table scan,
	even if the same query without the NULL uses efficient range scan.
	
	The bugfix for the bug 18360 introduced an optimization:
	if
	1) all right-hand arguments of the IN function are constants
	2) result types of all right argument items are compatible
	enough to use the same single comparison function to
	compare all of them to the left argument,
	
	then
	
	we can convert the right-hand list of constant items to an array
	of equally-typed constant values for the further
	QUICK index access etc. (see Item_func_in::fix_length_and_dec()).
	
	The Item_null constant item objects have STRING_RESULT
	result types, so, as far as Item_func_in::fix_length_and_dec() 
	is aware of NULLs in the right list, this improvement efficiently 
	optimizes IN function calls with a mixed right list of NULLs and 
	string constants. However, the optimization doesn't affect mixed
	lists of NULLs and integers, floats etc., because there is no
	unique common comparator.
	
	
	New optimization has been added to ignore the result type
	of NULL constants in the static analysis of mixed right-hand lists.
	This is safe, because at the execution phase we care about
	presence of NULLs anyway.
	
	1. The collect_cmp_types() function has been modified to optionally
	ignore NULL constants in the item list.
	2. NULL-skipping code of the Item_func_in::fix_length_and_dec()
	function has been modified to work not only with in_string
	vectors but with in_vectors of other types.
	@ mysql-test/r/func_in.result
	Added test case for the bug #44139.
	@ mysql-test/t/func_in.test
	Added test case for the bug #44139.
	@ sql/item_cmpfunc.cc
	Bug #44139: Table scan when NULL appears in IN clause
	
	1. The collect_cmp_types() function has been modified to optionally
	ignore NULL constants in the item list.
	2. NULL-skipping code of the Item_func_in::fix_length_and_dec()
	function has been modified to work not only with in_string
	vectors but with in_vectors of other types.
	
	modified:
	mysql-test/r/func_in.result
	mysql-test/t/func_in.test
	sql/item_cmpfunc.cc

2009-10-12  Stewart Smith  <stewart@flamingspork.com>

	merge test case for bug

2009-04-08  Stewart Smith  <stewart@flamingspork.com>

	Add test for SELECT IN () with NULL producing bad query plan. See https://bugs.launchpad.net/drizzle/+bug/357560 and http://bugs.mysql.com/bug.php?id=44139

2009-10-18  Brian Aker  <brian@gaz>

	Merge Jay

2009-10-18  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug#453677 - Crash when selecting from information_schema.tables.
	
	The problem was simply poor coding.  There was an assignment call 
	within a function call:
	
	if (my_strcasecmp(system_charset_info, ext=strchr(file->name,'.'), ARZ) ||
	is_prefix(file->name, TMP_FILE_PREFIX))
	continue;
	*ext=0;
	
	The problem is that the ext variable will be NULL when datadir is a 
	directory containing a file which does not contain a dot.  This is a 
	pretty common scenario!  Changing the above code to this solved the 
	problem and makes the code clearer as well:
	
	ext= strchr(file->name, '.');
	
	if (ext != NULL)
	{
	if (my_strcasecmp(system_charset_info, ext, ARZ) || 
	is_prefix(file->name, TMP_FILE_PREFIX))
	continue;
	*ext= 0;
	}

2009-10-18  Brian Aker  <brian@gaz>

	Merge of Monty

2009-10-18  Monty Taylor  <mordred@inaugust.com>

	Fixed an issue in the run_cpplint driver script. Fixes the maramba build.

2009-10-16  Brian Aker  <brian@gaz>

	Merge Engine changes.

2009-10-15  Brian Aker  <brian@gaz>

	Minor interface bits around Cursor.

2009-10-15  Brian Aker  <brian@gaz>

	Remove dead external_lock calls.

2009-10-15  Brian Aker  <brian@gaz>

	Rename of handler to Cursor.  You would not believe how long I have wanted
	to do that.

2009-10-15  Brian Aker  <brian@gaz>

	Rework interface pieces on SE (sort of... dumb ones...)

2009-10-15  Brian Aker  <brian@gaz>

	Merge memory

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Added two more checks from cpplint. Added BSD license header for crc files. 

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Changed warning text.

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Removed old unused cpplint.sh driver file.

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Moved extra checks in the shell script into cpplint for a single pass through the tree.

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Moved checks for inclusion of config.h in headers to cpplint. Made the test running cpplint more general.

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Fied check_include_guards for distcheck.

2009-10-15  Monty Taylor  <mordred@inaugust.com>

	Merged in trunk.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of includes that sun studio found.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Fixed a missing std:: on transform.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Fixed the make call of check_include_guards for distcheck.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Made people use my ack options for this script.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Fixed the script to not assume people are using my ack settings.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded const_cast<> ... you can pass non-const objects to const API - just not the other way around.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged up with build.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged latest from plugin-base-class.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Removed runtime active flag from plugin::Plugin. Put a runtime enabled flag on CommandApplier and CommandReplicator - we can refactor this down into plugin::Plugin later if we need to.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Added check for using namespace in headers.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Fixed an equals sign issue on a changed line.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Output positive test status too.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged with latest.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Fixing is_active to be atomic.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Moved heapdef.h and myisamdef.h to *_priv.h for easier filtering for include guard check.
	Added check_include_guards to make check so that test run will fail on incorrect include guards or use of global.h or server_includes.h from the wrong place.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Removed global.h from non-private headers.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Removed global.h from headers.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	No more server_includes.h in headers.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Removed server_includes.h from join_cache.h

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Removed more server_includes.h from headers.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Removed more instances of including server_includes.h from headers.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Added missing include guards. Removed server_includes.h from header.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Merged latest plugin-base-class.

2009-10-01  Monty Taylor  <mordred@inaugust.com>

	Merged latest plugin-base-class.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Small namespace cleanup.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Merged in plugin base class work.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Moved the last three methods from plugin/storage_engine.cc to be static methods on StorageEngine.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Merged in latest plugin-slot-reorg.

2009-09-27  Monty Taylor  <mordred@inaugust.com>

	Merged up with latest plugin-slot-reorg.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Finished cleaning namespaces in drizzled/statement

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	using namespace drizzled; to namespace drizzled { in statement/

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Renamed drizzled::Registry to drizzled::NameMap to reduce confusion.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Cleaned up service namespacing.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Wrapped table_proto_write.cc code in namespace drizzled.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Merged latest plugin-slot-reorg changes.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Merged in latest plugin-slot-reorg.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Removed use of using namespace std; from a header.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Fixed multi_malloc.h include guard.
	Added include guard checking script.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Merged in tree-wide include guard fixes and some header cleanup.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Header cleanup.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Removed the silly my_ptrdiff_t typedef.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Add the cpplint.sh file to run across the whole thing.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Fixed all of the include guards.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Changed header guard naming and detection.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Removed the runtime/references check, because our rules are different.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Fixed a few things found by run off cpplint.py

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Added cpplint.py from Google.

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Killed some dead code.

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Two more cleanups.

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Updated the uncrustify style config. Much, much closer now.

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Added missing copyright headers. Added drizzled/global.h to a few things that 
	were missing it. Added a couple of more excludes from clean_source.sh.

2009-08-27  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of little things that uncrustify didn't like.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Fixed some include guards.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-slot-reorg.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Moved multi_malloc into drizzled since it's not going away any time soon. Also,
	cleaned it up a bit.

2009-10-14  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Another plugin.am cleanup.

2009-10-14  Monty Taylor  <mordred@inaugust.com>

	Fixed a distcheck problem.

2009-10-13  Monty Taylor  <mordred@inaugust.com>

	Fixed Pause test.

2009-10-13  Monty Taylor  <mordred@inaugust.com>

	Merged from build.

2009-10-13  Brian Aker  <brian@gaz>

	MErge Innodb (plus Solaris fixes)

2009-10-13  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build errors in InnoDB

2009-10-13  Monty Taylor  <mordred@inaugust.com>

	Must test comparison for strict sun studio.

2009-10-13  Brian Aker  <brian@gaz>

	Updated Innodb

2009-10-13  Monty Taylor  <mordred@inaugust.com>

	Fixed plugin.ac file. (I hope)

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-09-23  Monty Taylor  <mordred@inaugust.com>

	Merged Diego from lp:~diego-fmpwizard/drizzle/innodb-plugin-merge-fixes

2009-09-11  Diego Medina  <diego.medina@sun.com>

	Added missing defined()

2009-09-03  Monty Taylor  <mordred@inaugust.com>

	A few cleanups for sending back upstream.

2009-08-17  Monty Taylor  <mordred@inaugust.com>

	"Fixed" the deadlock test. I'd still like someone to look at what's going on here.

2009-08-17  Monty Taylor  <mordred@inaugust.com>

	Merged InnoDB Plugin 1.0.4

2009-08-11  Monty Taylor  <mordred@inaugust.com>

	InnoDB Plugin 1.0.4

2009-10-12  Brian Aker  <brian@gaz>

	Minor Merge

2009-10-12  Diego Medina  <diego.medina@sun.com>

	* Fixed comment format

2009-10-12  Brian Aker  <brian@gaz>

	Merge Monty, default class.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Fixed merge omission in DefaultReplicator (thanks Jay!)

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-10-12  Monty Taylor  <mordred@inaugust.com>

	Merged isActive and isEnabled.

2009-10-10  Monty Taylor  <mordred@inaugust.com>

	Additional changes to command_log to work with how jay was using active/enable.

2009-10-10  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build issues.

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Added in public specifier ... Sun Studio really is better at catching mistakes, ins't it?

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-10-07  Brian Aker  <brian@gaz>

	Merge default plugin.

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Fixed an extra }

2009-10-02  Monty Taylor  <mordred@inaugust.com>

	Cleaned up the constructor initializer lists per Brian.

2009-10-02  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-10-01  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Fixed a quick style thing.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Replaced an array with a vector. Check it out - it removes a valgrind warning. Win one for the STL.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Removed a free that I'd added. Looks like I was wrong.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Added Virtual destructor (ooops.) Also removed some left over now-unused methods.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Fixed test problem. (Thanks Padraig!)

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Merged latest changes from plugin-slot-reorg.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Merged up with plugin-slot-reorg.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Merged in latest plugin-slot-reorg.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Some carnage. I'm sure it'll need fixed.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Merged in slot -> service changes.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Made Listen into a Plugin.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Added support for the global list of plugin::Plugin objects to slot::Function

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Introduced plugin::Plugin class. Made Function use it.

2009-10-12  Brian Aker  <brian@gaz>

	Merge Diego Medina

2009-10-11  Diego Medina  <diego.medina@sun.com>

	Removed changes to vio.cc

2009-10-09  Diego Medina  <diego.medina@sun.com>

	* Fixed LP bug#436685
	Drizzle crash when shutting down while having queries waiting on row locks

2009-10-11  Brian Aker  <brian@gaz>

	Merge Stewart

2009-10-12  Stewart Smith  <stewart@flamingspork.com>

	merge lp:drizzle/build

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	option_error_reporter needs to be extern C as is used as callback for C code

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	table_def_key needs to be extern C as is used as callback for C code

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove dead check_data_home() - it did nothing

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	extern C needs prototypes

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	handle_segfault needs to be extern C as is used as callback for C code

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	my_message_sql needs to be extern C as is used as callback for C code

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	print_signal_warning needs to be extern C as is used as callback for C code

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudioa needs extern C for C callbacks

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudioa needs extern C, and gcc needs it with prototype (sql_alloc.cc)

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudioa needs extern C, and gcc needs it with prototype

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudioa needs extern C, for drizzled/sql_alloc.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudio needs extern C

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudio needs extern C for things passed aronud

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudio extern C fixes for azio.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudio extern C fixes for my_getopt.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	SunStudio extern C fixes for mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make change_key_cache_param() static to plugin/myisam/mf_keycache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make client_errors[] static to oldlibdrizzle/errmsg.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make hp_clear_keys() static to hp_clear.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused heap_clear_keys()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make heap_clear_keys() static to heap/hp_clear.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzleclient_net_should_close() from oldlibdrizzle

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make drizzleclient_net_realloc() static to plugin/oldlibdrizzle/net_serv.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make drizzleclient_net_real_write() static to plugin/oldlibdrizzle/net_serv.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make drizzleclient_net_local_init() static to plugin/oldlibdrizzle/net_serv.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_safe_write()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make my_b_append() static to mysys/mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make _my_b_write() static to mysys/mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make static int _my_b_seq_read(register IO_CACHE *info, unsigned char *Buffer, size_t Count)() static to mysys/mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make _my_b_read_r() static to mysys/mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make _my_b_read() static to mysys/mf_iocache.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make get_one_option static to drizzledump.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make compatible_mode_typelib static to drizzledump.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make compatible_mode_names static to drizzledump.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_getopt_register_get_addr()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove my_getopt_print_errors, it was always set to true anyway.

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make default_reporter() static in mysys/my_getopt.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_copy_with_hex_escaping()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused tree_search() from mysys/my_tree.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make allocate_dynamic() static to mysys/dynamic_array.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make my_n_base_info_read() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make mi_uniquedef_read() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make mi_state_info_read() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make mi_safe_mul() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make mi_recinfo_read() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make static unsigned char *mi_keyseg_read(unsigned char *ptr, HA_KEYSEG *keyseg)() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make mi_keydef_read() static to myisam/mi_open.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_rsame_with_pos() and its now empty plugin/myisam/mi_rsamepos.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_dup.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make myisam_recover_typelib static to ha_myisam.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make myisam_recover_names static to ha_myisam.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make system_filename() static to mysys/mf_pack.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make cleanup_dirname() static to mysys/mf_pack.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused base64 implementation in mysys

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make table_def_key() static to table_share.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make show_var_cmp() static in drizzled/show.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused mysys sha1 implementation

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove now unused file mysys/mf_iocache2.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_append_tell()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_vprintf()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_seek()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_safe_tell()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_printf()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_gets()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_fill()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_filelength()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_b_copy_to_file()

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make my_b_append_tell() static to mysys/mf_iocache2.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make my_time_to_str() static to mysys/my_time.cc

2009-10-09  Stewart Smith  <stewart@flamingspork.com>

	make static int check_time_range(DRIZZLE_TIME *my_time, int *warning)() static to mysys/my_time.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make TIME_to_uint64_t_time() static to mysys/my_time.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make TIME_to_uint64_t_date() static to mysys/my_time.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make hp_key_cmp static to plugin/heap/hp_hash.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused decimal_size()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_decimal_size()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove dead prototype for multi_keycache_init()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove dead prototype for multi_keycache_free()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove dead prototype for multi_key_cache_set()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove dead prototype for multi_key_cache_search()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove dead prototype for multi_key_cache_change()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove now empty plugin/myisam/mi_changed.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_is_changed

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make my_thread_end_wait_time just local to mysys/my_thr_init.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_thread_dbug_id()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make get_one_option() static to archive/archive_reader.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove prototype for non-existent my_free_open_file_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make directory_file_name() static to mysys/my_lib.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make thr_upgraded_concurrent_insert_lock static to mysys/thr_lock.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make thr_unlock() static to mysys/thr_lock.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make thr_lock() static to mysys/thr_lock.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused trg_new_row_fake_var

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make sql_alloc_error_handler() static to drizzled/sql_alloc.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make status_vars static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make print_signal_warning() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make option_error_reporter() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make my_message_sql() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make handle_segfault() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make end_thread_signal() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make drizzled_get_one_option() static to drizzled/drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make run_task() static to archive/azio.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make com_status_vars array static to drizzled.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make azread_internal() static to archive/azio.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_merge_key_varlen() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_merge_key() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_keys_varlen() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_keys() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_key() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make write_index() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make read_to_buffer_varlen() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make read_to_buffer() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make merge_many_buff() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make merge_index() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make merge_buffers() static to myisam/sort.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	find_all_keys() static to myisam/sort.cc (luckily the filesort one was static, otherwise....)

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove now empty plugin/myisam/mi_keycache.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_change_key_cache()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused mi_assign_to_key_cache()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make drizzleclient_my_rnd() static to oldlibdrizzle/password.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzleclient_drizzleclient_hash_password() from oldlibdrizzle

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzleclient_drizzleclient_octet2hex() from oldlibdrizzle

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_hash_reset from mysys/hash.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused hash_update from mysys/hash.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused hash_replace from mysys/hash.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make read_test() static for archive_performance

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make timedif static for archive_performance

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make generate_data static for archive_performance

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused test_if_data_home_dir()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused is_update_query()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make mysql_parse static to sql_parse.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	make parse_sql static to sql_parse.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_use_result()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_thread_id()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_sqlstate()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_shutdown()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_row_tell()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_row_seek()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_rollback()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_read_query_result()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_query()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_ping()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_next_result()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle append_wild()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_more_results()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_list_tables()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_insert_id()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_get_server_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_get_proto_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_get_host_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_get_client_version()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_get_client_info()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_field_tell()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_field_seek()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_field_count()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_fetch_fields() and friends

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_escape_string()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_eof()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_data_seek()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_commit()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_autocommit()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused oldlibdrizzle drizzleclient_affected_rows()

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused drizzleclient_warning_count function

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_tz_free

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused interval_type_to_name LEX_STRING map

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused calc_time_from_sec

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_time_compare

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused make_time

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_tz_OFFSET0

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	don't even think of mucking around with opt_range.cc it burns like... burny things

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_tz_UTC

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused hp_hashnr impl, and the remaining (used) one can be made static to hp_hash.cc

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	opt_range.cc get_quick_keys can be static

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused my_time_possible_from_micro

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused find_string_in_array

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused unhex_type2

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused check_word

2009-10-08  Stewart Smith  <stewart@flamingspork.com>

	remove unused decimal_result_size

2009-10-09  Brian Aker  <brian@gaz>

	Merge Diego

2009-10-05  Diego Medina  <diego.medina@sun.com>

	uncommented a call to reset_diagnostics_area()

2009-10-05  Diego Medina  <diego.medina@sun.com>

	resolved small merge issue

2009-10-04  Diego Medina  <diego.medina@sun.com>

	* On certain UPDATE and DELETE statements, drizzled failed an assert() in 
	Diagnostic_area.
	** Fixed by resetting m_status after "delete select"
	* Fixed LP bug#439719
	* Added test case

2009-10-09  Brian Aker  <brian@gaz>

	Collection of merges from me.

2009-10-09  Brian Aker  <brian@gaz>

	Merge delete work.

2009-10-07  Brian Aker  <brian@gaz>

	Fix naming conventions.

2009-10-07  Brian Aker  <brian@gaz>

	Remove ha_drop_table and modify it just to be a signal for the one case
	where a table needs to be closed/then told it is about to be dropped.

2009-10-07  Brian Aker  <brian@gaz>

	Minor fix for archive (it didn't need to call the main deleteTable interface
	internally).

2009-10-07  Brian Aker  <brian@gaz>

	Remove worthless call (ok... for not current replication system).

2009-10-07  Brian Aker  <brian@gaz>

	Add in support for ENGINE= in create table like.

2009-10-08  Brian Aker  <brian@gaz>

	Merge 32bit failures

2009-10-08  Jay Pipes  <jpipes@serialcoder>

	Fix build failures on solaris and PPC for bit shift alignment and size_t -> int implicit conversion

2009-10-08  Brian Aker  <brian@gaz>

	Single line fix for 32bit open solaris

2009-10-08  Brian Aker  <brian@gaz>

	Merge monty

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Quick fix for the protobuf related build failures.

2009-10-08  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Merged build.

2009-10-07  Monty Taylor  <mordred@inaugust.com>

	Fixed an accidental logic error that caused any plugin which was availble to be built to be automatically enabled/builtin.

2009-10-07  Brian Aker  <brian@gaz>

	Update to delete table to centralize the replication logic.

2009-10-07  Brian Aker  <brian@gaz>

	Merge Padraig

2009-10-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for bug 444827. 
	
	A variable of type uint32_t was being initialized to NULL when in fact it
	should have been initialized to 0.

2009-10-07  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_BIT

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_INT8

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_NUM

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_FLOAT

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_INT24

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_USHORT_INT

2009-10-06  Stewart Smith  <stewart@flamingspork.com>

	remove unused HA_KEYTYPE_SHORT_INT

2009-10-07  Brian Aker  <brian@gaz>

	Merge Eric

2009-10-07  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-10-07  Eric Day  <eday@oddments.org>

	Added net_buffer_length tests back in as oldlibdrizzle_buffer_length tests.

2009-09-23  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-09-23  Eric Day  <eday@oddments.org>

	Client/Listen cleanup, moved globals, console plugin cleanup.

2009-10-06  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-06  Monty Taylor  <mordred@inaugust.com>

	Added Doxyfile to files put in tarball - lack of it was making generating docs in debian package pretty darned difficult.

2009-10-06  Brian Aker  <brian@gaz>

	Merging Padraig

2009-10-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Ok, I have to take back my attacks on OSX. Turns out the problem was related
	to the previous commit. Once that issue as fixed, things worked as
	expected...so I guess its not the fault of OSX...although I'm still not a
	fan and its more fun to blame OSX for my problems...

2009-10-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed the issue with system variables on Fedora. Turns out the save variable
	passed to the update function actually needs to be *set* in the validate
	function.

2009-10-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	I hate OSX....
	
	For some reason, updating a system variable on OSX as follows does not work:
	
	*var_ptr= sys_var_string.c_str();
	
	*but* the following works:
	
	const char *ptr= sys_var_string.c_str();
	*var_ptr= ptr;
	
	awesome...just awesome...

2009-10-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the memcached I_S tables plugin to conform to the new work that
	Monty has pushed regarding plugins.

2009-10-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with trunk.

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the information_schema test so that we do not include the memcached
	I_S tables in the queries that were already present. Basically, we added an
	extra condition to the WHERE clause to exclude any memcached related I_S
	tables so that the information_schema test case is always consistent no
	matter whether the memcached I_S tables plugin is built or not.

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a test suite for the memcached stats I_S tables. The test suite is
	pretty simple at the moment.

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the init and deinit method to return the correct type (int instead
	of bool).

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the BSD header to actually have my name instead of capttofu's!

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the memcached analysis table so that it returns an empty result if
	no memcached server is specified.

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the default value for the memcached servers to be the empty string.

2009-10-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the licence to be BSD since I don't see why this would need to be GPL.

2009-09-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added support for system variables to set the memcached servers whose
	statistics we will lookup. Also added the files that I forgot to add with
	the last commit!

2009-09-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added another I_S table for memcached. This time added an I_S table for
	storing the results of a memcached analysis.

2009-09-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created plugin which simply adds I_S tables for querying memcached stats.

2009-10-06  Brian Aker  <brian@gaz>

	Merge Jay

2009-10-05  Jay Pipes  <jpipes@serialcoder>

	Based on IRC discussions with Brian, this patch reworks the Statement
	message to SQL transformation code by having multi-key Insert, Update, and
	Delete statements generate multiple SQL strings.  The transformStatementToSql()
	method now accepts a reference to a vector of strings, and when it finds a
	Statement message which should be converted to multiple SQL strings, it
	appends a transaction start and commit/rollback around the SQL strings which
	would compose an atomic unit of change.
	
	See the transaction_writer.cc and transaction_reader.cc program updates for
	example code of how the new library interface works.

2009-10-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-10-03  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-10-03  Jay Pipes  <jpipes@serialcoder>

	New transaction proto file containing message definitions to be
	used in new replication system, which supports group commit behaviour.
	
	New statement_transform library files with utility methods used in 
	converting transaction messages into SQL strings.
	
	Update transaction_reader and transaction_writer programs to use
	CodedOutput and CodedInputStream from GPB library and got rid of 
	calls to korr.h macros entirely.

2009-10-01  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-09-29  Jay Pipes  <jpipes@serialcoder>

	Merging fix for bug 437896

2009-09-29  Jay Pipes  <jpipes@serialcoder>

	Merging command2sql library work.

2009-10-06  Brian Aker  <brian@gaz>

	SE cleanup interface.

2009-10-06  Brian Aker  <brian@gaz>

	Final parser SE removal.

2009-10-03  Brian Aker  <brian@gaz>

	Style cleanup. Removed dead function declarations.

2009-10-03  Brian Aker  <brian@gaz>

	Remove engine lookup from parser for show engine... now occurs during
	exection.
	
	Parser, as parser... crazy notion.

2009-10-02  Brian Aker  <brian@gaz>

	Factor out ha_show_status to command.

2009-10-02  Brian Aker  <brian@gaz>

	Refactor SE createTable back to engine class.

2009-10-04  Brian Aker  <brian@gaz>

	Small cleanup.

2009-10-04  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-10-02  Stewart Smith  <stewart@flamingspork.com>

	whitespace fixes... damn lack of good yacc emacs mode

2009-10-03  Brian Aker  <brian@gaz>

	Merge Stewart

2009-09-30  Stewart Smith  <stewart@flamingspork.com>

	remove unused MAX_(SMALL|MEDIUM)INT_WIDTH defines

2009-10-02  Brian Aker  <brian@gaz>

	NULL commit

2009-10-02  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-10-01  Stewart Smith  <stewart@flamingspork.com>

	be mtaylor style pedantic on casts

2009-10-01  Stewart Smith  <stewart@flamingspork.com>

	fix memleak in QUICK_RANGE_SELECT of the column_bitmap. Put it (along with where everything else goes) in the mem_root for the object.

2009-10-02  Brian Aker  <brian@gaz>

	Merge Monty

2009-10-01  Monty Taylor  <mordred@inaugust.com>

	When you modify the test file, some times it's helpful to modify the result file. :)

2009-10-01  Monty Taylor  <mordred@inaugust.com>

	Fixed up drizzletest.cc

2009-09-26  Monty Taylor  <mordred@inaugust.com>

	Append opt_testdir to result files being required.

2009-09-26  Monty Taylor  <mordred@inaugust.com>

	We don't have tables upgraded from 4.1, nor do we have .frm files... so this isn't really testing anything. Well, I suppose it's testing that copying a .frm file doesn't magically cause a table to appear.

2009-10-02  Brian Aker  <brian@gaz>

	Merge of Padraig

2009-09-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Ugh, so it turns out that the default_implementation and
	current_implementation pointers can both be pointing to the same thing when
	we enter the constructor. Thus, we can't just blindly delete them or we get
	a nice old segfault on numerous test cases. So I added a simple conditional
	to check if the pointers are the same...not pretty but it will do for now.
	Maybe, we should think about re-designing a little bit in this class?

2009-09-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a delete in the TableNameIterator constructor

2009-10-02  Brian Aker  <brian@gaz>

	Fix for OS-X

2009-10-02  Monty Taylor  <mordred@inaugust.com>

	Fixed bad assumption about non-Snow Leopard.

2009-10-02  Brian Aker  <brian@gaz>

	Brian Aker 2009-10-02 [merge] Patrick + leak fix +test fix by Brian

2009-10-02  Brian Aker  <brian@gaz>

	Patrick + leak fix +test fix by Brian

2009-09-30  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Changed LOCK_sleep to be a private, class member, making 
	the lock local per Brian's review.

2009-09-30  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Ok, sorry for confusion on license issues. sleep is derived, so needs
	to have Sun in Copyright and also be GPL

2009-09-28  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Change license to BSD

2009-09-26  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Fixed copywrite stuffs

2009-09-22  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Some changes per review

2009-09-19  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	More merge goodness.

2009-09-19  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Merge with main branch, modification to sleep plugin

2009-08-21  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Style fixes, removed non-needed stuffs

2009-08-15  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Merged sleep() branch with main.

2009-08-14  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	So, I did say I would get to sleep() on the the plane to Seattle ;)
	
	* implemented sleep(), this time using a mutex to ensure thread-safe
	* This also takes decimal values
	* Scavenged some code from MySQL's sleep() function

2009-07-31  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Added sleep() tests

2009-07-31  Patrick Galbraith  <patg@patrick-galbraiths-macbook-pro.local>

	Drizzle can now sleep!

2009-10-01  Brian Aker  <brian@gaz>

	Merge refactoring job of Monty + Brian on plugin code.

2009-10-02  Brian Aker  <brian@gaz>

	Merge Monty + Brian for plugins.

2009-10-02  Brian Aker  <brian@gaz>

	Fix for shadow issues.

2009-10-01  Brian Aker  <brian@gaz>

	Fix/update plugin bits

2009-10-01  Brian Aker  <brian@gaz>

	Remove Factory/make scheduler work like everything else.

2009-10-01  Brian Aker  <brian@gaz>

	Remove wrappers from SE

2009-10-01  Brian Aker  <brian@gaz>

	refactored drizzled::plugin::StorageEngine::flushLogs()

2009-10-01  Brian Aker  <brian@gaz>

	First pass through Monty's engine patch for removing dead abstraction

2009-09-30  Brian Aker  <brian@gaz>

	Merge Monty

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Added error reporting to plugin registration. 

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Changed ::add() and ::remove() to ::addPlugin() and ::removePlugin() so that
	we don't co-opt useful names "add" and "remove".

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Fixed query_cache naming.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Fixed naming issue.

2009-09-30  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Merged in trunk.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Moved some simple methods back into header to they can be inlined. Removed a couple wrapper methods.

2009-09-29  Monty Taylor  <mordred@inaugust.com>

	Moved service stuff into plugin/

2009-09-27  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Renamed namespace slot to namespace service.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Changed some plugins from including slots to include plugins. Oops.

2009-09-25  Monty Taylor  <mordred@inaugust.com>

	Added polymorphic add/remove methods around slot add/remove methods.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Renamed plugin::InfoSchema to plugin::InfoSchemaTable as per Jay.

2009-09-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-09-23  Monty Taylor  <mordred@inaugust.com>

	Split StorageEngine into slot. This completes the plugin-slot-reorg. Woot.
	Next step - getting slot registration to inject a plugin reference into a
	registry so that we can make I_S.PLUGINS stop being broken.

2009-09-23  Monty Taylor  <mordred@inaugust.com>

	Moved StorageEngine into plugin namespace.

2009-09-23  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Re-org'd the replication stuff into slots.

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	Merged in plugin-slot-reorg patches.

2009-10-01  Brian Aker  <brian@gaz>

	Merging Monty

2009-09-30  Monty Taylor  <monty@inaugust.com>

	Workaround for half-present new-interface on Snow Leopard, combined
	with a type-mismatch in their headers.

2009-10-01  Brian Aker  <brian@gaz>

	Fix for memory leak (go Stewart!)

2009-10-01  Stewart Smith  <stewart@flamingspork.com>

	when creating ReplaceSelect object, need to free previous Replace object, else memory leak (e.g. flush.test).

2009-10-01  Stewart Smith  <stewart@flamingspork.com>

	when creating InsertSelect object, need to free previous Insert object, else memory leak.

2009-09-30  Brian Aker  <brian@gaz>

	Merge Stewarts cleanup for proto on tinyint

2009-09-30  Stewart Smith  <stewart@flamingspork.com>

	remove TINYINT from table proto (but not fully from the server)

2009-09-30  Stewart Smith  <stewart@flamingspork.com>

	remove unused connect_string from table proto

2009-09-30  Stewart Smith  <stewart@flamingspork.com>

	remove VIRTUAL type from table proto

2009-09-30  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-09-30  Stewart Smith  <stewart@flamingspork.com>

	remove unused Item_param (left over from prepared statements)

2009-09-30  Brian Aker  <brian@gaz>

	Merge Eric

2009-09-30  Eric Day  <eday@oddments.org>

	Argh, NULL not defined for test, no std headers. Switched function to check.

2009-09-30  Eric Day  <eday@oddments.org>

	Switched libgearman 0.10 check to another new function.

2009-09-30  Eric Day  <eday@oddments.org>

	Updated m4 to require 0.10 release of libgearman.

2009-09-29  Eric Day  <eday@oddments.org>

	Updated Gearman UDF to work with gearmand-0.10 release.

2009-09-29  Brian Aker  <brian@gaz>

	Bug fix Diego

2009-09-29  Diego Medina  <diego.medina@sun.com>

	* Fixes bug#438852   
	** variables test fails as of build 1144 on linux 32 bit machines
	** Some linux systems use i686 to indicate they are 32-bit

2009-09-29  Brian Aker  <brian@gaz>

	Update from Jay.

2009-09-29  Jay Pipes  <jpipes@serialcoder>

	Fix for bug#437896.  Adds a non-ZLIB crc32 hash function taken from PostgreSQL/libmemcached and fixes casting problems in command_log and command_log_reader.

2009-09-29  Brian Aker  <brian@gaz>

	Update to po files.

2009-09-29  Brian Aker  <brian@gaz>

	Merge Jay

2009-09-29  Jay Pipes  <jpipes@serialcoder>

	Fix incorrect Makefile additions for command_transform.h/cc

2009-09-24  Jay Pipes  <jpipes@serialcoder>

	Merge trunK

2009-09-24  Jay Pipes  <jpipes@serialcoder>

	Adds a new library interface for converting Command GPB messages
	into SQL strings.  This code was duplicated in a few places in the 
	new publisher branch, and Eric Lambert's work on the Java and Gearmna
	replicators can use this new library code.
	
	Replaces the command_reader.cc's SQL string contruction with
	calls to the new command_transform.h API.
	
	Fixes valgrind warnings in the filtered_replicator module that
	were copmlaining about uninitialized values.  This was producing
	an occasional core dump on my machine when running the filtered_replicator
	test case in the command_log suite.
	
	Test results are updated to the new output SQL format, which does not
	inject spaces after commas in field and value lists and also uses the 
	ANSI standard single quote instead of double quotes for value encasing.

2009-09-22  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-09-29  Brian Aker  <brian@gaz>

	Merge Stewart

2009-09-28  Stewart Smith  <stewart@flamingspork.com>

	fix up decimals type to be uint8_t throughout and check that value in the proto is valid for what the server can currently handle

2009-09-24  Stewart Smith  <stewart@flamingspork.com>

	remove pack_flag from table.proto

2009-09-24  Stewart Smith  <stewart@flamingspork.com>

	don't use pack_flag in make_field for creating Field_blob; instead use what we always encode it to (a DRIZZLE_TYPE_LONG) to calc_pack_length for creating the field. Currently have an assert for making sure this is correct. next patch, remove assert and storage of pack_flag in proto.

2009-09-24  Stewart Smith  <stewart@flamingspork.com>

	remove DECIMAL_FLAG, FIELDFLAG_DECIMAL_POSITION and f_is_decimal_precision all related to pack_flag and all effectively unused.

2009-09-23  Stewart Smith  <stewart@flamingspork.com>

	Fix maybe_null for CreateField created for temp table in item/sum.cc (Item_sum_distinct)
	which was causing valgrind warning on linux x86 and sum_distinct test failures on
	Solaris sparc.

2009-09-22  Stewart Smith  <stewart@flamingspork.com>

	merge with trunk

2009-09-22  Stewart Smith  <stewart@flamingspork.com>

	don't store decimal/double scale in pack_flag, instead use the numeric option scale field in the table proto. This removes f_decimals() macro and the bits in the pack_flag for scale.

2009-08-26  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts.

2009-08-26  Jay Pipes  <jpipes@serialcoder>

	Style cleanups after review. Thanks Monty :)

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	First phase removal of MTYP_TYPENR() macro.  This removes the unireg_check argument for all Field types where it is irrelevant (everything but numeric types and timestamp.

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	Removes f_is_packed() macro and FIELDFLAG_PACK

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	Removes FIELDFLAG_MAYBE_NULL and f_maybe_null() macro.

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	Style cleanup in parse_table_proto() to help with my sanity.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Fixes incorrect non-setup of optional scale and precision arguments for DOUBLE in proto.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Removes FIELDFLAG_BINARY and the useless f_is_binary() macro.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Removes the FIELDFLAG_DECIMAL, the f_is_dec() macro, and unscrews the unsigned flag in various places.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Removes FIELDFLAG_NUMBER, f_is_num() and f_is_alpha() macros.  Buh bye.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Removes the FIELDFLAG_NO_DEFAULT bit and f_no_default macro and calls

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Final removal of FIELDFLAG_BLOB.  This removes the incorrect and silly comparison of a packflag blob bit against the key_type's algorithm enum...

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Phase I removal of FIELDFLAG_BLOB.  This is a piece of poop.

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Removes ENUM FIELDFLAG (interval), the unused f_is_equ poop, and the FIELDFLAG_HEX_CHAR unused flag

2009-09-28  Brian Aker  <brian@gaz>

	Merge Monty

2009-09-22  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.62 - cleaned up some copyright header mistakes. Merged in trond's innodb detection.

2009-09-27  Brian Aker  <brian@gaz>

	Merge Diego.

2009-08-25  Diego Medina  <diego.medina@sun.com>

	Renamed ER_WRONG_PARAMCOUNT_TO_NATIVE_FCT to ER_WRONG_PARAMCOUNT_TO_FUNCTION

2009-08-25  Diego Medina  <diego.medina@sun.com>

	*Implemented the blueprint
	https://blueprints.launchpad.net/drizzle/+spec/functions-plugins-consistent-errors
	
	** built-in functions and plugin udf functions should use the same error message for incorrect number of parameters.

2009-09-27  Brian Aker  <brian@gaz>

	Merge bug fix from Medina

2009-09-26  Diego Medina  <diego.medina@sun.com>

	finally fixed the 64-bit vs 32-bit test case

2009-09-27  Brian Aker  <brian@gaz>

	Merge language bits from Monty.

2009-09-23  Monty Taylor  <mordred@inaugust.com>

	Merged translations from launchpad.

2009-09-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-22  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-19  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-18  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-16  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-15  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-14  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-13  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-09  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-08  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-31  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-29  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-27  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-26  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-09-27  Brian Aker  <brian@gaz>

	Merge Monty (fix for distcheck)

2009-09-26  Monty Taylor  <mordred@inaugust.com>

	Fix for the distcheck build issue.

2009-09-27  Brian Aker  <brian@gaz>

	Merge Padraig

2009-09-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Some more changes based on feedback from Jay's review.

2009-09-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Small style cleanups from Jay's review.

2009-09-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed some style related issues Jay pointed out during code review.

2009-09-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-09-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Small formatting changes.

2009-09-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made all members of the KeyUse class private and provided appropriate
	accessors for these private data members.

2009-09-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted KeyUse into its own header file and placed it within the
	drizzled::optimizer namespace.

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made all data members of the KeyField class private and provided accessors
	when necessary.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the Field member of KeyField private.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-09-25  Brian Aker  <brian@gaz>

	Merge of Joe Daly's work

2009-09-16  Joe Daly  <skinny.moey@gmail.com>

	style changes

2009-09-16  Joe Daly  <skinny.moey@gmail.com>

	remove intermediate variable

2009-09-09  Joe Daly  <skinny.moey@gmail.com>

	Fix up spacing in various files, also had new style casts in several places

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	cast iarg to int32_t

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	change struct type to size_t as its dealing with memory allocation, this should be unsigned int and will eliminate many warnings

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	case error flag to int type

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	cast hash->blength from size_t to uint32_t

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	google protobuf expects google::protobuf::uint32, cast to this type

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	an implicit cast is done to int type when doing pointer arithmetic, cast this back to int_fast8_t

2009-09-08  Joe Daly  <skinny.moey@gmail.com>

	google protobuf expect int type

2009-09-25  Brian Aker  <brian@gaz>

	Merge Lee

2009-09-02  Lee Bieber  <lbieber@lee-biebers-macbook-pro.local>

	add clean-local target to remove lcov .gcno files.  Also remove if HAVE_LCOV section from Makefile.am and lcov checks from configure.ac as they are not used nor needed

2009-09-25  Brian Aker  <brian@gaz>

	Merge for bug fixes.

2009-09-25  Diego Medina  <diego.medina@sun.com>

	Enabled a hack to account for 32-bit vs 64-bit tests results 

2009-09-24  Diego Medina  <diego.medina@sun.com>

	* Fixed LP bug#435619
	** Protect error_message(code) from retrieving a negative index which causes a crash
	
	* When a new session starts, initialize query_length (this was another 
	crash on the logging_* plugins)(timing dependant) 

2009-09-21  Diego Medina  <diego.medina@sun.com>

	Fixed a crash that came after fixing lp bug#432210 if you call use <db_name> twice on a 
	disconnected session.

2009-09-21  Diego Medina  <diego.medina@sun.com>

	Fixes lp bug#432210
	* Only call com_rehash(NULL, NULL) if we are connected to a server and if the option to rehash is enabled.

2009-09-14  Diego Medina  <diego.medina@sun.com>

	reverted transaction_prealloc_size to an uint32_t
	fixed test case

2009-09-03  Diego Medina  <diego.medina@sun.com>

	*Fixed test case
	Expect warnings only on 32bit machines and disable warnings on 64bit machines
	(Not sure what SPARC will do)

2009-09-03  Diego Medina  <diego.medina@sun.com>

	Fixes bug #423502 -  Crash using logging_query plugin and drizzledump

2009-08-30  Diego Medina  <diego.medina@sun.com>

	Fixes bug #421345 - Crash when calling getQueryLength() on query = NULL

2009-08-27  Diego Medina  <diego.medina@sun.com>

	fixed test cases that now show warning for truncated values

2009-08-27  Diego Medina  <diego.medina@sun.com>

	Added missing { } for if statement

2009-08-27  Diego Medina  <diego.medina@sun.com>

	Fix for Bug #377826

2009-09-23  Brian Aker  <brian@gaz>

	Merge of Lex -> Statement refactoring

2009-09-23  Brian Aker  <brian@gaz>

	A few more cleanups.

2009-09-23  Brian Aker  <brian@gaz>

	More rework of Lex for "how tiny can she be..."
	
	For the next trick, we hope to eventually feed the parser "waffer thin mints".

2009-09-23  Brian Aker  <brian@gaz>

	A number of changes for LEx -> CreateTable

2009-09-22  Brian Aker  <brian@gaz>

	Remove KEY_CREATE_INFO from global lex.

2009-09-22  Brian Aker  <brian@gaz>

	Have CreateIndex inherit from CreateTable

2009-09-22  Brian Aker  <brian@gaz>

	Cleanup previous issues in create sql_yacc

2009-09-22  Brian Aker  <brian@gaz>

	Merge Schema create/alter

2009-09-22  Brian Aker  <brian@gaz>

	Remove legacy enum

2009-09-22  Brian Aker  <brian@gaz>

	AlterInfo refactor back to class.

2009-09-22  Brian Aker  <brian@gaz>

	Remove create_info from global

2009-09-21  Brian Aker  <brian@gaz>

	Refactor to remove Proto from global.

2009-09-18  Brian Aker  <brian@gaz>

	Remove check_opt from global lex structure.

2009-09-23  Brian Aker  <brian@gaz>

	Old message removal by Eric (no actual code has been harmed in the production of
	this patch...)

2009-09-23  Eric Day  <eday@oddments.org>

	Removed a few more purecov messages missed in merge.

2009-09-23  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-08-31  Eric Day  <eday@oddments.org>

	Removed purecov messages.

2009-09-23  Brian Aker  <brian@gaz>

	Merge of Jay

2009-09-21  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-09-21  Jay Pipes  <jpipes@serialcoder>

	Merge fixes from Trond and Padraig on dtrace probes.

2009-09-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trond.

2009-09-16  Trond Norbye  <trond.norbye@sun.com>

	Fix compilation with --enable-dtrace on MacOSX

2009-09-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated calls to some dtrace probes to cast the parameter to const char *
	appropriately. Also, removed the additional variable in places that I was
	using.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Merging in Padraig's enhancements to DTrace probes.  Nice work, Padraig

2009-09-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the char * arguments to the dtrace probes to be const and also added
	a sed hack to the generated_probes header file directive in the makefile to
	ensure that the function prototypes have const char * also.

2009-09-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a new header file to be included by files which want to insert dtrace
	probes. Thanks to ndnort for pointing out this to me on IRC.

2009-09-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the header file that is generated by dtrace during the build
	process. Updated the makefile to ensure the header file is generated before
	compiling source files that include it.

2009-09-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, simple fix for a build warning that happens if the build is not
	enabled for dtrace.

2009-09-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated pandora build 64 bit file to correctly build a dtrace probes object
	file.

2009-09-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing calls to the dtrace probes from the handler now due to issues with
	linking when dtrace is enabled. Need to chat with Monty on how to resolve this build issue.

2009-09-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various small build fixes for when dtrace is enabled.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the update related dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the select statement dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the parsing related dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the query execution start/end dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the network related dtrace probes for now.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the dtrace probes related to insertion.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the dtrace probes related to locks.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Deleted the multi-delete dtrace probe as we don't have that in drizzle.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the filesort dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the delete row start/done dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the dtrace delete begin/end probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added calls to the connection start/end dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the connection start probe and re-generated the dtrace header file.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Generated the header file for the dtrace probes using dtrace.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the dtrace probes to be compatible with drizzle.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added hooks into the command start and query start dtrace probes.

2009-09-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added various dtrace probes that I ported from MySQL 6.0 to the list of
	possible dtrace probes in drizzle.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Fixes for -Wconversion from Joe Daly. Thanks, Joe

2009-09-14  Joe Daly  <skinny.moey@gmail.com>

	changes to allow -Wconversion flag to be turned on

2009-09-22  Brian Aker  <brian@gaz>

	Merge Jay (build only related)

2009-09-21  Jay Pipes  <jpipes@serialcoder>

	Merge Pandora-build.

2009-09-16  Monty Taylor  <mordred@inaugust.com>

	Merged in -Wattribute bug fix.

2009-09-14  mordred  <mordred@orisndriz02>

	pandora-build v0.60 - check for -Wattributes with -fvisibility=hidden issues.

2009-09-16  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.60

2009-09-14  mordred  <mordred@orisndriz02>

	pandora-build v0.59 - fixed for old autoconf.

2009-09-14  mordred  <mordred@orisndriz02>

	Removed extraneous LIBOBJDIR invocation.

2009-09-16  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.59

2009-09-16  Monty Taylor  <mordred@inaugust.com>

	Removed unused dtrace.m4 file.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Perform a valid test for fdatasync to get the real answer on OSX.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	Split plugin builtins defines into their own header to ease rebuild issues.

2009-09-14  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.58

2009-09-22  Brian Aker  <brian@gaz>

	Merge Eric

2009-08-27  Eric Day  <eday@oddments.org>

	Added NULL client for rm_tmp_table.

2009-08-27  Eric Day  <eday@oddments.org>

	Added console plugin.

2009-08-27  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-08-27  Eric Day  <eday@oddments.org>

	Reworked listen interface to not require binding of TCP ports.

2009-08-12  Eric Day  <eday@oddments.org>

	Cleaned up slot::Listen with new registry framework.

2009-08-12  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-08-06  Eric Day  <eday@oddments.org>

	Merged cleanup from my merge branch.

2009-08-06  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-08-06  Eric Day  <eday@oddments.org>

	Fixed bug, accidently removed prepareForResend call.

2009-08-06  Eric Day  <eday@oddments.org>

	Renamed Protocol to Client, cleaned up some unnecessary methods along the way.

2009-09-21  Brian Aker  <brian@gaz>

	Merge Jay

2009-09-21  Jay Pipes  <jpipes@serialcoder>

	Adds missing plugin/command_reader.h

2009-09-21  Jay Pipes  <jpipes@serialcoder>

	Removes the experimental CommandLogIndex class...not sure how/why that got in there... :(

2009-09-16  Jay Pipes  <jpipes@serialcoder>

	po files updated.

2009-09-16  Jay Pipes  <jpipes@serialcoder>

	Fixes compile errors mostly due to change from plugin_registry.h to plugin/registry.h
	and the final cleanup of bitmap routines now in trunk.

2009-09-16  Jay Pipes  <jpipes@serialcoder>

	Merge trunk and resolve conflicts.

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Removes GPB 2.1-specific ParseFromBoundedZeroCopyStream method in favor of 2.0.3 nonBounded version"

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Fix up test cases after adding session ID to command log reader output.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Adds Session ID accessor, and output to replication messages

2009-08-11  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-10  Jay Pipes  <jpipes@serialcoder>

	Error messages have to be normalized for ssize_t's of different sizes and signedness..

2009-08-10  Jay Pipes  <jpipes@serialcoder>

	Fixes based on Monty's code review.

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Removes realloc() calls and uses a std::string for buffering ability on checksum.

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Tiny fix in error message when writing byte size.  We output 8 bytes, since that is the number of bytes we attempt to write, not the length.

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-03  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's work on filtered replicator

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the way the table name was being generated when parsing raw SQL if
	the raw SQL contained an event with the schema name concatentated with the
	table name in the manner schema.table

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the filtered replicator so that the case in which a table or schema
	name is specified does not matter.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge the latest changes from Jay's replication tree.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the result file for the filtered replicator test case.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added the ability to filter raw SQL to the filtered replicator. This enables
	us to filter CREATE/DROP table events. 

2009-08-03  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-31  Jay Pipes  <jpipes@serialcoder>

	Tiny style and comment cleanups.

2009-07-31  Jay Pipes  <jpipes@serialcoder>

	Update CommandLogReader to understand checksumming trailer bytes.

2009-07-31  Jay Pipes  <jpipes@serialcoder>

	Adds CRC32 checksumming to Command Log plugin (replication logging)

2009-07-30  Jay Pipes  <jpipes@serialcoder>

	Merge filtered replicator from Padraig. Great stuff Mr. O'Sullivan.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, called unlock when I should have been calling lock...that could have
	been bad! Nice catch Jay!

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the regex system variables to be read only to avoid warnings on
	startup.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the command_log test suite to use the filtered replicator correctly.
	Also modified the test case to filter events that occur on the t1 table.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding doxygen comments to the filtered replicator and modifying the way the
	system variables are updated.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Taking Jay's code review comments and in-corporating them in to the filtered
	replicator.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merging the latest from Jay's replication branch.

2009-07-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added support for filtering events using regular expressions on the schema
	or table name. This system variable can be only be specified at server
	startup at the moment. When Monty rolls in the new code for system variables
	then we will modify this but for now, it is really not worth the effort.

2009-07-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the filtered replicator's locks based on some feedback from Jay. We
	now have a lock protecting the vectors which contain the list of schemas and
	tables to filter by. This lock must be acquired both on reading and writing
	to these vectors.

2009-07-23  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added support for a user to modify the filtered schemas and tables system
	variables.

2009-07-22  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created a simple filtered replicator that can filter by schema name or table
	name.

2009-07-29  Jay Pipes  <jpipes@serialcoder>

	Splits out the previously aggregated all.test case into separate test
	cases which truncate the log after each run.
	
	Adds an UPDATE test case.
	
	Fixes Table/Field interface for read and write bitmaps to enable
	clearing the read or write bit.

2009-07-29  Jay Pipes  <jpipes@serialcoder>

	Adds a new plugin class interface for a reader of Command messages, 
	drizzled::plugin::CommandReader.
	
	Adds two new classes to the command_log module:
	
	* CommandLogReader implements the CommandReader plugin interface for reading
	Command messages from the CommandLog.
	
	* CommandLogIndex is a simple indexing class for a log file

2009-07-29  Jay Pipes  <jpipes@serialcoder>

	Adds a little more debugging info in error message if unable to open command log file. Also, small efficiency change: size() changed to empty() per Meyers recommendation on effective STL usage.

2009-07-29  Jay Pipes  <jpipes@serialcoder>

	This patch does a couple things in preparation for publisher and
	subscriber code and cleaning up the replication API:
	
	* Renames Applier to CommandApplier and Replicator to CommandReplicator.  This makes
	it much clearer *what* is being applied or replicated...
	
	* Establishes a Global Transaction ID typedef in ReplicationServices that
	other plugins and code can use.  The upcoming CommandReader plugin API uses
	this typedef
	
	* Updates the using namespace in all source files to be correct per style 
	guidelines
	
	* Converts pass-by-pointer to pass by reference and makes apply() and replicate()
	API calls const correct.  Now, the only time pointers are passed in API calls is
	for pointer-to-base-class arguments.

2009-09-18  Brian Aker  <brian@gaz>

	Merge Jay

2009-09-18  Jay Pipes  <jpipes@serialcoder>

	Adds an error catch in heap_create_table which traps when a call to create a HEAP table with more than UINT32_MAX occurs.  This allows us to safely use a cast without worrying about truncation.

2009-09-14  Jay Pipes  <jpipes@serialcoder>

	Merge Trond's fixes for bug 416554

2009-08-25  Trond Norbye  <trond.norbye@sun.com>

	Bug #416554: 64-bit integer truncation on 32-bit Solaris - Compile Failure

2009-09-14  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's fix for bug 405501.

2009-08-29  Monty Taylor  <mordred@inaugust.com>

	Fixed a buffer overrun that was causing some translated message output to suck.
	
	Honestly guys, declaring a char[80] and then doing an sprintf into it with
	no length checking? sigh

2009-09-16  Brian Aker  <brian@gaz>

	Merge Jay Alter table + Brian dead code

2009-09-16  Brian Aker  <brian@gaz>

	Merge Jay.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Clean up the style and spacing in mysql_prepare_alter_table() before I lose my friggin mind.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Changes Alter_drop and Alter_column to AlterDrop and AlterColumn.  Next up: bye bye List<> in AlterInfo.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Moves Alter_info out into its own header and source file, cleans up some related include mess in sql_lex.h, and renames Alter_info to AlterInfo.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Simply moves alter_table specific stuff out of the sql_table.cc grab-bag and into drizzled/statement/alter_table.cc.  Next step is to cleanup the code.

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	Removed unnecessary block of code in AlterTable::execute() which was no longer used.

2009-09-16  Brian Aker  <brian@gaz>

	Move block code out of HA_CREATE_INFO

2009-09-14  Brian Aker  <brian@gaz>

	Remove dead keywords.

2009-09-14  Brian Aker  <brian@gaz>

	Remove need for protocol from myisam

2009-09-14  Brian Aker  <brian@gaz>

	Rmove dead bit around old eror_injection stuff

2009-09-15  Brian Aker  <brian@gaz>

	Merge Jay

2009-09-15  Jay Pipes  <jpipes@serialcoder>

	NOOP commit. Removed a whitespace line from drizzled.cc.  We are using this commit as a new baseline for regressions after changing the sysbench configuration files to attempt to get more accurate sysbench readings.

2009-08-27  Brian Aker  <brian@gaz>

	Merge Padraig

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the type of res in mysql_execute_command() to bool instead of int
	since that is how the type is used!

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various small style cleanups.

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the last commands....Finally removed that gigantic switch
	statement from mysql_execute_command().......

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CREATE TABLE command into its own class and implementation
	files.

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the REPLACE and INSERT commands into their own classes and
	implementation files.

2009-08-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the ALTER TABLE command into its own class and implementation
	files.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created a CreateIndex class and DropIndex class instead of a
	CreateOrDropIndex class as was present previously. Currently, these classes
	have duplicate execute() methods which call mysql_alter_table() but in the
	future, this is liekly to be updated.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various style cleanups based on code review comments from Jay.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the command Begin to StartTransaction based on code review comments
	from Jay.

2009-08-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Few style cleanups.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the RENAME TABLE command into its own class and implementation
	files. This allowed me to remove the rename.[h,cc] files since all their
	functionality is now in the RenameTable class.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CREATE INDEX and DROP INDEX command into an individual class
	and implementation files.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the BEGIN command into its own class and implementation files.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the RELEASE SAVEPOINT command into its own class and
	implementation files.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, fixed a return statement in the rollback to savepoint execute method
	which should not have been there.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the ROLLBACK_TO_SAVEPOINT command into its own class and
	implementation files.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SAVEPOINT command into its own class and implementation files.

2009-08-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-25  Brian Aker  <brian@gaz>

	MErge Jay

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merge translations

2009-08-25  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-24  Monty Taylor  <mordred@inaugust.com>

	Updated translations.

2009-08-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-08-24  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-23  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-22  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-21  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-20  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-19  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-18  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-17  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-16  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-15  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-14  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-13  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-12  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-11  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-10  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-09  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-08  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-07  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-06  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-05  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-04  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-03  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-02  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-01  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-07-31  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-07-30  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-07-29  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-07-28  Launchpad Code Hosting  <codehost@crowberry>

	Launchpad automatic translations update.

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merging pandora build fixes with support for automake 1.11

2009-08-24  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.51

2009-08-22  Monty Taylor  <mordred@inaugust.com>

	Added support for automake 1.11 and silent build rules.

2009-08-22  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.49

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merge Diego
	's fixes and enhancements for logging_x plugins

2009-08-21  Diego Medina  <diego.medina@sun.com>

	Use accessors when available.

2009-08-21  Diego Medina  <diego.medina@sun.com>

	* Added hostname, listener port, and server id to the logging_query and logging_gearman plugins
	* Added a missing comma to logging_gearman.cc (similar to bug#402831)

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's cast corrections.

2009-08-24  Monty Taylor  <mordred@inaugust.com>

	Merged optimizer.

2009-08-21  Monty Taylor  <mordred@inaugust.com>

	Another old-style-cast warning.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed some old-style-cast errors.

2009-08-25  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	Merge Biping's fix for Solaris std::queue header confusion.

2009-08-23  Biping Meng  <mengbiping@gmail.com>

	"queue" ambiguity on Solaris fixed

2009-08-24  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-24  Brian Aker  <brian@gaz>

	Merge Monty

2009-08-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-08-22  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/table-proto-text-reader

2009-08-21  Stewart Smith  <stewart@flamingspork.com>

	include global.h first for table proto readers

2009-08-21  Stewart Smith  <stewart@flamingspork.com>

	fix up some style things in table_raw_reader

2009-08-21  Stewart Smith  <stewart@flamingspork.com>

	Add simple table proto reader that reads the raw proto and then dumps out the text serialisation of that proto

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/socket-cloexec

2009-08-20  Stewart Smith  <stewart@flamingspork.com>

	Fix mtr2 timeouts/spurious test failures (bug lp:397912)
	
	This was not mtr2 related at all, but in fact e2fsprogs related.
	Namely, libuuid.
	
	or rather, uuidd.
	
	libuuid will fork off uuidd which is a setuid binary.
	
	If we needed to restart the server after using a UUID function, the uuidd
	process would still exist and hold onto the drizzled server socket.
	
	This is because the server socket for drizzled wasn't CLOEXEC.
	
	This patch sets FD_CLOEXEC on the server socket so that it's closed on exec,
	and the setuid uuidd won't hold onto our server socket.
	
	foiled by unix.
	
	never assume your program doesn't fork and exec a setuid process :/

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from ~stewart-flamingspork/drizzle/one-byte-malloc-removal

2009-08-20  Stewart Smith  <stewart@flamingspork.com>

	remove nasty malloc() optimisation in --help plugin for sql_plugin. Also document the general turdiness of this area of code.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/valid-default-keycache-size

2009-08-20  Stewart Smith  <stewart@flamingspork.com>

	use a valid default value for key cache size. previous value was invalid, and you could not manually set it by changing the variable at runtime.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merging Stewart from lp:~stewart-flamingspork/drizzle/test-cleanup-from-mtr2-branch

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	slightly out of order variables result from fixing up server state

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make insert_update test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make subselect_sj test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make subselect_mat test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make subselect_innodb test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make show_create_table_utf8 test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make type_blob test not leave tables behind

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make variables test not leave state of server in a modified state. i.e. fully 
	restore it

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make snowman test not leave tables behind after running

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make group_by test not leave tables behind after running

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make comment_index test not leave tables behind after running

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make comment_column2 test not leave tables behind after running

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make clef test not leave tables behind after running

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	make archive tests not change state of server or leave tables behind

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Fixed a namespace style thing.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Ross from lp:~rwmcfa1/drizzle/fix-bug408690

2009-08-04  rm  <rm@ralph.local>

	fix for drizzletest chmod bug408690, mode string is octal

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merge Stewart from lp:~stewart-flamingspork/drizzle/table-proto-namespace-cleanup

2009-08-19  Stewart Smith  <stewart@flamingspork.com>

	fix drizzled::message::Table usage so that in kernel .cc files we are 'using namespace drizzled'

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/valgrind-3.5

2009-08-20  Stewart Smith  <stewart@flamingspork.com>

	Valgrind 3.5 requires --alignment to be a power of 2 between 16 and 4096. The specifying --alignment is not important for us, so remove it.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/remove-parser-ha_choice

2009-08-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused ha_choice part of parser. Was producing warnings from bison too.

2009-08-24  Brian Aker  <brian@gaz>

	Merge Brian

2009-08-24  Brian Aker  <brian@gaz>

	Remove bits of MyISAM related to Admin cleanup.

2009-08-22  Brian Aker  <brian@gaz>

	Remove parser bit from index.

2009-08-22  Brian Aker  <brian@gaz>

	Remove dead null fields.

2009-08-22  Brian Aker  <brian@gaz>

	REmove additional ha_create_info #$#

2009-08-21  Brian Aker  <brian@gaz>

	Fix storing data/index path

2009-08-21  Brian Aker  <brian@gaz>

	Cleanup around page checksum removal

2009-08-21  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's fixes for extended help and plugin initialization

2009-08-21  Monty Taylor  <mordred@inaugust.com>

	Fixed style issues. /me smacks /me.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	--help doesn't need --datadir to work.

2009-08-21  Jay Pipes  <jpipes@serialcoder>

	Merge Biping's pool of thread plugin improvements.

2009-08-21  Biping Meng  <mengbiping@gmail.com>

	Merge trunk and resolved conflict in pool_of_threads.cc

2009-08-11  Biping Meng  <mengbiping@gmail.com>

	Made up the missing space

2009-08-10  Biping Meng  <mengbiping@gmail.com>

	Some tiny cleanups

2009-08-10  Biping Meng  <mengbiping@gmail.com>

	Merge trunk

2009-08-10  Biping Meng  <mengbiping@gmail.com>

	Some refinements on comments

2009-07-28  Biping Meng  <mengbiping@gmail.com>

	Bug causing assertion failure fixed

2009-07-21  Biping Meng  <mengbiping@gmail.com>

	If libevent_add_session is called when some thread is executing libevent_add_session_callback, newly connected sessions are being processed in *this* event loop. But new characters writen into the event pipe will not be cleared in this batch. So we choose to clear the pending events at the end of libevent_add_session routine.

2009-07-21  Biping Meng  <mengbiping@gmail.com>

	sessions_to_be_killed added in order to avoid searching when dealing with session killing notification

2009-07-21  Biping Meng  <llml@llml-desktop>

	Merge trunk

2009-07-21  Biping Meng  <llml@llml-desktop>

	Unused parameter error fixed

2009-07-21  Biping Meng  <llml@llml-desktop>

	Several refinements on comments

2009-07-21  Biping Meng  <llml@llml-desktop>

	std::list sessions_waiting_for_io changed into std::set for semantical reasons. We would rather prefer unordered_set, and this should be applied when c++09 comes. 

2009-07-14  Biping Meng  <llml@llml-desktop>

	up to date merge

2009-07-11  Biping Meng  <llml@llml-desktop>

	std::list changed into std::queue

2009-08-20  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge plugin slot reorganization from monty

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-08-19  Monty Taylor  <mordred@inaugust.com>

	Merged in GPB version requirement downgrade.

2009-08-17  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-08-17  Monty Taylor  <mordred@inaugust.com>

	Moved UDFs to slot organization.

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	Merged in pandora-build

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	Merged in staging.

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's refactoring of MY_BITMAP struct to a proper class interface.

2009-07-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating desctructor in MyBitmap class to work for now (although not
	correctly).

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated bitmap initialization to be correct in opt range.

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Correct all remaining references to the old bitmap interface in the code
	base.

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing up more calls to the old bitmap API.

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing references to MY_BITMAP throughout the code base and updating calls
	to MyBitmap in various places to use the new interface.

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted MY_BITMAP from a struct to a class named MyBitmap. Added a copy
	constructor, destructor and overloaded the assignment operator in this
	class. Adding a destructor removed the need for a bitmap_free() function.

2009-08-20  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's optimizer refactoring around pulling structs into real classes...

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a copy constructor and assignment operator to the Position class.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a copy constructor and assignment operator to the SargableParam class.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding a default constructor to the KeyField class.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing up one style issue with a return statement.

2009-08-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to update the result file for the greedy optimizer test case. It is
	different now since the default value for optimizer_search_depth is now 0.

2009-08-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating a comment to better reflect the code after some cleanups I made.

2009-08-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated doxygen comments in key_field header file.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Set the default value for optimizer_search_depth to 0.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various style cleanups on optimizer code that has been placed in a new file.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converting the KEY_FIELD struct into a class named KeyField.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created new header and implementation files for KEY_FIELD related code.
	Moved these files to the optimizer sub-directory and into the optimizer
	namespace.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Placed the SargableParam class in the optimizer namespace and sub-directory.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made all data members of the SargableParam class private.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	More cleanup of the size of the memory allocated for the key structures.

2009-08-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleared up a small bit of how memory is allocated for a dynamic array of
	KEY_FIELD structures.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Use std::vector to hold an array of SargableParam objects instead of a
	dynamically allocated array as was there previously. 

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted SARGABLE_PARAM into a class named SargableParam and added a
	default constructor.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding some more comments for the SARGABLE_PARAM structure.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to add the new sub-dir I created for my last commit.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added an optimizer namespace and sub-directory within drizzled. Moved the
	Position class into its own header file within this sub-dir and declared the
	Position class within the drizzled::optimizer namespace.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made all data members of the Position class private.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the key member of the Position class private.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the table member of Position private and added necessary accessors
	based on this change.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the records_read member of the Position class private.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to remove class member I removed from the constructor initializer
	list.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the unused SELECT_CHECK structure.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing an un-unused member of the Position class.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed some dead code from the optimizer. find_best() was never being used
	in drizzle. it is only used when optimzer_search_depth is set to an esoteric
	value that a user would not be aware of. Thus, we can safely remove this
	function. This eases understanding of the optimizer also since now there is
	only one code path to follow for understanding how an optimal plan is
	decided upon.

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's bug fix for 409350. HEAP handler incorrectly does not destroy mutex.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Remove the mutex _after_ we use the mutex. :)

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge and resolve conflicts on pandora build fixes.

2009-08-20  Monty Taylor  <mordred@inaugust.com>

	Made bison check better.

2009-08-18  Monty Taylor  <mordred@inaugust.com>

	Lowered protobuf version requirement.

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.47

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.46

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	Changed status message for protobuf check.

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.45 - added a -Wno-error option for chunks of code like generated protobuf files

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.44 - add support for specifying the version required of protobuf

2009-08-10  Monty Taylor  <mordred@inaugust.com>

	Fixed an error when archive engine is not built.

2009-08-09  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.43 Added -pipe to CFLAGS

2009-08-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.42 - Started splitting out plugin system into pandora-build

2009-08-08  Monty Taylor  <mordred@inaugust.com>

	Moved InnoDB specific code to InnoDB.
	Removed unused variables.

2009-08-20  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-19  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-19  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's continued cleanup of execution commands

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the KILL command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the FLUSH command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the ALTER DATABASE command into its own class and implementation
	files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SET OPTION command into its own class and implementation
	files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the DROP DATABASE command into its own class and implementation
	files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CREATE DATABASE command into its own class and implementation
	files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CHANGE DB command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the DROP TABLE command into its own class and implementation
	files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the TRUNCATE command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the UPDATE command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the OPTIMIZE command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the ANALYZE command into its own class and implementation files.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CHECK command into its own class.

2009-08-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-19  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-08-18  Brian Aker  <brian@gaz>

	Merge of Brian

2009-08-18  Brian Aker  <brian@gaz>

	Merge my branch from Stewart into one branch

2009-08-18  Brian Aker  <brian@gaz>

	Small cleanup (behavior change to remove auto from output of show create
	table)

2009-08-17  Brian Aker  <brian@gaz>

	Remove options which are just for internal optimizations.

2009-08-17  Brian Aker  <brian@gaz>

	Fix for Stewart's patch (includes hack to solve MAX rows problem).

2009-08-17  Brian Aker  <brian@gaz>

	More dead option removal.

2009-08-17  Brian Aker  <brian@gaz>

	Remove more dead options.

2009-08-17  Brian Aker  <brian@gaz>

	Remove dead define

2009-08-17  Brian Aker  <brian@gaz>

	Remode dead definitions

2009-08-16  Brian Aker  <brian@gaz>

	Remove PACK_KEYS

2009-08-16  Brian Aker  <brian@gaz>

	Remove unused PAGE bit from DDL

2009-08-16  Brian Aker  <brian@gaz>

	Remove CHECKSUM option in create table.

2009-08-16  Brian Aker  <brian@gaz>

	Remove SQL level reference for DELAY (just now done correctly by default in
	engine).

2009-08-16  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-16  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's continued cleanup of exec command classes plus a couple merge conflict resolutions...

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated mysql_show_warnings to take a std::bitset instead of a uint32_t to
	represent what warning flags have been set. This cleaned up some other code
	that called this function a good bit.

2009-08-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various updates after great code review from Jay. Thanks Jay!

2009-08-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing a left-over typo.

2009-08-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted show create db into its own class and implementation files.
	Removed the corresponding case label from the switch statement in
	mysql_execute_command().

2009-08-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted unlock tables into its own class and implementation files. Removed
	the corresponding case label.

2009-08-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Renamed the Command class to be Statement. Renamed the command directory to
	statement and also the command header file to statement. Updated various
	source files to reflect this renaming.

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the Statement class. Copied any members it had that were needed by
	the Session class in to that class. Removed the inheritance from Statement
	in the Session class.

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Renamed the command namespace where I was declaring all of these commands to
	be the statement namespace. 

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Applied Jay's suggestion of not having the type of the statement passed in
	to the SqlCommand constructor. Made the type variable of the derived classes
	a static const private member since the type never changes.

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the DELETE command into its own class and implementation files and
	removed the corresponding case label from the switch statement.

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed return type of the execute() function in Command classes to be bool
	instead of int.

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-16  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's fix for Bug 311013

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some comments to the checks I added for the bug resolution.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the symlink test case and result file based on the fix for bug
	311013.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Actually, MyISAM should still support the data dir and index dir options.
	Updating it to support these options.

2009-08-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for bug 311013. Added 2 new flags to the storage engine API which
	indicate whether an engine supports the DATA_DIRECTORY or INDEX_DIRECTORY
	options. Right now, the only engine which utilizes these is the archive
	engine since myisam is now memory only and these options mean nothing in that
	case for myisam.

2009-08-16  Jay Pipes  <jpipes@serialcoder>

	Merge Robert's small fix for client/errname.h

2009-08-11  Robert Klahn  <rklahn@quad>

	Include drizzled/global.h in <dot>cc files, not <dot>h files.

2009-08-16  Jay Pipes  <jpipes@serialcoder>

	Merges Trond's fix for memory overflow error on Solaris in readdir_r

2009-08-14  Brian Aker  <brian@gaz>

	Merge of Trond + Brian

2009-08-14  Brian Aker  <brian@gaz>

	Remove dead myisam program

2009-08-14  Brian Aker  <brian@gaz>

	Removed dead definitions.

2009-08-14  Brian Aker  <brian@gaz>

	Merge Trond.

2009-08-12  Trond Norbye  <trond.norbye@sun.com>

	Bug #412684: Fix memory corruption on Solaris

2009-08-13  Brian Aker  <brian@gaz>

	Remove sql_mode "lets put wrong data in the table" bug.

2009-08-13  Brian Aker  <brian@gaz>

	Remove final bits of "myisam" specific from drizzled.cc

2009-08-13  Brian Aker  <brian@gaz>

	Taylor the defaults for MyISAM for its "tmp" behavior.

2009-08-13  Brian Aker  <brian@gaz>

	Dead code.

2009-08-11  Brian Aker  <brian@gaz>

	MErge Jay

2009-08-10  Jay Pipes  <jpipes@serialcoder>

	Fixes for Solaris with ufs filesystem headers. AT_ALL is already #defined...

2009-08-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Renamed access_type to access_method due to conflicts on Solaris.

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's subunit-junit work.

2009-08-13  Monty Taylor  <mordred@inaugust.com>

	Added both direct subunit to junit output targets as well as the general ability to inject extra flags into test-run via environment.

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Merge and resolved conflicts for Monty's plugins/slots reorganization

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Removed unused add(Listen) methods.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Renamed PluginRegistry to plugin::Registry.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Moved ListenHandler to slot::Listen.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Added ListenHandler as a member of PluginRegistry.

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Merged Eric from lp:~eday/drizzle/eday-merge

2009-08-05  Monty Taylor  <mordred@inaugust.com>

	Merged latest pandora-build

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's pandora build changes

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.41 - added more warning exceptions for protobuf

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Removed myisamchk from what we install... there is no point for it in Drizzle.

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.40

2009-08-07  Jay Pipes  <jpipes@serialcoder>

	Merge of Padraig's cleanup of optimizer JoinTable and Join class members.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the name of join_type_str array to access_type_str.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating some return statements to adhere to the convention laid out in the
	coding standards.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the 2.0 constant in the optimizer from the parts that I have
	modified so far. Added a getter in the Position class to replace this
	constant.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding space after negation operators in places where I forgot that.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing various style related issues pointed out by Jay during code review. 

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Resolving an issue after merging with trunk.

2009-08-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a default constructor for the Position class.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some doxygen comments to the new methods added to the JOIN class.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changing some accessors to be more clear on whether they are accessing the
	partial or optimal query plan.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleaned up the method for setting an element in the positions array.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the positions member of the JOIN class private (finally got that
	bitch...) Now to clean up the interface to the positions and best_positions
	members. I would like to use std::vector if possible to represent them but
	need to take baby steps...

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	More work on attempts to encapsulate the positions member of JOIN. We can
	almost make it a private data member of the JOIN class now. What is now
	needed is a way to iterate through the elements of the positions array.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding accessors to the JOIN class for the positions member. The end goal is
	to make this member private. These are the first steps toward achieving
	that.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed formatting and style issues in the find_best() method. I had to do
	this in order to understand what was going on inside there. Indentation was
	particularly bad which made reading the code difficult.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made the best_positions member of the JOIN class private and added any
	necessary accessors for it.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted the POSITION struct to a class named Position.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, forgot a comma in an array declaration!

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the name of the enum join_type to access_type. It makes much more
	sense to me to call this access_type as join_type is not an intuitive term
	at all for this and caused me some confusion. Updated parts of the code that
	used this enum based on this change.

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Reverts {0}; back to memset() due to compilation errors on GCC 4.2 Mac AND Solaris SunStudio.

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Merging Eric's refactoring and cleanup of Listen and Protocol

2009-08-06  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-08-06  Eric Day  <eday@oddments.org>

	Fixed style issues found by Jay.

2009-08-05  Eric Day  <eday@oddments.org>

	Merged trunk, fixed some leftover InnoDB ICP code.

2009-08-04  Eric Day  <eday@oddments.org>

	Merged Trunk.

2009-08-04  Eric Day  <eday@oddments.org>

	Switched static funtion to anonymous namespace + extern C for Sun CC.

2009-08-04  Eric Day  <eday@oddments.org>

	Fixed thread_id bug from session refactoring work.

2009-08-04  Eric Day  <eday@oddments.org>

	Namespace cleanup for Protocol and Listen.

2009-08-04  Eric Day  <eday@oddments.org>

	Cleaned up Scheduler plugin, moved more code to the schedular plugins, reworked some functions to be methods in Session, removed some dead code.

2009-08-04  Eric Day  <eday@oddments.org>

	Removed protocol field flags.

2009-08-04  Eric Day  <eday@oddments.org>

	Fixed test that depended on wait_timeout. This was a random system var, so I switched to server_id.

2009-08-04  Eric Day  <eday@oddments.org>

	Removed setRandom from Protocol class.

2009-08-03  Eric Day  <eday@oddments.org>

	Moved connect_timeout, net_*_timeout, and retry_count to plugin.

2009-07-31  Eric Day  <eday@oddments.org>

	Removed client_capabilities from session and pushed functionality into protocol plugin.

2009-07-31  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-07-18  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-07-02  Eric Day  <eday@oddments.org>

	Merged Trunk.

2009-08-10  Brian Aker  <brian@gaz>

	lcov dead code removal (merge)

2009-08-10  Brian Aker  <brian@gaz>

	Refactor/kill some dead lock code.

2009-08-10  Brian Aker  <brian@gaz>

	Dead code removal around LCOV finds.

2009-08-10  Brian Aker  <brian@gaz>

	Merge Monty

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Merged Toru from lp:~tmaesaka/drizzle/drizzle-update-blackhole

2009-08-04  Toru Maesaka  <dev@torum.net>

	Fix the curly brace in BLACKHOLE to follow the coding standard

2009-08-04  Toru Maesaka  <dev@torum.net>

	Added tests for BLACKHOLE and also code to create and delete a empty file. This is so that the core can track if a table exists or not. This is required for proper implementation of DROP TABLE and otherwise the test suite will reject it

2009-08-03  Toru Maesaka  <dev@torum.net>

	Updated Blackhole to work with the current SE interface

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/code-cleanup-c++-use-bitset

2009-07-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the typedef for nested_join_map and instead just declare these
	bitmaps as std::bitset. I don't see the need for the typedef in this
	scenario...

2009-07-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the nested_join_map typedef to be std::bitset instead of uint64_t.

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-clean-code

2009-08-05  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-08-04  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-08-04  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-08-07  Monty Taylor  <mordred@inaugust.com>

	Merged Robert from  lp:~rklahn/drizzle/drizzle-fix-bug405131

2009-08-05  Robert Klahn  <rklahn@quad>

	fix Solaris build

2009-08-06  Brian Aker  <brian@gaz>

	Merge Jay

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Fixes from my bugs branch for uppercase bug and 32-bit Solaris size_t truncation

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Remove outdated comment regarding uint64_t

2009-08-06  Jay Pipes  <jpipes@serialcoder>

	Fix for Solaris 32-bit size_t truncation from uint64_t

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge fix for Bug 394272.

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Fixes Bug 394272 using Trond's proposed solution.  Went down a rathole I couldn't recover from trying to fix this 'the right way' :( /me curses mysql_alter_table()

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Style cleanup in mysql_alter_table()

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-30  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Move global.h include into .cc file, not .h

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Fixes compile failure on Solaris.

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge Robert's fixes for Bug 405131

2009-07-30  Robert Klahn  <rklahn@quad>

	make client/drizzletest.cc, new client/errname.cc compile in a reasonable amount of time and memory

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge Ross M's double precision fixes for Bug 408694

2009-08-05  rm  <rm@ralph.local>

	fix test results so they expect valid precision, rather than more than can be relied upon

2009-08-05  rm  <rm@ralph.local>

	dtoa takes float/double precision, double case was always passing buffer size

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge David's my_dir_removal

2009-08-05  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Fix to make sure make_db_list gets the directory entries in sorted order, with I_S first.

2009-08-05  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merged from trunk

2009-08-05  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Merge David's my_dir removal

2009-08-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Minor style change. Renamed find_databases() to find_schemas() for consistency. Changed return type from int to bool.

2009-08-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Renamed find_dirs() to find_databases()

2009-08-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Replace my_dir in find_files() with CachedDirectory. Renamed find_files() to find_dirs() to more accurately reflect what it is doing after removing dead code inside it.

2009-08-04  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Corrected comments

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Merge padraig's conflict resolves and trunk

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, forgot to resolve 1 last merge conflict.

2009-08-04  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge with trunk and resolve conflicts.

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Merge more Pandora build fixes from Monty

2009-08-04  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.38 - Make umem the default on solaris and not mtmalloc

2009-08-04  Jay Pipes  <jpipes@serialcoder>

	Merge Pandora build from Monty

2009-08-04  Monty Taylor  <mordred@inaugust.com>

	This is a pile of garbage.

2009-08-04  Monty Taylor  <mordred@inaugust.com>

	We actually have to set CFLAGS/CXXFLAGS. Suck.

2009-08-03  Jay Pipes  <jpipes@serialcoder>

	Merge Padraig's cleanup-exec-command branch.

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the ROLLBACK command into a class with its own implementation
	files and removed the corresponding case label from the switch statement.

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the COMMIT command into its own class and implementation files.
	Removed the corresponding case label from the switch statement.

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Correct some wrong resolutions that resulted from the merge with trunk.

2009-08-03  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the LOAD command into its own class and implementation files.
	Removed the corresponding case label from the switch statement.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the show processlist command into a class with its own
	implementation files. Removed the corresponding case label from the switch
	statement.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the checksum command into its own class and implementation files.
	Removed the corresponding case label from the switch statement.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the show create command into its own class and implementation
	files. Removed the corresponding case label from the switch statement.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the assign to keycache command into its own class and
	implementation files. Removed the corresponding case label from the giant
	switch statement.

2009-08-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SHOW ENGINE STATUS command into its own class and
	implementation files. Removed the corresponding case label from the switch
	statement.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SHOW ERRORS command into its own class and removed the
	corresponding case label from the switch statement.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SHOW WARNINGS command from the huge switch statement into its
	own implementation and header file. Created the ShowWarnings class to
	represent this command and removed the corresponding case label from the
	switch statement.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, forgot to add the new files created for the work in the last commit.

2009-08-01  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracting the empty query case label from the switch statement in
	mysql_execute_command() into a command class. Added the appropriate .[cc,h]
	files for this command and removed that case from the switch statement.

2009-08-03  Jay Pipes  <jpipes@serialcoder>

	Merge Pandora build from Monty

2009-08-03  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.37 - possibly fix solaris 64-bit build on gcc.

2009-08-03  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-30  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's pandora build branch

2009-07-29  Monty Taylor  <mordred@inaugust.com>

	Merged in TBB removal.

2009-07-29  Monty Taylor  <mordred@inaugust.com>

	TBB removal from build.

2009-07-29  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.36

2009-07-29  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.35

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merge me.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.34

2009-07-30  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-08-05  Brian Aker  <brian@gaz>

	Merge Brian

2009-08-05  Brian Aker  <brian@gaz>

	Fix from Eric for a problem with some compilers.

2009-08-05  Brian Aker  <brian@gaz>

	More extraction from sql_base

2009-08-05  Brian Aker  <brian@gaz>

	More Table refactor

2009-08-04  Brian Aker  <brian@gaz>

	Move names around a bit (to align similar methods)

2009-08-04  Brian Aker  <brian@gaz>

	More from the table patch

2009-08-04  Brian Aker  <brian@gaz>

	Applying refactor of tmp table bits back to session. (this all needs to be
	further reduced)

2009-08-04  Brian Aker  <brian@gaz>

	Merge of Monty

2009-08-04  Monty Taylor  <mordred@inaugust.com>

	Made subunit output optional.

2009-08-04  Monty Taylor  <mordred@inaugust.com>

	Merged Robert from lp:~lifeless/drizzle/mtr-subunit

2009-08-02  Robert Collins  <robertc@robertcollins.net>

	First cut at subunit output.

2009-08-03  Monty Taylor  <mordred@inaugust.com>

	Fixed the mtr launching a bit.

2009-08-03  Monty Taylor  <mordred@inaugust.com>

	Merged Patrick from lp:~capttofu/drizzle/mtr-dbx-fix

2009-07-30  Patrick Galbraith  <patg@drizzle-os>

	mtr now with dbx goodness.
	
	I need someone who has X set up with remote display to test this. It fails now because of no display value set.

2009-08-03  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/bug-394932-32bit-solaris-build

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-07-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for 32 bit Solaris builds. Issue was with conversion of 64-bit unsigned
	int to an unsigned long when an implicit conversion from a uint64_t to
	std::bitset occurred.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-clean-code

2009-07-31  lbieber  <lbieber@lbieber-laptop>

	per recommendation from Stewart, change results of variables-big test to replace column id with # as the ID was varying on different machines and test runs

2009-08-03  Brian Aker  <brian@gaz>

	Merge Brian

2009-08-03  Brian Aker  <brian@gaz>

	Merge of Brian

2009-08-03  Brian Aker  <brian@gaz>

	Remove Insane Clown Posse (AKA... ICP...just generates bugs).

2009-08-03  Brian Aker  <brian@gaz>

	Merge Brian

2009-08-03  Brian Aker  <brian@gaz>

	Remove dead function.

2009-08-03  Brian Aker  <brian@gaz>

	Remove dead variables.

2009-08-03  Brian Aker  <brian@gaz>

	Additional multi-update

2009-08-03  Brian Aker  <brian@gaz>

	Removal multi-update/delete

2009-08-03  Brian Aker  <brian@gaz>

	Remove multi-update from parser/tests.

2009-08-03  Brian Aker  <brian@gaz>

	Merge of Brian

2009-08-03  Brian Aker  <brian@gaz>

	Merge in removal of multi-keycache code.

2009-08-03  Brian Aker  <brian@gaz>

	Small fix.

2009-07-30  Brian Aker  <brian@gaz>

	Remove multi key cache

2009-07-30  Brian Aker  <brian@gaz>

	Remove user level key_cache

2009-07-31  Brian Aker  <brian@gaz>

	Heap is now tmp only table

2009-08-02  Brian Aker  <brian@gaz>

	Collection of Valgrind fixes.

2009-08-02  Brian Aker  <brian@gaz>

	Merge in Stewart's HEAP fix

2009-08-03  Stewart Smith  <stewart@flamingspork.com>

	correct conditional free() on parts of HEAP share. fixes valgrind leak warnings

2009-07-31  Brian Aker  <brian@gaz>

	Fix from Monty for sys_var

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Merged up with Brian.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Fixed the plugin string valgrind leak.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Merged from Brian.

2009-07-31  Brian Aker  <brian@gaz>

	Fix cleanup of thread specific stuff (which... should all go away...).

2009-07-31  Brian Aker  <brian@gaz>

	Additional fixes from Monty

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Merged Nathan (and added a valgrind suppression)

2009-07-31  Nathan Williams  <nathanlws@gmail.com>

	Reverted CreateField::interval_list to a List<String>. Fixes memory leaks I introduced by converting it to a vector in branch listed below.
	
	http://bazaar.launchpad.net/~nlws/drizzle/create-field-interval-list-refactor/revision/1053

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Reverted my change to interval_list

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Added a valgrind suppression for pcre.

2009-07-31  Brian Aker  <brian@gaz>

	Monty fixes pluss a few from me for charset.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Reverted my stupid hacky fix now that Padraig has it fixed for real.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Apply memory cleanup fix from Padriag from lp:~posulliv/drizzle/cleanup-exec-command

2009-07-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected how memory is freed for each command. This involved suring memory
	was de-allocated for any command in the lex_end() function. Removed my
	comment from the LEX destructor about the need to free memory since we are
	now doing it!

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Put command::Select into sql_alloc by hand.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Reverted sql_alloc-ing of command classes.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Put CreateField into the Session mem_root.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Removed one of my valgrind hacks. It was wrong.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Reverted 1103

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	cleanup a couple of delete/free mismatches.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Attach commands to the Session mem_root.

2009-07-31  Monty Taylor  <mordred@inaugust.com>

	Merged in staging.

2009-07-29  Brian Aker  <brian@gaz>

	Merging Monty (which includes new replication)

2009-07-29  Monty Taylor  <mordred@inaugust.com>

	Fixed make dist - renamed the proto file in Makefile.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Jay from lp:~jaypipes/drizzle/replication

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Unfuck calls to korr.h macros.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/cleanup-exec-command

2009-07-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to use the nothrow form of the new operator....can't check whether
	the returned memory was allocated using an == NULL test unless we use the
	nothrow form.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Missed a namespace in command_log.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Finished cleaning up using namespace stuff.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged me from namespace-cleanup

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Fixed some small errors in previous patches.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Renamed DefaultSelect to Select now that the evil global define Select is gone.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Removed the Select define in sql_yacc.yy. Bad general global define. 

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Fixed the first set of using namespace

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Added testsuite reference.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged captain branch.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Jay from lp:~jaypipes/drizzle/replication

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	transaction.pb.h is now replication.pb.h

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Ensure std::string buffer is initialized to a blank string, otherwise crybaby Solaris segfaults.

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Corrected mistake in pthread_traits fetch_and_store() method where new_value was not being stored.

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Restores original read bit on fields read during call to val_str in ReplicationServices::updateRecord()

2009-07-24  Jay Pipes  <jpipes@serialcoder>

	Was not passing length in network byte order.  Problem was manifesting itself in terms of an Invalid argument error on certain platforms when calling pwrite() with second parameter pointer to uint64_t and not pointer to unisgned char.

2009-07-24  Jay Pipes  <jpipes@serialcoder>

	This patch does a few things:
	
	* Renames the TransactionServices component in the kernel
	to ReplicationServices.
	* Renames the transaction.proto to replication proto and
	updates the various programs referencing drizzled/message/transaction.pb.h
	* Adds a public method to the kernel's ReplicationServices component:
	getLastAppliedTimestamp() which returns the timestamp of the last Command message
	which was successfully sent to a registered Applier plugin (the Command was "applied")
	* Updates ReplicationServices::push() method to update an atomic timestamp
	when a Command is successfully applied by a replicator to an applier.
	
	The ReplicationServices::getLastAppliedTimestamp() is critical to the upcoming
	Publisher plugin, as it allows the publisher to ask the kernel when the last Command
	message was applied.

2009-07-24  Jay Pipes  <jpipes@serialcoder>

	Merge Joe's comment changes in test file for command log

2009-07-22  Joe Daly  <skinny.moey@gmail.com>

	Update comment in tests

2009-07-22  Jay Pipes  <jpipes@serialcoder>

	Add call to set read bit on fields being read in updateRecord()

2009-07-18  Jay Pipes  <jpipes@serialcoder>

	Renames serial event log to command log

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	Had to set read bitmap for fields in insertRecord() now that certain asserts have been placed in Field classes.  Oh, BTW, the bitmap interface sucks ass.  Also corrected incorrect call to uint8korr macros with proper int64_tget macro call in command reader

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	updated results file for whitespace-trimmed wc output

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	Added tr -d ' ' to cut whitespace on Solaris/BSD from the wc program in truncate log test.

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	Added explicit call to atomic<>.fetch_and_add() method.  Added while loop on EINTR for ftruncate and no ignore of the result.  Added static to methods in command_reader.cc.

2009-07-16  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-07-16  Jay Pipes  <jpipes@serialcoder>

	Merge in Padraig's fix for segfault.  Moves adding plugin within appropriate if block.

2009-07-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed bug in serial event log applier which could cause a segmentation
	fault. Simple fix is to not add the applier to the plugin registry if it is
	not enabled.

2009-07-07  Jay Pipes  <jpipes@serialcoder>

	Addition fixups based on Stew's suggestions:
	
	* Reset SerialEventLog::log_offset back to its original offset when a crash occurs
	to enable error reporting to include an accurate offset.
	* Handle EINTR in a while loop on pwrite() in SerialEventLog::apply()
	
	Also fixed up command_reader.cc to use korr.h macros when reading encoded length
	since the SerialEventLog uses those macros when writing...

2009-07-07  Jay Pipes  <jpipes@serialcoder>

	Per Stew's suggestions in code review:
	
	* Added assert()s in command_reader on field and value sizes
	* Changed from string to bytes scalar types in transaction.proto definitions for Command
	* Ensure writes in network byte order for the length of the written protos
	* Fixed unclear cur_field vs. current_field in TransactionServices methods
	* Remove delete calls for mem_root allocated Strings

2009-07-07  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-02  Jay Pipes  <jpipes@serialcoder>

	Adds log truncation debugging functionality to the serial event log plugin. Cleans up the serial event log test suite to properly include and output result files.

2009-07-01  Jay Pipes  <jpipes@serialcoder>

	Fixes to Solaris atomics for atomic<bool> and signed integer pointers.

2009-06-22  Jay Pipes  <jpipes@serialcoder>

	Cleans up malloc/realloc in command_reader.cc per Brian's code review comments.

2009-06-22  Jay Pipes  <jpipes@serialcoder>

	Merge with staging r1067.

2009-06-18  Jay Pipes  <jpipes@serialcoder>

	Merge Joe Daly's work for DELETE handling in transaction services and test cases.

2009-06-17  Joe Daly  <skinny.moey@gmail.com>

	Comment out tests that currently do not work, a run of ./dtr --suite=serial_event_log now works

2009-06-16  Joe Daly  <skinny.moey@gmail.com>

	Add truncate test this failure is currently needs changes from MySQL Bug 36763 ported over, this should be filed as a Drizzle bug if this is not fixed by the time this code makes it into the trunk

2009-06-15  Joe Daly  <skinny.moey@gmail.com>

	Add code to transaction_services.cc to populate a DeleteRecord, add delete test to all.test

2009-06-14  Joe Daly  <skinny.moey@gmail.com>

	Fix update function in command_reader add the update.inc to the all.test

2009-06-14  Joe Daly  <skinny.moey@gmail.com>

	Add new all.test that runs various include files and concats the result

2009-06-11  Joe Daly  <skinny.moey@gmail.com>

	Add test all which combines test no result file checked in yet for it

2009-06-10  Joe Daly  <skinny.moey@gmail.com>

	Add test for rename and rand()

2009-06-09  Joe Daly  <skinny.moey@gmail.com>

	Add tests for alter, database, truncate, delete, temp tables

2009-06-09  Joe Daly  <skinny.moey@gmail.com>

	Add DELETE test, update result files for insert and update. Currently DELETE test will fail, and UPDATE test will fail for missing ;

2009-06-09  Joe Daly  <skinny.moey@gmail.com>

	Remove extrenous files

2009-06-09  Joe Daly  <skinny.moey@gmail.com>

	Merge from lp:~jaypipes/drizzle/serial_event_log

2009-06-08  Joe Daly  <skinny.moey@gmail.com>

	simple update and insert tests for bin log

2009-06-09  Jay Pipes  <jpipes@serialcoder>

	Fixes up UPDATE test case for serial event log and TransactionServices::updateRecord to properly add the WHERE clause fields for primary/unique keys on the table.

2009-06-09  Jay Pipes  <jpipes@serialcoder>

	Adds multi-value INSERT test, modifies TransactionServices to support UPDATE statements (though WHERE clause still not done...)

2009-06-09  Jay Pipes  <jpipes@serialcoder>

	Fixes up a Solaris warning about non-reachable path by making the while loop in command_reader.cc more clear.

2009-06-08  Jay Pipes  <jpipes@serialcoder>

	Cleans up command_reader.cc to not call unecessary memset and to properly check all calls to read().  In addition, adds comments describing the atomic operations used in the serial event log plugin.

2009-06-08  Jay Pipes  <jpipes@serialcoder>

	Fixed the master.opt file for the simple serial event log test.  Serial event log and default replicator must be enabled.

2009-06-08  Jay Pipes  <jpipes@serialcoder>

	Call realloc() and memset() only when needed in command_reader.cc

2009-06-05  Jay Pipes  <jpipes@serialcoder>

	Changes the way the log_offset is atomically incremented and its value retrieved.  Hopefully, this removes any race condition for the variable's contents, but there is a note in the code describing my concern about a possible race condition.

2009-06-05  Jay Pipes  <jpipes@serialcoder>

	This commit does two things:
	
	Removes lock on serial event log and uses a file offset to pwrite() to the
	log file instead of locking it.
	
	Adds an --serial-event-log-enable option for the serial event log plugin and
	adds an enable() and disable() method controlling an atomic bool which allows
	online disabling of the event log.
	
	Also, adds an optimization to the registration process of replicators and
	appliers for TransactionServices which evaluates active plugins on attach and
	detach of a replicator and applier.  This enables a quick atomic bool comparison
	in the write methods of TransactionServices, essentially making it a NOOP when
	no active appliers or replicators are registered with the TransactionServices
	component.

2009-06-05  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-06-05  Jay Pipes  <jpipes@serialcoder>

	Ignore command_reader program (BZRIGNORE)

2009-06-03  Jay Pipes  <jpipes@serialcoder>

	Fixed up some comments and include guard in plugin/default_replicator/default_replicator.h

2009-06-03  Jay Pipes  <jpipes@serialcoder>

	* New serial event log plugin
	
	Implemented in /plugin/serial_event_log/.
	
	Adds a very simple serialized event log to the server.  This simple
	applier takes Command messages and writes them to a log file as it
	received them.  Nothing complex for right now.
	
	* New default replicator plugin
	
	This plugin is extremely simple and merely passes a received Command
	message on to all registered Appliers (of which the new serial event
	log is one of those appliers)
	
	The plugin is disabled by default.  It can be enabled on startup
	with --default-replicator-enable.
	
	* New command reader test program
	
	There is a new test program in /drizzled/message/ which is similar to
	the transaction_reader program but can read single Command messages, 
	and not Transaction messages which contain a vector of Command messages.
	
	* New serial_event_log test suite
	
	The test case is very simple right now, but serves to show how plugin
	test suites can be written, and how test programs in the server source
	tree can be used in the drizzletest program language.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/cleanup-exec-command 

2009-07-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the need for the all_tables member of command classes. It can be
	retrieved from the LEX class directly and it is in fact better to do that in
	this case. Strange things happen in there...

2009-07-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updates based on code review from Jay.
	
	- modified the SqlCommand base class to be abstract
	- created new directory (command) where each command implementation will be
	placed in a separate file
	- created namespace for various commands (drizzled::command)

2009-07-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot one of the SHOW commands that I should have included in the last
	commit. SHOW COUNT(*) [ERRORS | WARNINGS] now works correctly also.

2009-07-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding doxygen comments to the sql_commands header file.

2009-07-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Beginnings of reworking the mysql_execute_command() method. 
	
	Essentially, we want to remove the giant switch statement within that
	function. This commit sets the groundwork for that. We added a new base
	class named SqlCommand that every command we want to implement inherits
	from. It has an execute method that commands can override. Thus, instead of
	a large switch statement, we will just have command->execute().

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Nathan from lp:~nlws/drizzle/list-conversions

2009-07-27  Nathan Williams  <nathanlws@gmail.com>

	Converted Item_sum::outer_fields to vector<Item_field*>.

2009-07-27  Nathan Williams  <nathanlws@gmail.com>

	Converted Tmp_Table_Param::copy_funcs to a std::deque. Delete saved_copy_funcs member of same class, as it was essentially unused and didn't affect anything.

2009-07-23  Nathan Williams  <nathanlws@gmail.com>

	Took Sql_alloc inheritance off of Tmp_Table_Param and changed calls to session->c/alloc to new.
	
	Removed init/cleanup functions on the class and put that logic in constructor and destructor.

2009-07-16  Nathan Williams  <nathanlws@gmail.com>

	Converted the 3 instances of List<Cached_item> to vector<Cache_item*>.
	
	Changed from push_front to push_back at the usage locations as it wasn't required.

2009-07-14  Nathan Williams  <nathanlws@gmail.com>

	Converted another local List usage to a vector.

2009-07-14  Nathan Williams  <nathanlws@gmail.com>

	Converted a couple small local variable List<Table>s to vector<Table*>s

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Merged Jay from lp:~jaypipes/drizzle/bugs

2009-07-22  Jay Pipes  <jpipes@serialcoder>

	Adds public getConnectMicroseconds() call to Session object.  Protects connect_microseconds member variable and sets it correctly.  Corrects logging_xxx plugins to use getConnectMicroseconds() API call properly.  Fixes Bug #402855

2009-07-22  Jay Pipes  <jpipes@serialcoder>

	Add missing comma between third to last and penultimate columns in CSV output. Fixes Bug# 402831.

2009-07-22  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-07-17  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-06-23  Jay Pipes  <jpipes@serialcoder>

	Merge staging r1067

2009-06-08  Jay Pipes  <jpipes@serialcoder>

	table_map defined as uint64_t, not pointer type, so change initialization to 0 from NULL.

2009-07-29  Brian Aker  <brian@gaz>

	Merge Jay

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Fix indentation of temporal_interval.h per IRC conversation with clint

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's pandora build fixes including md5 header fix

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.33

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	Build fix - we were testing the wrong macro value.

2009-07-28  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.32

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Merged Ross from lp:~rwmcfa1/drizzle/fix-mktime

2009-07-28  rm  <rm@ralph.local>

	fix for gnulib mktime test & replacement (adaptation of patch from Bruno Haible)

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge Lee's fix for big-test.read_many_rows_innodb test case

2009-07-28  lbieber  <lbieber@lbieber-laptop>

	fix read_many_rows_innodb test to use InnoDB instead of MyISAM for now

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge of Clint's TemporalInterval work.

2009-07-27  clint@fewbar.com

	simpler syntax

2009-07-27  clint@fewbar.com

	implementing Jays suggestions for clearer code

2009-07-26  clint@fewbar.com

	helping monty avoid therapy

2009-07-26  clint@fewbar.com

	using static_cast and uint32_t per coding standards

2009-07-26  clint@fewbar.com

	using constants for magic numbers and true/false instead of 1/0. renamed getIntervalInfo -> getIntervalFromString for clarity

2009-07-24  clint@fewbar.com

	merging from trunk

2009-07-24  clint@fewbar.com

	merging from trunk

2009-07-22  clint@fewbar.com

	use C++ style cast for int_type

2009-07-22  clint@fewbar.com

	coding standards cleanup

2009-07-21  clint@fewbar.com

	drizzled/Makefile.am

2009-07-21  clint@fewbar.com

	style/documentation cleanups and replacing copyright notices

2009-07-21  clint@fewbar.com

	refactoring INTERVAL into C++ class

2009-07-29  Brian Aker  <brian@gaz>

	Merge of SJ code.

2009-07-29  Brian Aker  <brian@gaz>

	A couple of stray SJ parts.

2009-07-29  Brian Aker  <brian@gaz>

	Remove dead options.

2009-07-28  Brian Aker  <brian@gaz>

	Remove dead option.

2009-07-28  Brian Aker  <brian@gaz>

	Removal of SJ 

2009-07-28  Brian Aker  <brian@gaz>

	Remove final bits on SJ

2009-07-28  Brian Aker  <brian@gaz>

	Further reduction of SJ code.

2009-07-28  Brian Aker  <brian@gaz>

	First pass through removing most of the semi_join code.

2009-07-28  Brian Aker  <brian@gaz>

	Removal of all basic MRR

2009-07-28  Brian Aker  <brian@gaz>

	More MRR removal.

2009-07-28  Brian Aker  <brian@gaz>

	Remove mrr flag from options.

2009-07-28  Brian Aker  <brian@gaz>

	Remove DsMrr_impl code.

2009-07-27  Brian Aker  <brian@gaz>

	MRR removal from myisam

2009-07-27  Brian Aker  <brian@gaz>

	Remove MRR support from Innodb

2009-07-27  Brian Aker  <brian@gaz>

	Disable MRR

2009-07-28  Brian Aker  <brian@gaz>

	Merge Stewart

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Removed more unreachable code path in StorageEngine to fix Solaris compile failure.

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Removed unreachable path in archive handler.  Stew, make sure you compile your branches on Solaris :)

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Fix for compile failure...std::transform is in <algorithm>, so it's helpful to actually #include <algorithm>...

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge Stewart's basic discovery branch.

2009-07-28  Stewart Smith  <stewart@flamingspork.com>

	only try to delete table proto iff engine does not have own datadict

2009-07-27  Stewart Smith  <stewart@flamingspork.com>

	misc codestyle fixes. usually around if ( and associated conditions

2009-07-27  Stewart Smith  <stewart@flamingspork.com>

	remove passing table proto to TableNameIterator as it is currently unused.

2009-07-27  Stewart Smith  <stewart@flamingspork.com>

	fix error path in rea_create_table for failure to create proto

2009-07-27  Stewart Smith  <stewart@flamingspork.com>

	s/Impl/Implementation/

2009-07-27  Stewart Smith  <stewart@flamingspork.com>

	fix location of #include for my_dir.h

2009-07-26  Stewart Smith  <stewart@flamingspork.com>

	add missing table_proto.h

2009-07-24  Stewart Smith  <stewart@flamingspork.com>

	style fixes

2009-07-24  Stewart Smith  <stewart@flamingspork.com>

	fix TableNameIterator for the case where last engine has a impl

2009-07-24  Stewart Smith  <stewart@flamingspork.com>

	fix up const ref parameters for database names in TableNameIterators and class constructors. from Padraig's review

2009-07-23  Stewart Smith  <stewart@flamingspork.com>

	ARHIVE TableNameIterator. This fixes SHOW TABLES for ARCHIVE tables. Although it is important to note that the *order* of tables in SHOW TABLES is no longer 'sorted'.

2009-07-23  Stewart Smith  <stewart@flamingspork.com>

	Iterate over StorageEngines and use their TableNameIterators before the default DFE Iterator.

2009-07-23  Stewart Smith  <stewart@flamingspork.com>

	move to TableNameIterator and impl type interface. basic TableNameIterator just uses DFE iterator.

2009-07-23  Stewart Smith  <stewart@flamingspork.com>

	start using an iterator like object for traversing tables in a database (SHOW TABLES)

2009-07-22  Stewart Smith  <stewart@flamingspork.com>

	remove need to write table proto to disk in .dfe if engine can handle it (new StorageEngine flag). Also fix up delete_table_proto code paths to work properly with engines handling their own protos. This commit breaks SHOW TABLES for ARCHIVE, hence the drizzledump test. Will be fixed in future commit

2009-07-22  Stewart Smith  <stewart@flamingspork.com>

	move writing the proto out from filling it so we can later override it with engines. Also refactor CREATE TABLE LIKE so that there's only one place where we write the proto (not one for normal and one from I_S).

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	get_table_category doesn't need table name and can be static to table.cc

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	Remove requirement of having to re-read table proto on CREATE TABLE. Now we only have to do it if we didn't have a table_proto passed to ha_create_table.

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	return with error from create_table_proto_file if unable to write proto. This means we err out for ER_BAD_DB_ERROR sooner and don't continue into ha_create_table.

2009-07-21  Brian Aker  <brian@tangent.org>

	Moved file based flag up to engine (from handler). checkLowercaseNames() is now a ember of StorageEngine.

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	a FLUSH TABLES helps when mucking about with files.

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	add small test for the (very basic) discovery in ARCHIVE engine

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	implement ArchiveEngine::getTableProtoImpl. This means table proto is read out of ARZ instead of .dfe.

2009-07-21  Stewart Smith  <stewart@flamingspork.com>

	preserve stored proto in ARZ across OPTIMIZE TABLE.
	
	filed as http://bugs.mysql.com/bug.php?id=45377

2009-07-20  Stewart Smith  <stewart@flamingspork.com>

	refactor ha_resolve_by_name to accept std::string instead of LEX_STRING

2009-07-20  Stewart Smith  <stewart@flamingspork.com>

	refactor rea_create_table to only have one call to create_table_proto_file and not have a is_like parameter which was only used in one place

2009-07-20  Stewart Smith  <stewart@flamingspork.com>

	use StorageEngine::getTableProto instead of drizzle_read_table_proto. We only read the proto file now in SE::getTableProto.

2009-07-20  Stewart Smith  <stewart@flamingspork.com>

	remove ha_table_exists_in_engine and use StorageEngine::getTableProto() instead.

2009-07-18  Stewart Smith  <stewart@flamingspork.com>

	StorageEngine::getTableProto() instead of table_proto_exists. allowing engines to implement their own getTableProtoImpl() to check if table exists. if proto is not null, should fill proto. This is next step (replacing calls to read_table_proto with calls to SE::getTableProto.

2009-07-17  Stewart Smith  <stewart@flamingspork.com>

	merge ARCHIVE storing table proto

2009-07-09  Stewart Smith  <stewart@flamingspork.com>

	merge table proto passed to createTable and ARCHIVE storing proto in ARZ

2009-06-25  Stewart Smith  <stewart@flamingspork.com>

	make ARCHIVE engine write table proto into 'frm' part of ARZ header. i.e. table proto now in .ARZ like the FRM was in MySQL (except cleaner, as we're not reading it off disk, we just deal with the data structure directly).

2009-06-25  Stewart Smith  <stewart@flamingspork.com>

	start passing down table proto to createTable. This enables future code cleanup, including fixing ARCHIVE embedding table definition and table proto in parser

2009-07-14  Stewart Smith  <stewart@flamingspork.com>

	move drizzle_proto_exists and drizzle_read_table_proto out of unireg.h and into table_proto.h

2009-07-14  Stewart Smith  <stewart@flamingspork.com>

	remove copy_table_proto_file and replace with read and write proto calls. affects CREATE TABLE LIKE

2009-07-14  Stewart Smith  <stewart@flamingspork.com>

	make writing the proto file sep to just creating the table. this allows the future removal of copy_table_proto_file. Add table_proto.h header for table proto manipulation stuff.

2009-07-28  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-27  Brian Aker  <brian@gaz>

	Merge Jay

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's pandora build tree.

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Merged me and also fixed the md5 linking error.

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Also do no-cast-align on libpars.la

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Removed drizzlecheck references from test-run.pl.

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Removed drizzlecheck program and the myisamcheck test.

2009-07-27  Monty Taylor  <mordred@inaugust.com>

	Added support for conditionally building plugin's test suite if the plugin is built.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Added needed space.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.31

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Turned off Werror in gnulib/ for real.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Rearranged two orderings.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-canonical v0.30

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Avoid cast-align warnings on InnoDB.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.28

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Tured off warnings for gnulib build. Stop innobase from setting global CFLAGS.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.27

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.25

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Fixed an accidental revert of lib-prefix.m4

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Fixed the way pthreads were being compiled/linked. Eek.

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	pandora-canonical v0.24

2009-07-26  Monty Taylor  <mordred@inaugust.com>

	Merged Ross from lp:~rwmcfa1/+junk/drizzle-freebsd

2009-07-26  rm  <rm@ralph.local>

	get things compiling on FreeBSD (7.1)
	- add PTHREAD_LIBS to the necessary execs
	- quell warning about NULL format string in die
	- check for log and log2 funcs, work-around for missing log2
	- add -D option to gperf to avoid warnings/errors about hash collisions
	- remove const from getopt wrappers to avoid errors about discarded qualifiers
	- fix bug in acx_pthread.m4, add pthread ld flags to PTHREAD_LIBS, not
	PTHREAD_CFLAGS
	- wrap #include <alloca.h> in HAVE_ALLOCA_H
	- add lots of UNIV_INTERN attributes to handler func decls
	- include missing header files (net-realted) in a couple places

2009-07-25  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.23

2009-07-27  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-26  Brian Aker  <brian@gaz>

	Merge

2009-07-26  Brian Aker  <brian@gaz>

	Small optimization to make table listing simpler

2009-07-16  Brian Aker  <brian@gaz>

	Refactor TableShare has to be behind class.

2009-07-22  Brian Aker  <brian@gaz>

	Mege Jay

2009-07-21  Jay Pipes  <jpipes@serialcoder>

	Merging in Padraig's final I_S plugin work.

2009-07-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-07-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing a constructor in the InfoSchemaTable class that is no longer needed
	after extracting all the I_S tables into the plugin.

2009-07-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating I_S test case and result file as the queries on the STATUS and
	VARIABLES tables produce different results on different platforms.

2009-07-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated I_S test case and result file.

2009-07-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file after extracting the remainder of
	the I_S tables into the plugin.

2009-07-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the VARIABLES tables into the I_S plugin.

2009-07-05  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the 3 STATUS tables into the I_S plugin.

2009-07-21  Jay Pipes  <jpipes@serialcoder>

	Merging Monty's build fixes from jay-captain-fixes.

2009-07-20  Monty Taylor  <mordred@inaugust.com>

	Removed using namespace entries from bare headers.

2009-07-20  Monty Taylor  <mordred@inaugust.com>

	Added in global.h to the includes so that flags are set correctly.

2009-07-20  Monty Taylor  <mordred@inaugust.com>

	Fixed a build error.

2009-07-21  Jay Pipes  <jpipes@serialcoder>

	Merge Robert's readline/linebuffer work.

2009-07-20  Robert Klahn  <rklahn@quad>

	Changes from additional code review feedback

2009-07-19  Robert Klahn  <rklahn@quad>

	more changes from code review feedback

2009-07-19  Robert Klahn  <rklahn@quad>

	changes from code review feedback

2009-07-18  Robert Klahn  <rklahn@quad>

	merged from trunk

2009-07-18  Robert Klahn  <rklahn@quad>

	convert logic to use std::stringstream for buffer

2009-07-16  Robert Klahn  <rklahn@quad>

	Replace typedef struct LINE_BUFFER with class LineBuffer, encapsulating current logic

2009-07-21  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-20  Brian Aker  <brian@gaz>

	Merge Jay

2009-07-18  Jay Pipes  <jpipes@serialcoder>

	Merging in Solaris build fixes from Monty's Pandora build branch

2009-07-18  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.22 - fixes solaris build.

2009-07-18  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's build uncrustification

2009-07-17  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-07-17  Monty Taylor  <mordred@inaugust.com>

	Fixed manpage warnings. Make debian lintian happy.

2009-07-17  Monty Taylor  <mordred@inaugust.com>

	Some changes that I lost...

2009-07-15  Monty Taylor  <mordred@inaugust.com>

	Fixes to the uncrustify config and script.

2009-07-18  Jay Pipes  <jpipes@serialcoder>

	Merge trunk

2009-07-18  Jay Pipes  <jpipes@serialcoder>

	Merging Monty's plugin class cleanup round 1

2009-07-16  Monty Taylor  <mordred@inaugust.com>

	Removed a dynamic array.

2009-07-15  Monty Taylor  <mordred@inaugust.com>

	Naming cleanups.

2009-07-15  Monty Taylor  <mordred@inaugust.com>

	Split out handle and library.

2009-07-15  Monty Taylor  <mordred@inaugust.com>

	Split drizzle::plugin::Manifest into its own file.

2009-07-15  Monty Taylor  <mordred@inaugust.com>

	Rename of plugin classes.

2009-07-16  Brian Aker  <brian@gaz>

	Merge Jay

2009-07-16  Jay Pipes  <jpipes@serialcoder>

	Per IRC conversation with krow and mtaylor, reverted change in simple atomic fetch for GCC to previous call.  Does not compile on ICC and added a note stating this.

2009-07-16  Jay Pipes  <jpipes@serialcoder>

	Merge pandora-build and fixes from Monty after a cloned build on Solaris failed.

2009-07-16  Monty Taylor  <mordred@inaugust.com>

	Fixed bash-isms in pre_hook.

2009-07-15  mordred  <mordred@orisndriz02>

	pandora-build v0.20

2009-07-14  mordred  <mordred@orisndriz02>

	pandora-build v0.18
	Added support for ICC

2009-07-14  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.16

2009-07-14  Jay Pipes  <jpipes@serialcoder>

	Fix from Monty after Solaris linker error identified on bitters.

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Fixed mktime for sun studio debug builds.

2009-07-13  Jay Pipes  <jpipes@serialcoder>

	Merge trunk r1095.

2009-07-13  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's Solaris GCC fixes branch.

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Fixed some warning triggers for solaris gcc.

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.12

2009-07-13  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's fix-asserts branch.

2009-07-11  Monty Taylor  <mordred@inaugust.com>

	Removed dangerous asserts... mainly to upset Stewart.

2009-07-11  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.11

2009-07-13  Jay Pipes  <jpipes@serialcoder>

	Fix for const char conversion failure on Solaris from Monty.

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Removed a problematic section that's pointless.

2009-07-13  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's build-cleanup branch

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Fixed a typo.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Fixed uncrustify config. Added the clean_source script.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.10

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Merged in trond's new autorun.sh from libmemcached.
	Added support for pre and post hooks to it so we can use it unaltered in places.

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Monty's remove-charset-macros branch.

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Merged lp:drizzle/mordred

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.8
	Removed leftover charset bits.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	Got rid of #ifdef have utf8 stuff.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	Removed mentions of MB_IDENT - it's always true.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	Removed character_sets.m4 and the code around. There is no need to check to see if we're going to build utf8. We are always going to build utf8.

2009-07-15  Brian Aker  <brian@gaz>

	Merge Monty

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/show-database-collation

2009-07-09  Stewart Smith  <stewart@flamingspork.com>

	fix SHOW CREATE DATABASE for default collation. Move database metadata reading code around to be a bit more sane.

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Merged Robert from lp:~rklahn/drizzle/drizzletest-globalerrormap

2009-07-11  Robert Klahn  <rklahn@quad>

	Merged from trunk

2009-07-11  Robert Klahn  <rklahn@quad>

	code review feedback changes

2009-07-11  Robert Klahn  <rklahn@quad>

	Merged from trunk

2009-07-11  Robert Klahn  <rklahn@quad>

	convert global_error_names from a c array to a c++ std::map

2009-07-13  Monty Taylor  <mordred@inaugust.com>

	Merged Jay from lp:~jaypipes/drizzle/for-brian

2009-07-08  Jay Pipes  <jpipes@serialcoder>

	Removes a bunch of dead code and unused variables in drizzled.cc and server_includes.h

2009-07-12  Brian Aker  <brian@gaz>

	Merge Jay

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's LENGTH UDF plugin

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-06  Devananda  <deva@Myst>

	added test case

2009-07-03  Devananda  <deva@Myst>

	converted function/length into plugin/length

2009-07-03  Devananda  <deva@Myst>

	added function alias octet_length

2009-07-03  Devananda  <deva@Myst>

	removed item_func_length from item/create.cc

2009-07-03  Devananda  <deva@Myst>

	fixed #includes in plugin/length/length.cc

2009-07-03  Devananda  <deva@Myst>

	fixed length/plugin.ini

2009-07-03  Devananda  <deva@Myst>

	refactored function/length into plugin/length

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's BENCHMARK UDF plugin

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-01  devananda  <devananda.vdv@gmail.com>

	applied comments from Jay&Stewart reviews: added de-init func, renamed from Item_func_benchmark to BenchmarkFunction, misc other cleanup

2009-07-01  devananda  <devananda.vdv@gmail.com>

	cleaned up commented-out sections from item/create.cc

2009-07-01  devananda  <devananda.vdv@gmail.com>

	refactored function/benchmark into plugin/benchmark

2009-06-30  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-15  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-11  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-04  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's CONNECTION_ID UDF plugin

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-05  devananda  <devananda.vdv@gmail.com>

	refactored function/connection_id into plugin/connection_id

2009-07-05  devananda  <devananda.vdv@gmail.com>

	fixed typos

2009-07-05  devananda  <devananda.vdv@gmail.com>

	refactored function/connection_id into plugin/connection_id

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's VERSION UDF plugin

2009-07-05  devananda  <devananda.vdv@gmail.com>

	refactored function/version into plugin/version

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's CHAR_LENGTH UDF plugin

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-06  Devananda  <deva@Myst>

	added simple test case

2009-07-03  Devananda  <deva@Myst>

	converted function/char_length to plugin/charlength

2009-07-03  Devananda  <deva@Myst>

	corrected function name, now char_length and character_length

2009-07-03  Devananda  <deva@Myst>

	fixed plugin/charlength/charlength.cc compile errors

2009-07-03  Devananda  <deva@Myst>

	removed char_length from item/create.cc

2009-07-03  Devananda  <deva@Myst>

	refactored functin/charlength into plugin/charlength

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's ASCII UDF plugin

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-03  devananda  <devananda.vdv@gmail.com>

	refactored function/ascii into plugin/ascii

2009-07-03  devananda  <devananda.vdv@gmail.com>

	fixed compile error for Create_function, and added check_argument_count

2009-07-03  devananda  <devananda.vdv@gmail.com>

	refactored functin/ascii into plugin/ascii

2009-06-30  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-15  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-11  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-06-04  devananda  <devananda.vdv@gmail.com>

	merge from lp

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's CRC32 cleanup

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-05  devananda  <devananda.vdv@gmail.com>

	fixed case: crc32Function -> Crc32Function

2009-07-03  devananda  <devananda.vdv@gmail.com>

	cleaned up formatting in crc32udf.cc

2009-07-12  Jay Pipes  <jpipes@serialcoder>

	Merge Devananda's MD5 cleanup

2009-07-09  devananda  <devananda.vdv@gmail.com>

	more tiny formatting cleanup

2009-07-09  devananda  <devananda.vdv@gmail.com>

	formatting cleanup

2009-07-05  devananda  <devananda.vdv@gmail.com>

	fixed case: md5Function -> Md5Function

2009-07-03  devananda  <devananda.vdv@gmail.com>

	cleaned up formatting in md5.cc

2009-07-11  Brian Aker  <brian@gaz>

	Merge Stewart

2009-07-03  Stewart Smith  <stewart@flamingspork.com>

	fix func_in test to include explain for some MRR queries again.

2009-07-03  Stewart Smith  <stewart@flamingspork.com>

	merge in temp MyISAM UPDATE is TRUNCATE bugfix and fix tests accordingly

2009-07-02  Stewart Smith  <stewart@flamingspork.com>

	Fix BUG lp:387627: UPDATE can be TRUNCATE on TEMPORARY TABLE. Some special case code in MyISAM for 'if temporary table' was making (the included) test case fail. Root cause of what we've messed up in MyISAM was not found (after much investigation).

2009-06-26  Stewart Smith  <stewart@flamingspork.com>

	remove HA_EXTRA_MMAP. only ever used by MyISAM for non-temp tables.

2009-06-26  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	fix myisam.test up for MyISAM being temp only.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	variables.test for MyISAM as temp only.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	update.test for MyISAM as temp only.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	union.test for MyISAM as temp only.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	type_timestamp.test for MyISAM as temp only. Must use non-temporary table as we're testing I_S and I_S doesn't do temp tables.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	type_float.test for MyISAM as temp only

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	type_datetime.test for MyISAM as temp only

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	temp_table.test for myisam as temp table.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	symlink.test for myisam as temp table.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	subselect_no_semijoin result for myisam as temp table

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	fix subselect_no_semijoin.result for s/^#/--echo #/ in subselect (used to help track where one is in the result file)

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	subselect_no_opts result for myisam as temp table

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	fix subselect_no_opts.result for s/^#/--echo #/ in subselect (used to help track where one is in the result file)

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	subselect_no_mat_and_semi_join result for myisam as temp table

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	subselect_no_mat result for myisam as temp table

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	missed --replace_column for an EXPLAIN in select.test

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	fix subselect_no_mat.test for s/^#/--echo #/ in subselect (used to help track where one is in the result file)

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	fix subselect_mat.test for MyISAM as temp only

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	subselect.test for MyISAM as temp only. mixture of CREATE TEMP and having to use default engine due to opening table more than once.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	s/^#/--echo #/ in subselect.test to help be able to track your way through the test when fixing it for MyISAM as temp only

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	status.test for MyISAM as temp table only. Having to use default engine for EXPLAIN as opening table more than once

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	show_check.test for MyISAM as temp table only.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	select_found.test for MyISAM as temp only

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	select.test for MyISAM as temp only

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	rollback.test for MyISAM temp only.
	- rename to myisam_rollback to reflect what it's testing
	- just use create temporary table

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	repair.test for MyISAM as temp table: mostly CREATE TEMPORARY. some error codes have changed because of it being temp table. Does not really matter as repair table is going away.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix range.test up for MyISAM as temp only. Also see BUG lp:387664 as to why one part isn't CREATE TEMPORARY.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	include/common-tests.inc and r/pool_of_threads.result for MyISAM as temp only table: mostly replace with default engine and --replace_column due to many queries opening the table more than once. Also fix up some queries to be deterministic across engines.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	order_by.test for MyISAM temp only: use temp myisam tables

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	null_key for MyISAM temp only: use temp myisam tables

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	mysqldump-max test: MyISAM table would not be dumped due to being temporary only. Use another non-txnal engine (ARCHIVE)

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix myisamcheck for MyISAM as temp only: MyISAM tables are no longer cross-session.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix myisam-blob.test for MyISAM as temp only: just CREATE TEMPORARY TABLE

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	Put incorrect results into mix2_myisam.result so that test passes even though we are affected by BUG lp:387627

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	Modify include/mix2, include/varchar, mix2_myisam.test (and innodb.result as it includes the test and is affected by only whitespace from the enabling of testing against temporary tables) to deal with MyISAM being a temporary only engine. This commit includse the correct result file, which means it is affected by BUG lp:387627 and as such mix2_myisam fails on this commit.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix key.test for MyISAM temp only: use myisam temp tables

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix key_cache test for MyISAM as temp only. Use MyISAM temp tables except for one place where we use default engine table to help load up a MyISAM table (as it uses key cache)

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix join_outer for MyISAM as temp only: 1x open table twice, 1x CREATE TEMP

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	fix join_crash.test for myisam as temp only: use default engine as query opens table more than once.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	join test for MyISAM as temp table only: use myisam temp tables

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	insert_update test for MyISAM as temp table only: 1 open table twice, 1x can be myisam temp.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	insert_select test for MyISAM as temp table only: 1 open table twice, 3x can be myisam temp.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	t5_nontrans in innodb_trx_weight test needs to be non-transactional table - else we hit innodb lock timeouts

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	Fix index_merge2.inc for myisam temp only. Needs to be non-myisam table as there are queries which require opening the table multiple times

2009-06-15  Brian Aker  <brian@gaz>

	Partial fix for tests for tmp

2009-06-15  Brian Aker  <brian@gaz>

	Committing Stewart's tmp fix

2009-06-15  Brian Aker  <brian@gaz>

	Merge Padraig

2009-07-11  Brian Aker  <brian@gaz>

	Merge Brian

2009-07-11  Brian Aker  <brian@gaz>

	Fix TABLE_REF structure

2009-07-11  Brian Aker  <brian@gaz>

	Sorting methods into class files.

2009-07-10  Brian Aker  <brian@gaz>

	Refactor dynamic out to its own files.

2009-07-10  Brian Aker  <brian@gaz>

	Cleanup on enum

2009-07-10  Brian Aker  <brian@gaz>

	Remove dead caller

2009-07-11  Brian Aker  <brian@gaz>

	Merge Monty

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Merged with staging.

2009-07-10  Brian Aker  <brian@gaz>

	Collection of patches/bug fixes from new-cleanup tree (none of the
	Table/other fixes are included).

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Put in configure trap for libdrizzle version.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Removed mysys namespace from David's patch. We will re-namespace it once we move it into the drizzled dir.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Merge Joe from lp:~skinny.moey/drizzle/drizzle-misc-bug-fixes

2009-07-10  Joe Daly  <skinny.moey@gmail.com>

	Bug #385227 ! fixes for grouping of min() max() calls. ! operator should be for entire statement, rather then the AND block.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Changed Trond's patch to also support libumem on Linux - since I just discovered that we have it. Woot.

2009-07-10  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/drizzledump 

2009-07-10  Stewart Smith  <stewart@flamingspork.com>

	correct result for drizzledump. Old libdrizzle had different mapping of column types than current drizzled, causing drizzledump to think BLOB was ENUM and not properly encoding in hex. This fix to the result file means the result file is correct, and if your machine fails with a non-hex value, you have an old libdrizzle.

2009-07-10  Stewart Smith  <stewart@flamingspork.com>

	remove unused #ifndef DONT_ALLOW_USER_CHANGE from client programs

2009-07-10  Stewart Smith  <stewart@flamingspork.com>

	move drizzledump 'by igor, monty, jani and sinisa' to commment rather than --help as having this in --help may be confusing to users in who to blame for bugs.

2009-07-10  Stewart Smith  <stewart@flamingspork.com>

	fix version printouts for drizzledump

2009-07-10  Stewart Smith  <stewart@flamingspork.com>

	fix drizzledump copyright header.

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/code-cleanup-c++-use-bitset

2009-07-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the flags member of the Alter_info class to be std::bitset instead
	of uint32_t

2009-07-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced an instance where a uint8_t type was being used to hold a
	collection of flags. Converted it to a std::bitset<2> instead.

2009-07-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the size of the test_flags bitset to be 12 bits instead of 32. No
	bit past 11 is ever used so no need to a bitset of size 32.

2009-07-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted the test_flags variable from a uint32_t to std::bitset.

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Merged Trond from lp:~trond-norbye/drizzle/bug_397023

2009-07-08  Trond Norbye  <trond.norbye@sun.com>

	Bug 397023: --core-file doesn't work as intended

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Merged Trond from lp:~trond-norbye/drizzle/libumem

2009-07-08  Trond Norbye  <trond.norbye@sun.com>

	Allow linking with libumem instead of libmtmalloc

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Merged Dave from lp:~dshrews/drizzle/my_dir_removal

2009-07-09  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Put CachedDirectory in mysys namespace; added std namespace to sql_base.cc and default.cc to replace std::

2009-07-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Replace use of MY_DIR in sql_base.cc with CachedDirectory class

2009-07-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Replace use of opendir/readdir in default.cc with CachedDirectory

2009-07-08  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add a new CachedDirectory class that handles opendir/readdir operations for all systems.

2009-07-10  Brian Aker  <brian@gaz>

	Collection of patches from new-cleanup (includes asserts for field in debug)

2009-07-10  Brian Aker  <brian@gaz>

	Updating ignore file to remove TAG

2009-07-10  Brian Aker  <brian@gaz>

	Shuffled around a few structures.

2009-07-10  Brian Aker  <brian@gaz>

	Shuffled free_cached_table() to table

2009-07-09  Brian Aker  <brian@gaz>

	Removed dead flag code, style cleanup in FK. Removed dead structs.

2009-07-09  Brian Aker  <brian@gaz>

	Cleanup of user_var

2009-07-09  Brian Aker  <brian@gaz>

	Optimization for createKey(). Removes the need to initialize some
	structures.

2009-07-09  Brian Aker  <brian@gaz>

	Fix protobuf to release memory. Add in assert() for wrong column usage. Fix
	memory leak in temporal (from Jay)

2009-07-09  Brian Aker  <brian@gaz>

	Rename work (cheery pick from new-cleanup). Jay's fix for auth_http. Update
	to valgrind suppressions.

2009-07-09  Brian Aker  <brian@gaz>

	Remove of JOIN_TAB to JoinTable

2009-07-09  Brian Aker  <brian@gaz>

	Merge from Monty

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.9

2009-07-09  Monty Taylor  <mordred@inaugust.com>

	Fix canonical_target args.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build v0.8

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build r0.7

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	Removed unused macros.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-07-08  Monty Taylor  <mordred@inaugust.com>

	pandora-build v1

2009-07-07  Monty Taylor  <mordred@inaugust.com>

	Split out warnings - start using the pandora build system.

2009-07-07  Monty Taylor  <mordred@inaugust.com>

	Fixed -Wmissing-declarations

2009-07-02  Monty Taylor  <mordred@inaugust.com>

	Added initialization to XARecover::result.

2009-07-04  Brian Aker  <brian@gaz>

	Merge Stewart

2009-07-03  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-07-02  Stewart Smith  <stewart@flamingspork.com>

	merge metadata test fix

2009-07-02  Stewart Smith  <stewart@flamingspork.com>

	fix length of timestamp type for metadata test (and fix its result). See jay's description at https://code.launchpad.net/~stewart-flamingspork/drizzle/bug373468/+merge/8089

2009-07-01  Stewart Smith  <stewart@flamingspork.com>

	dtoa can pass NULL to Bfree. so just ignore those calls

2009-07-01  Stewart Smith  <stewart@flamingspork.com>

	correct Bcopy in dtoa() now that the ULong doesn't come directly after the Bigint. Add in sanity checking assert() for if we're going to clobber memory.

2009-07-01  Stewart Smith  <stewart@flamingspork.com>

	remove dtoa_alloc and dtoa_free and replace with just malloc() and free() calls directly.

2009-07-01  Stewart Smith  <stewart@flamingspork.com>

	(simply) convert dtoa to use plain malloc() and free() instead of custom allocator.

2009-07-01  Stewart Smith  <stewart@flamingspork.com>

	dtoa wasn't allocating enough memory for trailing \0, causing crashes on 32bit x86

2009-06-30  Stewart Smith  <stewart@flamingspork.com>

	Replace MAX_(DATE|TIME).*_WIDTH defines in definitions.h with real (and correct) static const members to Temporal types.
	
	This fixes the buffer overflow in https://bugs.launchpad.net/drizzle/+bug/373468
	
	It also removes a handwritten snprintf in field/datetime.cc
	However... this caused us to have to change Temporal to have a way to not
	"convert" the int64_t value (so 20090101 becomes 20090101000000 etc) as it
	has already been converted and we just want the Temporal type to do the
	to_string conversion.
	
	This still causes a failure in 'metadata' test due to size of timestamp type. I need feedback from Jay on when the usecond code comes into play to know the correct fix for this.

2009-06-29  Stewart Smith  <stewart@flamingspork.com>

	Change temporal to_string routines to use snprintf instead of sprintf.
	Also change length parameter to be length of string to write to, and
	add return value of length written (or what would have - i.e. snprintf
	result).
	
	This doesn't fix https://bugs.launchpad.net/drizzle/+bug/373468 but
	it means we hit an assert() on being able to put the temporal type
	into a string instead of overwriting the buffer.

2009-07-04  Brian Aker  <brian@gaz>

	Reversing patch that Solaris has issues with.

2009-07-03  Brian Aker  <brian@gaz>

	Merge from Nathan (and a further removal of dead dir sym code).

2009-07-01  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk, resolved conflicts.

2009-06-30  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk, resolved conflicts.

2009-06-25  Nathan Williams  <nathanlws@gmail.com>

	Removed st_add_schema_table struct and moved data members into the AddSchemaTable class/functor. That was the only place it was used.
	
	Changed the vector<LEX_STRING*> * parameters to references.

2009-06-25  Nathan Williams  <nathanlws@gmail.com>

	Converted st_add_schema_table::files from List<LEX_STRING> to std::vector<LEX_STRING*>. 
	- Updated all functions using it
	- Required updating find_files, which in turned required a few other conversions from List<LEX_STRING> to vector<LEX_STRING*>
	
	Doxygenized make_db_list function comment.

2009-06-25  Nathan Williams  <nathanlws@gmail.com>

	Refactored find_files function: style cleanup, removing dead variables, doxygenized-header, and removed unneeded LEX_STRING creation.

2009-07-02  Brian Aker  <brian@gaz>

	Merge David

2009-07-02  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Merged from trunk

2009-07-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Removed use of my_dir in sql_base.cc.

2009-07-01  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Add missing call to closedir().

2009-06-30  Brian Aker  <brian@gaz>

	merge kaleen 

2009-06-30  kaleen  <kaleen@gaz>

	code style clean

2009-06-30  kaleen  <kaleen@gaz>

	trunk merge

2009-06-10  kaleen  <kaleen@gaz>

	code cleanup from style guide

2009-06-30  Brian Aker  <brian@gaz>

	Merge for Padraig 

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating I_S result file after extracting STATISTICS table into I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the STATISTICS table into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S test case and result file after extracting the SCHEMATA
	table into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the SCHEMATA table into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating doxygen comments in I_S related classes to be of the correct format.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted OPEN_TABLES into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file after extracting TABLES into the
	I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted TABLES into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the TABLE_NAMES table into the I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated I_S test case and result file after extracting COLUMNS table into
	I_S plugin.

2009-06-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extract the COLUMNS table into the I_S plugin.

2009-06-30  Brian Aker  <brian@gaz>

	Merge Monty

2009-06-30  Monty Taylor  <mordred@inaugust.com>

	Renamed file.

2009-06-30  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded code in drizzlecheck.

2009-06-30  Monty Taylor  <mordred@inaugust.com>

	Added file existence test for gcc-4.2 check on osx.

2009-06-30  Monty Taylor  <mordred@inaugust.com>

	Whole boat-load of build fixes.

2009-06-30  Brian Aker  <brian@gaz>

	Merge Nathan

2009-06-30  Nathan Williams  <nathanlws@gmail.com>

	Fixed a few more system dependent type errors (size_t vs unsigned vs long unsigned).

2009-06-30  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk, resolved conflict.

2009-06-29  Nathan Williams  <nathanlws@gmail.com>

	Fixed type differences for min/max calls on OSX.

2009-06-29  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk, resolved conflict.

2009-06-26  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk, resolved conflict.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted last usage of cmin to std::min.
	
	Removed cmin and cmax defines from global.h

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted all cmin/cmax usages in the mysys directory to std::min/max.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted all usages of cmin/cmax in mystrings directory to use std::min/max

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted all usages of cmin/cmax in plugin directory to std::min/max.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	The remaining files using cmax have been converted to std::max.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted all usages of cmax in drizzled/field/ and drizzled/function/ to std::max.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	Converted single usage of cmin in drizzletest to std::min.

2009-06-24  Nathan Williams  <nathanlws@gmail.com>

	The rest of the files in the drizzled directory were purged of the cmin macro and replace with std::min (except for the definition in globals.h and 1 usage in stacktrace.cc).

2009-06-23  Nathan Williams  <nathanlws@gmail.com>

	All files in drizzled/item/ now use std::min instead of cmin.

2009-06-23  Nathan Williams  <nathanlws@gmail.com>

	All files in drizzled/function/ now use std::min instead of cmin.

2009-06-23  Nathan Williams  <nathanlws@gmail.com>

	First few changes at converting cmin to std::min.
	Small style edits around conversions as well.

2009-06-29  Brian Aker  <brian@gaz>

	Merge Padraig 

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the dependency on knowing the position of an I_S table in the
	schema_tables array defined in show.cc. This issue crops up in
	prepare_schema_table. An issue with my design is that it increases the time
	complexity from O(1) to O(n) in numerous places to determine an I_S table to
	work on since we don't have an explicit index into the array and instead
	need to search by name. However, as n is the number of I_S tables and this
	number is quite small (at the moment n is < 30), we don't see this causing
	any issue. This design makes the code much more maintainable and easier to
	understand. Previously, modifying anything to do with the I_S tables meant
	having to tip-toe around the issue of hard-coded indexes into the
	schema_tables array.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case result file.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the PLUGINS table into the I_S plugin.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the TABLE_CONSTRAINTS table into the I_S plugin.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file after extracting the
	KEY_COLUMN_USAGE table into the I_S plugin.

2009-06-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the KEY_COLUMN_USAGE table into the I_S plugin.

2009-06-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S test case and result file after extracting the
	REFERENTIAL_CONSTRAINTS table into a plugin.

2009-06-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extract the REFERENTIAL_CONSTRAINTS table into the I_S plugin.

2009-06-29  Brian Aker  <brian@gaz>

	Merge David

2009-06-29  David Shrewsbury  <shrewsbury.dave@gmail.com>

	Remove use of my_dir() from default.cc.

2009-06-28  Brian Aker  <brian@gaz>

	Merge Padraig

2009-06-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modifying the way the vector of column's is cleared up. Now, we are using a
	for_each call along with a function object to delete the pointers with the
	vector. This is much more STL like and follows from advice given by Meyer's
	in Effective STL (item 7).

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating Doxygen comments in the I_S plugin.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file. Added extra tests to test I_S
	tables which are not part of the plugin by performing queries on those
	tables.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the character set applicability table into the I_S plugin.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case and result file to perform a query on the
	COLLATIONS table.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the COLLATIONS table into the I_S plugin.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S plugin to make we sure we use nothrow with the new operator
	since that seems to be what the rest of the code base is standardizing on.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S plugin methods to call the correct InfoSchemaTable methods.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S test case to perform a query on the CHARACTER_SET table.

2009-06-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the I_S test case to perform a query on the CHARCTER_SET table.
	Also, updating the result file for the I_S test case.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CHARACTER_SET table into the I_S plugin.

2009-06-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Extracted the CHARACTER_SET I_S table into the I_S plugin.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed a bug in how I_S tables were being added to the plugin registry that
	would have caused seg faults in the future when more I_S tables are
	extracted into the plugin. 
	The issue was with the second column index test in add_infoschema_table().
	This test was seeing if the second column index was set and if it was set,
	it would reset the second index to -1. This logic is backwards...the correct
	logic is to test if the second column index is not set i.e. equal to zero,
	and if it is not set, then reset the second column index to -1. This issue
	would only arise when I_S tables are extracted into plugins.

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing unused parameters from some functions in show.cc

2009-06-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted the const char * members of InfoSchemaTable to be std::string
	instead. Updated any client code based on this change and also removed the
	calls to memset in the InnoDB handler on the InfoSchemaTable objects
	created. No need for a memset now that InfoSchemaTable is a proper class
	with a default constructor.

2009-06-26  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted the const char * members of ColumnInfo to be std::string instead.
	Also converted any client code based on this change.

2009-06-27  Brian Aker  <brian@gaz>

	Merge Trond

2009-06-26  Trond Norbye  <trond.norbye@sun.com>

	Use PCRE_HEADER instead of <pcre.h>

2009-06-27  Brian Aker  <brian@gaz>

	Merge nathan

2009-06-23  Nathan Williams  <nathanlws@gmail.com>

	Converted SEL_TREE::merges to a vector<SEL_IMERGE*>. Updated functions operating on it and also changed them to take the parameter by reference.

2009-06-25  Brian Aker  <brian@gaz>

	Merge Eric

2009-06-25  Eric Day  <eday@oddments.org>

	Fixed bind conflict.

2009-06-24  Eric Day  <eday@oddments.org>

	Fixed uninitialized variable.

2009-06-24  Eric Day  <eday@oddments.org>

	Cleaned up error messages and a few other things from Jay's review.

2009-06-22  Eric Day  <eday@oddments.org>

	Fixed a few thinks Padraig pointed out.

2009-06-17  Eric Day  <eday@oddments.org>

	Finished up new Listen plugin interface.

2009-06-17  Eric Day  <eday@oddments.org>

	Removed log option in test runner, no longer used.

2009-06-16  Eric Day  <eday@oddments.org>

	Listen plugin working now, still some cleanup left.

2009-06-16  Eric Day  <eday@oddments.org>

	New Listen interface about done, not quite compiling yet, but need a backup.

2009-06-15  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-06-25  Brian Aker  <brian@gaz>

	Fix for CentOS

2009-06-25  Brian Aker  <brian@gaz>

	Merge Lee.

2009-06-25  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-25  lbieber  <lbieber@lbieber-laptop>

	remove obsolete tests

2009-06-23  lbieber  <lbieber@lbieber-laptop>

	merge with latest from the trunk

2009-06-25  Brian Aker  <brian@gaz>

	Padraig merge

2009-06-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding some extra doxygen comments to the ColumnInfo class based on some
	comments from Jay on a merge proposal. Tried to document the old_name member
	of ColumnInfo as well as I could...

2009-06-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the getSpecificColumn(), beginColumnInfo(), endColumnInfo() methods
	and instead added one method getColumns() which returns a reference to the
	vector of columns for the I_S table.

2009-06-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converting arguments and member variables for ColumnInfo and InfoSchemaTable
	into _t standardized equivalents.

2009-06-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating the doxygen comments for the I_S plugin.

2009-06-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modularized the info schema plugin. Have a separate file which contains
	methods for each I_S table and a separate file for creating the columns for
	each I_S table. Also, added a constructor to the InfoSchemaTable class for
	taking a std::vector of columns as a parameter.

2009-06-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the InfoSchemaTable class to now hold information on columns in a
	std::vector instead of as a pointer to an array of columns. This enables
	further encapsulation and allows us to use iterators when we want to iterate
	through the columns in the I_S table. Added 2 member functions which return
	iterators pointing to the start and end of the std::vector of columns.

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated the I_S test case to perform queries on the PROCESSLIST table. Also
	updated the result file for this test case as the PROCESSLIST table now
	shows up in a different order because it is not part of the schema_tables
	array defined in show.cc anymore.

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed a typo.

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to remove the definition of the process list table's methods from
	info_schema.h

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Created an I_S plugin. Extracted the PROCESSLIST table into this plugin and
	removed any trace of it from show.cc

2009-06-25  Brian Aker  <brian@gaz>

	Merge Stewart

2009-06-19  Stewart Smith  <stewart@flamingspork.com>

	Remove dead SHOW ENGINE LOGS code. Was user of lex->create_info.db_type.

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	have SHOW_ENGINE_STATUS use Lex->show_engine instead of HA_CREATE_INFO.db_type as it will be going away shortly (and just use table proto)

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	max_tmp_tables is a lie

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	remove unused log-isam server option

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	Remove (unused) myisam_recover_options now that REPAIR is gone

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	Remove keep_files_on_create
	
	Only applicable to MyISAM, and should be down in the engine layer as an error if files trying to create already exist.
	
	Also, if you're wanting to re-create the FRM/DFE, then just replace the data files!
	Or at least have it as a CREATE TABLE option, and not some server variable that changes behaviour of
	such things.

2009-06-17  Stewart Smith  <stewart@flamingspork.com>

	Beginning of create table proto in parser: pass which Engine is being used for CREATE TABLE in table proto.

2009-06-24  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-06-19  Stewart Smith  <stewart@flamingspork.com>

	reintroduce the ALTER TABLE tests from CSV.test but in a alter_table_basic.test as to be somewhere remotely sane. Also use --sorted_result for unordered queries to ensure result is correct for any engine.

2009-06-18  Stewart Smith  <stewart@flamingspork.com>

	re-introduce csv.test. Fix for CSV as temporary only and remove some ALTER TABLE testing that didn't test CSV

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	CSV as temporary only engine

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	Preserve temp table status across ALTER TABLE

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	Add support for temporary only engines

2009-06-24  Brian Aker  <brian@gaz>

	Merge Patrick

2009-06-14  Patrick  <patg@testpatg.com>

	Fix for Centos 5.2

2009-06-24  Brian Aker  <brian@gaz>

	Merge EricL tree

2009-06-18  Eric Lambert  <eric.d.lambert@gmail.com>

	-it appears that the result from symlink() in ha_archive can not be 
	safely ignored, so check for error and then do the right thing.
	-clarified parenthesis in if statement in mf_format.cc. Current config
	was causing compiler warning on gcc-4.3.2 on fedora 10

2009-06-16  Eric Lambert  <eric.d.lambert@gmail.com>

	-fixed buildtime warning that were ignoring the result of symlink

2009-06-15  Eric Lambert  <eric.d.lambert@gmail.com>

	-removed my_realpath from my_symlink and replaced it with calls to posix realpath

2009-06-15  Eric Lambert  <eric.d.lambert@gmail.com>

	-replaced my_symlink call with posix symlink call

2009-06-15  Eric Lambert  <eric.d.lambert@gmail.com>

	remove declaration and definition of my_readlink, it is no longer used

2009-06-15  Eric Lambert  <eric.d.lambert@gmail.com>

	merge from trunk

2009-06-12  Eric Lambert  <eric.d.lambert@gmail.com>

	-replace calls to my_readlink with readlink

2009-06-24  Brian Aker  <brian@gaz>

	Fixes proto 2.1 issue

2009-06-19  Brian Aker  <brian@gaz>

	Merge Padraig

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changing name of FieldInfo class to ColumnInfo based on some feedback from
	Jay on IRC.

2009-06-19  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Converted the ST_FIELDS_INFO structure to a class named FieldInfo. Made all
	data members of this class private and provided getters for every data
	member. No setters are needed since this data is never modified once a field
	is created. Updated the appropriate files which use FieldInfo.

2009-06-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing a code block I had commented out for debugging. Also added more
	doxygen comments.

2009-06-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added some doxygen comments. Added a new boolean variable to the
	InfoSchemaClass to indicate whether optimizations specific to the fillTable
	method which used to be called get_open_tables can be performed or not.

2009-06-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a new header file which contains the InfoSchemaTable class and the
	InfoSchemaMethods class. The table header file was starting to contain more
	than it should have in my opinion and the idea was to split the
	functionality specific to I_S out in to its own header file.

2009-06-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed a stupid mistake I made in the innodb handler. Also reverted back to
	passing a pointer to the InfoSchemaMethods class as passing a const
	reference was not working at all for me. For the moment, this works and all
	tests pass.

2009-06-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modifying the addInfoSchemaMethods method to pass a parameter as a reference
	to const instead of a pointer.

2009-06-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the function pointers in the InfoSchemaTable class. Added a new
	class (InfoSchemaMethods) to replace these functions pointers. We are
	essentially using the strategy design pattern here (similar to what was
	present before) except we are attempting to do it in a more OO manner.

2009-06-15  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated patch to follow the coding standards when it comes to variable
	names.

2009-06-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Re-factored the InfoSchemaTable structure to now be a class. Made all data
	members private and provide getter/setters when necessary to enable
	encapsulation. Changed a bunch of client code that interacts with
	InfoSchemaTable objects (including InnoDB). I also tried to put in as many
	Doxygen comments as I could during the re-factoring and follow the coding
	style as outlined on the wiki.

2009-06-19  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	remove ha_check_and_repair. Engines should take care of this themselves.

2009-06-19  Brian Aker  <brian@gaz>

	Merge Stewart

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	ER_NISAMCHK is unused, mark it as so. Thanks to Paul DuBois for researching this for MySQL.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	mark ER_HASHCHK as an unused error code (thanks to Paul DuBois who researched this for MySQL)

2009-06-19  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-06-16  Stewart Smith  <stewart@flamingspork.com>

	remove REPAIR TABLE. Is very useful to have, but should be implemented in a much different way (or external to server).

2009-06-13  Brian Aker  <brian@gaz>

	Merge from Nathan

2009-06-13  Nathan Williams  <nathanlws@gmail.com>

	Merged trunk and resolved conflicts.

2009-06-08  Nathan Williams  <nathanlws@gmail.com>

	More style cleanup in files associated with Copy_field to CopyField change. Primarily spacing after = operator.
	
	Lots of tabs, indendation, and reformatting for readability in field_conv.cc.

2009-06-08  Nathan Williams  <nathanlws@gmail.com>

	Changed container from list to vector for CreateField::interval_list. There is never inserts into the middle of the container, only push_back. Per jaypipes suggestion.

2009-06-05  Nathan Williams  <nathanlws@gmail.com>

	No actual code changes. Changed Send_field to SendField to be consistent with coding standards.

2009-06-05  Nathan Williams  <nathanlws@gmail.com>

	No actual code changes. Changed Create_field to CreateField to be consistent with coding standards.

2009-06-05  Nathan Williams  <nathanlws@gmail.com>

	No actual code changes. Changed Copy_field to CopyField, to reflect the coding standards.

2009-06-05  Nathan Williams  <nathanlws@gmail.com>

	Converted Create_field::interval_list to a std::list<String*>.
	
	mysql_prepare_create was updated to iterate over the the std::list instead of list.
	
	That also called the typelib function which copies the data from those strings into a TYPELIB. That was updated to take the std::list as the parameter and iterate over it as well.

2009-06-13  Brian Aker  <brian@gaz>

	Merge for STaging

2009-06-13  Brian Aker  <brian@gaz>

	Merge Lee

2009-06-12  lbieber  <lbieber@lbieber-laptop>

	sync with latest from trunk

2009-06-12  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-10  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-10  lbieber  <lbieber@lbieber-laptop>

	clean up unused targets in top level Makefile,  remove LOCK TABLES from csv.test

2009-06-09  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-08  lbieber  <lbieber@lbieber-laptop>

	remove suite/csv and suite/hello_world directories

2009-06-08  lbieber  <lbieber@lbieber-laptop>

	move csv tests back to regular test suite, remove dead test files, add top level test-all target

2009-06-08  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-12  Brian Aker  <brian@gaz>

	Merge Patrick

2009-06-11  patg  <patg@hanuman>

	Removed all master/slave-specific code in drizzledump

2009-06-12  Brian Aker  <brian@gaz>

	Merge Eric

2009-06-11  Eric Lambert  <eric.d.lambert@gmail.com>

	-removed rm_dir_w_symlink method call with rmdir since dir should not be a sym link in the first place.

2009-06-11  Brian Aker  <brian@gaz>

	Merge Jay

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk and resolve conflicts.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Doxygenates documentation for name_resolution_context.h

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Documents and doxygenates all the myriad classes in opt_range.h (all the QUIK_SELECT class interfaces

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Documentation and indentation/style cleanups in sql_select, opt_range.h and join_tab.h.  This patch doxygenates classes/structs and their member variables.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Refactors sys_var class -- doxygenates and documents the class members and functions. Protects all member variables and adds public getters/setters.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removes dead set_empty_value_allowed() method of set_var

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removes dead variables in set_var.h

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	More style cleanups in Session

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removes dead Session::catalog member variable

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removed unused cached character set variables in Session along with dead update_charset() method.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Remove dead Session::compression member variable. This is redundant with protocol

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Documentation and style fixes in Session class.  Doxygen should finally pick up the Statement and Session classes now.  Removes the silly Query_arena class, as it's not needed anymore.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Documentation and style cleanup on Item class

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Adds documentation to Item class members and methods.  Style and indentation cleanup in item.h

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Moves Create_field implementation out into its own implementation file.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removes dead get_blob_type_from_length() function. We only have one type of BLOB now...

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Breaks Create_field definition out into its own header file. More documentation and style cleanups around Create_field.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	More documentation cleanup for Field class

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Style cleanup in field.cc and move documentation into Field class in header file.

2009-06-11  Jay Pipes  <jpipes@serialcoder>

	Removal of dead Field::image_type and st_key_part::image_type member variables.  Legacy from geometry MyISAM types...

2009-06-10  Jay Pipes  <jpipes@serialcoder>

	Style, indentation, and doxygen/documentation cleanup on Field class. Removal of dead methods in Field such as do_last_null_byte(), last_null_byte() and anonymous enum with LAST_NULL_BYTE_UNDEF...

2009-06-10  Jay Pipes  <jpipes@serialcoder>

	Removed dead Table::table_check_intact() method.

2009-06-10  Jay Pipes  <jpipes@serialcoder>

	Cleanup of style, indentation, and documentation of Table class members. Removed 5 or 6 dead Table member variables.

2009-06-09  Jay Pipes  <jpipes@serialcoder>

	Removes dead st_table_field_w_type structure.

2009-06-10  Brian Aker  <brian@gaz>

	Merge Monty

2009-06-10  Monty Taylor  <mordred@inaugust.com>

	Fixed file encoding on OSX.

2009-06-10  Monty Taylor  <mordred@inaugust.com>

	Fixed the check for building on OSX.

2009-06-10  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-06-10  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig from lp:~posulliv/drizzle/bug311044-show-syntax-broken

2009-06-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updated test case based on bug fix.

2009-06-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Modified the show_wild rule to also support WHERE clauses. 
	
	This is needed for doing queries like:
	show global variables where variable_name = 'blah'
	
	Also, added a check to ensure the string created in Lex->wild is not NULL.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Removed leftover debuggig printf.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Made tablename_to_filename available across the server now.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Removed some more unused code.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Removed my_charset_filename... since we no longer use it. (hip hip, hoorah!)

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Fixed the drizzlecheck bug. (Thanks Nathan)
	Also fixed the InnoDB madness. 
	TESTS ALL PASS.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Removed extra unused TableList from table.proto.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Went to 4 byte encoding instead of three.

2009-06-09  Monty Taylor  <mordred@inaugust.com>

	Removed strconvert.

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	First pass at removing strconvert.

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	Removed copy_and_convert.

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	Removed more charset conversion code.

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	Removed CHARSET_INFO stuff from protocol plugin interface - it makes no sense.

2009-06-09  Brian Aker  <brian@gaz>

	Merge Eric

2009-06-09  Eric Day  <eday@oddments.org>

	Fixed my libdrizzle version mismatch fix.

2009-06-09  Eric Day  <eday@oddments.org>

	Fixed missing return code. This will be removed later and is just until we want to make libdrizzle 0.3 a requirement.

2009-06-09  Eric Day  <eday@oddments.org>

	Disabled tcmalloc to be on by default, this was the cause of a significant regression.

2009-06-09  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-06-09  Eric Day  <eday@oddments.org>

	Fixed return code reporting with new libdrizzle for drizzletest.

2009-06-09  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-05-28  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-05-11  Eric Day  <eday@oddments.org>

	A little cleanup and some comments.

2009-06-08  Brian Aker  <brian@gaz>

	Merge Brian

2009-06-08  Brian Aker  <brian@gaz>

	Remove dead lock.cc commands.

2009-06-08  Brian Aker  <brian@gaz>

	Move open_table() to session.

2009-06-08  Brian Aker  <brian@gaz>

	This is a large number of refactors against the Session class for its
	ownership of of open_tables.

2009-06-08  Brian Aker  <brian@gaz>

	Remove lock_tables list from session.

2009-06-07  Brian Aker  <brian@gaz>

	Refactor TableList methods.

2009-06-08  Brian Aker  <brian@gaz>

	Merging Monty

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	Fixed staging build issue.

2009-06-08  Brian Aker  <brian@gaz>

	Merge Monty

2009-06-08  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris build problem. Removde unused new/delete opeartors.

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	Merged lee from lp:~kalebral/drizzle/drizzle-test-coverage

2009-05-21  Lee Bieber  <lbieber@dhcp-umpk18-110-227.SFBay.Sun.COM>

	comment out failing tests for now, bugs have been filed

2009-05-20  Lee Bieber  <lbieber@dhcp-umpk18-111-188.SFBay.Sun.COM>

	merge latest from trunk

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	Merged Toru from lp:~tmaesaka/drizzle/drizzle-fix-drizzleslap

2009-05-19  Toru Maesaka  <dev@torum.net>

	Replace occrrences of my_(open|close) with straight open() and close() system calls

2009-05-18  Toru Maesaka  <dev@torum.net>

	Kill file related memory leaks. Unfortunately, we need to convert close(2) over to my_close() since files are being opened with my_open() which obtains memory through strdup(3)

2009-05-18  Toru Maesaka  <dev@torum.net>

	Add memory allocation check and fix SEGV problem caused in statement_cleanup() by using calloc. This is temporary, the query statement list should be migrated to a proper container like std::vector

2009-05-18  Toru Maesaka  <dev@torum.net>

	merge trunk

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	Merged Nathan from lp:~nlws/drizzle/i-list-cond-cmp-refactor

2009-06-03  Nathan Williams  <nathanlws@gmail.com>

	Fixed a . vs -> typo.
	Fixed formatting in a few places.
	Changed to an explicit temporary to appease compiler.

2009-06-02  Nathan Williams  <nlw@H>

	Changed all instances of I_List<COND_CMP> to vector<COND_CMP>

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-clean-code

2009-06-05  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk, update test output for variables-big test

2009-06-05  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	Merged Joe from lp:~skinny.moey/drizzle/drizzle-misc-bug-fixes

2009-06-05  Joe Daly  <skinny.moey@gmail.com>

	Bug #309547. Also identified by MySQL #41610. The read plan being 
	constructed contained key_infix/key_infix_len thse variables were
	being overwritten if more then one loop is done. This change
	saves off values that are the *best* and uses them for the
	read plan. 

2009-06-05  Joe Daly  <skinny.moey@gmail.com>

	Add tests for #309547

2009-06-07  Monty Taylor  <mordred@inaugust.com>

	table_map takes ints, not pointers.

2009-06-07  Brian Aker  <brian@gaz>

	Removal of LOCK TABLES.

2009-06-07  Brian Aker  <brian@gaz>

	Removed internal logic/dead variables for LOCK TABLES.

2009-06-05  Brian Aker  <brian@gaz>

	Formatting/remove dead variables.

2009-06-05  Brian Aker  <brian@gaz>

	Formatting.

2009-06-05  Brian Aker  <brian@gaz>

	Remove dead lock functions, and remove bits from sql_lex.h/sql_yacc union.

2009-06-05  Brian Aker  <brian@gaz>

	Remove SQLCOM_LOCK_TABLES

2009-06-05  Brian Aker  <brian@gaz>

	Remove guts in parser for LOCK TABLE.

2009-06-05  Brian Aker  <brian@gaz>

	Merge Mark

2009-06-05  Mark Atwood  <me@mark.atwood.name>

	make logging_gearman plugin be more C++'ish

2009-06-04  Mark Atwood  <me@mark.atwood.name>

	make logging_syslog be more C++'ish

2009-06-04  Mark Atwood  <me@mark.atwood.name>

	add destructor to logging_query, to close filehandle and clean up PCRE stuff

2009-06-04  Mark Atwood  <me@mark.atwood.name>

	merge from main

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	make logging_query be more C++ ish

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	add PCRE matching to logging to file

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	add more informatin to logging to file

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	add new info to syslog logging

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	add more info to gearman logging

2009-05-27  Mark Atwood  <me@mark.atwood.name>

	fix stuppid logging bug

2009-06-05  Brian Aker  <brian@gaz>

	Merge Stewart, fix LOCK (it was dead, only for dead RENAME SCHEMA code), and
	fixed Sun Studio failure.

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	remove unused ha_prepare(), prepare is always called on specific engine.

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	add result file for createdb INFORMATION_SCHEMA test

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	Add code coverage for ALTER DATABASE

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	Add test for CREATE DATABASE INFORMATION_SCHEMA returning ER_DB_CREATE_EXISTS.
	
	this increases code coverage for error cases in db.cc (previously this wasn't tested)

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	remove old handler methods for DDL from handler.h

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	remove old code for changing databases only called from stored procedures

2009-06-05  Stewart Smith  <stewart@flamingspork.com>

	remove dead code from db.cc: never used, never called.

2009-06-04  Stewart Smith  <stewart@flamingspork.com>

	remove handler::ha_delete_table and have StorageEngine::deleteTable instead

2009-06-04  Stewart Smith  <stewart@flamingspork.com>

	fix build error in mysql_rename_table: forgot to remove old dead code.

2009-06-04  Stewart Smith  <stewart@flamingspork.com>

	move ha_rename_table to just be StorageEngine::renameTable with engines implementing renameTableImpl.

2009-06-04  Stewart Smith  <stewart@flamingspork.com>

	beat identifiers with an ugly stick (otherwise known as "coding standards" and s/create_table/createTable/)

2009-06-04  Stewart Smith  <stewart@flamingspork.com>

	Re-introduce marking transaction as read-write for engine on create_table:
	- StorageEngine::create_table() is StorageEngine public API
	- StorageEngine::create_table_impl() is implemented by engines

2009-06-03  Stewart Smith  <stewart@flamingspork.com>

	remove handler::ha_create and just use StorageEngine::create_table

2009-06-03  Stewart Smith  <stewart@flamingspork.com>

	fix myisam delete_table path: should be in StorageEngine.

2009-06-03  Stewart Smith  <stewart@flamingspork.com>

	move handler::rename_table to StorageEngine

2009-06-03  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-06-03  Stewart Smith  <stewart@flamingspork.com>

	Move handler::create to StorageEngine::create_table
	
	Some workarounds in HEAP for creating table on ::open and internal tables

2009-06-01  Stewart Smith  <stewart@flamingspork.com>

	move delete_table out of handler and up into StorageEngine where it belongs.
	
	haven't fixed the lovely table "name" parameter yet though.

2009-06-01  Stewart Smith  <stewart@flamingspork.com>

	move bas_ext to StorageEngine instead of handler
	
	precursor to moving delete_table

2009-06-04  Brian Aker  <brian@gaz>

	Caught leftover printf().

2009-06-04  Brian Aker  <brian@gaz>

	Merge of Brian

2009-06-04  Brian Aker  <brian@gaz>

	Remove lock count call (hardwired to 1...). No Merge tables... it is always
	1 :)

2009-06-04  Brian Aker  <brian@gaz>

	More redactoring of all lock issue code that is session bound, to be a
	member of Session class.
	
	The future will involve consolidation :)

2009-06-04  Brian Aker  <brian@gaz>

	Remove malloc() of table.

2009-06-04  Brian Aker  <brian@gaz>

	Simplify close_cached_tables() (it now always locks).

2009-06-04  Brian Aker  <brian@gaz>

	Refactor call close_old_data_files to Session object.

2009-06-04  Brian Aker  <brian@gaz>

	Merge Brian.

2009-06-04  Brian Aker  <brian@gaz>

	Formatting around return (style)

2009-06-04  Brian Aker  <brian@gaz>

	Remove caller that wasn't correctly locking, and reverted code to 5.1
	locking. Thank you hellgrind :)

2009-06-04  Brian Aker  <brian@gaz>

	Remove race condition around refresh (aka... multi-thread writeable global
	variables must be protect).

2009-06-03  Brian Aker  <brian@gaz>

	Additional Style cleanup (small merge to resolve code in my branch).

2009-06-03  Brian Aker  <brian@gaz>

	Style cleanup.

2009-06-03  Brian Aker  <brian@gaz>

	Removed useless handler call (was for MERGE).

2009-06-03  Brian Aker  <brian@gaz>

	Merge for Brian

2009-06-03  Brian Aker  <brian@gaz>

	Formatting/style cleanup.

2009-06-03  Brian Aker  <brian@gaz>

	Codestyle cleanup.

2009-06-02  Brian Aker  <brian@gaz>

	Move lazy read of refresh to outside of LOCK_open (we don't lock the refresh
	value, so currently keeping it in the lock is like prayer for birth
	control).

2009-06-02  Brian Aker  <brian@gaz>

	Remove double lookup for cleaning open table cache

2009-06-02  Brian Aker  <brian@gaz>

	Comments on LOCK_open

2009-06-02  Brian Aker  <brian@gaz>

	Remove dead code.

2009-05-31  Brian Aker  <brian@gaz>

	Merge Jay.

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Tiny cleanups

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Yet more indentation and style cleanup

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Yet more style and indentation cleanups.

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	No code changes...only indentation and style cleanup.

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Style cleanups and moves JOIN_TAB definition out into its own header.

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Tiny indentation cleanup.

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Phase 3 of refactoring JOIN
	
	* Moves store_key into its own header
	* Renames store_key to StoredKey to follow naming guidelines
	* Moves JOIN_CACHE and CACHE_FIELD into join_cache.h header
	* Moves implementation of the JOIN_CACHE into separate implementation file

2009-05-31  Jay Pipes  <jpipes@serialcoder>

	Phase 2 of JOIN refactoring.
	
	* Moved functions out of sql_select.cc into join.cc where the function primarily
	involved only the JOIN class into drizzled/join.cc.  This effort is necessary 
	in the move towards a more object-oriented coding style for the nested loops 
	join algorithm and Jasekidd's GSOC project.
	* Pulled many statically-defined functions out of sql_select.cc and into the 
	global namespace where it made sense to do so (used in >1 file).
	* Code style cleanup

2009-05-31  Brian Aker  <brian@gaz>

	Merge of Brian

2009-05-30  Brian Aker  <brian@gaz>

	Factored out dead enum.

2009-05-30  Brian Aker  <brian@gaz>

	A lot of little cleanups (most based off lcov)

2009-05-29  Brian Aker  <brian@gaz>

	Remove "dead" table definitions

2009-05-30  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-29  Monty Taylor  <mordred@inaugust.com>

	Be a little bit more verbose. Also, prefer newer autoconf/automake/libtoolize if they are there.

2009-05-29  Monty Taylor  <mordred@inaugust.com>

	Ensure that the dirlist is sorted.

2009-05-29  Monty Taylor  <mordred@inaugust.com>

	Moved pthread check so that the protobuf check works right for real.

2009-05-28  Monty Taylor  <mordred@inaugust.com>

	Added toupper to registry.

2009-05-28  Monty Taylor  <mordred@inaugust.com>

	Changed name to std::string.

2009-05-28  Monty Taylor  <mordred@inaugust.com>

	Moved more tolower calls to setup rather than during runtime.

2009-05-29  Brian Aker  <brian@gaz>

	Merge Jay

2009-05-29  Jay Pipes  <jpipes@serialcoder>

	First phase refactoring the JOIN class:
	
	* Pulled out the init() method
	* Created proper, ordered initialization list for JOIN constructor
	* Initialized all member variables in initialization list (this will enable us to move towards using new for JOIN properly)
	* Moved member variables around in the class to fit more-frequently accessed attributes
	in the first part of the class, which should fix some of the large number of I2mr and D2mr
	cache misses I've found in JOIN::optimize() and JOIN::prepare.
	* Style cleanup

2009-05-29  Brian Aker  <brian@gaz>

	Merge Brian

2009-05-29  Brian Aker  <brian@gaz>

	Fix for gcc 4.1

2009-05-29  Brian Aker  <brian@gaz>

	Removed dead bit in Session.

2009-05-29  Brian Aker  <brian@gaz>

	Removed dead code around alter table/MERGE tables. Added assert to double
	check logic (though an earlier if should catch it).

2009-05-29  Brian Aker  <brian@gaz>

	Refactor function to make sense.

2009-05-28  Brian Aker  <brian@gaz>

	Minor formating, change of one name to make grep easier :)

2009-05-28  Brian Aker  <brian@gaz>

	Partial Refactor of TableShare

2009-05-28  Brian Aker  <brian@gaz>

	Style cleanup

2009-05-27  Brian Aker  <brian@gaz>

	Merge Monty.

2009-05-28  Monty Taylor  <mordred@inaugust.com>

	Merged lee from lp:~kalebral/drizzle/drizzle-clean-code

2009-05-27  lbieber  <lbieber@lbieber-laptop>

	comment out failing tests until 364991 and 377826 are fixed

2009-05-27  lbieber  <lbieber@lbieber-laptop>

	merge with latest from trunk

2009-05-22  lbieber  <lbieber@lbieber-laptop>

	remove bit_count

2009-05-22  lbieber  <lbieber@lbieber-laptop>

	remove bit_length

2009-05-28  Monty Taylor  <mordred@inaugust.com>

	Fixed md5 check on OpenSolaris.

2009-05-27  Brian Aker  <brian@gaz>

	MErge Brian

2009-05-27  Brian Aker  <brian@gaz>

	Remove second load file for open_table parsing of DFE.

2009-05-27  Brian Aker  <brian@gaz>

	Refactor for build_table_filename()

2009-05-27  Brian Aker  <brian@gaz>

	Remove lower case filename bits (aka we just lock into the most compatible
	method, which is what we have been doing).
	
	Removed a number of dead function endings.

2009-05-27  Brian Aker  <brian@gaz>

	Modified alias to being const.

2009-05-27  Brian Aker  <brian@gaz>

	Remove dead bits from db create/rm

2009-05-26  Brian Aker  <brian@gaz>

	Remove two bits of dead code from Storage Engine interface.

2009-05-26  Brian Aker  <brian@gaz>

	Bits of dead code.

2009-05-25  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Merged Monty from lp:~mordred/drizzle/kill-malloc

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Removed the thread-safe crap in MY_BITMAP. Also remove the temp-pool option for
	creating a global slow-the-server-down "pool" of temp file names.

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Couple of quick configure fixes.

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Made REGINFO into RegInfo and responsible for initializing itself.

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-05-21  Monty Taylor  <mordred@inaugust.com>

	Less fail.

2009-05-21  Monty Taylor  <mordred@inaugust.com>

	First malloc(Table) stab (doesn't work)

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Style move.

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Replaced a malloc with a calloc. Resisted the urge to rewrite/replace the entire class.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Except that I suck.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Finished splitting out per-platform logic for tcmalloc/mtmalloc.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Added support for checking for tcmalloc-minimal.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Fixed an overzealouse no-inline fix.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Fixed some no-inline warnings.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Build/dist fixes. Added my_print_defaults back for now - test_run needs it. But now it's a noinst. Moving forward, it either needs to be renamed and installed properly, or it needs to have its functionality wrapped up into something else.

2009-05-24  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded deps on mysys and mystrings from myisam plugin - they get
	pulled in to the server directly, and they cause weird file blockage build
	issues on osx.

2009-05-23  Monty Taylor  <mordred@inaugust.com>

	Fixed an oops.

2009-05-23  Monty Taylor  <mordred@inaugust.com>

	Imported manpages for the things we ship. Started to edit the names of thing. Changed the port/password options in the drizzle.1 manpage.

2009-05-23  Monty Taylor  <mordred@inaugust.com>

	Removed my_print_defaults, innochecksum and mysql_waitpid. Two are crap - one does't belong here.

2009-05-23  Monty Taylor  <mordred@inaugust.com>

	Delete drizzled_safe ad drizzleddumpslow - both of which don't work and are cruft.

2009-05-23  Monty Taylor  <mordred@inaugust.com>

	Merged Chris from lp:~cmoose/drizzle/replace-macros

2009-05-03  chris  <chris@ubuntu-virtual>

	First stab at a #define to template replace

2009-05-23  Brian Aker  <brian@gaz>

	Merge Brian

2009-05-23  Brian Aker  <brian@gaz>

	Remove locks around my_open(). Open file counts are now "best effort" (not
	that they were ever exact, since Innodb didn't use the calls).

2009-05-22  Brian Aker  <brian@gaz>

	Merge of Brian

2009-05-22  Brian Aker  <brian@gaz>

	Remove dead bits to the end of functions.

2009-05-22  Brian Aker  <brian@gaz>

	Increase the default sort buffer size.

2009-05-22  Brian Aker  <brian@gaz>

	Small refactor of db.cc

2009-05-22  Brian Aker  <brian@gaz>

	Fixed TableList to correctly construct (and removed memset() calls in
	places).

2009-05-22  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-clean-code

2009-05-21  lbieber  <lbieber@lbieber-laptop>

	remove dead code for bit operations

2009-05-21  lbieber  <lbieber@lbieber-laptop>

	merge with branch on launchpad

2009-04-22  lbieber  <lbieber@lbieber-laptop>

	merge with latest from the trunk

2009-04-16  lbieber  <lbieber@lbieber-laptop>

	merge with latest from the trunk

2009-05-21  lbieber  <lbieber@lbieber-laptop>

	merge with latest from the trunk

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Merged GCC 4.4 support from lp:~mordred/drizzle/update-to-gcc-44

2009-05-22  Monty Taylor  <mordred@inaugust.com>

	Merged Nathan from lp:~nlws/drizzle/fix-string-c-ptr-overrun

2009-05-22  nlw  <nlw@orisndriz01>

	Fix buffer overrun in string::c_ptr, now handles all cases properly

2009-05-21  Monty Taylor  <mordred@inaugust.com>

	First attempt at supporting gcc-4.4.

2009-05-22  Brian Aker  <brian@gaz>

	Merge Brian

2009-05-22  Brian Aker  <brian@gaz>

	Collapse field classes (this does change enum/time decimal conversion
	handling (which is all pretty much junk).

2009-05-22  Brian Aker  <brian@gaz>

	Correct if() style

2009-05-22  Brian Aker  <brian@gaz>

	Dead references.

2009-05-21  Brian Aker  <brian@gaz>

	Dead Code

2009-05-21  Brian Aker  <brian@gaz>

	Merge Stewart

2009-05-21  Stewart Smith  <stewart@flamingspork.com>

	pull almost_full test fixes

2009-05-21  Stewart Smith  <stewart@flamingspork.com>

	fix almost_full test some more

2009-05-21  Stewart Smith  <stewart@flamingspork.com>

	merge missing file

2009-05-21  Stewart Smith  <stewart@flamingspork.com>

	add missing sql_union.h - not picked up either by make dist or bzr ls --unknown. scary.

2009-05-20  Stewart Smith  <stewart@flamingspork.com>

	merge fix for broken test (not mine :)

2009-05-20  Stewart Smith  <stewart@flamingspork.com>

	fix missing drop table at end of almost_full.test

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	merge various work bits that are ready to be pushed

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused extern specialflag - whatever it was

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	add simple test for LIMIT X OFFSET Y. Increases parser code coverage testing.

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	add missing result file for: add test for ALTER column DROP DEFAULT. Improves sql_yacc.yy code coverage (among other places)

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	add test for ALTER column DROP DEFAULT. Improves sql_yacc.yy code coverage (among other places)

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused isDatabaseLowByteFirst()

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	remove handler::table_type() as same information can be retrieved from handler::engine->getName()

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	slight semantic improvement in handler::can_switch_engines

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	fix setting table type in proto for CREATE LIKE schema table

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	remove unused (originally only in ha_partition, but should really be part of ha_create there too) ha_create_handler_files

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	s/mysql_union/drizzle_union/

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	add table type to table proto generated in parser

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	Put table_name into table proto in parser, and use that when creating table proto file.

2009-05-19  Stewart Smith  <stewart@flamingspork.com>

	merge initial work for creating table proto in parser

2009-05-18  Stewart Smith  <stewart@flamingspork.com>

	remove (old) code to default back to default storage engine. Default storage engine is now already set in the 'create:' part of the parser.

2009-05-18  Stewart Smith  <stewart@flamingspork.com>

	set create_table_proto to NULL in lex_start. otherwise things explode horribly, as they should.

2009-05-18  Stewart Smith  <stewart@flamingspork.com>

	Start work to construct table proto in parser:
	- new/delete of message in parser
	- fix symbol conflicts from parser with symbols in table.pb.h by adding _SYM to things like VARCHAR

2009-05-21  Brian Aker  <brian@gaz>

	Merge for Brian

2009-05-21  Brian Aker  <brian@gaz>

	Final bits to structure alignment

2009-05-20  Brian Aker  <brian@gaz>

	More alignment for structures

2009-05-20  Brian Aker  <brian@gaz>

	Straighten out structures (remove some some dead bits).

2009-05-20  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Fixed the fix on solaris.

2009-05-21  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-test-coverage

2009-05-20  Lee Bieber  <lbieber@dhcp-umpk18-111-188.SFBay.Sun.COM>

	added a test-all target that runs all the test suites specified by  macro

2009-05-21  Monty Taylor  <mordred@inaugust.com>

	Another stab at this darned thing.

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Removed dead code.

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Fix OpenSolaris breakage.

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged Lee from lp:~kalebral/drizzle/drizzle-test-coverage

2009-05-19  Lee Bieber  <lbieber@dhcp-umpk18-110-227.SFBay.Sun.COM>

	remove --big-test flag

2009-05-19  Lee Bieber  <lbieber@dhcp-umpk18-110-227.SFBay.Sun.COM>

	move csv tests suite suite/csv

2009-05-19  Lee Bieber  <lbieber@dhcp-umpk18-110-227.SFBay.Sun.COM>

	add tests for hello_world plugin and add target in tests/Makefile to run all plugin tests

2009-05-16  Lee Bieber  <lbieber@lee-biebers-macbook-pro.local>

	merge latest from trunk

2009-05-16  Lee Bieber  <lbieber@lee-biebers-macbook-pro.local>

	merge latest from trunk

2009-05-15  Lee Bieber  <lbieber@dhcp-umpk18-111-188.SFBay.Sun.COM>

	merge with latest from trunk

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Merged me from lp:~mordred/drizzle/update-protobuf

2009-05-20  Monty Taylor  <mordred@inaugust.com>

	Added support for protobuf v2.1.0

2009-05-19  Monty Taylor  <mordred@inaugust.com>

	Merged Nathan from lp:~nlws/drizzle/i-list-session-refactor

2009-05-18  Nathan Williams  <nlw@H>

	Remove ilink inheritance from Statement

2009-05-18  Nathan Williams  <nlw@H>

	Reformatted refactored bits per monty's suggestion.
	
	Slightly changed variable assignment flow in kill_one_thread to be more clear.

2009-05-16  Nathan Williams  <nlw@H>

	Merged trunk

2009-05-14  Nathan Williams  <nlw@H>

	Replaced global I_List<Session> with std::vector<Session*>

2009-05-19  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-05-19  Monty Taylor  <mordred@inaugust.com>

	Added support for using gnutls instead of openssl for the md5 plugin. On Debian,
	linking openssl against GPL software is sort of frowned on because it's one
	of those murky areas. In this case, we can support gnutls by just changing a
	header, so it saves us an argument with someone down the road.

2009-05-19  Monty Taylor  <mordred@inaugust.com>

	auth_pam plugin check needs stdlib to compile.

2009-05-18  Brian Aker  <brian@gaz>

	Merge in Monty Taylor

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Blind stab in the dark...

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Updated the plugin.ac to not break sun.

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Add a header to the auth_pam check.

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Fixed turning off plugins.

2009-05-18  Monty Taylor  <mordred@inaugust.com>

	Fixed help text/ argument mismatch. Thanks ebergen.

2009-05-15  Monty Taylor  <mordred@inaugust.com>

	Small cleanup inspired by merge.

2009-05-15  Monty Taylor  <mordred@inaugust.com>

	Merged Joe from lp:~skinny.moey/drizzle/drizzle-merge-duplication-unireg-definitions

2009-05-14  Joe Daly  <skinny.moey@gmail.com>

	Merge duplication between unireg.h and definitions.h

2009-05-18  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	merge changes, now ready to merge into mainline

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	remove mysqldump-no-binlog tests. obsolete

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	remove strict_autoinc tests as this mode is inappropriate for Drizzle

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	fix mysqldump test to work with drizzle -> drizzledump.test

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	fix drizzledump dying on connection error (int as %s arg)

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	always use backticks in drizzledump

2009-05-17  Stewart Smith  <stewart@flamingspork.com>

	fix test result now that I fixed SHOW CREATE TABLE

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	Always clear destination string when parsing arguments in drizzletest.
	
	was showing up as weird filenames when running mysqldump test.

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	remove more evil that is operator overloading.

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	remove evil that is operator overloading.

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	Fix print of error in drizzledump.
	
	was using the error code as a char* - leads to SIGSEGV related fail.

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	fix SHOW CREATE TABLE output for index part length

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	Fix 2 drizzledump bugs in processing of --compatible arguments
	
	Strings were not being copied correctly with strncpy
	
	if length of string to strncpy does not include room for \0, then the resultant
	string is *not* null terminated.
	
	This was leading to "invalid --compatible" mode when it really wasn't.
	
	2nd bug was incorrect error message due to above.

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	remove unused global variable in drizzledump (from DBUG)

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	remove strict_autoinc test files as that sql_mode makes it hard/impossible to restore sql dumps, so we're not going to have it on in Drizzle. Not removing any code where the errors are generated as after some insane amount of time I still have no idea where the error is generated from. I have a feeling it involves web-service ordered goat-sacrifices.

2009-05-18  Brian Aker  <brian@gaz>

	Merging Trond

2009-05-18  Trond Norbye  <trond.norbye@sun.com>

	Remove output from ed during smf install

2009-05-18  Trond Norbye  <trond.norbye@sun.com>

	Add configuration files to integrate to Solaris SMF

2009-05-18  Brian Aker  <brian@gaz>

	Merge Jay

2009-05-18  Jay Pipes  <jpipes@serialcoder>

	Code style cleanups and removal of st_parsing_options.

2009-05-18  Jay Pipes  <jpipes@serialcoder>

	Code style cleanup and removal of dead LEX_SERVER_OPTIONS struct

2009-05-16  Jay Pipes  <jpipes@serialcoder>

	Split Lex_input_stream out into its own header.

2009-05-16  Jay Pipes  <jpipes@serialcoder>

	More documentation of LEX member variables and removal of slave_session_opt unused member variable.

2009-05-15  Jay Pipes  <jpipes@serialcoder>

	Remove useless autocommit member variable of LEX.  Was always 0. Removed a useless conditional in mysql_execute_command. Document the 'verbose' member variable of LEX

2009-05-15  Jay Pipes  <jpipes@serialcoder>

	Cleanup of LEX structure. Removed unused xid member variable, documented a number of member variables.

2009-05-15  Jay Pipes  <jpipes@serialcoder>

	Removed unused set_query_tables_list() method of Query_tables_list class

2009-05-15  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-05-16  Brian Aker  <brian@gaz>

	Merge from Lee.

2009-05-15  Lee Bieber  <lbieber@dhcp-umpk18-111-188.SFBay.Sun.COM>

	add test cases for crc32 plugin, remove old tests

2009-05-15  Brian Aker  <brian@gaz>

	Merge of Jay

2009-05-15  Brian Aker  <brian@gaz>

	Merge Jay

2009-05-14  Jay Pipes  <jpipes@serialcoder>

	Removed unused st_lex_local struct

2009-05-14  Jay Pipes  <jpipes@serialcoder>

	Cosmetic: make sql_lex.h include guard match rest of drizzled/ headers.

2009-05-15  Brian Aker  <brian@gaz>

	Merge Jay

2009-05-14  Jay Pipes  <jpipes@serialcoder>

	Adds a md5 test case suite for the md5 UDF plugin.  This should serve
	as a skeleton example suite for adding tests for plugins...

2009-05-10  Jay Pipes  <jpipes@serialcoder>

	Typo in valgrind.supp

2009-05-15  Brian Aker  <brian@gaz>

	Fix for breakage in merge (aka... missing include files.).

2009-05-15  Brian Aker  <brian@gaz>

	Merge in changes for charset and dead code cleanup.

2009-05-15  Brian Aker  <brian@gaz>

	Force UTF8 (remove the bits for looking for ascii).
	
	This is a reverse of commit 31951 from MySQL.

2009-05-15  Brian Aker  <brian@gaz>

	Dead convert functions for character sets.

2009-05-15  Brian Aker  <brian@gaz>

	Remove dead code in mysys

2009-05-15  Brian Aker  <brian@gaz>

	MErge Stewart

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	merge some auto-inc fixes

2009-05-15  Stewart Smith  <stewart@flamingspork.com>

	Make sql_mode=NO_AUTO_VALUE_ON_ZERO default for Drizzle.
	
	Also fix DEFAULT keyword handling for auto-increment so that it defaults to
	NULL and not 0 so that the following is valid and generates two auto-inc
	values:
	
	create table t1 (a int auto_increment primary key)
	insert into t1 (a) values (default);
	insert into t1 (a) values (default);
	
	Important to note that 0 is no longer magic. So this gives you duplicate
	primary key error:
	
	insert into t1 (a) values(0);
	insert into t1 (a) values(0);
	
	as you've inserted the explicit value of 0 twice.

2009-05-14  Stewart Smith  <stewart@flamingspork.com>

	move Item_default_value out into its own files under drizzled/item/ to make it easier to find and follow current convention

2009-05-15  Brian Aker  <brian@gaz>

	Code / Style cleanup merge.

2009-05-15  Brian Aker  <brian@gaz>

	Remove thread_specific_used

2009-05-15  Brian Aker  <brian@gaz>

	A number of random cleanups.

2009-05-14  Brian Aker  <brian@gaz>

	Remove old keywords/small bits of lex cleanup

2009-05-14  Brian Aker  <brian@gaz>

	Once again... removed vcol code.

2009-05-14  Brian Aker  <brian@gaz>

	Dead code (factord out a bit ago)

2009-05-14  Brian Aker  <brian@gaz>

	Removed dead code from table_list.

2009-05-14  Brian Aker  <brian@gaz>

	Merge.

2009-05-14  Brian Aker  <brian@gaz>

	Merge (also removes session from show variables).

2009-05-14  Brian Aker  <brian@gaz>

	Remove the need for TMP_TABLE_KEY_EXTRA (we don't replicate temp tables).

2009-05-14  Brian Aker  <brian@gaz>

	Remove "BINLOG" from variables (we don't need this for our replication).

2009-05-14  Brian Aker  <brian@gaz>

	Drop dead session pass

2009-05-14  Brian Aker  <brian@gaz>

	Merging Brian's work.

2009-05-14  Brian Aker  <brian@gaz>

	Remove dead session calls.

2009-05-14  Brian Aker  <brian@gaz>

	Formating fix.

2009-05-14  Brian Aker  <brian@gaz>

	Factor out need for session in many "schema" calls. Removed variable about
	collation for schema from session (a user should get this info from I_S)

2009-05-14  Brian Aker  <brian@gaz>

	Simplify the calling stack for getting schema collation. We need to extend
	this further by removing the schema collation from session (in order to
	remove the need for a cache).

2009-05-13  Brian Aker  <brian@gaz>

	Merge from Monty.

2009-05-13  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew from lp:~sillydeveloper/drizzle/drizzle-fix-bug310389

2009-05-05  Andrew Ettinger  <ettinger@andrew-ettingers-computer-4.local>

	Match style guide

2009-05-05  Andrew Ettinger  <ettinger@andrew-ettingers-computer-4.local>

	Merge with trunk

2009-05-05  Andrew Ettinger  <ettinger@andrew-ettingers-computer-4.local>

	Fixed result sets for tests with new repair code

2009-05-03  Andrew Ettinger  <ettinger@andrew-ettingers-computer-4.local>

	Revert bad spacing

2009-05-03  Andrew Ettinger  <ettinger@new-host-2.home>

	Merged from trunk

2009-05-03  Andrew Ettinger  <ettinger@new-host-2.home>

	mysql_admin_table() now properly sets HA_ADMIN_CORRUPT before sending back a result for a table that is unopenable

2009-05-13  Monty Taylor  <mordred@inaugust.com>

	Merged fix from lifeless.

2009-05-10  Robert Collins  <robertc@robertcollins.net>

	Look for ''/.bzr in configure when checking for bison, not .bzr

2009-05-13  Monty Taylor  <mordred@inaugust.com>

	Merged stewart.

2009-05-12  Stewart Smith  <stewart@flamingspork.com>

	Add test for CREATE TABLE SELECT column order for insert if table already exists

2009-05-12  Stewart Smith  <stewart@flamingspork.com>

	remove rename_concurrent test. It is faulty until we re-introduce error injection

2009-05-12  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-04-14  Stewart Smith  <stewart@flamingspork.com>

	Release latches in case bulk insert takes a long time
	
	Related to http://bugs.mysql.com/bug.php?id=32149
	
	Other locations have this already fixed in Drizzle.

2009-05-13  Monty Taylor  <mordred@inaugust.com>

	Merged in build bug fix.

2009-05-13  mtaylor  <mtaylor@orisndriz02>

	Fixes 376322: configure fails on CentOS machines
	
	There was some punctuation in an error mesage that the m4 on CentOS was parsing incorrect. Punctuation removed.

2009-05-13  Brian Aker  <brian@gaz>

	Fix for processlist (Eric found).

2009-05-12  Brian Aker  <brian@gaz>

	Merge in refactoring around lock system

2009-05-12  Brian Aker  <brian@gaz>

	Remove LOW_PRIORITY call.

2009-05-12  Brian Aker  <brian@gaz>

	Removed TL_READ_HIGH_PRIORITY

2009-05-12  Brian Aker  <brian@gaz>

	Remove dead TL_WRITE_LOW_PRIORITY

2009-05-12  Brian Aker  <brian@gaz>

	Removed old DELAYED keyword from parser (plus cleaned up tests). Also
	removed dead lock stages.

2009-05-11  Brian Aker  <brian@gaz>

	Merging Brian.

2009-05-11  Brian Aker  <brian@gaz>

	Remove dead lock code around delayed INSERT.

2009-05-11  Brian Aker  <brian@gaz>

	Merge of Eric's work

2009-05-11  Eric Day  <eday@oddments.org>

	Merged build system fixes.

2009-05-09  Eric Day  <eday@oddments.org>

	Fixed more autoconf bugs.

2009-05-08  Eric Day  <eday@oddments.org>

	Fix for bug #372367, pcre header detection.

2009-05-11  Eric Day  <eday@oddments.org>

	Fixed copyright on gearman_udf plugin, was on Sun time. :)

2009-05-07  Eric Day  <eday@oddments.org>

	Solaris fixes for Gearman UDF.

2009-05-07  Eric Day  <eday@oddments.org>

	Rewrote gearman add function to use string properly, fixed plugin dependency issue with drizzled.

2009-05-07  Eric Day  <eday@oddments.org>

	Merged trunk, fixed gearman_udf plugin to use new plugin system.

2009-05-07  Eric Day  <eday@oddments.org>

	Gearman UDFs complete.

2009-05-01  Eric Day  <eday@oddments.org>

	More Gearman UDF work.

2009-04-25  Eric Day  <eday@oddments.org>

	Started Gearman UDF.

2009-05-11  Brian Aker  <brian@gaz>

	Replacing Sun employee copyright headers (aka... anything done by a Sun
	employee is copyright by Sun).

2009-05-10  Brian Aker  <brian@gaz>

	Merge of Monty

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Fixed typo.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed unneeded code.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed stored_fields

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	More my_bitmap header cleanup.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed vestigal bitset<MAX_FIELDS> references.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Turned macros in my_bitmap into honest inline methods.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Moved some things to the API.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed open_by_handler.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Got rid of column_bitmap_signal. Unused.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed register_field_in_bitmap - unused.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Used API.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Removed is_stored - was only used for VCOL.

2009-05-09  Monty Taylor  <mordred@inaugust.com>

	Re-added bitset<> as a replacement for Bitmap<>

2009-05-08  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-05-08  Monty Taylor  <mordred@inaugust.com>

	Patch cleaning.

2009-05-08  Monty Taylor  <mordred@inaugust.com>

	Further reversion of P.

2009-05-08  Monty Taylor  <mordred@inaugust.com>

	Reverted earlier Padraig bitset patch.

2009-05-08  Monty Taylor  <mordred@inaugust.com>

	Reverted a crap-ton of padraig's work.

2009-05-06  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-05  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-05-05  Monty Taylor  <mordred@inaugust.com>

	Updated po files.

2009-05-05  Monty Taylor  <mordred@inaugust.com>

	Merged Stewart from lp:~stewart-flamingspork/drizzle/fix-function-arguments 

2009-04-24  Stewart Smith  <stewart@flamingspork.com>

	fix function argument checking for (un)compress(ed_length) functions. also add tests

2009-04-24  Stewart Smith  <stewart@flamingspork.com>

	Add tests to func_crc32 to check that parameter count is checked

2009-04-24  Stewart Smith  <stewart@flamingspork.com>

	Add check for argument numbers for UDFs. Fix crc32 and md5

2009-05-05  Monty Taylor  <mordred@inaugust.com>

	Removed unused method. (Also, it sucked.)

2009-05-05  Brian Aker  <brian@gaz>

	Merge handler cleanup (and ALTER TABLE cleanup) We go from 1 and 2 half
	thought out systems... to just 1.
	
	This should all be changed when we finish the StorageEngine rewrite

2009-05-05  Brian Aker  <brian@gaz>

	Dead definition.h bits

2009-05-05  Brian Aker  <brian@gaz>

	Clean up final  code bits (from previous builds).

2009-05-05  Brian Aker  <brian@gaz>

	Removed query cache bit (was gone before....)

2009-05-05  Brian Aker  <brian@gaz>

	Next bit of ALTER TABLE wackiness.

2009-05-05  Brian Aker  <brian@gaz>

	First pass in alter table cleanup.

2009-05-05  Brian Aker  <brian@gaz>

	Enable "old" alter table by default

2009-05-05  Brian Aker  <brian@gaz>

	Dead vcol. (Plague...)

2009-05-05  Brian Aker  <brian@gaz>

	Memset should be used for init (I seconded guessed myself in a patch about
	this).

2009-05-05  Brian Aker  <brian@gaz>

	Begin of abstract out the bitmap from direct reference.

2009-05-05  Brian Aker  <brian@gaz>

	Remove dead in_read_set() from blob fields.

2009-05-05  Brian Aker  <brian@gaz>

	Cleanup to use new/delete

2009-05-05  Brian Aker  <brian@gaz>

	Patches for Jay (aka name changes)

2009-05-05  Brian Aker  <brian@gaz>

	The call for setting columns was backwards (engines with certain callers
	would loop twice over bits).

2009-05-05  Brian Aker  <brian@gaz>

	Add mark_columns_used_by_index_no_reset() with just index (assumes read_set
	then)

2009-05-05  Brian Aker  <brian@gaz>

	Move rename back.

2009-05-04  Brian Aker  <brian@gaz>

	Merge Monty

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Fixed a race condition build problem that showed up on hades with make -j32.

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Merged Andrew from lp:~muzazzi/drizzle/drizzle-remove-errbuff

2009-04-28  abg  <abg@pachyderm>

	removing commented-out sprintf instance

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Added POTFILES.in to the .bzrignore file.

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Merged Devananda from lp:~devananda/drizzle/test-default-collation

2009-05-02  Devananda vdv  <devananda.vdv@gmail.com>

	created test case for default database collation

2009-05-02  Devananda vdv  <devananda.vdv@gmail.com>

	initializing ret in function row_raw_format

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Moved rename_concurrent to  broken, since it is, and since it keeps producing false test failures for stuff.

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Fixed autorun.sh to actually work from a tarball.

2009-05-04  Monty Taylor  <mordred@inaugust.com>

	Remove creation of datadir in make install. This really doesn't belong in the Makefile, but rather in package management.

2009-05-04  Brian Aker  <brian@gaz>

	Merge Brian

2009-05-04  Brian Aker  <brian@gaz>

	Added interface for field to get read/write on its own.

2009-05-04  Brian Aker  <brian@gaz>

	Factored out is_stored

2009-05-04  Brian Aker  <brian@gaz>

	Found a dead bit for virtual columns.

2009-05-04  Brian Aker  <brian@gaz>

	Removing dead column_bitmaps_signal() call.

2009-05-04  Brian Aker  <brian@gaz>

	Remove dead bit around SQL handler.

2009-05-04  Brian Aker  <brian@gaz>

	Removed dead no_replicate

2009-05-03  Brian Aker  <brian@gaz>

	Merge of Monty's code

2009-05-02  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk.

2009-04-29  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-04-29  Monty Taylor  <mordred@inaugust.com>

	Fixed gnulib/gettext.h.

2009-04-29  Monty Taylor  <mordred@inaugust.com>

	Merged up with Trunk.

2009-04-28  Monty Taylor  <mordred@inaugust.com>

	Merged from muzazzi.

2009-04-27  abg  <abg@pachyderm>

	cleaning up extern reference to errbuff

2009-04-27  abg  <abg@pachyderm>

	Removing global errbuff and cleaning up two remaining instances that referenced it.

2009-04-28  Monty Taylor  <mordred@inaugust.com>

	Merged from Devananda.

2009-04-27  Devananda  <devananda@Myst>

	added else in Date::to_time_t

2009-04-28  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-04-28  Toru Maesaka  <dev@torum.net>

	Removed str2int() from the original string library by MySQL. Use strtol(3) instead.

2009-04-28  Monty Taylor  <mordred@inaugust.com>

	Removed deps that weren't needed.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Reverted back to building drizzled in drizzled.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed the isainfo check progs. To be clear, this was to prevent it being called on _NOT_ Solaris. I can't type, apparently.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Added check for  isainfo so that we don't try to run it on Solaris.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Added helpful message.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed deinit... should call remove, not add. :) Thanks Hartmut.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed bogus conditional.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Made client programs install properly.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed an or tatement.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Made better warning messages.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Merged from Chris.

2009-04-26  chris  <chris@ubuntu-virtual>

	Remove comments, do/while, spaces per Monty review

2009-04-24  chris  <chris@ubuntu-virtual>

	Replace macros around unireg.h, store_record,restore_record,cmp_record,empty_record

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig.

2009-04-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed 1 instance of SQL_LIST from the source base. Replaced it with
	std::list.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed a few loose ends.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Fixed CLEANFILES.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Added missing include.

2009-04-26  Monty Taylor  <mordred@inaugust.com>

	Merged up with trunk properly.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Moved drizzled build to root dir.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Removed the m4-based plugin system.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Changed the last two.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	oldlibdrizzle

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Added support for list of headers in plugin.ini. Migrated md5.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Added support for default sources= ... when there is only one file and it's the same name as the plugin, you don't have to say so.
	Migrated a bunch of plugins.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	auth_pam

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Migrated auth_http.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Removed storage dir.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Moved csv.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Blackhole.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Migrated archive.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Fixed some spacing.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Added some missing backslashes.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Moved heap.

2009-04-24  Monty Taylor  <mordred@inaugust.com>

	Moved myisam to new plugin system.

2009-04-20  Monty Taylor  <mordred@inaugust.com>

	Ported InnoDB to register_plugins.

2009-04-19  Monty Taylor  <mordred@inaugust.com>

	New system now runs in parallel to old system.

2009-04-19  Monty Taylor  <mordred@inaugust.com>

	Moved towards having register_plugins.py make builtin plugins, so we can have a first step.

2009-04-16  Monty Taylor  <mordred@inaugust.com>

	First pass at replacing plugin.m4.

2009-04-25  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-04-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the to_string() method call on std::bitset. This was causing issues
	with compilation on Solaris. Instead, I now use stringstream.

2009-04-25  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing an unused parameter in a function in the MyISAM storage engine.

2009-04-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Thanks to advice from Monty on IRC, printing of bitsets is now working
	correctly and all tests pass :)

2009-04-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to add the header file include for the drizzled_string_to_hex()
	method.

2009-04-18  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed dependence on ostringstream for the print method. Now, we are
	calling the to_string() method of std::bitset. Also, we call
	drizzled_string_to_hex() to convert the character array which holds the binary representation of the bitset
	into hexidecimal. This is not working at the moment though. The hexadecimal
	output is incorrect so I need to look into that further.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing comment which is not needed now.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	We want the hexadecimal output to be in uppercase.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Print now works for a bitmap but it is not implemented in the best way at
	the moment. Right now, I convert the bitset to a ulong and then use
	ostringstream to convert that to a string. Need to revisit this.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initial work on replacing the print function in Bitmap<>

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing the way a key_map is created in myisam as it currently gives a
	compilation error on mac.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing an unused variable.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing calls to to_ulong(). This could have thrown an out_of_range
	exception in some circumstances so now we don't use that method. Was able to
	re-factor the code to not use to_ulong(). It was only used in 2 places
	anyway.

2009-04-17  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the is_subset method from key_map.cc file. That method is not
	needed really when using bitsets as we are now for key_map. Also, renamed
	is_prefix to is_keymap_prefix since there is another method related to
	strings which is called is_prefix. Just makes it clearer what we are working
	with.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing the is_prefix method in key_map.cc file to work correctly.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Defining key_map to be std::bitset<64> when MAX_INDEXES is less than or
	equal to 64 causes Drizzle to crash as the bitset is too small. Currently,
	setting the bitset to 72 bits if MAX_INDEXES <= 64.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleaning some header file includes after removing my_bitmap.h.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed my_bitmap.[cc,h] files from the mysys directory. Also removed them
	from the Makefile.am file. Some more minor modifications to a number of
	files due to the type of key_map now being std::bitset.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Made some tiny changes in the storage engines to reflect that key_map is now
	of type std::bitset.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding keymap.[cc,h] to Makefile.am. Also, more small changes to reflect the
	fact that key_map is now of type std::bitset.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	More small changes to reflect the fact that key_map is now of type std::bitset.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initial work on replacement of Bitmap<> from the code. Removed the Bitmap<>
	class from sql_bitmap.h and instead included key_map.h now. key_map is now
	defined to be of type std::bitset instead of type Bitmap<>. Also started on
	modifying the calls to key_map now to match its new type of std::bitset.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed the isBitmappOverlapping method to take references to std::bitset as
	parameters instead of pointers.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-04-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding some comments on some bitset related helper methods I created
	previously.

2009-04-24  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2009-04-24  Mark Atwood  <me@mark.atwood.name>

	able to specify the gearman function the gearman logging is sent to

2009-04-24  Monty Taylor  <mordred@inaugust.com>

	Merged from cemal.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Merged update-gnulib.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Updated po files.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Fixed gnulib updates.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Updated gnulib files.

2009-05-01  Brian Aker  <brian@gaz>

	Refactored out the share to being an object (playing with the structure to
	see how to do this with the memory engine).
	
	Remove locks...

2009-04-28  Brian Aker  <brian@gaz>

	Merge refactoring (mainly around TABLE_SHARE... one step forward...)

2009-04-28  Brian Aker  <brian@gaz>

	Simple bit for dead init

2009-04-28  Brian Aker  <brian@gaz>

	More refactoring back to TableShare object.

2009-04-28  Brian Aker  <brian@gaz>

	Turn init_tmp_table_share into a method (the memset of the object... cute).

2009-04-28  Brian Aker  <brian@gaz>

	Renamed TABLE_SHARE to TableShare

2009-04-28  Brian Aker  <brian@gaz>

	Remove dead call to init_tmp_table_share().

2009-04-28  Brian Aker  <brian@gaz>

	Remove dead table bits from old replication for ROW

2009-04-28  Brian Aker  <brian@gaz>

	Merge 

2009-04-24  cd  <cd@voip>

	fixed crash in show processlist

2009-04-27  Brian Aker  <brian@gaz>

	Merge all of my vcol removal into one patch.

2009-04-27  Brian Aker  <brian@gaz>

	Remove vcol tests.

2009-04-27  Brian Aker  <brian@gaz>

	Final bits to Virtual Column code

2009-04-27  Brian Aker  <brian@gaz>

	Removed all non-case occurances for virtual.

2009-04-27  Brian Aker  <brian@gaz>

	First pass on removing virt columns

2009-04-27  Brian Aker  <brian@gaz>

	Removed dead files.

2009-04-27  Brian Aker  <brian@gaz>

	Patch on show processlist from  davi@apache.org

2009-04-17  Brian Aker  <brian@gaz>

	Merge Monty.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Fix for osx distcheck problem.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Reverted the DIST_SUBDIRS not having po thing. It breaks things even worse. We're just going to have to ensure gettext is installed on machines we're going to run distcheck on.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Fixed a stupid hardcoding in po.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Blast. Fixed some make distcheck issues.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Fix distcheck on osx.

2009-04-17  Brian Aker  <brian@gaz>

	Mergig Monty

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Store a Registry of SchedulerFactories and set one of them at startup for better error messages earlier.

2009-04-17  Monty Taylor  <mordred@inaugust.com>

	Merge from Trond.

2009-04-17  Trond Norbye  <trond@razor>

	memset and read specify the length as size_t, not uint64_t

2009-04-16  Brian Aker  <brian@gaz>

	Refactor get_variable to session

2009-04-16  Brian Aker  <brian@gaz>

	Merge Monty.

2009-04-16  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Merged Eric.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Moved client build into root Makefile.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Moved extra/ into root Makefile.am

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Moved mystrings build into root Makefile.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Moved mysys build into root Makefile.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Fixed two build errors in Eric's patch.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Merged from Eric.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Removed unused FAST_MUTEX stuff.

2009-04-16  Monty Taylor  <mordred@inaugust.com>

	Fixed OpenSolaris distcheck.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Added command line option for optimizer_use_mrr.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Include fix for solaris make distcheck.

2009-04-15  Monty Taylor  <mordred@inaugust.com>

	Removed POTFILES.in. It's autogenerated, and shouldn't be checked in.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Sometimes it helps to actually set -Werror before the check you've marked as needing to happen after -Werror.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Dagnabbit. Sun Studio. Sun Studio. Sun Studio.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Added ability to make a searched-for lib use -isystem so we can do that for protobuf.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Fixed quick configure bug. /* isn't a valid comment in shell script, thanks.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Clarified instructions in README.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Append local @ld_library_paths, rather than the other way around.

2009-04-14  Monty Taylor  <mordred@inaugust.com>

	Merged solaris gcc build fixes.

2009-04-13  Monty Taylor  <mordred@inaugust.com>

	GCC on Solaris build fixes.

2009-04-15  Brian Aker  <brian@gaz>

	OSX shutdown fix

2009-04-15  Eric Day  <eday@oddments.org>

	A couple small fixes from last patches.

2009-04-15  Eric Day  <eday@oddments.org>

	Updated .bzrignore with serialize -> message changes.

2009-04-15  Eric Day  <eday@oddments.org>

	Fix for bug #324052

2009-04-15  Eric Day  <eday@oddments.org>

	Changed shutdown init to use a pipe instead of closing the listening fds. OSX is stupid, linux ftw!

2009-04-15  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-04-13  Brian Aker  <brian@gaz>

	Merge vcol removal.

2009-04-08  Stewart Smith  <stewart@flamingspork.com>

	Disable virtual column (vcol) support

2009-04-13  Brian Aker  <brian@gaz>

	Merge from Monty

2009-04-13  Padraig O'Sullivan  <posulliv@hades.inaugust.com>

	Small fix for initialization of bitset needed on mac.

2009-04-13  Brian Aker  <brian@gaz>

	Merge Monty

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Removed check for strpbrk, which we don't use.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Removed mysys/mystrings things from client/ progs. Still need to get rid of my_getopt, but I think that's all now.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a comment string.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a bug in my_print_variables for size_t vars.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Added a null trap.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Merged more bitset<> changes from Padraig.

2009-04-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to include the negation of a condition in an if statement.

2009-04-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the isBitmapSubset method. Can perform the same operation using the
	logical & operator on bitsets. This removes the overhead of a function call
	also which is nice.

2009-04-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed the global mutex used to simplify the names of temporary tables.
	This means there is no need for the ThreadSafeBitset class I had previously
	introduced so I removed that.

2009-04-12  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Reverted my changes for replacing Bitmap<> for the moment. Going to fix up
	some things based on some review comments I got.

2009-04-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replacing Bitmap<> with std::bitset throughout the code base. key_map is now
	typedefed to be of type std::bitset instead of Bitmap<>.
	
	A number of small modifcations had to be made to a large number of files
	once this change was made. Modifications were needed to reflect the fact
	that key_map is of type std::bitset now as opposed to Bitmap<>.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Migrated Mark's new plugin to new plugin registration.
	Added in compilation test for older libcurl without CUROPT_USERNAME.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2009-04-07  Mark Atwood  <me@mark.atwood.name>

	add auth_http plugin

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Merged from Lee.

2009-04-10  lbieber  <lbieber@lbieber-laptop>

	fix test suite permission problem - https://bugs.launchpad.net/drizzle/+bug/324689

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Updated po files.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Renamed ST_SCHEMA_TABLE to InfoSchemaTable. One step down towards making the darned thing a class. (/me shudders)

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Added headers for make dist.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Added missing file.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Changed plugin registration of I_S tables in innodb.

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Merged compress, uncompress and uncompressed_length into one plugin lib. Yay new plugin registration!

2009-04-12  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig.

2009-04-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changed HA_ALTER_FLAGS to be of type std::bitset instead of being of type
	Bitmap<>. Based on this, made some small modifications to when variables of
	type HA_ALTER_FLAGS are used.

2009-04-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added new functions for adding a bitset in a thread-safe way. I created a
	class which simply consists of 2 class members: 1) a lock and 2) a
	std::bitset.
	
	Also, moved some helper functions to a separate new file (sql_bitmap.cc).
	
	Nearly all instances of My_BITMAP are replaced now. 

2009-04-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a new helper function for testing and setting a bit in a bitset. Also,
	merged from trunk.

2009-04-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-04-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed those issues I had. Was copying a bit map incorrectly. Now this branch
	builds clean and all tests pass.

2009-04-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	More changes to some files to reflect the changes I've made by removing
	MY_BITMAP. Compiles cleanly now except there are 2 test cases failing now.
	Need to look into those next...

2009-04-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Various small cleanups to numerous files to now have calls to the correct
	methods in std::bitset instead of calls to functions related to MY_BITSET
	e.g. bitmap->test(pos) instead of is_bitmap_set(MY_BITMAP, pos)
	Quite a number of files are modified in this commit but most of the
	modifications are quite small in nature.

2009-04-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing up the storage engines based on the changes I made to the Table
	class.

2009-04-08  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initial work on removing MY_BITMAP from the Drizzle code base. For a start,
	I'm concentrating on removing the MY_BITMAP structures from the table
	structure defined in drizzled/table.h
	
	I'm replacing it with std::bitset for the moment unless I can think of a
	better replacement. Still need to work on re-factoring the rest of the code
	to work correctly with these changes that I have made.

2009-04-11  Monty Taylor  <mordred@inaugust.com>

	Merged from Trond.

2009-04-11  Trond Norbye  <trond@razor>

	size_t and uint64_t is not the same in 32 bit builds. Add explicit casting

2009-04-11  Trond Norbye  <trond@razor>

	Undefine _FILE_OFFSET_BITS on Solaris before trying to include config.h

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Moved a few things around in headers.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed data pointer. Don't need it no more.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Renamed st_mysql_plugin to drizzled_plugin_manifest.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed some uses of plugin_dlib and st_plugin_dl is now confied to only sql_plugin.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Actually deleted plugin_foreach.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed last plugin_foreach call.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed now meaningless plugin_type.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Trimmed out some plugin type stuff.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed plugin_lock_by_name - unused.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Did the finalizers. Renamed plugin_registry.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	New-style plugin registration now works.
	New-style plugin re-registration on the way.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Removed oldcode ifdef.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Hooked transaction_services into Plugin_registry.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Quick fix.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Merged Jay.

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Removed old protobuf_replicator plugin, fixed up db.cc and other files to use new
	TransactionServices interface, and put in a guard in the TransactionServices call
	interfaces to do a no-op when either no replicators or appliers.
	
	Next step: merge in the new filtered_replicator and transaction_log_writer plugins
	from the other trees.

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Removal of log.cc (binlog), added Applier plugin and fixed up Replicator
	plugin.  New transaction_services.cc class implementation of the API for
	converting between internal formats and GPB Command Messages.

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Removed binlog and correct sql_builtin generation.

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Fixed up the removal of Session::server_id

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Added some accessor methods for getQueryString(), getServerId(), getTransactionId(), getQueryLength(), and removed the Session::server_id member.

2009-04-10  Jay Pipes  <jpipes@serialcoder>

	Changes libserialize to libdrizzledmessage per ML discussion.  All GPB messages are now in the drizzled::message namespace.

2009-04-10  Monty Taylor  <mordred@inaugust.com>

	Made plugin registration go through Plugin_registry.

2009-04-09  Monty Taylor  <mordred@inaugust.com>

	Collapsed plugin_registry. _impl class not needed.

2009-04-13  Brian Aker  <brian@gaz>

	Dead code removal merge

2009-04-09  Eric Day  <eday@oddments.org>

	Actually removed the code.

2009-04-09  Brian Aker  <brian@gaz>

	Merge Eric

2009-04-09  Eric Day  <eday@oddments.org>

	Cleaned up some nasty socket timeout handling.

2009-04-09  Brian Aker  <brian@gaz>

	Merge Eric

2009-04-09  Eric Day  <eday@oddments.org>

	May have fixed shutdown problems.

2009-04-08  Eric Day  <eday@oddments.org>

	Merged Trunk.

2009-04-09  Brian Aker  <brian@gaz>

	Merge Monty

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Removed last non-replicator (hi Jay) non show plugins plugin_foreach.
	Next stop - ripping in to sql_plugin.cc!

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Fixed new fancy re-ordering of I_S plugin results.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Migrated one schema_table plugin_foreach.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Register I_S tables.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Removed check for extensions that didn't actually do anything.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Moved delete table.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Another one bites the dust.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Removed another plugin_foreach. This time, noticing that the warning was pretty useles, as it only tested whether or not you have ANY storage engines at all. :)

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	One more plugin_foreach down.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Changed to LT versions of libs.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Added a needed warning skip for Solaris.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Killed more plugin_foreach.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Migrated commit_or_rollback_by_xid.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	This should really be a const_iterator. No?

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Moved ha_close_connection

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Moved first storage engine plugin_foreach.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Added a set to Registry and an iterator over it.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Moved StorageEngine onto drizzled::Registry.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Fixed a bug in the original impl.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Add generalized registry to be used for case-insensitive mappings.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Moved storage engine initialization to init methods.

2009-04-08  Monty Taylor  <mordred@inaugust.com>

	Store StorageEngine in system variables, rather than storage engine plugin.

2009-04-09  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-04-09  Stewart Smith  <stewart@flamingspork.com>

	fix intermittent init_connect failure.
	
	On Thu, Apr 09, 2009 at 12:52:39AM -0700, Eric Day wrote:
	> Ahh, this is lookin at return codes from libdrizzle. To fix, change
	> line 31 from:
	>
	> --error 20,21
	>
	> To:
	>
	> --error 5,20,21
	>
	>
	> All three are possible valid return codes for disconnect. I thought
	> I fixed all of these during the conversion...

2009-04-08  Brian Aker  <brian@gaz>

	Merge Eric

2009-04-08  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-04-07  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-04-07  Eric Day  <eday@oddments.org>

	Finished first pass at Protocol cleanup, still some things to remove but they are a bit more involved.

2009-04-07  Eric Day  <eday@oddments.org>

	Finished store() cleanup.

2009-04-07  Eric Day  <eday@oddments.org>

	Cleaned up int/date related store functions.

2009-04-07  Eric Day  <eday@oddments.org>

	Cleaned up Protocol plugin interface (now a class factory) and moved libdrizzlclient to oldlibdrizzle to be clear.

2009-04-07  Eric Day  <eday@oddments.org>

	Added protocol init/final to plugin type structs.

2009-04-07  Eric Day  <eday@oddments.org>

	Created Protocol plugin interface and changed libdrizzleclient to be a plugin.

2009-04-06  Eric Day  <eday@oddments.org>

	Added new Protocol plugin header.

2009-04-06  Eric Day  <eday@oddments.org>

	Started abstracting Protocol, removed init_connect, init_file.

2009-04-08  Brian Aker  <brian@gaz>

	Modified Archive to use std:map

2009-04-08  Brian Aker  <brian@gaz>

	Removed slow_launch_time, it should belong to a particular scheduler, not to
	a global. This also resolves a valgrind warning.

2009-04-08  Brian Aker  <brian@gaz>

	Double check that string is always NULL terminated by design. Also use the
	processlist specific buffer to determine if the query string fragment is available.

2009-04-07  Brian Aker  <brian@gaz>

	Merge Stewart.

2009-04-08  Stewart Smith  <stewart@flamingspork.com>

	fix lock_multi test. LOW_PRIORITY isn't really, so we shouldn't test it being so.

2009-04-08  Stewart Smith  <stewart@flamingspork.com>

	re-introduce really setting LOW_PRIORITY updates as a LOW_PRIORITY lock. This kinda works currently, but should really all be ripped out, rewritten or something.

2009-04-07  Stewart Smith  <stewart@flamingspork.com>

	add repeat-test=n option to test-run.pl to repeat a test n times

2009-04-07  Brian Aker  <brian@gaz>

	Merge Monty

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Removed the rest of plugin_ref.

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Remove most of plugin_ref. Fix several leaks (where the malloc was happening but never freed). One step away from no more plugin_ref. Yippee. It's so much easier the second time you try to do this.

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Removed call to intern_plugin_lock.

2009-04-07  Brian Aker  <brian@gaz>

	Merge from Monty

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig.

2009-04-02  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added extra comments to parts of test cases that were modified for this bug
	fix based on Jay's review comments. Also split multi-value INSERT statements
	into single INSERT statements.

2009-03-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Updating 1 more test result based on my fix.

2009-03-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed up 1 more test case based on the modifications I have made.

2009-03-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Decided that we when we have an integer divided by an integer that returns a
	truncated decimal result which will be stored in a temporary table, we will
	error and store a default value in the temporary table when this occurs. The
	other option was to have the query fail which would have required modifying
	a lot of other things. I think this is a fair compromise as it is unlikely
	someone is going to do something like divide (int) 1 / (int) 3 and expect to
	get an accurate result. Most people would expect zero when dividing integers
	like that.

2009-03-31  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fix for bug337038. Now we error on data truncation with decimal values but
	the warning is still present so that a user can issue 'show warnings' and
	still see the truncation warning.

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Merged Toru.

2009-04-07  Toru Maesaka  <dev@torum.net>

	Remove drizzleadmin from the repository and fix the test suite for it.

2009-04-06  Toru Maesaka  <dev@torum.net>

	Cosmetic fixes pointed out by Jay and added comments for doxygen

2009-04-06  Toru Maesaka  <dev@torum.net>

	Added server shutdown and ping functionalities to the drizzle client app

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Merge trunk.

2009-04-07  Monty Taylor  <mordred@inaugust.com>

	Slurp around strings rather than char* for storage engine name.

2009-04-06  Monty Taylor  <mordred@inaugust.com>

	Removed lines from POTFILES.in.

2009-04-06  Monty Taylor  <mordred@inaugust.com>

	Fixed a place where I forgot to actually use the function.

2009-04-06  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-04-04  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-registration.

2009-04-04  Monty Taylor  <mordred@inaugust.com>

	Converted qcache plugin.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Removed configvar and parser plugin types. They are not being used and they are just one more type to be converted. We can/will add them back once we have a place for them to be used.
	Migrated error_message_handler off of plugin_foreach.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Removed plugin_foreach from authentication.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Made all_logging static - not that it matters since it's gonna become a member variable one day.
	Fixed a comment.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Removed plugin_foreach from logging_handler.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Turned off static build of logging_gearman. It breaks builds without gearman but with --with-plugins=all.

2009-04-02  Monty Taylor  <mordred@inaugust.com>

	Fixed UDF de-initialization.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Making the storage engines store in a map.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	First steps towards new plugin reg.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Added more informative error message.

2009-04-04  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Removed unused variables that would conflict with libmysqlclient variables. (Thanks Richard Smith)

2009-04-06  Brian Aker  <brian@gaz>

	Merge of session lock removal

2009-04-06  Brian Aker  <brian@gaz>

	Dropped session lock.

2009-04-06  Brian Aker  <brian@gaz>

	LCOV merge.

2009-04-06  Brian Aker  <brian@gaz>

	LCOV cleanup (more of...).

2009-04-06  Brian Aker  <brian@gaz>

	LCOV cleanup.

2009-04-06  Brian Aker  <brian@tangent.org>

	Merge refactoring around plugin_ref

2009-04-06  Brian Aker  <brian@tangent.org>

	Small patch to just pass back the plugin_ref (this is for Monty).

2009-04-06  Brian Aker  <brian@tangent.org>

	Removed dependency on internal_lock for session to lookup global table value

2009-04-01  Brian Aker  <brian@tangent.org>

	Start removing references to "plugin_ref"

2009-03-30  Brian Aker  <brian@tangent.org>

	Remove plugin_array_version 

2009-03-30  Brian Aker  <brian@tangent.org>

	Removed dead passed variables.

2009-04-05  Brian Aker  <brian@tangent.org>

	Merge from Eric.

2009-04-05  Eric Day  <eday@oddments.org>

	Header needed for Solaris/SunCC.

2009-04-05  Eric Day  <eday@oddments.org>

	Added new convert file for hex function.

2009-04-05  Eric Day  <eday@oddments.org>

	Removed dependency for hex convert, fixed a few Protocol class issues for Solaris.

2009-04-05  Eric Day  <eday@oddments.org>

	Moved NET to Protocol. libdrizzleclient is now completely isolated, need to start reworking Protocol now.

2009-04-03  Eric Day  <eday@oddments.org>

	Picked up a few more stragglers.

2009-04-03  Eric Day  <eday@oddments.org>

	Moved the last of the libdrizzleclient calls into Protocol.

2009-04-03  Eric Day  <eday@oddments.org>

	Moved more drizzleclient/NET specific code to Protocol class.

2009-04-03  Eric Day  <eday@oddments.org>

	Further drizzleclient cleanup. Starting to move all NET related functions into Protocol, removed some dead code, removing drizzleclient dependencies spread throughout drizzled.

2009-04-03  Eric Day  <eday@oddments.org>

	Cleaning up drizzleclient from drizzled.cc.

2009-04-03  Brian Aker  <brian@tangent.org>

	Merge Eday

2009-04-03  Eric Day  <eday@oddments.org>

	Renamed LOCK_drizzleclient_create_db to LOCK_create_db since this has nothing to do with drizzleclient. I think Monty accidently got this during the drizzleclient rename.

2009-04-02  Eric Day  <eday@oddments.org>

	Merged 311025 bugfix.

2009-04-02  Eric Day  <eday@oddments.org>

	Fix for bug #311025. This was due to code that was removed during ulong cleanup (r576).

2009-04-03  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Added test for the po dir before trying to update POTFILES.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Removed get_password.* from libdrizzleclient, since it's in client/ now.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Let's not build get_password.cc 6 times, how about?

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Updated warning message.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Updated po files.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Moved recursive chmod to test-run rather than Makefile - since the dir isn't there to chmod by Makefile time.

2009-04-01  Monty Taylor  <mordred@inaugust.com>

	Added missing file to Makefile.am.

2009-03-31  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Made logging_gearman not mandatory.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed merge.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Merged plugin system changes from me.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed my stupidity. How many days did I lose to that?

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Why does this break in the way that it does?

2009-03-26  Monty Taylor  <mordred@inaugust.com>

	Moved savepoint stuff to protected virtual methods, moved the offset to private, and moved the logic about adding the offset to the passed-in pointer and adding the offset to the global offset inside of the class.

2009-03-26  Monty Taylor  <mordred@inaugust.com>

	Removed license field from StorageEngine. It was not used. Also added a const specifier.

2009-03-26  Monty Taylor  <mordred@inaugust.com>

	Moved flags into private area.

2009-03-26  Monty Taylor  <mordred@inaugust.com>

	Refactored state into is_enabled() call.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Removed extra space.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Renamed _2pc to two_phase_commit.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Split up OSX GCC error codes.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed lack-of-NULL.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed gearman plugin.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixed a missed file name change in client/Makefile.am.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Merged Mark's gearman logging client.

2009-03-03  Mark Atwood  <me@mark.atwood.name>

	add gearman logging plugin

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Merged from LinuxJedi.

2009-01-11  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Show port number in "Can't connect to Drizzle server host" error message

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed my name from AUTHORS in this patch. 

2009-03-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-24  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing a very mis-leading comment from sql_locale.cc
	
	The comment was totally wrong and read "This file is build from
	my_locale.pl"

2009-03-23  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Figured I might as well add myself to the AUTHORS list...

2009-03-23  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-22  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleaning up the get_command_type() function based on merge review comments
	from Monty. This cleanup changed the command_vector to be a container of
	std::string instead of const char *.
	
	This allowed me to remove the need for a function object since I can now use
	std::find instead of std::find_if

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding std:: prefix to find_if for Solaris.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Small cleanup to my function for converting a character array to a
	lower-case std::string.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Improving comments a little bit.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the NULL at the end of the commands array. This is not needed
	anymore since we have switched to using std::vector instead of TYPELIB.

2009-03-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Silly mistake in the definition of my function object.

2009-03-16  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replacing a simple, self-contained instance of TYPELIB with STL standards.
	This is to get started with this task. Want to make sure I am doing it the
	correct way first before going on to more refactoring.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Merged from Vladimir.

2009-03-25  Vladimir Kolesnikov  <vladimir@primebase.org>

	test generalizations

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Add quick test to make tests/var world readable.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Fixes for Solaris.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Removed references to stdbool, since they aren't valid in c++. Added them in C where we need them. Made archive tests c++.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	libdrizzleclient is no longer exported - it's now just a temporary conv. lib to be deleted. So we convert it to C++. Now, we have no pure-C code that we're responsible.

2009-03-31  Monty Taylor  <mordred@inaugust.com>

	Reverted removal of sql_client.cc. Duh. We only need the server version... el-client-version-o not so interesting.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Removed.cc sql_client copy of drizzleclient_net_local_init.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Merged padraig.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Figured I might as well add myself to the AUTHORS list!

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Made libdrizzleclient a noinst ltlib.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Changed get_password to c++ - just for consistency.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Merged in some mutex cleanups.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding an un-lock call. The intern_lock needs to be unlocked in
	mi_lock_database if we are only dealing with TMP tables.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Added a lock to protect an instance of the in_use list. Thanks Monty for
	pointing this out.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Merged padraig's removal of list.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Make sure to free the memory allocated for the list of threads using a
	table.

2009-03-30  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the last of LIST from the MyISAM storage engine.

2009-03-29  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot the "using namespace" statement in 1 file.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Refactoring MyISAM storage engine again based on LIST replacement with
	std::list.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Reverting some refactoring changes I made to MyISAM that didn't really work
	out.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Performing further refactoring on the MyISAM storage engine with regards to
	the std::list replacement.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing some small issues with my std::list replacement in the MyISAM storage
	engine.

2009-03-28  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced LIST in the MyISAM storage engine with std::list

2009-03-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the declaration of a variable as register. Is this really needed
	with modern compilers?

2009-03-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initial work on removing LIST from the heap storage engine.

2009-03-27  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-30  Brian Aker  <brian@tangent.org>

	Merge Monty.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Fixed a typo.

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Replacd use of tbb:: namespace with drizzled::

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Add decl for atomic<bool>

2009-03-30  Monty Taylor  <mordred@inaugust.com>

	Build fix making 64-bit atomic<> work on 32-bit systems.

2009-03-30  Brian Aker  <brian@tangent.org>

	Merge of Eric's libdrizzle work.

2009-03-30  Brian Aker  <brian@tangent.org>

	Merge Eric's

2009-03-27  Eric Day  <eday@oddments.org>

	Fixes for Solaris build.

2009-03-27  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-03-26  Eric Day  <eday@oddments.org>

	All tests now passing now, fixed a few more client utility bugs.

2009-03-26  Eric Day  <eday@oddments.org>

	Tools mostly converted, still fixing bugs from test suite.

2009-03-25  Eric Day  <eday@oddments.org>

	All utilities done except slap.

2009-03-23  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-03-23  Eric Day  <eday@oddments.org>

	Fixed a few bugs, more progress on conversion.

2009-03-18  Eric Day  <eday@oddments.org>

	More changes towards getting the client utilities converted.

2009-03-12  Eric Day  <eday@oddments.org>

	Merged trunk.

2009-03-12  Eric Day  <eday@oddments.org>

	Started client changes.

2009-03-27  Brian Aker  <brian@tangent.org>

	Merge from Brian

2009-03-27  Brian Aker  <brian@tangent.org>

	Fix for listing plugins.

2009-03-27  Brian Aker  <brian@tangent.org>

	Remove ref_count

2009-03-26  Brian Aker  <brian@tangent.org>

	Merge Brian

2009-03-26  Brian Aker  <brian@tangent.org>

	Refactor plugin loading to remove mask (one step closer to getting rid of
	malloc!)

2009-03-25  Brian Aker  <brian@tangent.org>

	Merge Stewart.

2009-03-26  Stewart Smith  <stewart@flamingspork.com>

	fix innodb_autoextend_increment for sparc

2009-03-26  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-03-25  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-03-22  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-03-25  Brian Aker  <brian@tangent.org>

	Merge with Jay

2009-03-25  Jay Pipes  <jpipes@serialcoder>

	Renamed some things to our standards and made private methods private...

2009-03-25  Jay Pipes  <jpipes@serialcoder>

	Removed dead code around register_iterm_tree_changes() in Session

2009-03-24  Jay Pipes  <jpipes@serialcoder>

	Removed system_thread dead code.

2009-03-24  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-23  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-25  Brian Aker  <brian@tangent.org>

	Merge of Monty

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Merged in plugin-registration.  handlerton now == StorageEngine.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Remove no-longer-needed conditional. We are drizzle, dammit.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	How about let's initialize savepoint_offset.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Removed legacy_db_type.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Removed void *data.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Added default value for db_type.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Made StorageEngine name private. Added constructor param and accessor method.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Made name private. Wow, we just don't use it for anything do we.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Removed more handlerton naming references.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Removed extraneous send myself to myself argument.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	More naming fixes.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	More hton renaming.

2009-03-25  Monty Taylor  <mordred@inaugust.com>

	Fixed default value returned.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Fixed some innodb oopses.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Converted MyISAM.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Converted Innodb handlerton.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Fixed Heap.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Tina done.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Updated blackhole.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Updated archive to new StorageEngine clas.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Reworked transformed handlerton into class StorageEngine.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Rename hton to engine.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	First step of hton rename.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Changed handlerton to StorageEngine.

2009-03-24  Monty Taylor  <mordred@inaugust.com>

	Moved handlerton to plugin/storage_engine.h.

2009-03-25  Brian Aker  <brian@tangent.org>

	Merge in factoring out sql_plugin work.

2009-03-25  Brian Aker  <brian@tangent.org>

	Cut down on shutdown loop of plugins (cutting stuff out in order to simplify
	old lock system).

2009-03-25  Brian Aker  <brian@tangent.org>

	Remove ref_count from DLL plugin.

2009-03-25  Brian Aker  <brian@tangent.org>

	Remove dead define

2009-03-24  Brian Aker  <brian@tangent.org>

	Factoring out more of the plugin lock code.

2009-03-24  Brian Aker  <brian@tangent.org>

	Remove extra malloc call for ref.

2009-03-23  Brian Aker  <brian@tangent.org>

	Remove define.

2009-03-23  Brian Aker  <brian@tangent.org>

	Merge in Brian's work on processlist locks.

2009-03-22  Brian Aker  <brian@tangent.org>

	Test Mac can't handle the 128 connections for concurrency test.

2009-03-22  Brian Aker  <brian@tangent.org>

	Remove another lock for processlist.

2009-03-22  Brian Aker  <brian@tangent.org>

	Remove additional lock for proceslist.

2009-03-22  Brian Aker  <brian@tangent.org>

	Removed extra lock

2009-03-22  Brian Aker  <brian@tangent.org>

	Increase slap test for more threads.
	Remove lock in query_id

2009-03-22  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-22  Monty Taylor  <mordred@inaugust.com>

	Renamed a bunch of plugin files.

2009-03-22  Monty Taylor  <mordred@inaugust.com>

	Moved innodb handler code back to handler/ dir.

2009-03-22  Monty Taylor  <mordred@inaugust.com>

	Removed global.h from a header.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Fixed PROTOSKIP_WARNINGS. (thanks eday)

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-registration.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Changed replicator plugins to class based.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Merged the other way.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Fixed linkage issues on solaris.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding comments to the function object that is used as the comparison
	function for the priority queue in merge_buffers().

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed up the constructor to my function object so it works now. Still isn't
	as nice as I would like it but it will for right now.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixing my static_cast...

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Using static cast for the moment when declaring my queue.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Making the class members of my function object have the correct type.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing unused variables.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing some code which was for memory management. It went through the
	priority queue and moved memory around from a removed element. This should
	not be needed when using std::priority_queue.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Small change to the function object.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Adding a function object to be used as the comparison parameter for the
	priority queue.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removed all traces of QUEUE from the codebase. We are using
	std::priority_queue in MyISAM now.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Turned off shared_ptr in global.h. *doh*

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Merged queue removal.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Stupid mistake...

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Forgot to modify the Makefile.am file in the mysys directory to remove the
	queues.[h,cc] files.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing the queues.[h,cc] files from the mysys directory. The only place
	where they are needed now is in the MyISAM storage engine. Thus, I moved the
	files there and updated the files in the MyISAM storage engine
	appropriately.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Fixed function object to ensure it correctly returns a boolean type since
	memcmp returns an integer. Added some more comments.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moving definition of function object to correct location in header file.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moving my function object to the header file.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Stupid mistake in my priority queue definition.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Whoops, for to have the proper include directive for std::priority_queue

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Initial work on replacing the last instance of QUEUE which is present in
	opt_range.cc

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Merged list removal from Padraig.

2009-03-21  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-20  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-14  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Changing Makefile.am to have a single line per file based on merge review
	comments from Jay.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Make the thr_lock_thread_list static as it is not used anywhere outside the
	thr_lock.cc file.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Corrected the mysys_priv.h include directive in list.c after moving list.c
	to the storage/myisam directory.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Moving custom my_list* files to the myisam storage engine directory. This
	custom class is only used in the myisam and heap storage engines. It is not
	used in the drizzle core anymore.
	
	Modified the appropriate files to do this. Also removed the inclusion of the
	my_list.h file from thr_lock.h.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Turns out that include is needed in other places (the storage engines). Need
	to find out why that is and see if I can get rid of it.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing un-needed extern declaration.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing uneeded header file include in thr_lock.h

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Removing an instance of the custom list structure from thr_lock.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Changed heap to c++.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Moved MyISAM files to C++ so we can continue to consolidate code.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Merged plugin-registration.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Cleaned up pool_of_threads scheduler just a bit.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Changed get_thread_scheduler to returning a reference.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Initialize thread_count to zero.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	Moved pthread_attrib into multi_thread class.

2009-03-21  Monty Taylor  <mordred@inaugust.com>

	First pass at scheduler plugin.

2009-03-20  Brian Aker  <brian@tangent.org>

	Merging Monty

2009-03-20  Monty Taylor  <mordred@inaugust.com>

	Fixed for gmaxia's export problem.

2009-03-20  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-03-20  Monty Taylor  <mordred@inaugust.com>

	Merged in more plugin class changes. Also fixed a couple of bugs in the last set.

2009-03-20  Monty Taylor  <mordred@inaugust.com>

	We need to return NULL if we don't wind up creating the bad boy.

2009-03-20  Monty Taylor  <mordred@inaugust.com>

	Made logging plugin class based.

2009-03-20  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-03-21  Stewart Smith  <stewart@flamingspork.com>

	align HEAP data structure for dynamic tables to SPARC alignment boundary.

2009-03-20  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-20  Stewart Smith  <stewart@flamingspork.com>

	ensure correct alignment of all plugin variables. Manifesting as innodb_mysql test failure with SIGBUS on Sparc

2009-03-20  Stewart Smith  <stewart@flamingspork.com>

	KEY_BLOCKS_UNUSED substitution fix in key_cache test for debian/sparc

2009-03-20  Stewart Smith  <stewart@flamingspork.com>

	merge mainline.

2009-03-20  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Merged plugin registration branch.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Couple of small plugin cleanups.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Converted error message plugin to class.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Ooops. We should really delete things, rather than freeing them.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Changed authentication_st to class Authentication.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Removed unused code.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Converted udf_func into a factory.

2009-03-20  Brian Aker  <brian@tangent.org>

	Merge from Jay

2009-03-20  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-20  Jay Pipes  <jpipes@serialcoder>

	Removal of chenged_item dead code in session.

2009-03-19  Jay Pipes  <jpipes@serialcoder>

	Move Key stuff into key.cc and out of session.cc

2009-03-19  Jay Pipes  <jpipes@serialcoder>

	Move Foreign_key implementation into its own implementation file and out of session.cc

2009-03-19  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-20  Brian Aker  <brian@tangent.org>

	Remove dead options.

2009-03-20  Brian Aker  <brian@tangent.org>

	Remove dead "OPT_NEW" command.

2009-03-20  Brian Aker  <brian@tangent.org>

	Remove opt_bin_log

2009-03-20  Brian Aker  <brian@tangent.org>

	Remove dead support for not having trans engine (just the remains of it)

2009-03-19  Brian Aker  <brian@tangent.org>

	Remove bad variables.

2009-03-19  Brian Aker  <brian@tangent.org>

	Fix for scheduler no longer needing to understand locks.

2009-03-19  Brian Aker  <brian@tangent.org>

	Stupid fix.

2009-03-19  Brian Aker  <brian@tangent.org>

	Adding assert for session_list to be empty

2009-03-19  Brian Aker  <brian@tangent.org>

	Restoring code Monty deleted.

2009-03-19  Brian Aker  <brian@tangent.org>

	Merge fix

2009-03-19  Brian Aker  <brian@tangent.org>

	Merge and fix based on delete mutex.

2009-03-19  Brian Aker  <brian@tangent.org>

	Fix, again, the thread lock issues for unlink_session

2009-03-19  Brian Aker  <brian@tangent.org>

	One execution path for unlink_session()

2009-03-19  Brian Aker  <brian@tangent.org>

	Merge of Monty (which is of Stewart).

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Fixed a coupla build things.

2009-03-19  Monty Taylor  <mordred@inaugust.com>

	Merged from Stewart.

2009-03-19  Stewart Smith  <stewart@flamingspork.com>

	max_sort_length is GET_SIZE not GET_UINT. as sizeof(uint32_t)!=sizeof(size_t) on solaris sparc 64bit.
	This caused large values of max_sort_length which ended up manifesting as errors
	on size of sort buffer.

2009-03-18  Stewart Smith  <stewart@flamingspork.com>

	merge mainline, fix configure script for sparc32

2009-03-18  Stewart Smith  <stewart@flamingspork.com>

	typesafe set_if_smaller/set_if_greater fixes from Solaris

2009-03-18  Stewart Smith  <stewart@flamingspork.com>

	make set_if_bigger typesafe for C and C++. Fix up everywhere.

2009-03-17  Stewart Smith  <stewart@flamingspork.com>

	add ./configure option to enable -Wcast-align (if specified) that may be useful in trapping potential alignment problems for SPARC.

2009-03-19  Brian Aker  <brian@tangent.org>

	Merge of Brian

2009-03-19  Brian Aker  <brian@tangent.org>

	Remove funky option for sysdate to behave like other function.

2009-03-19  Brian Aker  <brian@tangent.org>

	Remove dead interactive variable.

2009-03-18  Brian Aker  <brian@tangent.org>

	Dead option

2009-03-19  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Cleaned up 64-bit detection on Solaris.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Removed more unused macros/things we don't need to check because they are posix.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Removed check for rlimit64... we set FILE_OFFSET_BITS properly, so it's not necessary on modern unixes (post 1998-ish)

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	socklen_t is POSIX. We don't need to check for it.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Replace AC_TRY_* with AC_*_IFELSE

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Moved big tests to big suite. Added make target "make test-big" to allow for easy running of the big tests.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Removed tests that are testing binlog.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Started trying to sort out session lifecycle.

2009-03-18  Monty Taylor  <mordred@inaugust.com>

	Started transitioning from AC_TRY_COMPILE to AC_COMPILE_IFELSE

2009-03-16  Brian Aker  <brian@tangent.org>

	Remove dead global function prototypes (merge)

2009-03-16  Brian Aker  <brian@tangent.org>

	Remove dead includes.

2009-03-16  Brian Aker  <brian@tangent.org>

	Merge Jay

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Forgot to add diagnostics_area.cc. thx krow. :)

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Removes dead USER_CONN struct and member variable in Session class.

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Pulls remainder of XID and xid_cache implementation into xid.cc and xid.h from drizzled/session.cc.

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Removed dead Row_data_memory class from drizzled/session.cc.

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Removed dead is_user_table() function.

2009-03-17  Jay Pipes  <jpipes@serialcoder>

	Pulled implementation of Diagnostics_area out into it's own implementation file.

2009-03-16  Jay Pipes  <jpipes@serialcoder>

	Moves end_trans(), begin_trans(), end_active_trans() out of the parser module and adds startTransaction(), endTransaction(), and endActiveTransaction() member methods of Session object.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	removes some pretty funny dead code.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	Pulls alloc_query() C function out of sql_parse.cc and adds readAndStoreQuery() member method of Session class.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	Refactors the do_command() function out of the sql_parse.cc stuff and implements it as a member method, executeStatement() on the Session object.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	Removed more dead code.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	This changeset removes a few more  C functions from sql_connect.cc/connect.h
	and houses them as member methods of the session object.  Added documentation
	where I could and cleaned up the code style.

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	Remove dead functions in drizzled/connect.h

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	This changeset pulls check_user(), check_connection(), and login_connection() out of sql_connect.cc and makes them member methods of Session, where they belong.  Also, made sure that functions that return a bool return true when it succeeds, and not false...

2009-03-15  Jay Pipes  <jpipes@serialcoder>

	merge with trunk

2009-03-16  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-03-16  Stewart Smith  <stewart@flamingspork.com>

	yet more variable alignment/type fixes.
	
	Makes status test pass on solaris sparc64

2009-03-16  Stewart Smith  <stewart@flamingspork.com>

	yet another 4/8byte long issue with variables. Fix up warning and error count to use uint32_t instead.
	
	This fixes about 4 more test cases on Solaris/Sparc64

2009-03-16  Stewart Smith  <stewart@flamingspork.com>

	more alignment fixes in dtoa memory allocation for SPARC64

2009-03-16  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-03-13  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-16  Brian Aker  <brian@tangent.org>

	Merging new Innodb

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Changed the semi-consistent test. With innodb_locks_unsafe_for_binlog, the behavior is different here (no next-key-locking for us)

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Fixed merge weirdness errors.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Merged in InnoDB Plugin 1.0.3

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	InnoDB Plugin 1.0.3

2009-03-16  Brian Aker  <brian@tangent.org>

	Merge of Monty/Eric/Padraig

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Replaced thread_scheduler.count() with session_list.is_empty().

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Revert std::vector changes. dammit.

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Remove extra calls to thread_scheduler.count() in shutdown code. We're operating
	off of session_list.size().

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Fixed a method call.

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Merged Jay.

2009-03-16  Jay Pipes  <jpipes@serialcoder>

	Fixes ENUM field type to throw an error on bad data input.  0 is now not
	allowed on insertion.  MySQL allows 0, in the manual it states 0 is "the
	null string error index" whatever that means.  Drizzle doesn't allow it.
	
	Corrected test cases.
	
	Also cleans up indentation on JOIN::exec() which was bothering me.

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Merged Eric.

2009-03-16  Eric Day  <eday@oddments.org>

	Fixed pool_to_threads plugin to shutdown cleanly.

2009-03-15  eday  <eday@orisndriz05>

	Fixed double mutex unlock issue, missed call to my_thread_end.

2009-03-16  Monty Taylor  <mordred@inaugust.com>

	Addd -Wshadow to PROTOSKIP warnings and turned -Wstrict-aliasing off. Jumped the gun...

2009-03-14  Monty Taylor  <mordred@inaugust.com>

	Replaced the I_List holding sessions with a std::vector.

2009-03-14  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-03-13  Monty Taylor  <mordred@inaugust.com>

	Merged Padraig.

2009-03-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Remove the function reuse_freed_buff(). It is not used anymore based on the
	refactoring that I have performed. Its kinda cool to be able to remove
	unused functions like that!

2009-03-13  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-11  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-10  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-09  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleaning up my function object a little bit.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Merge from trunk.

2009-03-06  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Cleaning up my function object. Making it const correct and putting
	assignments on 1 line based on advice from Jay.

2009-03-05  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-03  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-02  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-01  Padraig  <posulliv@linux-lap>

	Making my function objects const correct.

2009-03-01  Padraig  <posulliv@linux-lap>

	Giving function object a better name for this scenario.

2009-03-01  Padraig  <posulliv@linux-lap>

	Fixing stupid syntax error...maybe time to stop drinking...

2009-03-01  Padraig  <posulliv@linux-lap>

	Removing an unused variable.

2009-03-01  Padraig  <posulliv@linux-lap>

	Modified my function object work correctly! I was sorting the priority queue
	in reverse order...again, thanks Jay for the help!

2009-02-28  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-28  Padraig  <posulliv@linux-lap>

	Cleaning up merge_buffers() function a little bit.

2009-02-28  Padraig  <posulliv@linux-lap>

	Replacing the instance of QUEUE in the merge_buffers() function in
	drizzled/filesort.cc

2009-02-27  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-27  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-27  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-13  Monty Taylor  <mordred@inaugust.com>

	Fixed an inexact test case.

2009-03-14  Brian Aker  <brian@tangent.org>

	Merge Jay

2009-03-13  Jay Pipes  <jpipes@serialcoder>

	Forgot to add the new files...

2009-03-13  Jay Pipes  <jpipes@serialcoder>

	Split index hints out into their own file, removal from sql_lex.h and sql_select.cc

2009-03-14  Brian Aker  <brian@tangent.org>

	Merge (null) from Stewart

2009-03-13  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-14  Brian Aker  <brian@tangent.org>

	Merge Brian

2009-03-13  Brian Aker  <brian@tangent.org>

	Added assert to test for lock condition

2009-03-13  Brian Aker  <brian@tangent.org>

	Changed "threads" to "session_list". Makes a bit more sense :)

2009-03-13  Brian Aker  <brian@tangent.org>

	Moved two functions in classes.

2009-03-12  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk again.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Finished replacing custom HashMap with std::map. We use a map and not a set 
	so we can keep original casing but still do case-insensitive searching. We use
	an ordered map instead of a hash_map/unordered_map because we're always doing
	ordered prefix searches.

2009-03-12  Monty Taylor  <mordred@inaugust.com>

	Removing hand-done completion hash functions.

2009-03-12  Brian Aker  <brian@tangent.org>

	Merge from Brian (dead code in parser, change default scheduler)

2009-03-12  Brian Aker  <brian@tangent.org>

	Final touch (move multi as default)

2009-03-12  Brian Aker  <brian@tangent.org>

	Pushing thread attribute for threads down to engine.

2009-03-12  Brian Aker  <brian@tangent.org>

	Remove dead variables.

2009-03-12  Brian Aker  <brian@tangent.org>

	New test case for rr_from_cache

2009-03-12  Brian Aker  <brian@tangent.org>

	Dead code paths (LCOV)

2009-03-12  Brian Aker  <brian@tangent.org>

	Remove line conversions (it is all coming over the wire as UTf8)

2009-03-12  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-03-13  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-03-13  Stewart Smith  <stewart@flamingspork.com>

	merge other sparc fixes

2009-03-12  Stewart Smith  <stewart@flamingspork.com>

	align mystrings/dtoa memory structures to 64bit for SPARC64.

2009-03-12  Stewart Smith  <stewart@flamingspork.com>

	enum values can be set of bytes, not just utf8 string. causing type_enum failure on debian/sparc

2009-03-12  Stewart Smith  <stewart@flamingspork.com>

	fix alignment of variables (incl key cache). fixes SIGBUS on SPARC64

2009-03-11  Brian Aker  <brian@tangent.org>

	Merg'ing Stewart.

2009-03-12  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	truncated variable is error (Work In Progress) test fixes

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	is possible to get deadlock in a drizzleslap test case, we just remove the --commit instead

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	Add --commit=100 to several drizzleslap runs in drizzleslap.test to dramatically reduce the number of fsync()s when running the test.
	
	This takes the run time from ~393 seconds down to ~138seconds for me on the T1000 with a single disk.
	
	Not as fast as with libeatmydata (~42 seconds) - but a lot better.
	
	This really helps on Solaris as I was getting timeouts (15mins) before this patch.

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	batch up more INSERTs into transactions to help tests run quicker.

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	dramatically speed up derived test.
	
	Wrap 10,000 row load in transaction.
	
	Shaves 2 seconds off test for libeatmydata runs.
	Shaves about 335 seconds off test for normal runs (non-libeatmydata. i.e. fsync is real)

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	fix default value Item generation. (spotted on Solaris)
	
	creating the Item just references the string we're passing in, not copy for own storage.
	This means we were returning an Item from default_value_item() with references to (now freed) objects on the stack.
	SunStudio on Solaris wipes this for us and makes things fail... a lot.

2009-03-11  Stewart Smith  <stewart@flamingspork.com>

	fix system variables for correct endian architectures.
	
	- remove sys_var_long (replace with 32 or 64 bit)
	- union { uint32_t, uint64_t } isn't endian portable for setting uint64 and reading from uint32
	- start to have out of range variables throw error instead of truncating and setting

2009-03-11  Brian Aker  <brian@tangent.org>

	Merging modification to Scheduler interface.

2009-03-11  Brian Aker  <brian@tangent.org>

	Push thread count out to the scheduler.

2009-03-11  Brian Aker  <brian@tangent.org>

	Dead proc code (merge)

2009-03-10  Brian Aker  <brian@tangent.org>

	Remove dead code around old procedures.

2009-03-11  Brian Aker  <brian@tangent.org>

	Merge of Monty

2009-03-11  Monty Taylor  <mordred@inaugust.com>

	Turned shared_ptr check into a warning. Want to leave the check and report in so we can start to figure out where this will or won't be a problem moving forward.

2009-03-11  Monty Taylor  <mordred@inaugust.com>

	Backed GCC requirement back down to 4.1. Stupid RHEL5.

2009-03-11  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Changed some names that conflict with c++0x reserved names.

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Merged from Solaris.

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Fixed the latest stuff on Solaris.

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Fixes for c++0x and shared_ptr support for Solaris.

2009-03-09  Monty Taylor  <monty@inaugust.com>

	Actually add the -std=gnu++0x flag
	Set std::ext:: as one of the possible namespaces.

2009-03-09  Monty Taylor  <mtaylor@orisndriz05>

	Added check for shared_ptr in advance of actually thinking about using it. I think this should cover all platforms we care about... but let's doublecheck.

2009-03-09  Monty Taylor  <mtaylor@orisndriz05>

	Restructured CFLAGS processing to always keep user-supplied options last on the command line, so they take precedence.

2009-03-09  Monty Taylor  <mtaylor@orisndriz05>

	Changed comment... added define.

2009-03-09  Monty Taylor  <mtaylor@orisndriz05>

	Added check for setting -std=gnu++0x if available.

2009-03-10  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-03-10  Stewart Smith  <stewart@flamingspork.com>

	fix size_t variables on platforms where sizeof(size_t)=4

2009-03-10  Brian Aker  <brian@tangent.org>

	Merge from Brian (Cleanup around LCOV)

2009-03-10  Brian Aker  <brian@tangent.org>

	More cleanup for old proc and dead code (LCOV)

2009-03-10  Brian Aker  <brian@tangent.org>

	Merge of the removal of dead COM code.

2009-03-10  Brian Aker  <brian@tangent.org>

	Remove final dead COM bits.

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove dead COM for Field lists.

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove TIME COM

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove Change User code.

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove COM_DAEMON

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove cursor type enum, and remove COM process list.

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove SET and KILL operation from Protocol

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove the COM KILL

2009-03-09  Brian Aker  <brian@tangent.org>

	Fixes from Stewart.

2009-03-10  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-07  Stewart Smith  <stewart@flamingspork.com>

	ensure there is enough space allocated to String for string representation of date/time types.
	The API to the date_to_str functions is *COMPLETE ASS* anyway and should be taken out and shot.

2009-03-06  Stewart Smith  <stewart@flamingspork.com>

	Fix format string for error message. thread_id is int64_t.
	
	Causing SIGSEGV on Linux/SPARC and Linux/PowerPC. Oddly enough, not on Solaris/SPARC.

2009-03-06  Stewart Smith  <stewart@flamingspork.com>

	remove out of date comment

2009-03-06  Stewart Smith  <stewart@flamingspork.com>

	max_sort_length should be size_t everywhere. Causing numerous failures on SPARC and PowerPC due to strang value being retrieved in filesort. Basically, anything with filesort fails without this patch.

2009-03-09  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-09  Monty Taylor  <mtaylor@orisndriz05>

	Enabled -Wstrict-aliasing by default.

2009-03-09  Brian Aker  <brian@tangent.org>

	Remove last of HANDLER code. (Done to cleanup LCOV)

2009-03-09  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Use math.h instead of cmath... one of these days...

2009-03-09  Monty Taylor  <mordred@inaugust.com>

	Added missing using namespace std;

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Merged in Mac changes.

2009-03-08  Monty Taylor  <monty@inaugust.com>

	Force gcc-4.2 on Mac.

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Removed C99 isnan() usage, which allows us to remove the util/math.{cc,h} workarounds. Yay for standards!

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Remove C99 isfinite().

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Replaced C99 isinf() with C++ numeric_traits<>::infinity()

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Removed -fpch-deps ... we're not actually using it now...

2009-03-08  Monty Taylor  <mordred@inaugust.com>

	Added back PROTOSKIP_WARNINGS  - we still need it on Solaris. But it's empty now for GCC.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Removed some checks on ancient GNUC versions. Removed -fno-exceptions.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Changed protos to be optmized for speed. INCOMPATIBLE CHANGE - .dfe files created prior to this will no longer work.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Removed -fno-rtti. Do this in a separate commit so we can benchmark before we 
	enable optimze_for=SPEED; in protobuf.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Changed two proto files so that we can stop skipping warnings on protobuf code.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Merged from Brian.

2009-03-07  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig: removal of LIST in pool_of_threads.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Giving session_scheduler class member a better name based on re-factoring.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Just realized there is even more re-factoring of the session_scheduler class
	that can be done.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Duh, stupid syntax error.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Making the removal of elements from the list safe. 
	
	Created a function object to be used with std::remove_if.
	
	Also, cleaned up the session_scheduler class. Parts of that could be cleaned
	up due to the removal of use of the custom LIST class.

2009-03-07  Padraig O'Sullivan  <osullivan.padraig@gmail.com>

	Replaced the custom list implementation that is used in the pool of threads
	code with STL standards.

2009-03-07  Brian Aker  <brian@tangent.org>

	Merge of patches for removal of LOAD DATA "LOCAL"

2009-03-07  Brian Aker  <brian@tangent.org>

	Remove client code around LOAD DATE LOCAL

2009-03-07  Brian Aker  <brian@tangent.org>

	Comitting the removal of server code for LOAD DATA "LOCAL" INFILE

2009-03-06  Brian Aker  <brian@tangent.org>

	Remove LOAD DATA "LOCAL" INFILE

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge of Monty's Makefile/configure changes.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Fixed Stewart's problem of distributed pb-generated files not matching the libprotobuf on the target machine. Solution? We don't need to distribute these, since we're requiring protobuf anyway.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Added more verbose failure messages.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Fixed POTFILES.in generation.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Removed -DDEBUG - we don't use it and it breaks on Solaris.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Merged Brian's merge... re-rotate the tree.

2009-03-05  Brian Aker  <brian@tangent.org>

	Adding atomics lib.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Merged in tbb-atomics without krow's atomic2 patch.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Rolled back the atomic2 patch.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Applied atomic patch to current tree.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Removed references to strtok_r - since we don't actually use it.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-03-05  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-04  Padraig  <posulliv@linux-lap>

	Small modifications based on Jay's merge review comments. Should be all good
	now.

2009-03-03  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-03-02  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-28  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-28  Padraig  <posulliv@linux-lap>

	Adding std:: prefix to remove_if since that caused compilation errors on
	Solaris before. It seems that Solaris needs the std:: prefix before
	remove_if.

2009-02-28  Padraig  <posulliv@linux-lap>

	cleaning up comments a little bit.

2009-02-28  Padraig  <posulliv@linux-lap>

	Modifying my operators to be const correct based on some advice from Jay on
	IRC. Thanks Jay!

2009-02-28  Padraig  <posulliv@linux-lap>

	Don't need to worry about appending a NULL element to std::vector. It was a
	legacy thing used with DYNAMIC_ARRAY used to mark the end of an array.

2009-02-28  Padraig  <posulliv@linux-lap>

	Changing name of functor show_var_if to show_var_remove_if.
	
	This might be useful so someone doesn't use the functor during a search
	since it would produce the opposite result of what is expected in that case.
	And I wouldn't want to be responsible for causing someone any annoyance now
	would I...

2009-02-28  Padraig  <posulliv@linux-lap>

	Renaming the function object for the std::sort() algorithm.

2009-02-28  Padraig  <posulliv@linux-lap>

	Modifying free_status_vars() for std::vector.

2009-02-28  Padraig  <posulliv@linux-lap>

	Fixing one little problem. Adding a NULL element to the end of the
	all_status_vars vector causes a seg fault. Need to look into this as its
	assumed that the list of SHOW_VAR's contains a NULL element at the end.

2009-02-28  Padraig  <posulliv@linux-lap>

	Cleaning up comments a little bit.

2009-02-27  Padraig  <posulliv@linux-lap>

	Modified function object to be used as comparison parameter for sort()
	function.

2009-02-27  Padraig  <posulliv@linux-lap>

	Removed function which has become unused and also added some more comments.

2009-02-27  Padraig  <posulliv@linux-lap>

	Modified insertion of elements into the vector to use insert() instead of
	push_back().

2009-02-27  Padraig  <posulliv@linux-lap>

	Adding error extra error checking.

2009-02-27  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-27  Padraig  <posulliv@linux-lap>

	Added function object to be used for removing elements from the vector. This
	will be used instead of the current resize_dynamic_array() method.

2009-02-27  Padraig  <posulliv@linux-lap>

	More work on removing DYNAMIC_ARRAY from show.cc
	
	Cleanup a few things. Need to create a function object that can be used with
	remove_if(). I want to use this instead of resize_dynamic_array().

2009-02-27  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-27  Padraig  <posulliv@linux-lap>

	Initial work to replace an instance of DYNAMIC_ARRAY in show.cc with STL
	standards.
	
	I'm working on replacing it with std::vector

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge code.

2009-03-05  Brian Aker  <brian@tangent.org>

	Cleanup pid handler.

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Merged in translations from launchpad.

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge from Monty

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Added POTFILES.in to distclean files for make distcheck.

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge for Monty

2009-03-05  Monty Taylor  <mordred@inaugust.com>

	Quick OpenSolaris build fix.

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge stewart.

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge latest dev work

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	another valgrind fix

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	fix leak of table handler in delete_table path

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge valgrind fix

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	fix two bytes in SCRAMBLE part of protocol that were left uninitialised (valgrind warning)

2009-03-05  Brian Aker  <brian@tangent.org>

	Remove dead string class bits.

2009-03-05  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Fixed create test.

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Merged in jay's patch again.

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Removed references to strtok_r - since we don't actually use it.

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Merging stewart.

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge valgrind warning fixes

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	valgrind warnings in hp_create: around memory allocation fixes for alignment done for sparc

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	memcpy() overlap (all 20 bytes).
	
	fix copied from MySQL 6.0 tree.

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge for-brian work

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	ULL or 64bit is valid for default check of limits in getopt

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge sparc fixes

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge for-brian branch (removal frm work)
	merge getopt fixes, add fixes for SPARC alignment

2009-03-04  Stewart Smith  <stewart@hurricane>

	fix memory alignment issues in hp_create for sparc.
	
	Fixes some tests on linux-sparc

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	merge s/mysqld/drizzled/ fixes

2009-03-05  Peter Lieverdink  <me@cafuego.net>

	Some mysqld => drizzled string changes on ./configure output.

2009-03-05  Stewart Smith  <stewart@flamingspork.com>

	for getopt, replace GET_ULONG with GET_UINT32.
	
	Don't replace for sql variables (yet). instead just indicated the intense source of fail with GET_ULONG_IS_FAIL.

2009-03-04  Stewart Smith  <stewart@flamingspork.com>

	should be assert, not creating Item_null as default null is set up before the type switch

2009-03-04  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-04  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	Remove MYSQL50_TABLE_NAME_PREFIX.
	
	not needed for drizzle.

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	unireg.cc rename to table_proto_write.cc to better reflect what it's doing.

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	some comment fixes in unireg.cc

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	No longer write the FRM. just use proto.

2009-03-04  Stewart Smith  <stewart@flamingspork.com>

	invalid assert for dirty connection teardown

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	macro to inline function simple_command

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	unneeded #undefs in libdrizzleclient/libdrizzle.c

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	Properly report back ER_NET_PACKET_TOO_LARGE.
	
	With #ifdef MYSQL_SERVER/DRIZZLE_SERVER removal it was forgotten to transfer across the
	my_error call for ER_NET_PACKET_TOO_LARGE.

2009-03-03  Stewart Smith  <stewart@flamingspork.com>

	remove some unused extern variables in server_includes.h

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Merged from Jay.

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Replaced custom List in select_dumpvar.h with std::vector<>

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-03-04  Monty Taylor  <mordred@inaugust.com>

	Merged from Jay.

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Final removal of timezones

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merged in remove-timezone work

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Move libevent check into the plug.in file for pool_of_threads, since that's the only place it's used.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Fix to make VPATH builds work again.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Removed extra checks.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Split out protobuf version check from the check for protobuf version so that we can give better error message.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Put in early check and instructive error message for too-old gcc.

2009-03-04  Brian Aker  <brian@tangent.org>

	Merge of Brian (test extensions, dead code killing)

2009-03-04  Brian Aker  <brian@tangent.org>

	Remove some dead bits of string (and fix the semi_join test).

2009-03-04  Brian Aker  <brian@tangent.org>

	Added test to test multiple optimizer switch bits.

2009-03-04  Brian Aker  <brian@tangent.org>

	Remove my_fopen() and key_map.cc file (thanks to Jay's lcov)

2009-03-04  Brian Aker  <brian@tangent.org>

	Remove old mode, which was another way of saying "the new optimizer bit do not work"

2009-03-04  Brian Aker  <brian@tangent.org>

	Remove expire logs.

2009-03-03  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Hardcoding /opt/csw/include in was doing some bad things with gettext.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Updated comment version indicators to handle drizzle versions.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	I never learn.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Fix for Sun Studio 5.10.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	mmm.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Fixed 64-bit flags for Solaris.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	It sure is drizzled/plugin_registry.cc - not drizzled/plugin_registry.c.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Fixed a little isainfo -k issue.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Clean up after ourselves.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Lowercased filenames.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged solaris-flags.

2009-03-03  Monty Taylor  <mordred@inaugust.com>

	Fixed new 64-bit caused solaris warnings.

2009-03-02  Monty Taylor  <monty@inaugust.com>

	Fixed func_system.test after version number change.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Fix to fake-out libtoolize, since AC_INIT is in bzr_version.m4 now.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Updated build system to use new version numbering. Just remember to run ./config/autorun.sh before running make distcheck for release and all should be peachy.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged rework-plugins.

2009-02-28  Monty Taylor  <mordred@inaugust.com>

	First pass at refactoring plugins - factored out sql_map.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged from solaris-flags.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	A whole crapload of build fixes. OpenSolaris AMD64 builds with -m64 now by default... still isn't warning clean yet though. Also cleaned up the AM_*FLAGS situation.

2009-03-02  Monty Taylor  <mordred@inaugust.com>

	Added tests for 64-bit solaris. Look in /usr/lib/amd64 and /usr/local/lib/amd64 if we are 64-bit.

2009-03-01  Monty Taylor  <mordred@inaugust.com>

	Removed -xprefetch=explicit. Thanks Darryl Gove. Default setting is -xprefetch=auto,explicit

2009-03-02  Brian Aker  <brian@tangent.org>

	Remove the need for unireg init

2009-02-28  Brian Aker  <brian@tangent.org>

	Merge Jay's temporal

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merged in Toru's fix for Bug# 311046

2009-02-28  Toru Maesaka  <dev@torum.net>

	Updated the testcase and result file for bug:311046 fix

2009-02-28  Toru Maesaka  <dev@torum.net>

	Fix for the bug that prompts table creation success even though the table exists

2009-02-28  Toru Maesaka  <dev@torum.net>

	Get rid of tabular indents in open_table() before hacking the bugfix

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Fixed remaining test cases. TIMESTAMP with no default is NULL, DEFAULT NULL, not auto-set

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merging in old r904 temporal changes

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merging in old r903 temporal changes

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Merging in old r902 temporal changes

2009-02-28  Jay Pipes  <jpipes@serialcoder>

	Phase 1 - temporal changes

2009-02-21  Jay Pipes  <jpipes@serialcoder>

	Removes the TIME column type and related time functions.

2009-02-27  Brian Aker  <brian@tangent.org>

	Shutdown for Linux fixed.

2009-02-27  Brian Aker  <brian@tangent.org>

	<Leithal> what do you guys think about supporting LGPL plugins?
	<Leithal> http://bugs.mysql.com/bug.php?id=28017
	<jaypipes> Leithal: no problem at all...
	<krow> Leithal: Pushed in 3 minutes

2009-02-27  Brian Aker  <brian@tangent.org>

	Code cleanup in signal_handler.cc

2009-02-27  Brian Aker  <brian@tangent.org>

	All platforms carry this now.

2009-02-27  Brian Aker  <brian@tangent.org>

	Merge Stewart

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	Just read table proto. Remove open_binary_frm. FRM is not read anymore.

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	last bit of bitmap logic from FRM path to proto path

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	move fixing auto_inc and blobs from FRM code path to table_proto code path

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	share->null_fields computed from proto. assert that same as FRM

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	for db_create_options: options HA_X can be set even if HA_USED_X isn't set in used.
	Shows up in ALTER TABLE paths (show_check.test)

2009-02-27  Stewart Smith  <stewart@flamingspork.com>

	fix table_reader for new table_options

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	db_create_option is silently truncated to 16bits in FRM write path.
	
	Emulate that behaviour here.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	read db_create_options from proto (was already stored, just had to set the right bits) instead of FRM
	
	keep an assert to ensure we're generating the same from the proto as we are storing in FRM.

2009-02-27  Monty Taylor  <mordred@inaugust.com>

	Added the double cast to shut up the CentOS warnings.

2009-02-26  Brian Aker  <brian@tangent.org>

	Merge of Mine, Jay's and Stewart's

2009-02-26  brian  <brian@bitters>

	Merge of Stewart + Jay's fix.

2009-02-26  jay.pipes@sun.com

	Small fix to not abort() on a DEFAULT NULL, but instead return a new Item_null() from default_value()

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	don't compute number of null fields twice. (this bug even got hit by my asserts).
	
	Stewart copy&paste=fail

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	stored_rec_length should include data_offset.
	
	This was causing vcol failures in innodb.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	compute key_part->offset instead of storing in proto.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	don't need to read the real column type for VIRTUAL column when computing record offsets.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	properly calculate field offsets in record buffer in parse_table_proto.
	
	vcol fields come at *end* of record.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	fix small memory leak in drizzle_read_table_proto: delete input stream

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	create proper null terminated string in fix_fields_vcol_func

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	correctly store virtual column expression in proto

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	fix table_reader for virtual columns

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	Read Fields out of proto instead of FRM.
	
	As non-radioactive fallout:
	- no implicit defaults (see http://bugs.mysql.com/bug.php?id=43151)
	- no real defaults for BLOB yet... but this paves the way (and it shouldn't be too hard now)
	
	As radioactive fallout:
	- parse_table_proto is approaching the length of War and Peace
	- handling of corrupted proto is about non-existant. abort() is not ideal

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	fix indentation so I can remotely read the function.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	Create default_values record from proto instead of reading from FRM. assert if different to FRM.
	
	Restore the "blob can't have default value" error message.
	
	Fix default values for: blob, vachar, enum and varbinary.
	Default value for a BLOB can be "" thanks to TINYTEXT or something.
	proto now has default_bin_value as well as default_value. the default_bin_value used for varbinary and in future, blobs.
	
	Load enum values out of proto instead of FRM and fill in the crazy interval structures.
	
	Jay will fix up the create.test change (incorrect datetime for timestamp "0").

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	Start generating a record buffer with default values in proto read path instead of FRM write path.
	
	Also (temporarily), just store pack_flag for Field in proto.
	pack_flag is the "has been shown to cause cancer in rats" member variable.
	
	We don't use this record buffer yet, but test suite passes.
	
	A commit in near future will add an assert to test that our generated one here is same as one in frm.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	unfuck --with-debug CFLAGS so that we don't get the OPTIMIZE_CFLAGS.
	
	Makes a debugger useful again.

2009-02-26  Stewart Smith  <stewart@flamingspork.com>

	removal final 2 values in indexes from being read from FRM.

2009-02-26  Brian Aker  <brian@tangent.org>

	Creating signal handler plugin.

2009-02-26  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-26  Monty Taylor  <mordred@inaugust.com>

	Fix to make --disable-fail function on Solaris.

2009-02-25  Brian Aker  <brian@Intel-Mini-2.local>

	Merge from Monty.

2009-02-25  Monty Taylor  <monty@inaugust.com>

	Re-merged from Padraig.

2009-02-25  Padraig  <posulliv@linux-lap>

	Replaced the instance of QUEUE in the merge_walk() function with
	std::priotiy_queue. More information on why and how this modification was
	performed is available at: http://drizzle.org/wiki/Drizzled/uniques.cc

2009-02-25  Monty Taylor  <monty@inaugust.com>

	Fixed compiler warnings.

2009-02-25  Monty Taylor  <monty@inaugust.com>

	Merged in solaris warnings fixes

2009-02-21  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-21  Monty Taylor  <mordred@inaugust.com>

	Fixed --with-debug. Sorry stewart.

2009-02-21  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Added two more C++ warnings. We pass them now. Oh, look. We had an empty class.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Added overloaded-virtual to the list of standard warnings. We are now clean with
	it. Fixed --enable-go-crazy.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Merged fix-warnings.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	One more temporal hack.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	More raping of Jay's code.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Raped Jay's code.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Whitespace fixes.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Changed how signal_hand returns to avoid the "this doesn't return anything" warnings.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Removed un-reachable thing.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Fixed an oops.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Fixed more warnings.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Fixed fixes.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	More solaris warnings.

2009-02-20  mordred  <mordred@opensolaris>

	Fixed the PCRE check.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Removed unused variables.

2009-02-20  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris warnings.

2009-02-19  Monty Taylor  <mordred@inaugust.com>

	Fixed virtual overload warnings.

2009-02-25  Brian Aker  <brian@Intel-Mini-2.local>

	Merge in Monty's OSX fixes.

2009-02-25  Monty Taylor  <monty@inaugust.com>

	Ugly null-termination problem.

2009-02-25  Monty Taylor  <monty@inaugust.com>

	Actually return NULL from intern_find_sys_var on error thank you.

2009-02-21  Brian Aker  <brian@tangent.org>

	Dead debug (and bad ifdef)

2009-02-20  Brian Aker  <brian@tangent.org>

	Completion (?) of uint conversion.

2009-02-20  Brian Aker  <brian@tangent.org>

	Dead test suites.

2009-02-20  Brian Aker  <brian@tangent.org>

	First pass of stripping uint

2009-02-19  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2009-02-20  Stewart Smith  <stewart@flamingspork.com>

	Generate all the info needed to get a record size on proto read instead of FRM create time.
	
	This commit changes the read from FRM to an assert that ensures both code paths produce the same results.
	
	Next step is enabling make_field and reading the field from proto instead of FRM.

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	remove is_null_field_first from TABLE_SHARE. Is unused with modern FRM

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	move get_enum_pack_length to same place as everyone else.

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	correctly store nullable attribute in table proto. fix table_reader.

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	Remove unused handler::min_record_length (always returned 1).

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	small semantic fix in innodb handler for handler method return types.

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-02-18  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Merged from Trunk.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Ooops. This was a bad idea.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Fixed the ol build for ol Solaris.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Removed the pkg-config check for pcre ... we have to do more than it really can deal with anyway.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Added warning flag for overloaded virtuals.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Turned on exceptions.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Added support for profiling version of libc.

2009-02-18  Monty Taylor  <mordred@inaugust.com>

	Fix to clean up flags.

2009-02-18  Brian Aker  <brian@tangent.org>

	Merge Jay

2009-02-18  Jay Pipes  <jpipes@serialcoder>

	Fix for incomplete class definition in handler.cc. Forgot to commit it

2009-02-17  Jay Pipes  <jpipes@serialcoder>

	This patch pulls the setting of the auto-set timestamp out of the individual
	storage engines and into the main handler ha_write_row() interface.  There
	was no reason to have each individual storage engine setting the timestamp
	field...
	
	Next step is to fix the timestamp zero date behaviour.

2009-02-17  Jay Pipes  <jpipes@serialcoder>

	This fixes the bug which was not properly evaluating whether a subselect scalar Item_field was null.  The issue is that Field::null_value is not set properly until val_xxx() methods are called on it.  This is completely stooopid, but that was the cause of this bug.

2009-02-16  Jay Pipes  <jpipes@serialcoder>

	merge with trunk

2009-02-16  Jay Pipes  <jpipes@serialcoder>

	Re-enabling the test for NULL interception of subquery result.

2009-02-15  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-02-14  Jay Pipes  <jpipes@serialcoder>

	Forgot to record a few tests after fixing them...All tests should now pass.

2009-02-14  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-02-14  Jay Pipes  <jpipes@serialcoder>

	This patch fixes the following functions to properly error out
	on bad datetime inputs:
	
	CURDATE(), NOW(), UTC_DATE(), FROM_DAYS(), TO_DAYS(), LAST_DAY()
	
	In addition, test cases were fixed to properly reflect correct
	error conditions.
	
	NOTE:
	
	There is a fail in the type_decimal.test case.  This has to do 
	with the reduction of non-tabular derived tables into an Item or
	Item tree.  This reduction is not properly keeping Item_null values
	as null values, instead reducing it to an integer at some point.

2009-02-18  Brian Aker  <brian@tangent.org>

	Merge Stewart

2009-02-19  Stewart Smith  <stewart@flamingspork.com>

	Fix key_cache test for 32bit.
	
	The key cache block structure has pointers in it.
	
	On 32 and 64 bit, these are different sizes.
	
	There's even a comment in the test to indicate this.
	
	The test file should replace all possible numbers with KEY_BLOCKS_UNUSED, but this was messed up in fixing the
	test case for Drizzle. This cset fixes that.
	
	Currently tested on x86 and x86-64. Pretty sure (99.9%) that this will cover all platforms involved.
	
	Our numbers are different from current MySQL 6 for some random reason that I don't really care about.
	Number of blocks * block_size roughly equals key cache size - so i'm happy.

2009-02-18  Stewart Smith  <stewart@flamingspork.com>

	fix func_math on x86 32bit.
	
	ROUND() was calling down to my_double_round which triggered a Gcc 4.3 bug where isinf()
	could be inlined to use the 387 FPU register to do the check on the result of the multiplication.
	This would do the the check on the 80bit result, not the truncated 64bit result.
	
	See http://gcc.gnu.org/bugzilla/show_bug.cgi?id=39228
	See http://bugs.mysql.com/bug.php?id=42965

2009-02-18  Stewart Smith  <stewart@flamingspork.com>

	remove unused Field::send_binary() methods.

2009-02-18  Stewart Smith  <stewart@flamingspork.com>

	unused get_set_pack_length

2009-02-18  Stewart Smith  <stewart@flamingspork.com>

	comments are evil, incorrect and devouring your baby.

2009-02-17  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-02-17  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-17  Monty Taylor  <mordred@inaugust.com>

	Update tests based on how Toru's latest patch changes create table statements.

2009-02-16  Monty Taylor  <mordred@inaugust.com>

	Fixed a Solaris Warnings.

2009-02-16  Monty Taylor  <mordred@inaugust.com>

	Added string headers which are needed.

2009-02-16  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-02-16  Toru Maesaka  <dev@torum.net>

	Fixed the bug of SHOW CREATE TABLE not outputting DEFAULT values. Killed some tabular indents on the way too

2009-02-16  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-02-16  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-02-17  Stewart Smith  <stewart@flamingspork.com>

	remove an old type definition to do with query cache.

2009-02-16  Stewart Smith  <stewart@flamingspork.com>

	Add some missing things to field storage in proto

2009-02-16  Stewart Smith  <stewart@flamingspork.com>

	load data infile ENOENT would crash drizzled due to improper arguments to my_errror

2009-02-16  Stewart Smith  <stewart@flamingspork.com>

	merge unireg_type removal, mainline

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	DATE and UNKNOWN unireg_type bite the dust. eww... gritty.

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	Remove the last bit of BIT_FIELD

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	Remove EMPTY and NOEMPTY form unireg type.
	
	The glass is not EMPTY or NOEMPTY - it's half empty.
	or full.... but mostly empty.

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	more useless unireg type removal.
	
	Since ther was no MAYBE, YES and NO must GO!

2009-02-15  Stewart Smith  <stewart@flamingspork.com>

	Remove unused items from enum for unireg_check.
	
	Brought to you by the letter D, for Desperate attempt to help Stewart's brain not be wiped by unireg_check... or was it that magic machine with the glowing U shape... I'm not quite sure, but I'm pretty sure I wasn't the blonde.

2009-02-11  Stewart Smith  <stewart@flamingspork.com>

	remove row, col and sc_length from FRM file and Create_field.
	
	This is from ancient unireg code to note where to display things on screen. Totally not needed in Drizzle.
	
	Another desperate attempt to help stewart's brain.

2009-02-11  Stewart Smith  <stewart@flamingspork.com>

	remove unused (even in mysql) extra_rec_buf_length in FRM file parsing.
	
	a futile attempt to help stewart's brain.

2009-02-11  Stewart Smith  <stewart@flamingspork.com>

	Remove some old-format FRM code. Slightly more in proto path than frm path.

2009-02-16  Brian Aker  <brian@tangent.org>

	Merge.

2009-02-16  Brian Aker  <brian@gir.tangent.org>

	Fix for building on OSX.

2009-02-16  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2009-02-13  Monty Taylor  <mordred@inaugust.com>

	Fixed some of Jay's review suggestions.

2009-02-13  Monty Taylor  <mordred@inaugust.com>

	Shortened a small chunk of code.

2009-02-13  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-02-13  Padraig  <posulliv@linux-lap>

	Added extra checks when creating strings. Need to make sure that the content
	we are assigning to a new string actually exists!!

2009-02-13  Padraig  <posulliv@linux-lap>

	Updated the fix for Bug#319796.
	
	After chatting with Monty, we came to the conclusion that there is not much
	of a need for enforcing a limit on the column alias length. Thus, we removed
	the check that the length is less than MAX_ALIAS_LENGTH in Item::set_name.
	
	We also removed all references to MAX_ALIAS_NAME in the code. It was only
	used as fixed-length buffer in a few utility functions as a temporary place
	for performing lower-case operations. We replaced these lower-case
	operations with the transform operations and used std::string's instead of
	fixed-length buffers.
	
	Thus, we were able to resolve this bug by actually removing some code :)

2009-02-13  Padraig  <posulliv@linux-lap>

	Added test case for Bug#319796.

2009-02-13  Padraig  <posulliv@linux-lap>

	Fix for Bug#319796.
	
	MAX_ALIAS_NAME is defined in unireg.h to be 256. This is intended to be
	characters but the implementation is that it is bytes. The code affected was
	in Item::set_name. Code was updated to work on utf8 characters rather than
	bytes.

2009-02-13  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-11  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-10  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-10  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-09  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-09  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-08  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-08  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-08  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-07  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-07  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-06  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-05  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-04  Padraig  <posulliv@linux-lap>

	Merge from tunk.

2009-02-12  Monty Taylor  <mordred@inaugust.com>

	Added in utf8cpp. We want this to be an external lib, but it needs packaged.
	Since it's just 4 header files, for now we'll do this and see how it goes.

2009-02-12  Monty Taylor  <mordred@inaugust.com>

	Fixed md5 makefile.

2009-02-12  Monty Taylor  <mordred@inaugust.com>

	Updated information_schema test results.

2009-02-12  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-12  Monty Taylor  <mordred@inaugust.com>

	Fixed a failure during gperf failure.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Got rid of my_hash_sort_utf8mb4 for udfs.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Removed the HASH for plugin_hash.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Fixed 32-bit compile issue.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Removed another HASH and another set of useless utf8 hashing.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Fixed some solaris warnings.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Merged trunk

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Replaced HASH with std::map - avoid utf8 hashing on every sys_var lookup.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Fixed oops.

2009-02-11  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-13  Brian Aker  <brian@tangent.org>

	Fix for bad default value for Drizzle

2009-02-12  Brian Aker  <brian@tangent.org>

	Merge Jay.

2009-02-12  Jay Pipes  <jpipes@serialcoder>

	Fixes Arg_comparator::can_compare_as_dates to never, ever allow bad
	input data in comparisons.  No more implicit conversions from bad
	datetimes are allowed.  We throw an error on bad input always.
	
	In addition, fixes the Field_date class's store() methods for integer
	types and corrects test cases that were allowing bad input.

2009-02-12  Brian Aker  <brian@tangent.org>

	Minor refactoring (we will need to disconnect the code from the include
	file).

2009-02-11  Brian Aker  <brian@tangent.org>

	Merge of Jay's work.

2009-02-11  Jay Pipes  <jpipes@serialcoder>

	Fixes Field_datetime::store(NUMBER) to throw an error when invalid
	date time numbers are passed through.
	
	This fix illuminated a bug in the optimizer, where the following:
	
	CREATE TABLE t1 (d datetime NOT NULL);
	SELECT * FROM t1 WHERE d IS NULL;
	
	was producing an incorrect query plan.  The reason is because the optimizer
	was incorrectly reducing an Item_func_isnull to an Item_int with a value of
	0.  In MySQL, the optimizer compares datetimes as integers, and *just in the
	optimizer*, ignores bad datetimes so that it can do this comparison.  Unfortunately
	for MySQL, what this means is that the optimizer cannot optimize away the 
	above IS NULL condition because it converts the NULL to a 0000-00-00 00:00:00.
	
	Drizzle's optimizer now shows an impossible WHERE reduction in the explain
	output for the above query, which is optimal.
	
	Also fixed an assert that was occurring in mysql_alter_table because that
	function called fix_fields() which ignores data truncation errors improperly and
	mysql_alter_table ignores the errors as well, which led to an assertion failure
	in Diagnostics_area::send_ok_status() because mysql_alter_table() assumes
	that all errors would be logged as only warnings from Field::store().
	
	Also contained in this patch is corrections for invalid numeric datetime input
	for all test cases affected.

2009-02-11  Brian Aker  <brian@tangent.org>

	Small lock transfer.

2009-02-11  Brian Aker  <brian@tangent.org>

	Merge from Monty

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Merged from Jay.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	call ha_release_temporary_latches

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Added include to pick up extern "C" from header.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Compiler didn't like this not returning.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Fixed assinineness.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Fixed error message.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris build thing.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Sun Studio doesn't like breaking out of this loop, but the bool is fine.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Fixed some configure errors.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	A few more solaris build fixes.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Fixed configure.ac to allow for CFLAGS injection during make.

2009-02-10  Monty Taylor  <mordred@inaugust.com>

	Added missing header for solaris build.

2009-02-11  Brian Aker  <brian@tangent.org>

	Merge Jay

2009-02-11  Jay Pipes  <jpipes@serialcoder>

	More shadowing fixes.  Good buddy Solaris is fixing improper virtuality in subclasses. Nice. :)

2009-02-10  Jay Pipes  <jpipes@serialcoder>

	Additional fixes for shadowing warnings on Solaris.  Apply virtual overloads on operators in Temporal subclasses.

2009-02-10  Jay Pipes  <jpipes@serialcoder>

	Solaris integer truncation fixes - Thanks to MontyT for the warning output.. :)

2009-02-10  Jay Pipes  <jpipes@serialcoder>

	Fixed PCRE header and include order.

2009-02-10  Jay Pipes  <jpipes@serialcoder>

	Fixed Field_datetime to never accept any bad datetimes as a string.  This broke
	dozen or so test cases of course, which are riddled with 0000-00-00 00:00:00 crap.
	
	Also, probably against my better judgment, I added the ability to match a string
	in the following datetime expression:
	
	YY-MM-DD HH:mm:SS
	
	I say against my better judgment because it looks similar to the ISO 8601:1988 standard
	format specifier, but is NOT since ISO always expects a 4-digit year.  But, to be compatible
	with MySQL...

2009-02-10  Brian Aker  <brian@tangent.org>

	Merge Jay.

2009-02-10  Jay Pipes  <jpipes@serialcoder>

	Fixes the Field_date class to not allow any invalid input at
	any time.  This, quite expectedly, broken about 20 test cases, so
	this patches up those cases as well.

2009-02-10  Brian Aker  <brian@tangent.org>

	Removed some dead definitions.

2009-02-10  Brian Aker  <brian@tangent.org>

	Remove my_open() call for Archive.

2009-02-10  Brian Aker  <brian@tangent.org>

	Refactor out function indirection in pool_of_threads.

2009-02-10  Brian Aker  <brian@tangent.org>

	Solaris performanc fix.

2009-02-10  Brian Aker  <brian@tangent.org>

	Remove thr_alarm

2009-02-09  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Merged from Brian.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris prefetch patch.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Fix for multi-versions of PCRE thing.

2009-02-09  Brian Aker  <brian@tangent.org>

	Merging Stewart.

2009-02-10  Stewart Smith  <stewart@flamingspork.com>

	read number of fields from proto instead of frm

2009-02-10  Stewart Smith  <stewart@flamingspork.com>

	move table proto parsing off into own function. Handle errors in reading and parsing table proto, returning correct error to user. fix tests.

2009-02-10  Stewart Smith  <stewart@flamingspork.com>

	move to using ZeroCopyInputStream with a file descriptor from open(2) for FRM parsing so we can get errno.
	
	Death to fstream! Useless thing just gives you "win or fail" and no idea if fail was ENOENT or ENOMEM or ENOTINTHEMOOD

2009-02-10  Stewart Smith  <stewart@flamingspork.com>

	closing file descriptors is good.

2009-02-09  Brian Aker  <brian@tangent.org>

	Fix concurrency issue (remove dead variables)

2009-02-09  Brian Aker  <brian@tangent.org>

	Adding Multi-threaded Scheduler into the system.

2009-02-09  Brian Aker  <brian@tangent.org>

	Remove dead options.

2009-02-09  Brian Aker  <brian@tangent.org>

	Remove un-needed depth (real simple.. working on adding back other
	scheduler).

2009-02-09  Brian Aker  <brian@tangent.org>

	Mrge from Monty

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Hack to allow use of hash_map in gcc 4.3.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Applied solaris prefetch patch.

2009-02-09  Monty Taylor  <mordred@inaugust.com>

	Let's not remove po/POTFILES.in, hrm?

2009-02-09  Brian Aker  <brian@tangent.org>

	Merge Stewart.

2009-02-08  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2009-02-09  Stewart Smith  <stewart@flamingspork.com>

	Read (nearly the whole) index information (key and key parts) out of the proto, not FRM.
	
	Update the table.proto to reflect in server structures and possible values.
	Biggest change is IndexPart now references fieldnr and not an embedded field.
	This is because we need to set the fieldnr in server and I couldn't find a way to get this info out of protobuf.
	
	Also add an assert in the proto writing part to make sure we handle all possible index flags.
	
	Increasingly we abort() on old FRM file formats as I remove FRM code piece by piece.

2009-02-09  Brian Aker  <brian@tangent.org>

	Fix for weird lock/unlock on broadcast.

2009-02-09  Brian Aker  <brian@tangent.org>

	Remove charset directory code.

2009-02-09  Brian Aker  <brian@tangent.org>

	Remove THR_LOCK_charset  (we never recall it anymore)

2009-02-09  Brian Aker  <brian@tangent.org>

	Remove USE_TLS (dead define)

2009-02-08  Brian Aker  <brian@tangent.org>

	Fix for error when thread/whatever can not be created on connection.

2009-02-08  Brian Aker  <brian@gir.tangent.org>

	OSX fix.

2009-02-08  Brian Aker  <brian@tangent.org>

	Solaris fix from Monty

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Fix thr_alarm on solaris. std:: is needed for remove_if

2009-02-08  Brian Aker  <brian@tangent.org>

	Remove dead code around charset variable/directory.

2009-02-08  Brian Aker  <brian@tangent.org>

	Refactor reset of status.

2009-02-08  Brian Aker  <brian@tangent.org>

	Removed double lock usage.

2009-02-08  Brian Aker  <brian@tangent.org>

	Moved locks around (aka... unlink_session now handles its own locking).

2009-02-08  Brian Aker  <brian@tangent.org>

	Merging Monty's work

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	ZOMG. Renamed all the rest of the stuff in libdrizzleclient to be drizzleclient_*. I love commandline perl.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Renamed non-prefixed things from libdrizzleclient to drizzleclient.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Renamed vio.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	More drizzleclient lib renaming.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Renamed my_net_* to drizzleclient_net_* to help with namespace issues.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Removed max_connections from variables test.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-02-06  Toru Maesaka  <dev@torum.net>

	Fixed the issue of seeing an oversized separator when rendering a multibyte string to console.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2009-02-06  Mark Atwood  <me@mark.atwood.name>

	remove open_files_limit parameter

2009-02-05  Mark Atwood  <me@mark.atwood.name>

	remove unused parameter to check_user() related to max_connections

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove sysvar max_connections

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove max_connection check in create_new_thread

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove fix_max_connections

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	Remove max_connection and max_open_files resizing

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove max_connections from memory use message

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove max_connections stuff from set_var.cc

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	remove max_connect check from sql_connect

2009-02-04  Mark Atwood  <me@mark.atwood.name>

	temp hack to getopt to make it work on mac

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Turned off assert - waiting for feedback on if it's even sensible or not.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Updated AC_HELP_STRING to AS_HELP_STRING

2009-02-08  monty  <monty@piggy.tangent.org>

	Fixed segfault in drizzleadmin when it cna't connect to things.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Added thr_alarm.cc to POTFILES.in

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-02-06  Monty Taylor  <mordred@inaugust.com>

	Fixed finding MSGMERGE on solaris.

2009-02-06  Monty Taylor  <mordred@inaugust.com>

	Use LIB* instead of LTLIB*.

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-02-07  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-06  Padraig  <posulliv@linux-lap>

	Updated some of the code I replaced based on suggestions from Monty on the
	mailing list.

2009-02-06  Padraig  <posulliv@linux-lap>

	Added code to fix the last issue I was having. I put lots of information on
	the modifications I have made to the code on the corresponding blueprint for
	this branch.
	
	Replace custom Queue implementation with STL standards

2009-02-06  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-06  Padraig  <posulliv@linux-lap>

	Initial work on replacing the custom QUEUE implementation with STL
	standards. All of this work is concentrated on removing the use of QUEUE in
	mysys/thr_alarm
	
	This is nearly finished for this file. I have replaced all uses of the
	custom QUEUE implementation. I have compiled and tested it and it works ok.
	However, there is still 1 little thing that I need to figure out before I
	can say this is finished for thr_alarm. 

2009-02-08  Monty Taylor  <mordred@inaugust.com>

	Merged trunk

2009-02-07  Monty Taylor  <mordred@inaugust.com>

	Added back atomic  builtins check.

2009-02-07  Monty Taylor  <mordred@inaugust.com>

	Use LIB* instead of LTLIB*.

2009-02-07  Monty Taylor  <mordred@inaugust.com>

	Removed libdrizzle from the linking - you can't link libdrizzle and libdrizzleclient in the same app.

2009-02-07  Monty Taylor  <mordred@inaugust.com>

	Fixed gperf checking to fail properly.

2009-02-06  Monty Taylor  <mordred@inaugust.com>

	Fix for msgmerge possibly being gmsgmerge.

2009-02-07  Brian Aker  <brian@tangent.org>

	Class rewrite of Session (aka get all of the junk out)

2009-02-07  Brian Aker  <brian@tangent.org>

	More class creation.

2009-02-07  Brian Aker  <brian@tangent.org>

	Remove dead keywords.

2009-02-07  Brian Aker  <brian@tangent.org>

	typdef class removal (just... use the name of the class).

2009-02-07  Brian Aker  <brian@tangent.org>

	More typdef class removal.

2009-02-07  Brian Aker  <brian@tangent.org>

	Removing on typedeffed class.

2009-02-07  Brian Aker  <brian@tangent.org>

	Small formatting changes.

2009-02-07  Brian Aker  <brian@tangent.org>

	Added drizzled/discrete_interval.h
	
	No more classes in the structs.h file.

2009-02-07  Brian Aker  <brian@tangent.org>

	Adding more ignore files.

2009-02-07  Brian Aker  <brian@tangent.org>

	Merging language issues.

2009-02-06  Monty Taylor  <mordred@inaugust.com>

	Update translations.

2009-02-07  Brian Aker  <brian@tangent.org>

	Putting archive vcol test back to disabled (we need to finish these off/make
	them work)

2009-02-06  Brian Aker  <brian@tangent.org>

	Merge Monty's work.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	make distcheck cleanups.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Changed casts to c++ style.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Turn of the "friendly" stack trace in test-run to get a proper core file.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Fixed warnings badness in csv_alter_table test.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Generalized gperf building. Feel free to just add .gperf files now.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Changed gperf rules to prevent excessive gperf rebuilding.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-05  Monty Taylor  <mordred@inaugust.com>

	Merged from me again.

2009-02-04  monty  <monty@piggy.tangent.org>

	Merged from me.

2009-02-04  monty  <monty@piggy.tangent.org>

	Workaround in ref_count nonsense.

2009-02-04  monty  <monty@piggy.tangent.org>

	Fixed symbol versioning.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Removed gnulib/time.h - it's a generated file.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Merged from Padraig.

2009-02-04  Padraig  <posulliv@linux-lap>

	Added test case for the other bug resolved in this branch.
	
	Bug#309118 - UTF8 in cast truncation shows wrong size in warning

2009-02-04  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-03  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-02  Padraig  <posulliv@linux-lap>

	Merge from trunk.

2009-02-02  Padraig  <posulliv@linux-lap>

	Merge with trunk

2009-02-01  Padraig  <posulliv@linux-lap>

	Added test case for Bug311104

2009-01-30  Padraig  <posulliv@linux-lap>

	Cast truncation now shows correct size in warning.

2009-01-30  Padraig  <posulliv@linux-lap>

	Changed ha_tina::open to return the correct error code

2009-02-05  Brian Aker  <brian@tangent.org>

	Enabling Archive test for VCOL

2009-02-05  Brian Aker  <brian@tangent.org>

	More class adoption/method

2009-02-05  Brian Aker  <brian@tangent.org>

	Reworked some classes out of session.h
	Also updated ignore file.

2009-02-05  Brian Aker  <brian@tangent.org>

	Fixed session call from function to method.

2009-02-05  Brian Aker  <brian@tangent.org>

	Removed dead variables.

2009-02-05  Brian Aker  <brian@gir.tangent.org>

	Fix for OSX.

2009-02-04  Brian Aker  <brian@tangent.org>

	Merge me (aka brian)

2009-02-04  Brian Aker  <brian@tangent.org>

	Moved over file_exchange class.

2009-02-04  Brian Aker  <brian@tangent.org>

	Rename class file_exchange

2009-02-04  Brian Aker  <brian@tangent.org>

	Cleanup of DELAYED INSERT bits (aka... it is just now a hint to the engine).

2009-02-04  Brian Aker  <brian@tangent.org>

	Merge Monty

2009-02-04  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-04  Monty Taylor  <mordred@inaugust.com>

	Revert the fail.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Removed second copy of gettext.h. Changed gnulib getopt to use drizzled/gettext.h

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Some cleanup. Don't add things from distcheck leftovers to POTFILES

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Cleaned up mystrings Makefile.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Split out U8_ macros into their own header and added the IBM copyright notice to them.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris fixes on linux.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	More solaris warning fixes.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Fixed temporal on solaris the right way this time.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Added /usr/local to LD_LIBRARY_PATH in test run - it's the one most likely to not be set with an explicit rpath in the linking stage leading to pain during distcheck.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Fixed a couple of distcheck related things.

2009-02-04  Brian Aker  <brian@tangent.org>

	Remove dead hooks code.

2009-02-04  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2009-02-04  Jay Pipes  <jpipes@serialcoder>

	Tiny fix to type_decimal test case to fix bad datetime error and convert WEEK() to EXTRACT(WEEK FROM date)

2009-02-04  Jay Pipes  <jpipes@serialcoder>

	Corrected remaining occurrences of the week_mode, WEEK(), WEEKOFYEAR(), and YEARWEEK() functions in test cases.

2009-02-04  Jay Pipes  <jpipes@serialcoder>

	fixed logic error in EXTRACT() function whereby datetime temporals were improperly pointing to the time temporals.  Fixed test cases for func_time and func_sapdb to remove the week and weekofyear functions.

2009-02-04  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-02-04  Jay Pipes  <jpipes@serialcoder>

	default_week_format variable has gone the way of the Dodo, as have the
	WEEK() and YEARWEEK() functions.  These two functions, along with week_mode
	(default_week_format) were inconsistent with standards and made redundant
	by the DATE_FORMAT() function.
	
	Cleaned up the former week_number_from_gregorian_date() function into
	a simpler, strftime()-based solution in sync with PosgreSQL and SQL/ISO standards.
	
	Clean up of the EXTRACT() function to use new temporal system and produce
	proper errors on bad temporal values.
	
	NOTE: Test cases for EXTRACT and cleanup of the func_time.test case have not
	yet been committed.

2009-01-30  Jay Pipes  <jpipes@serialcoder>

	Fixes the WEEKDAY() function use the new temporal system and enable proper error throwing on bad datetimes.  Adds test case for the WEEKDAY() function.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixes for the QUARTER() function to use new Temporal system and throw
	errors on bad datetime values.
	
	Added test case for QUARTER() function and modified func_time.test existing
	test to correctly throw errors and report NULL, not 0 on NULL input.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	To remain in compatibility with MySQL, added ability to interpret
	decimal arguments as datetime strings for temporal functions.
	
	Fixed YEAR(), MONTH(), DAYOFMONTH(), DAYOFYEAR(), HOUR(), MINUTE(), SECOND(), and MICROSECOND()
	to accept decimal parameters and interpret them the same way as MySQL.
	
	Fixed an issue with the TemporalFormat::matches() method which was 
	incorrectly assuming all microsecond arguments were specified as 6 digits.
	Added power of 10 multiplier to usecond calculation. This fixes issues with
	failures in type_date and func_sapdb test cases.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixed date_formats.test which was failing due to an invalid datetime that is now being properly caught.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixes MICROSECOND() to use new Temporal system and throw appropriate errors on bad datetimes.  Adds new microsecond.test case.  Still to do: don't have microseconds thrown away by DATETIME type... :)

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixes MINUTE() to use new Temporal system and throw appropriate errors on bad datetimes.  Adds new minute.test case.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixed HOUR() function to use new Temporal system.
	
	Added new test case for HOUR()
	
	Tiny clarification in second.test case.

2009-02-04  Brian Aker  <brian@tangent.org>

	Merging language changes.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Added code to automatically build a new list of POTFILES.in, then updated the translations.

2009-02-04  Brian Aker  <brian@tangent.org>

	Remove dead prototype for function.

2009-02-03  Brian Aker  <brian@tangent.org>

	Remove dead callback code around QC

2009-02-03  Brian Aker  <brian@tangent.org>

	Simplify update

2009-02-03  Brian Aker  <brian@tangent.org>

	Cleaned up interface notes on UPDATE

2009-02-03  Brian Aker  <brian@tangent.org>

	Fix from Monty from previous merge.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-02-03  Monty Taylor  <mordred@inaugust.com>

	Fixed the shutdown problem. Sigh.

2009-02-02  Brian Aker  <brian@tangent.org>

	Merge from Monty

2009-02-02  Monty Taylor  <mordred@inaugust.com>

	Merged from CJ.

2009-02-02  C.J. Adams-Collier  <cjac@dev0>

	added checks to determine which threading plugins have been enabled on 
	this build

2009-02-02  C.J. Adams-Collier  <cjac@dev0>

	merged from trunk

2009-02-02  Monty Taylor  <mordred@inaugust.com>

	Fixed over-zealous trimming of symbol_hash during merge.

2009-02-02  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-02-02  Monty Taylor  <mordred@inaugust.com>

	Renmaed libdrizzle in the tree to libdrizzleclient to avoid namespace clashes
	with new libdrizzle.

2009-02-02  Monty Taylor  <mordred@inaugust.com>

	Fixed timeout problem. Should probably not hardcode this, but screw it.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Commented out a test in subselect_sj - I think it might be a regression. Jay?

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Fixed small_tmp_table - needed a --disable_warnings around the create table if not exists.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Only use our helper file on solaris so that other platforms are happy.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Undid bad solaris warning fix.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Copied in more crap that solaris  doesn't have.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Merged.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Few more style fixes.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Merged Mark.
	Cleaned up some style issues.

2009-01-29  Mark Atwood  <me@mark.atwood.name>

	logging to syslog

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Merged in the gnulib tree to fix timegm and stat on solaris.

2009-01-30  Monty Taylor  <mordred@inaugust.com>

	Some tweaks to get timegm working on Solaris.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Fixed temporal header includes.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Added check for getopt.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Added getopt workaround for broken solaris getopt.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Added -Ignulib to the includes if it's needed.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Add timegm which is missing on Solaris.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Back and forth. Back and forth.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Updated translation info.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-01-30  Toru Maesaka  <dev@torum.net>

	Forgot to add --fixes=lp:310304 in the previous commit.

2009-01-30  Toru Maesaka  <dev@torum.net>

	Killed dead code and removed a reference to a non-existent help option

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	More fixes. Turned warnings=errors off for now.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris fixes on linux again.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	More fixy-fixes.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged from Jay.

2009-01-30  Jay Pipes  <jpipes@serialcoder>

	Modified JOIN::flatten_subqueries() to ensure that when a LEFT JOIN
	is found with semi-joins, we still must finalize the subqueries that
	were not converted.  Previously, after finding a semi-join and LEFT JOIN, 
	the code returned from the function without cleaning up other joins.
	
	Included is a change to the subselect2.test case which now shows a
	different EXPLAIN plan for a LEFT OUTER JOIN with multiple dependent
	subqueries.  We should monitor the optimizer team's input on this 
	function to see if they come up with an appropriate solution.
	
	But for now, this fixes bug #314911 and all tests pass cleanly.

2009-01-30  Jay Pipes  <jpipes@serialcoder>

	Fixes crash in optimizer where LEFT JOIN was mixing with a subselect.
	
	Problem was in the JOIN::flatten_subqueries() method, which was not
	properly populating the join->cond member that was being passed to the
	replace_where_subcondition() static function later on in the method call.
	
	After checking out the source for MySQL 6.0, I noticed that the optimizer
	team has punted on LEFT JOIN with dependent subqueries, probably because
	of this issue, so I adapted the code from 6.0 into Drizzle.
	
	After that, I modified the test case subselect_sj.test to put back in the
	tests for LEFT JOIN on a condition with a subquery and verified that 
	the results returned were correct.  The SELECT returns a valid and correct
	data set now for both un-commented queries, and the EXPLAIN SELECT just 
	shows SUBQUERY, not DEPENDENT or UNIQUE SUBQUERY.

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Forgot to add back the continue in case of multi-byte character not exceeding the end of string buffer.

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fix for Bug 314502 "show create table crashes with multi-byte character in enum description"
	
	In append_unescaped, there was an incorrect continue in the multi-byte
	length calculation piece, which resulted in the appending of \0 characters
	to the end of a string buffer, leading to memory crash.
	
	Code now checks that end position of string buffer has been exceeded after
	calculating MB character length.
	
	Added new test case demonstrating fix for the bug: show_create_table_utf8.test

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris fixes for linux. Oh, and I also seem to have fixed some more configure stuff.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Fixed Solaris warnings for MyISAM.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Cleaned up a few build things. Thank me... builds should be quicker now. :)

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Added new files to bzrignore.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru.

2009-01-29  Toru Maesaka  <dev@torum.net>

	Removed the 16bit limitation of auto_increment_(increment|offset) system variables

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Left out a missing file.

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Replaced gen_lex_hash with gperf. Yay for no more building tools to build source!!!

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Merged with trunk.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Fixed include order compile thing.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Reverted gen_lex_hash change.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Made gen_lex_hash into a plain C program, removed all depends. (Thanks Kent)

2009-01-29  Monty Taylor  <mordred@inaugust.com>

	Cleaned up warnings up through innodb.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Fixed a flags issue.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Some Sun warning fixes.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Fixed 32-64bit bugs in drizzleslap.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Turned on warnings-as-errors on solaris.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris double-define.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Fixed solaris setsockopt issue.

2009-02-02  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2009-02-02  Stewart Smith  <stewart@flamingspork.com>

	read key_block_size from proto instead of frm

2009-02-02  Stewart Smith  <stewart@flamingspork.com>

	remove more of FRM code to read table comment (short vs long comment)

2009-02-02  Stewart Smith  <stewart@flamingspork.com>

	read connect_string and comment from proto instead of FRM.
	
	Fix up FRM file parsing r.e. column format (and possibly comments, but that's not checked here).
	
	Fix comment test results.
	
	We had a bug (in frm parsing) that meant that table comments weren't being parsed. This cset fixes this bug by reading from proto.
	
	The previous comment test results were *WRONG* and just tested buggy behaviour.

2009-02-02  Stewart Smith  <stewart@flamingspork.com>

	re-introduce db.opt, but with parsing it from disk instead of in process cache with mutex.
	
	Write db.opt safely (temp file, rename).
	
	LOCK_drizzle_create_db can likely easily go now.
	
	schema.proto: remove charset as it is standard, we only care about collation.
	
	We don't change the epic fail that is the lack of error checking in show.cc

2009-01-30  Stewart Smith  <stewart@flamingspork.com>

	merge other work

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	merge frm work

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	fix create_not_windows test to remove FRM *and* proto.

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	remove mysql_frm_type and instead resolve engine from reading proto

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	fix bug on failing to create table in rea_create_table.
	
	it would delete frm but then not the proto.
	
	shows up with replacement of mysql_frm_type with reading the proto (next cset) when running heap_var test.

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	EPIC \r FAIL

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	merge nofrm fixes

2009-01-27  Stewart Smith  <stewart@flamingspork.com>

	Fix InnoDB drop table code path, handler drop table code path to deal with bad FRMs.
	
	Previously the buggy innodb handler was hiding a crashing bug in the event of a bad frm (sown by frm test)

2009-01-26  Stewart Smith  <stewart@flamingspork.com>

	remove existing db.opt implementation.

2009-01-26  Stewart Smith  <stewart@flamingspork.com>

	fix build problem

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	merge

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	one more fix...

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	fix "limited range of data type" gcc warning

2009-01-20  Stewart Smith  <stewart@flamingspork.com>

	gcc 4.2.1 fixes

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	merge ppc/gcc fixes

2009-01-20  Stewart Smith  <stewart@flamingspork.com>

	gcc 4.2.1 fixes

2009-01-30  Stewart Smith  <stewart@flamingspork.com>

	remove the ass that is fstream and use good old open(2) and the protobuf ZeroCopyInputStream
	
	for table_reader

2009-01-29  Stewart Smith  <stewart@flamingspork.com>

	start reading table definition from proto instead of FRM.
	
	currently just: engine, avg_row_length, page_checksum, row_type, block_size, charset, max_rows, min_rows
	
	we read from proto and then fall through to FRM code.
	
	test suite passes :)

2009-01-29  Stewart Smith  <stewart@flamingspork.com>

	remove transactional flag from table share (and show create table)

2009-01-29  Stewart Smith  <stewart@flamingspork.com>

	fix (in a bit of a hackish) way CREATE TABLE LIKE for proto file.

2009-01-29  Stewart Smith  <stewart@flamingspork.com>

	remove (unused) TRANSACTIONAL symbol from parser and lexer.
	
	Maria will have to add this back in when ported.

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	fix create_not_windows test to remove FRM *and* proto.

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	remove mysql_frm_type and instead resolve engine from reading proto

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	fix bug on failing to create table in rea_create_table.
	
	it would delete frm but then not the proto.
	
	shows up with replacement of mysql_frm_type with reading the proto (next cset) when running heap_var test.

2009-01-28  Stewart Smith  <stewart@flamingspork.com>

	EPIC \r FAIL

2009-01-30  Brian Aker  <brian@tangent.org>

	Removed dead prepare2 call.

2009-01-29  Brian Aker  <brian@tangent.org>

	Merge Jay

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Quick fix for shadowing problem in second.cc

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-29  Jay Pipes  <jpipes@serialcoder>

	Fixes for SECOND() function to use new Temporal system.  Because
	MySQL implicitly converts integers to strings, but only for 
	DATETIME, not TIME, there is a bit of hack in functions/time/second.cc
	right now which may be refactored when Temporals are made real, 
	immutable ValueObjects.
	
	Added new test case for the SECOND() function.
	
	Added comments in function/time/year.cc to indicate a bit better
	what we are doing, and added a define for the max length a datetime
	is represented as a string.
	
	Corrected regex matching in following ways:
	
	Added start ^ and end $ to catch issues with greedy matching on dates
	before datetime strings.
	
	Added check for the usecond and nsecond indexes in the regex matches.
	Checks for datetimes with microsecond parts were not properly being 
	matched because of an incorrect calculation in TemporalFormat::matches()

2009-01-28  Brian Aker  <brian@tangent.org>

	Merge for Mark.

2009-01-28  Mark Atwood  <me@mark.atwood.name>

	fix temporal includes (Jay will probably fix this too)

2009-01-28  Mark Atwood  <me@mark.atwood.name>

	merge from main

2009-01-28  Mark Atwood  <me@mark.atwood.name>

	fix style

2009-01-27  Mark Atwood  <me@mark.atwood.name>

	merge from main

2009-01-27  Mark Atwood  <me@mark.atwood.name>

	fixup logging plugin, make it compile in, and make it do CSV

2009-01-28  Brian Aker  <brian@tangent.org>

	Found a few bits to be deleted (around binlog).

2009-01-28  Brian Aker  <brian@tangent.org>

	Merge from Jay.

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fixed DAYOFYEAR() to use new Temporal system, corrected func_time.test
	case to throw correct errors, and added new dayofyear.test case for
	the DAYOFYEAR() function.

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fixes DAYOFMONTH() function to use new Temporal system.  Now throws
	errors on all bad datetime values.
	
	Corrected existing func_time.test case to throw correct errors.
	
	Add dayofmonth.test new test case for DAYOFMONTH() function

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fixes to existing func_time.test for bad datetimes passed to MONTH() and MONTHNAME() function.

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fixes MONTH() function to use new Temporal system.  Errors
	are now always reported on bad datetime values.
	
	Adds new test case for MONTH() function.

2009-01-28  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2009-01-28  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-27  Monty Taylor  <mordred@inaugust.com>

	Turned on -Wshadow.

2009-01-27  Monty Taylor  <mordred@inaugust.com>

	Merged trunk

2009-01-27  Monty Taylor  <mordred@inaugust.com>

	Merged from toru.

2009-01-27  Toru Maesaka  <dev@torum.net>

	Renamed mysql_declare_plugin_end to drizzle_declare_plugin_end

2009-01-27  Toru Maesaka  <dev@torum.net>

	Renamed mysql_declare_plugin to drizzle_declare_plugin

2009-01-27  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-27  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-01-25  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-25  Monty Taylor  <mordred@inaugust.com>

	Removed end_partial_result_set.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	Merged from solaris fixes.

2009-01-22  Monty Taylor  <mordred@inaugust.com>

	Turn off doubunder warning on Solaris - it's a bogus hit on system headers.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	More cleanup.

2009-01-28  Brian Aker  <brian@tangent.org>

	Import work from Jay

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Removed bad test piece from auto_increment.test.  Fixes minor bug #314553.

2009-01-28  Jay Pipes  <jpipes@serialcoder>

	Fixed Bug# 314186 'memory leak in broken function 'ip_to_hostname'.  Removed dead ip_to_hostname() call.

2009-01-27  Jay Pipes  <jpipes@serialcoder>

	Fix for Bug #251012. Removed reference to MySQL documentation from drizzled_safe script.

2009-01-27  Jay Pipes  <jpipes@serialcoder>

	Incorrectly passing str.ptr() instead of str.c_ptr() to my_charpos() in key.cc:key_unpack().  This resulted in duplicate key error messages containing random characters due to a bad offset, and would show up as random failure in the myisam.test case when running make test but not ./dtr myisam.

2009-01-27  Jay Pipes  <jpipes@serialcoder>

	First function cleanup for temporal handling: YEAR()
	
	* Added source files for calendrical calculations:
	drizzled/calendar.h
	drizzled/calendar.cc
	* Added source files for new Temporal classes
	drizzled/temporal.h
	drizzled/temporal.cc
	drizzled/temporal_format.h
	drizzled/temporal_format.cc
	
	Modified drizzled/function/time/year.cc to use the new
	Temporal classes instead of the DRIZZLE_TIME struct and 
	get_date().
	
	Added new error codes for invalid DATETIME values and ensured
	bad datetimes throw errors in calls to YEAR().
	
	Added new test case specifically for the YEAR() function
	
	Modified existing func_time and type_date test cases to expect
	errors when calling YEAR() with bad datetimes.
	
	Edited Makefile.am in drizzled/ to ensure libpcre is used during
	build and that calendar.cc, temporal.cc and temporal_format.cc are
	built.

2009-01-27  Jay Pipes  <jpipes@serialcoder>

	Removed dead item_init() method.

2009-01-27  Brian Aker  <brian@tangent.org>

	Dead variable array removal for statement based. (Thank god I got something
	done today)

2009-01-26  Brian Aker  <brian@tangent.org>

	Cleanup to confirm shutdown of scheduler

2009-01-25  Brian Aker  <brian@tangent.org>

	Merge and fix for scheduler.h

2009-01-24  Brian Aker  <brian@gir.tangent.org>

	Merge from Myself

2009-01-22  Brian Aker  <brian@tangent.org>

	Committing merge from Monty

2009-01-22  Monty Taylor  <mordred@inaugust.com>

	Quick fix for #ifdef WORDS_BIGENDIAN.

2009-01-22  Brian Aker  <brian@tangent.org>

	Merge of Monty

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	More __attribute__ removal.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	Got rid of __attribute__((unused)) and the like from the .cc files.

2009-01-23  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-22  Monty Taylor  <mordred@inaugust.com>

	Put in LCOV checks. Put output in subdir.

2009-01-22  Monty Taylor  <mordred@inaugust.com>

	Test.

2009-01-22  Brian Aker  <brian@tangent.org>

	Short global cleanup for includes.

2009-01-22  Brian Aker  <brian@tangent.org>

	Solaris build error fix.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Fix for making sure I_S has good information about which plugins are
	actually active.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Refactor of scheduler plugin code to simplify around one structure. Also
	enhanced failure code for multi load attempts (and moved it out of
	sql_plugin and just into the actual plugin container).
	
	Set pool_of_threads to be default.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Move number of threads to use for pool of threads to module. Removed slave
	thrad cheats from session object.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Remove dead event.h need from core

2009-01-24  Brian Aker  <brian@gir-3.local>

	Adding in an example singe thread scheduler

2009-01-24  Brian Aker  <brian@gir-3.local>

	Refactor init/deinit into the normal startup structures for a plugin.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Remove dead locks related to replication.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Refactored all current scheduler to be behind scheduler plugin api.

2009-01-24  Brian Aker  <brian@gir-3.local>

	Fix uninit of path length for OSX.

2009-01-22  Brian Aker  <brian@tangent.org>

	Merge for replication removal.

2009-01-22  Brian Aker  <brian@tangent.org>

	Last removal of variables.

2009-01-22  Brian Aker  <brian@tangent.org>

	Vast majority of the replication code removed, new plugin points now
	available.

2009-01-22  Brian Aker  <brian@tangent.org>

	Removed dependency on log.h

2009-01-22  Brian Aker  <brian@tangent.org>

	Detangle more of the session object

2009-01-22  Brian Aker  <brian@tangent.org>

	More pulling of code... master_pos function code removed.

2009-01-22  Brian Aker  <brian@tangent.org>

	Cleaning out of log.cc

2009-01-22  Brian Aker  <brian@tangent.org>

	Remove log_event.h from session.h

2009-01-22  Brian Aker  <brian@tangent.org>

	Stray log_Event .h in session

2009-01-22  Brian Aker  <brian@tangent.org>

	Remove last of binlog option

2009-01-22  Brian Aker  <brian@tangent.org>

	more removal of open binlog

2009-01-22  Brian Aker  <brian@tangent.org>

	Removing include structures to old replication

2009-01-22  Brian Aker  <brian@tangent.org>

	More work on binlog.poen

2009-01-21  Brian Aker  <brian@tangent.org>

	More cleanup of binlog.isopen

2009-01-21  Brian Aker  <brian@tangent.org>

	Converted db.cc away from using binlog

2009-01-21  Brian Aker  <brian@tangent.org>

	Remove dead COM for BINLOG/REGISTER.

2009-01-21  Brian Aker  <brian@tangent.org>

	Partial extraction.

2009-01-21  Brian Aker  <brian@tangent.org>

	Cleanup internals to session.

2009-01-21  Brian Aker  <brian@tangent.org>

	Remove log-bin

2009-01-21  Brian Aker  <brian@tangent.org>

	Majority varible removal from drizzled.ccc

2009-01-21  Brian Aker  <brian@tangent.org>

	Remove set_var work for old replication system

2009-01-21  Brian Aker  <brian@tangent.org>

	Binlog variables removal

2009-01-21  Brian Aker  <brian@tangent.org>

	Factor test-run for binlog removal

2009-01-21  Brian Aker  <brian@tangent.org>

	Remove COM bits for replication

2009-01-21  Brian Aker  <brian@tangent.org>

	More keyword extraction

2009-01-21  Brian Aker  <brian@tangent.org>

	Removed dead SQL_THREAD keyword

2009-01-21  Brian Aker  <brian@tangent.org>

	Remove show master bits.

2009-01-21  Brian Aker  <brian@tangent.org>

	Removed single keyword.

2009-01-20  Brian Aker  <brian@tangent.org>

	Removed dead key words.

2009-01-20  Brian Aker  <brian@tangent.org>

	Removed CHANGE

2009-01-20  Brian Aker  <brian@tangent.org>

	Remove slave start.

2009-01-20  Brian Aker  <brian@tangent.org>

	Removed purge

2009-01-19  Brian Aker  <brian@tangent.org>

	Remove first pas Repication

2009-01-22  Brian Aker  <brian@tangent.org>

	Merge Monty's work

2009-01-20  Brian Aker  <brian@tangent.org>

	Merge from Monty

2009-01-20  Monty Taylor  <mordred@inaugust.com>

	NULLed out variable.

2009-01-20  Monty Taylor  <mordred@inaugust.com>

	Merge from Stewart.

2009-01-20  Stewart Smith  <stewart@flamingspork.com>

	merge

2008-12-21  Yoshinori Sano  <ysano@171.1.168.192.in-addr.arpa>

	Replace "uint32_t db_stat" member of Table class with std::bitset.

2009-01-20  Stewart Smith  <stewart@flamingspork.com>

	critical performance fixes

2009-01-20  Monty Taylor  <mordred@inaugust.com>

	Merged LinuxJedi.

2009-01-19  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Add comment to new function

2009-01-18  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-01-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk
	Add table name to 'rows dumped' output (Sinisa will be happy)

2009-01-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Add --show-progress-size and estimate number of rows

2009-01-06  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-01-02  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Port my mysqldump progress patch to Drizzle (note: can't test due to bug #310275)

2009-01-20  Monty Taylor  <mordred@inaugust.com>

	Added lcov commands.

2009-01-19  Monty Taylor  <mordred@inaugust.com>

	Removed stuff that gcov showed we weren't using.

2009-01-19  Monty Taylor  <mordred@inaugust.com>

	Removed  bchange.

2009-01-19  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-19  Monty Taylor  <mordred@inaugust.com>

	Turned on exceptions, but made it configurable.

2009-01-12  Monty Taylor  <mordred@inaugust.com>

	Added libdrizzle configure support.

2009-01-17  Brian Aker  <brian@tangent.org>

	Updated table_share tto its own file (yess, it will eventually go away).

2009-01-18  Brian Aker  <brian@gir-3.local>

	Removed unused session param from list_open_tables()

2009-01-17  Brian Aker  <brian@gir-3.local>

	Test case fixes + TABLE_CACHE to class (will rename in manner which is NOT
	YELLING CASE UP).

2009-01-16  Brian Aker  <brian@gir-3.local>

	Fix for index_merge_innodb test.

2009-01-16  Brian Aker  <brian@gir-3.local>

	Refactor append_identifier and remove dead OPTION_QUOTE_SHOW_CREATE option
	(we always quote).

2009-01-16  Brian Aker  <brian@gir-3.local>

	Pass through on refactoring functions to clases.

2009-01-15  Brian Aker  <brian@tangent.org>

	Refactor for myisam specifics in handler

2009-01-15  Brian Aker  <brian@tangent.org>

	Dead upgrade code.

2009-01-14  Brian Aker  <brian@tangent.org>

	More myisam plugin conversion.

2009-01-14  Brian Aker  <brian@tangent.org>

	MyISAM fix.

2009-01-14  Brian Aker  <brian@tangent.org>

	Move MyISAM bits to myisam plugin

2009-01-14  Brian Aker  <brian@tangent.org>

	Merge from Lee.

2009-01-13  Lee  <lbieber@lbieber-desktop>

	enable subselect_notembedded test

2009-01-12  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-12  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-12  Brian Aker  <brian@tangent.org>

	Update from Monty

2009-01-10  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-09  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-11  Monty Taylor  <mordred@inaugust.com>

	Fixed closing comment.

2009-01-11  Monty Taylor  <mordred@inaugust.com>

	Test against right symbols.

2009-01-11  Monty Taylor  <mordred@inaugust.com>

	Possible build fixes for Solaris.

2009-01-10  Monty Taylor  <mordred@inaugust.com>

	Added new messages to be translated.

2009-01-10  Monty Taylor  <mordred@inaugust.com>

	Merged from Andrew.

2009-01-10  Monty Taylor  <mordred@inaugust.com>

	Merged Toru.

2009-01-08  Toru Maesaka  <dev@torum.net>

	Defined the first version of the Query Cache interface.

2009-01-12  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2009-01-13  Stewart Smith  <stewart@flamingspork.com>

	merge Andrew's fix for bug #313410
	Files created with drizzledump can now be imported into drizzle without error!

2009-01-10  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Fix tests for modified code

2009-01-10  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Remove compatibility comments from drizzledump

2009-01-10  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-01-10  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	merge final archive test fixes

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	remove archive_bitfield test. it's not applicable to drizzle

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	fix archive_basic for drizzle

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	fix archive_aio_posix test for drizzle

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	merge archive-big fix

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	fix archive-big test for drizzle
	
	add CRC32 checking of content of table

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	merge strict test fixes

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	fix strict test for drizzle.
	
	move date related things into strict-date.test to be worked on after jay's work has been merged.

2009-01-12  Stewart Smith  <stewart@flamingspork.com>

	fix ARCHIVE table creation and archive test

2009-01-10  Brian Aker  <brian@tangent.org>

	Merge for Monty

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Moved concurrent_innodb to the test suite - stubbed it out- filed a bug.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Changed a cast from C-style to C++-style.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	More build fixing.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	More gettext stuff.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Fixed a coupla oopses on the Mac.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Merged in build changes.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Fixed an OpenSolaris thing.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Removed old reference to -Wno-unused-macros.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	General build cleanup - removed cruft, removed depreated checks.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Fixed a sillyness.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Put back in pkg-config check- pcre.h is in /usr/include for older versions and
	in /usr/include/pcre for newer versions. I'd force us to use newer - but FFS, it's just for drizzletest right now.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2009-01-09  Mark Atwood  <me@mark.atwood.name>

	merge from main

2009-01-08  Mark Atwood  <me@mark.atwood.name>

	add syslog based logging plugin

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Merged in link changes.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Added /opt/csw to the libs too.

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Removed search_for_lib. Now totally using AC_LIB_HAVE_LINKFLAGS.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Added missing LTLIBUUID.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Split out readline.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Updated some more build stuff.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Added stdlib.h depend for readline.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Changed search for readline.

2009-01-08  Monty Taylor  <mordred@inaugust.com>

	Added new pthread m4 file. Changing lib checks to use AC_LIB_HAVE_LINKFLAGS

2009-01-09  Monty Taylor  <mordred@inaugust.com>

	Merge from Kristian.

2009-01-07  Kristian Nielsen  <knielsen@odin>

	Fix a few warnings when building with -DHAVE_purify

2009-01-07  Kristian Nielsen  <knielsen@odin>

	Fix memory overrun detected by Valgrind, where fill_table_proto()
	would read past the end of field comment strings.
	
	Change allocation of table->field comment strings to be
	zero-terminated, by allocating with strmake_root().
	
	fill_table_proto() assumes they are zero-terminated, and other
	comments on the table are already allocated in this way.

2009-01-07  Kristian Nielsen  <knielsen@odin>

	Fix IO_CACHE memory handling, if we allocate with new, we must not
	deallocate with free().

2009-01-07  Kristian Nielsen  <knielsen@odin>

	- Don't allocate Table * with new when open_cache uses free() to
	de-allocate (we cannot use delete() as some Table * values are
	allocated with my_multi_malloc()).
	- Remove unused extern declaration.
	- Fix invalid cast of function pointer to different type.
	- Cleanup diplicate code.

2009-01-07  Kristian Nielsen  <knielsen@odin>

	Use mkdir_p instead of MKDIR_P to not require as new autotool versions.

2009-01-09  Brian Aker  <brian@tangent.org>

	Merge from Lee

2009-01-08  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-08  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-08  Lee  <lbieber@lbieber-desktop>

	enable subselect_sj2 

2009-01-09  Brian Aker  <brian@tangent.org>

	Dead test/wrong test.

2009-01-09  Brian Aker  <brian@tangent.org>

	Merge for Jay

2009-01-09  Jay Pipes  <jpipes@serialcoder>

	Move myisam test into main from broken

2009-01-09  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-09  Brian Aker  <brian@tangent.org>

	Remove dead code from session.

2009-01-08  Brian Aker  <brian@tangent.org>

	Fix for FRM.

2009-01-08  Brian Aker  <brian@tangent.org>

	Fix for index_merge_myisam

2009-01-08  Brian Aker  <brian@tangent.org>

	Merge from Lee.

2009-01-07  Lee  <lbieber@lbieber-desktop>

	enable subselect_sj test

2009-01-07  Lee  <lbieber@lbieber-desktop>

	finish enabling tests, remove timezone2, timezone3

2009-01-07  Lee  <lbieber@lbieber-desktop>

	enable clef and mysql_bug2397 tests

2009-01-07  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-07  Lee  <lbieber@lbieber-desktop>

	add alter_table-big test

2009-01-07  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-07  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-06  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-08  Brian Aker  <brian@tangent.org>

	func_timestamp now working.

2009-01-08  Brian Aker  <brian@tangent.org>

	Fix for execution_constants to make it run (still failure in it).

2009-01-08  Brian Aker  <brian@tangent.org>

	Fix init_connect test.

2009-01-08  Brian Aker  <brian@tangent.org>

	SP calls for init_file are not supported. Looking around though, more tests
	for this feature should be added.

2009-01-07  Brian Aker  <brian@tangent.org>

	Committing fix lock_multi

2009-01-07  Brian Aker  <brian@tangent.org>

	Merge for Jay.

2009-01-07  Jay Pipes  <jpipes@serialcoder>

	Fixes for the myisam.test.  This test is, IMHO, probably hopelessly broken anyway...

2009-01-07  Jay Pipes  <jpipes@serialcoder>

	Removing mysqltest.test.  This is going to go away.

2009-01-07  Jay Pipes  <jpipes@serialcoder>

	Removed lowercase tests.

2009-01-07  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2009-01-07  Brian Aker  <brian@tangent.org>

	Remove dead code for tracking user resources (this belongs in the plugin...
	duh).

2009-01-07  Brian Aker  <brian@tangent.org>

	Removing dead field translator code.

2009-01-07  Brian Aker  <brian@tangent.org>

	Dead code removal.

2009-01-06  Brian Aker  <brian@tangent.org>

	Remove dead tests.

2009-01-06  Brian Aker  <brian@tangent.org>

	Fixed key_cache test

2009-01-06  Brian Aker  <brian@tangent.org>

	Fix information_schema_chmod test.

2009-01-06  Brian Aker  <brian@tangent.org>

	Fixed index_merge_innodb test.

2009-01-06  Brian Aker  <brian@tangent.org>

	Finished merge for Lee

2009-01-06  Lee  <lbieber@lbieber-desktop>

	enable more tests and a few Solaris code clean ups

2009-01-06  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-06  Lee  <lbieber@lbieber-desktop>

	enable alias and analyze tests

2009-01-06  Brian Aker  <brian@tangent.org>

	Merge Monty.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Added check for ncurses back. This time, only do it if readline fails first.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Removed create-big - it's designed around the old debug system. (eek?)

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Removed tests regarding dealing with multi-charsets.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Enabled ctype_utf8.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Enabled deadlock_innodb.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Enabled dirty_close.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Removed the assert that's causing all of the pain.

2009-01-06  Monty Taylor  <mordred@inaugust.com>

	Enabled drop.test.

2009-01-06  Brian Aker  <brian@tangent.org>

	Innodb test fix.

2009-01-06  Brian Aker  <brian@tangent.org>

	Cleanup around UTf8 code.

2009-01-06  Brian Aker  <brian@tangent.org>

	Merge from Monty

2009-01-05  Monty Taylor  <mordred@inaugust.com>

	Merged from Andrew.

2009-01-05  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2009-01-05  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	get_table_structure now returns true/false for success/fail.  The field count is now a parameter

2009-01-03  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	switch_character_set_results always returns false making the "show create table" query always fail.  Remove this function as it won't work in Drizzle.

2009-01-05  Monty Taylor  <mordred@camelot.inaugust.com>

	Removed test for ncurses. It's not needed anywhere I care about as far as I can tell.

2009-01-05  Monty Taylor  <mordred@inaugust.com>

	Merged from Lee.

2009-01-05  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-01  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-01  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2009-01-01  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-31  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-31  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-30  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2009-01-05  Monty Taylor  <mordred@inaugust.com>

	Fixed missing include.

2009-01-05  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2009-01-05  Mark Atwood  <me@mark.atwood.name>

	merge from main

2009-01-04  Mark Atwood  <me@mark.atwood.name>

	replace sql_print_error etc with errmsg_print

2009-01-04  Brian Aker  <brian@tangent.org>

	Randowm class cleanup.

2009-01-03  Brian Aker  <brian@tangent.org>

	Fix for multple execution path for FRM creation.
	
	BTW building an FRM on disk for I_S, which I believe is happening... is
	dumb.

2009-01-01  Brian Aker  <brian@tangent.org>

	Merge Monty

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Remove tests/var on distclean to make distcheck happy.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Fixed a little thing with ncurses.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	One more stupid change.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Reverted stupid change.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Made search_for_lib more robust.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Updated autoconf stuff.

2008-12-31  Monty Taylor  <mordred@inaugust.com>

	Updated mysql.test for distcheck.

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Added a var to fix make distcheck.

2008-12-30  Brian Aker  <brian@tangent.org>

	Merge Monty

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Msgmerge.

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Merged from Mark.

2008-12-29  Mark Atwood  <me@mark.atwood.name>

	merge from main

2008-12-29  Mark Atwood  <me@mark.atwood.name>

	integrate errmsg plugin into sql_print_* functions

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Msgmerge.

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Merged from LinuxJedi.

2008-12-30  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-24  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-21  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Apply -p means port changes to all client apps

2008-12-21  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Apply -p means port changes to drizzleadmin

2008-12-20  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Apply -p means port changes to drizzledump

2008-12-20  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-30  Monty Taylor  <mordred@inaugust.com>

	Merged from Lee.

2008-12-29  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-29  Lee  <lbieber@lbieber-desktop>

	update subselect tests to use MyISAM tables since we have issues with optimizer and explain when using InnoDB

2008-12-27  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-24  Lee  <lbieber@lbieber-desktop>

	fix results file for subselect_no_semijoin

2008-12-24  Lee  <lbieber@lbieber-desktop>

	enable remaining subselect tests, merge with latest from the trunk

2008-12-23  Lee  <lbieber@lbieber-desktop>

	remove bit tests for subselect_mat.test

2008-12-29  Brian Aker  <brian@tangent.org>

	Make block_size for myisam fit into plugin.

2008-12-29  Brian Aker  <brian@tangent.org>

	Converted myisam_repair_threads to being in module for MyISAM

2008-12-25  Brian Aker  <brian@tangent.org>

	Merging Monty

2008-12-25  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Merged in new translations from Launchpad.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Added missing file to the dist.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Removed include that had been added for testing.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Fixed a wanton lack of null termination.

2008-12-24  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Fixed non-deterministic innodb explain output.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Removed error condition comment.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Fixed create_select_tmp test.

2008-12-24  Monty Taylor  <mordred@inaugust.com>

	Removed some silliness.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Enabled derived test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Enabled default.test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed bogus test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed ctype_mb - covered in _so_ many other places.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Enabled csv_not_null and csv_alter_table.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Enabled csv.test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Enabled create_not_windows.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed crash_commit_before - it was a test of a crash that only happened in the old debug builds.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Turned on small_tmp_table.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Moved concurrent_innodb.test back to broken. It's sort of bogus, given that we don't have a syncing method. Perhaps with Jay's new system it'll be possible to re-write the intent sensibly.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged from me.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged from Eric.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Fixed connect.test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Fixed create.test.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged from Eric.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged from trunk.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed assert(0); Added function ptr in libdrizzle.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Removed slave.h from master_pos_wait.h, which was causing item/create.cc to depend on libdrizzle/drizzle.h, which is silly.

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2008-12-23  Brian Aker  <brian@gir.tangent.org>

	Bug #311084

2008-12-23  Brian Aker  <brian@tangent.org>

	Merge from Lee.

2008-12-23  Lee  <lbieber@lbieber-desktop>

	enable subselect_not, subselect_no_mat and variables tests, some other misc clean up on other tests

2008-12-23  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-23  Lee  <lbieber@lbieber-desktop>

	enable user_var, user_var-binlog and symlink tests

2008-12-23  Brian Aker  <brian@tangent.org>

	Removal of client side collation.

2008-12-23  Brian Aker  <brian@tangent.org>

	Remove set insert_id

2008-12-23  Brian Aker  <brian@tangent.org>

	Merging in fixes by Eric

2008-12-23  Eric Day  <eday@oddments.org>

	Fixed client header to not write max db length, only write the actual string length.

2008-12-23  Eric Day  <eday@oddments.org>

	Reworked server version packing in handshake, was writing max length instead of just string length + NULL.

2008-12-23  Brian Aker  <brian@tangent.org>

	Dead code around variables.

2008-12-23  Brian Aker  <brian@tangent.org>

	Removing dead code around one shot.

2008-12-23  Brian Aker  <brian@tangent.org>

	Parser conflict removal (dead code in SET NAME).

2008-12-23  Brian Aker  <brian@tangent.org>

	Dead code.

2008-12-23  Brian Aker  <brian@tangent.org>

	Merge Monty

2008-12-23  Monty Taylor  <mordred@inaugust.com>

	I _think_ I've got the plug.in triggering rebuild thing going on right.

2008-12-23  Brian Aker  <brian@tangent.org>

	Remove dead method calls.

2008-12-23  Brian Aker  <brian@tangent.org>

	Removed dead table map code in replication. Also refactored drizzledump a
	bit (removed dead code around VIEW).

2008-12-23  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Fixed the stupid build problem

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Updated po files.

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Merged trunk.

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Fixed some distcheck build issues.

2008-12-22  Monty Taylor  <mordred@inaugust.com>

	Fixed the rampant rebuilding issue for now.

2008-12-23  Brian Aker  <brian@tangent.org>

	Updates for dead code removal (and forced assert() in delete).

2008-12-22  Brian Aker  <brian@tangent.org>

	Remove dead variables.

2008-12-22  Brian Aker  <brian@tangent.org>

	Refactor session.

2008-12-22  Brian Aker  <brian@tangent.org>

	Merging Stewart (one fix to his test case to drop t1 if left from previous
	test.)

2008-12-23  Stewart Smith  <stewart@flamingspork.com>

	merge with mainline

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	status2 test n/a for drizzle

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	final fixup of status test (filing bugs for things)

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	status test: remove bits not applicable to Drizzle, explicitly use MyISAM in a few places to get stable costs

2008-12-22  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-22  Monty Taylor  <mordred@camelot.inaugust.com>

	Merged in.

2008-12-21  Monty Taylor  <mordred@inaugust.com>

	Updated translations.

2008-12-21  Monty Taylor  <mordred@inaugust.com>

	Fixed a distcheck bug.

2008-12-22  Monty Taylor  <mordred@camelot.inaugust.com>

	Fixed: error compiling with the MD5 plugin on mac.

2008-12-22  Brian Aker  <brian@tangent.org>

	Merge from Lee

2008-12-22  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-22  Lee  <lbieber@lbieber-desktop>

	enable type_enum, union, variables-big and type_enum tests

2008-12-19  Lee  <lbieber@lbieber-desktop>

	enable type_decimal test, correct comment in varbinary test

2008-12-19  Lee  <lbieber@lbieber-desktop>

	add varbinary test

2008-12-19  Lee  <lbieber@lbieber-desktop>

	rename type_binary to type_varbinary

2008-12-19  Lee  <lbieber@lbieber-desktop>

	enable type_binary test

2008-12-19  Lee  <lbieber@lbieber-desktop>

	enable truncate test

2008-12-19  Lee  <lbieber@lbieber-desktop>

	fix variables_c test, remove have_community checks, no longer valid

2008-12-22  jay  <jay@piggy.tangent.org>

	Had a --regex-replace by accident. Should have been --replace_column call.  Only showed up in make test, not running single test, because InnoDB key numbers were different with multiple test running.

2008-12-22  jay  <jay@piggy.tangent.org>

	Forgot to --record the damn null_key test after adding regex-replaces for the InnoDB rows output in EXPLAIN

2008-12-22  jay  <jay@piggy.tangent.org>

	Fresh trunk merge

2008-12-22  Jay Pipes  <jpipes@serialcoder>

	Ignore 9th column in EXPLAIN output for InnoDB table (rows are inaccurate)

2008-12-22  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Fixes mysql.test.  Commented out executable commands which reference the test database, since we don't have one.

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Removed mysql_client_test.test.  Had to do with obselete crap and embedded server.

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Fixes for mysqldump.test.  Not enabling it because there is a bug.

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Fixes mysqlcheck.test.  Removes views from test.

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Removed multi_statement.test.  We don't support multiple statements in batch.

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Ignore rows in EXPLAIN output for InnoDB - they are inaccurate

2008-12-21  Jay Pipes  <jpipes@serialcoder>

	Merge with trunk

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Fixed up mysqladmin.test and renamed it.

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed mysql_upgrade.test.  Obselete.

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed mysql_cp932 test.  We are UTF8.

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed mysql_comments.test.  This test checks behaviour of comments in functions and stored procedures, which we don't have

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Fixes negation_elimination.test. Differences in EXPLAIN output were simply due to length of column differences

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed no-threads.test, which assumes server is started with now-obselete option --one-thread.  That's a bit of a scalability inhibitor IMHO... :)

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Fixes null_key.test.  Mostly differences in EXPLAIN output which may be looked at later.  Also, adds exception check for NULL values in multi-row INSERT

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed obselete mysql_protocols.test

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removed obselete --protocol option

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Fixes odbc.test.  We don't support the SQL_NO_CACHE keyword

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	OLAP test now fixed.  We throw a syntax error upon seeing WITH CUBE, not
	a "We don't support this yet" error.  Other than that, only minor
	SQL syntax fixes and removal of VIEW-specific stuff.
	
	MyISAM.test slowly working through.  Hit a bug in REPAIR TABLE.

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Merge from trunk

2008-12-19  Jay Pipes  <jpipes@serialcoder>

	Removing MRR test per conversation with Brian.

2008-12-21  Brian Aker  <brian@tangent.org>

	Merge stewart.

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	add a skeleton clef test that uses the unicode clef character, which is above 2**16. this is https://bugs.launchpad.net/drizzle/+bug/310479
	
	Thanks to Anthony Baxter for suggesting such a test.

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	put snowman test into main suite

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	fix show_check test
	
	incl remove old symbols from parser, unused variable in server

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	fix CREATE statements in show_check test. Add new (broken) frm test for use in future frm work.

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	remove have_compress variable. should be in list of UDFs instead

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	remove shm test: is not applicable to Drizzle

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	fix select_safe and http://bugs.mysql.com/bug.php?id=32250 (but for Drizzle)

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	fix select_found test for innodb (and other engines) by adding order by (so that result set is same as myisam)

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	key size different in drizzle

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	chaneg table engine to myisam for select_found to show that result difference is due to engine behaviour (limit without order by)

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	fix CREATE TABLE statements in select_found (and bulk load data in txn)

2008-12-22  Stewart Smith  <stewart@flamingspork.com>

	add repair test back to main suite (with result file fixed and bug filed for the bug in there)

2008-12-20  Stewart Smith  <stewart@flamingspork.com>

	merge with head

2008-12-20  Stewart Smith  <stewart@flamingspork.com>

	mostly fix repair test. fix syntax for Drizzle (all tests are MyISAM reliant).
	
	add SHOW_SIZE for variables so that we can set/change sort buffer.

2008-12-19  Stewart Smith  <stewart@flamingspork.com>

	fix realloc in mi_check causing crash in repair use_frm

2008-12-19  Stewart Smith  <stewart@flamingspork.com>

	renamedb is not applicable to drizzle
	
	UPGRADE DATA DIRECTORY is irrelivant.
	
	never had functionality, don't need to test that it doesn't work.

2008-12-21  Brian Aker  <brian@tangent.org>

	Merge Monty

2008-12-21  Monty Taylor  <mordred@inaugust.com>

	Added configmake.h to .bzrignore.

2008-12-21  Monty Taylor  <mordred@inaugust.com>

	Merged from Toru - removal of my_time_t.

2008-12-22  Toru Maesaka  <dev@torum.net>

	Use time_t instead of my_time_t which should be safe (as in wide enough) on POSIX compliant systems.

2008-12-20  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-12-20  Monty Taylor  <monty@inaugust.com>

	Removed a using namespace from a header.

2008-12-20  Monty Taylor  <monty@inaugust.com>

	Split out query_arena.

2008-12-20  Monty Taylor  <monty@inaugust.com>

	Removed all the setting of DEFS everywhere. Use configmake.h to get the values
	we need.

2008-12-20  Monty Taylor  <monty@inaugust.com>

	Cleaned up a few build things.

2008-12-19  Monty Taylor  <monty@inaugust.com>

	Added a coupla copyright headers.

2008-12-19  Monty Taylor  <monty@inaugust.com>

	Removed Gnu-Make-isms, since there were only two and we really don't need them and I'm sick of having make break when I accidentally type "make" (silly me) on Solaris.

2008-12-19  Brian Aker  <brian@tangent.org>

	Minor merge.

2008-12-19  Brian Aker  <brian@gir.tangent.org>

	Adding in missing flush results.

2008-12-19  Brian Aker  <brian@tangent.org>

	Merging for Lee.

2008-12-19  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-19  Lee  <lbieber@lbieber-desktop>

	enable warnings test and fix timezone test to comment out the failing test

2008-12-18  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-18  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-18  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-18  Lee  <lbieber@lbieber-desktop>

	remove system_mysql_db and system_mysql_db_refs tests, they were targeted for mysql db

2008-12-18  Lee  <lbieber@lbieber-desktop>

	enable temp_table, timezone and timezone4 tests, timezone currently fails due to bug 309403

2008-12-17  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-17  Lee  <lbieber@lbieber-desktop>

	enable sysdate_is_now test

2008-12-16  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-16  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-16  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-19  Brian Aker  <brian@tangent.org>

	Adding group_min_max back (only works with MyISAM)

2008-12-19  Brian Aker  <brian@tangent.org>

	Fix for group_min_max test (aka... use MyISAM... need to further test
	MySQL).

2008-12-18  Brian Aker  <brian@tangent.org>

	Updated/fix to foreign key test.

2008-12-18  Brian Aker  <brian@tangent.org>

	Adding back in the rest of the tests for flush. One note... we have not kill
	points so we do not have a test for killing a lock (though it does work by
	hand).

2008-12-18  Brian Aker  <brian@tangent.org>

	Adding back flush_block_commit

2008-12-18  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2008-12-19  Stewart Smith  <stewart@flamingspork.com>

	merge

2008-12-19  Stewart Smith  <stewart@flamingspork.com>

	concurrent rename test
	
	(and used to mark bugs fixed for rename table)

2008-12-19  Stewart Smith  <stewart@flamingspork.com>

	fix RENAME TABLE
	
	(problem was missing hton to mysql_rename_table)
	
	If engine implements table_exists_in_engine we get the hton from there.
	
	Else, we reintroduce the mysql_frm_type hackery (temporarily, it *will* go away again with FRM removal).
	
	also fix rename test: no views, plus current FLUSH LOCKS bug.

2008-12-18  Brian Aker  <brian@tangent.org>

	Fix for FLUSH TABLE WITH READ LOCK

2008-12-18  Brian Aker  <brian@tangent.org>

	Merge from Jay

2008-12-18  Jay Pipes  <jpipes@serialcoder>

	Fixed bug where error 1364 was not being thrown in an appropriate place.  Now, check_that_all_fields_have_given_values() method does two separate checks, one for not being in the write_set() and not having a default value (raise 1364) and another for being in the write_set() but having a NULL value set

2008-12-18  Jay Pipes  <jpipes@serialcoder>

	multi_update.test now working.  Removed VIEWs and other stuff, validated result

2008-12-18  Jay Pipes  <jpipes@serialcoder>

	Merge from trunk

2008-12-18  Jay Pipes  <jpipes@serialcoder>

	Phase 1 enabling of multi_update.test.  Just SQL syntax fixes for right now.

2008-12-18  Jay Pipes  <jpipes@serialcoder>

	Fix for Bug#308457.  Gave UTF8 enclosure and escape character on LOAD DATA INFILE and changed the error message to be more descriptive

2008-12-17  Jay Pipes  <jpipes@serialcoder>

	Moved result and test file from broken suite into main

2008-12-17  Jay Pipes  <jpipes@serialcoder>

	Re-enabled and fixed the mix2_myisam test.
	
	Most fixes were removal of older SQL syntax such as ZEROFILL.
	
	Removed some trigger-specific tests.
	
	Result mismatches were verified as being only to do with removed
	tests and different column lengths for textual columns (which are
	not only utf8)

2008-12-17  Jay Pipes  <jpipes@serialcoder>

	Fixed metadata.test.  Only some minor SQL syntax changes, removal of VIEW stuff from the test, and verifying the old differences in the result file were due to our column type being different.

2008-12-16  Jay Pipes  <jpipes@serialcoder>

	Added back truncation warnings.  The NULL error is triggered from: session->count_cuted_fields= CHECK_FIELD_ERROR_FOR_NULL, not CHECK_FIELD_WARN

2008-12-16  Jay Pipes  <jpipes@serialcoder>

	Enabled the null.test.
	
	* Fixed numerous SQL syntax change errors in null.test
	* Added tests to ensure that UPDATE .. SET col=NULL produced appropriate errors, but only when rows were contained in the table.
	* Added tests to ensure that LOAD DATA INFILE produces errors when setting NULL on NOT NULL columns
	
	sql_insert.cc:
	
	Modified the check_that_all_fields_are_given_values() function to ensure
	an error is thrown instead of a warning when NULL is inserted into a NOT NULL column.
	
	sql_update.cc:
	
	Modifed mysql_update(), setting ignore to only CHECK_FIELD_ERROR_FOR_NULL, which 
	is used by field_conv:set_field_to_null() and set_field_to_null_with_conversions() 
	during the update
	
	field_conv.cc:
	
	Raise an error, not a warning, when NULL is set for NOT NULL columns
	
	sql_load.cc:
	
	Set ignore again, same as in sql_update.cc, but leave error as 1263 which 
	gives additional information in a LOAD statement.
	
	Added a null_test.txt file to check the LOAD DATA INFILE statement in null.test

2008-12-18  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-18  Monty Taylor  <monty@inaugust.com>

	Fixed a time_t thing.

2008-12-18  Monty Taylor  <monty@inaugust.com>

	Fixed default port range in test-run.pl.

2008-12-18  Monty Taylor  <monty@bitters>

	Fixed datarace.

2008-12-18  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-18  Monty Taylor  <monty@inaugust.com>

	Moved a little code...

2008-12-18  Monty Taylor  <monty@inaugust.com>

	Added support for thread data tracing to the build for Sun Studio.

2008-12-18  Monty Taylor  <monty@inaugust.com>

	Cleaned configmake.h a bit.

2008-12-18  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Merged from toru.

2008-12-18  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-18  Toru Maesaka  <dev@torum.net>

	Fixed the issues pointed out by Jay's code review

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Fixed max() problem for solaris

2008-12-17  Monty Taylor  <monty@bitters>

	Fixed one more my_time thing.

2008-12-17  Monty Taylor  <monty@bitters>

	Fixed a my_time() holdout.

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Merged in more test cases.

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Removed compress test. We don't do compression.

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Renamed check to myisamchk since that's what it's really doing.

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Fixed check.

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Fixed up the cast test.

2008-12-17  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Merged update from LinuxJedi.

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Fail is user gives port 0 as well

2008-12-17  Monty Taylor  <monty@inaugust.com>

	Merged from Toru.

2008-12-17  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-17  Toru Maesaka  <dev@torum.net>

	Removed my_time() and added error checking

2008-12-17  Toru Maesaka  <dev@torum.net>

	Removed my_mkdir() and my_sleep()

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged some fixed test cases.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed case test.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed bool. No more sql_mode.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed binary.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Moved the tests on my list from broken to mordred.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Added tests/var to distclean targets.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Made make test rotate ports.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Added ${srcdir} to extra dist in tests. Weird.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Updated message files.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged in changes from LinuxJedi.

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-17  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Fix long to uint32_t type casting problem

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-16  Monty Taylor  <monty@bitters>

	Added missing header.

2008-12-16  Monty Taylor  <mordred@camelot.inaugust.com>

	Updated check_length.sh to work with VPATH.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged from Brian.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Some more cleanups to mtr.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed a coupla more relative-path bugs.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Removed debug prints.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed a small problem when running NOT in a VPATH build.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed absolute path generation for real. Sigh.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Make vardir an absolute path so that INTO OUTFILE will work.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Hacked in one more distcheck fix.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Added testdir setting support to drizzletest.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Removed some prints. Also fixed some bad.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed memalign for only on sparc.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	More message merging.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Makde mtr work in VPATH.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged from Andrew.

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Code cleanups

2008-12-13  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Minor coding standards cleanup
	Make -p mean --port and -P mean --password
	Add error if alphanumeric given for port

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged from Andrew.

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-16  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Merge with trunk

2008-12-13  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Minor string fixes (mainly US English spelling and typos)

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Attempt at some VPATH support for test suite.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Fixed a merge oops.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-12-15  Lee  <lbieber@lbieber-desktop>

	move math functions to drizzled/function/math directory

2008-12-15  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-15  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-15  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-15  Lee  <lbieber@lbieber-desktop>

	merge with latest from the trunk

2008-12-14  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-16  Monty Taylor  <monty@inaugust.com>

	Removed crap.

2008-12-16  Monty Taylor  <monty@inaugust.com>

	One more Makefile fix.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Added missing things to Makefiles for distcheck.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Updated po files.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Merged with trunk.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Fixed a few things to make VPATH builds work.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	A few more fixes.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Turned off stdinc - and then fixed the carnage.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Put depends on plug.in files into the make process.

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Fixed distclean in plugins problem for Lee.

2008-12-16  Brian Aker  <brian@tangent.org>

	Added back explain test.

2008-12-16  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2008-12-17  Stewart Smith  <stewart@flamingspork.com>

	merge

2008-12-17  Stewart Smith  <stewart@flamingspork.com>

	remove global read_only (this should be the job of an auth plugin, not the kernel).
	
	also remove now redundant tests.

2008-12-16  Brian Aker  <brian@tangent.org>

	Removed the lock table transaction code (it is incomplete and currently
	failing test cases in all versions).

2008-12-16  Brian Aker  <brian@tangent.org>

	Merging in Stewart's tests

2008-12-17  Stewart Smith  <stewart@flamingspork.com>

	fix read_many_rows_innodb test
	
	remove stored procedure and trigger based test

2008-12-16  Brian Aker  <brian@tangent.org>

	Removed low_priority (aka.. lets keep the execution clean and free of
	MyISAM's)

2008-12-16  Brian Aker  <brian@tangent.org>

	Enabling loaddata_autocom_innodb

2008-12-16  Brian Aker  <brian@tangent.org>

	Fix loaddata test.

2008-12-16  Brian Aker  <brian@tangent.org>

	Removed old log tests (we need to get Mark to create new tests around the
	new system... soon...)

2008-12-16  Brian Aker  <brian@tangent.org>

	Fixed later test (and hardened test).

2008-12-16  Brian Aker  <brian@tangent.org>

	Fixed lowercase_fs_off. I left this test though we just now lowercase
	everything (so it tests now that we are doing the right thing in the code).
	If "database" ever becomes something more then what it is today, we may wish
	to rethink this.

2008-12-16  Brian Aker  <brian@tangent.org>

	No views :)
	
	That was a worthless test I might add.

2008-12-16  Brian Aker  <brian@gir.tangent.org>

	Make the test portable. 
	
	Trick folks... IP address... for localhost... not portable. Welcome to IPV4
	mixed with IPV6.
	
	Someone should come up with a drink for that...

2008-12-15  Brian Aker  <brian@tangent.org>

	Fix func_test

2008-12-15  Brian Aker  <brian@tangent.org>

	Enable func_system

2008-12-15  Brian Aker  <brian@tangent.org>

	Fixed insert_notembedded

2008-12-15  Brian Aker  <brian@tangent.org>

	MRR is completely broken and... either it should be on or off. Either it
	works/does not work. None of this "lets put a flag on the feature because we
	don't know if it works" crap.
	
	So? If we get it fixed, then we enable it and see how it works against all
	tests(which is how we discovered that it did not work in the first place).

2008-12-15  Brian Aker  <brian@tangent.org>

	Fixed errors test.

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge in Stewart's work

2008-12-16  Stewart Smith  <stewart@flamingspork.com>

	fix outfile_loaddata test for drizzle.
	
	on ambiguous SELECT INTO OUTFILE, error out and don't just warn. It's an *error* if you can't load the resulting file!
	
	Also had to file https://bugs.launchpad.net/mysql-server/+bug/308457 which means we have to disable a test

2008-12-15  Brian Aker  <brian@tangent.org>

	Refactor out char* strdup for string class in user.

2008-12-15  Brian Aker  <brian@tangent.org>

	Cleaning up session class.

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2008-12-16  Stewart Smith  <stewart@flamingspork.com>

	fix outfile test

2008-12-16  Stewart Smith  <stewart@flamingspork.com>

	merge

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2008-12-16  Stewart Smith  <stewart@flamingspork.com>

	merge

2008-12-15  Stewart Smith  <stewart@flamingspork.com>

	use ha_table_exists_in_engine instead of check_if_table_exists (which is now removed)

2008-12-15  Stewart Smith  <stewart@flamingspork.com>

	merge head

2008-12-15  Stewart Smith  <stewart@flamingspork.com>

	start replacing calles to access(2) on frm file name with calls to ha_table_exists_in_engine
	
	modify ha_table_exists in engine to fall back to checking for frm file

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2008-12-16  Stewart Smith  <stewart@hurricane>

	merge

2008-12-16  Stewart Smith  <stewart@hurricane>

	merge

2008-12-15  Stewart Smith  <stewart@hurricane>

	fix show variables alignment problem (SIGBUS on linux sparc)

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Mark

2008-12-15  Mark Atwood  <me@mark.atwood.name>

	use new/delete instead of malloc/free for plugin structs

2008-12-15  Brian Aker  <brian@tangent.org>

	Second pass through memory allocation issues (this solves the ones around
	plugin that valgrind is finding).

2008-12-15  Brian Aker  <brian@tangent.org>

	First vector to be removed from sql_plugin.

2008-12-15  Brian Aker  <brian@tangent.org>

	Remove vector from lex for plugins.

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-15  Monty Taylor  <monty@bitters>

	Fixed a couple of build issues.

2008-12-15  Monty Taylor  <monty@bitters>

	Fixed a 64-bit casting issue.

2008-12-15  Monty Taylor  <monty@bitters>

	Added PROTOBUF CFLAGS to the replicator Makefile.

2008-12-15  Brian Aker  <brian@tangent.org>

	Mass cleanup for casting.

2008-12-15  Brian Aker  <brian@tangent.org>

	Removed casting from a few operations (passing this so Mark can fix the
	rest).

2008-12-15  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Merged in trunk

2008-12-15  Monty Taylor  <monty@inaugust.com>

	Added -xmemalign to sunstudio options.

2008-12-15  Brian Aker  <brian@tangent.org>

	Style cleanup

2008-12-15  Brian Aker  <brian@tangent.org>

	Remove locks around temp tables for searching tmp directory path.

2008-12-15  Brian Aker  <brian@tangent.org>

	Style cleanup, additional assert on net write()

2008-12-15  Brian Aker  <brian@tangent.org>

	Fix a valgrind warning.

2008-12-14  Brian Aker  <brian@tangent.org>

	Merge from Stewart.

2008-12-15  Stewart Smith  <stewart@flamingspork.com>

	remove old table discovery mechanim.
	
	Will be replaced by new data dictionary work

2008-12-14  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2008-12-14  Monty Taylor  <monty@inaugust.com>

	Merged from Toru.

2008-12-14  Toru Maesaka  <dev@torum.net>

	Final pass of replacing MySQL's strxmov with libc's alternatives

2008-12-14  Toru Maesaka  <dev@torum.net>

	First pass of replacing MySQL's strxmov with libc alternatives

2008-12-13  Monty Taylor  <monty@inaugust.com>

	Merged from Patrick.

2008-12-12  Patrick  <patg@triphp.testbox>

	Fix to mf_path.cc, error was passing a NULL. Changed to '\0'
	
	mf_path.cc: In function 'char* find_file_in_path(char*, const char*)':
	mf_path.cc:101: warning: passing NULL to non-pointer argument 1 of 'std::basic_ostream<_CharT, _Traits>& std::basic_ostream<_CharT, _Traits>::operator<<(long int) [with _CharT = char, _Traits = std::char_traits<char>]'
	
	Was the error

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-12-12  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-12  Lee  <lbieber@lbieber-desktop>

	more header file cleanup

2008-12-12  Lee  <lbieber@lbieber-desktop>

	more header file cleanup and sync with latest from the trunk

2008-12-12  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-12  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-11  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-11  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-11  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-11  Lee  <lbieber@lbieber-desktop>

	header file clean up

2008-12-11  Lee  <lbieber@lbieber-desktop>

	merge with the latest code from the trunk

2008-12-11  Lee  <lbieber@lbieber-desktop>

	merge with latest from trunk

2008-12-10  Lee  <lbieber@lbieber-desktop>

	remove drizzled/item/timefunc.h, no longer needed

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Removed some leftover Makefiles from configure.

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Renamed functions to function... everything else is singular.

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Merged removal of recursive subdirs in the drizzled dir.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Removed recursive subdirs in drizzled/, which allowed the renaming of ifloat and istring. It's also faster. 

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Merged from LinuxJedi.

2008-12-12  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Fix help for show-progress-size

2008-12-12  Andrew Hutchings  <linuxjedi@linuxjedi-laptop>

	Improve client progress patch

2008-12-14  Brian Aker  <brian@tangent.org>

	Cleanup around item includes.

2008-12-14  Brian Aker  <brian@tangent.org>

	Removed dead table_or_sp_used() method call.

2008-12-12  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-12-12  Monty Taylor  <monty@inaugust.com>

	Merged in my merge.

2008-12-11  Monty Taylor  <monty@inaugust.com>

	Added things to .bzrignore.

2008-12-11  Monty Taylor  <monty@inaugust.com>

	Added configmake.h - possible step in removing -DEFS

2008-12-11  Monty Taylor  <monty@inaugust.com>

	Updated translations.

2008-12-11  Monty Taylor  <monty@inaugust.com>

	Added missing header.

2008-12-11  Monty Taylor  <monty@inaugust.com>

	Fixed oops.

2008-12-11  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Merged from Toru.

2008-12-11  Toru Maesaka  <dev@torum.net>

	Added namespacing for std to .cc files that needed it

2008-12-11  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-11  Toru Maesaka  <dev@torum.net>

	Replaced MySQL's my_stpncpy() with libc and c++ calls

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Fix for the weird solaris gettext bug.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Merge from Lee.

2008-12-10  Lee  <lbieber@lbieber-desktop>

	remove drizzled/item/strfunc.h, no longer needed

2008-12-10  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-09  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-09  Lee  <lbieber@lbieber-desktop>

	merge with the latest code from the trunk

2008-12-09  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-09  Lee  <lbieber@lbieber-desktop>

	merge with the latest code from the trunk

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Fix the serialize build order problem (for now).

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Merged in trunk.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Merged in translations from launchpad.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Updated messages files.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Imported patch from LinuxJedi to add import status messages.

2008-12-10  Monty Taylor  <monty@inaugust.com>

	Merged fix-headers work.

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Removed more stuff from the headers.

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Moved connect.h out of server_includes.

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Got rid of the rest of common_includes. Now on to server_includes.

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Moved pthread keys

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Removed two (foo) ? realloc(foo, len) : malloc (len) instances.

2008-12-09  Monty Taylor  <monty@inaugust.com>

	Renamed fdecimal.* to decimal.*. Let's see how many things we can break!

2008-12-09  Brian Aker  <brian@tangent.org>

	Cleaned up events for writing in replication (using simple file
	format...length + block)

2008-12-09  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Merged toru.

2008-12-09  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-09  Toru Maesaka  <dev@torum.net>

	Threw out MySQL's strfill and replaced it with libc's memset

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Added more return value checks.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Fixed strdup return checking in client/

2008-12-08  Monty Taylor  <monty@inaugust.com>

	More malloc return type checking

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Removed str_alloc - it was no longer used.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Merge from lee.

2008-12-08  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-08  Lee  <lbieber@lbieber-desktop>

	merge with latest from trunk

2008-12-08  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-06  Lee  <lbieber@lbieber-desktop>

	merge with latest from trunk

2008-12-08  Monty Taylor  <monty@inaugust.com>

	More malloc return check fixes.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	More malloc return cleanups.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Added null return checks to mallocs in drizzleslap.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Added some return checking.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Quick fix to lower the innodb_lock_wait_timeout so that the stinking lock_wait_timeout tests don't take a year and a day.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Changed a char * to a string.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Fixed a my_strndup -> strdup oops.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Merged in trunk.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Removed my_seek, my_tell, my_fwrite, my_fseek.

2008-12-08  Monty Taylor  <monty@bitters>

	Fixed missing includes.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	strndup is gone.

2008-12-08  Monty Taylor  <monty@inaugust.com>

	Fixed strndup stuff in log_event.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Fixed mf_tempdir.cc.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Got closer...

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Fixed db.cc strncpy removal.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed strndup. (doesn't exist on solaris)

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Replaced my hacked up m4/ac_system_extensions.m4 with the one from gnulib.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Reverted gnulib changes.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed duplicate macro ac_system_extensions.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Added gnulib compatibility functions to make solaris suck a little less.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Fixed the mysqld in the drizzle.cnf thing.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Finally removed all of the my_malloc stuff.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed my_malloc stuff from storage/

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed my_strdup stuff from drizzled/.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Fixed drizzleslap.cc bug.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed my_malloc related stuff from log_event and session.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Hooked test-suite into make check.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed my_strdup, my_malloc, my_realloc from client/

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Removed my_strdup from drizzled/

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Added uncrustify patch.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Updated uncrustify config just a bit.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Merged from Moriyoshi.

2008-12-08  Moriyoshi Koizumi  <moriyoshi@roadrunner>

	* Fixing "too much" my_pread(,,,,MY_NABP) to pread() conversion.

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Merged from Eric.

2008-12-07  Eric Herman  <eric@mysql.com>

	added the /opt/local so that configure looks for MacPorts defaults

2008-12-07  Eric Herman  <eric@mysql.com>

	merge compilefix from lp:~eric-rnd/drizzle/codestyle

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Merged from Eric.

2008-12-07  Eric Herman  <eric@mysql.com>

	Added pointer to online version of the FAQ

2008-12-07  Eric Herman  <eric@mysql.com>

	added some essential notes to the README

2008-12-07  Eric Herman  <eric@mysql.com>

	fix uninitialied variable warning

2008-12-07  Eric Herman  <eric@mysql.com>

	more EOL whitespace fixups

2008-12-07  Monty Taylor  <monty@inaugust.com>

	Merged in trunk.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	More malloc fixes.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Removed my_nosys and my_quick. /me shudders.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Got rid of my_once_alloc.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Added indent rule and uncrustify config. 

2008-12-08  Brian Aker  <brian@tangent.org>

	Replication bits (getting CREATE..SELECT right)

2008-12-08  Brian Aker  <brian@tangent.org>

	Removd dead TRX binlog code (we log straight... no attempt to optimize for
	rollback).

2008-12-07  Brian Aker  <brian@tangent.org>

	Partial fix (more of replication flushed out)

2008-12-06  Brian Aker  <brian@tangent.org>

	Updating new replication positions in code.

2008-12-06  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Fixed a couple of moving oopses.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged with trunk.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged from Eric.

2008-12-06  Eric Herman  <eric@mysql.com>

	trailing whitespace fixup

2008-12-06  Eric Herman  <eric@mysql.com>

	merged from lp:drizzle/mordred

2008-12-06  Eric Herman  <eric@mysql.com>

	un-fixing whitespace changes to storage/innobase

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged test suite re-org.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Moved non-working tests into broken suite for easier running of working tests.

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged in Eric's whitespace cleanup.

2008-12-06  Eric Herman  <eric@mysql.com>

	removed trailing whitespace with simple script:
	
	for file in $(find . -name "*.c") $(find . -name "*.cc") $(find . -name "*.h"); do ruby -pe 'gsub(/\s+$/, $/)' < $file > $file.out; mv $file.out $file; done;

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged from Toru.

2008-12-06  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-05  Toru Maesaka  <dev@torum.net>

	Merge with trunk

2008-12-05  Toru Maesaka  <dev@torum.net>

	Final pass of replacing MySQL's my_stpcpy() with appropriate libc calls

2008-12-04  Toru Maesaka  <dev@torum.net>

	Second pass of replacing MySQL's my_stpcpy() with appropriate libc calls

2008-12-03  Toru Maesaka  <dev@torum.net>

	First pass of replacing MySQL's my_stpcpy() with appropriate libc calls

2008-12-06  Monty Taylor  <monty@inaugust.com>

	Merged from Eric.

2008-12-06  Eric Herman  <eric@mysql.com>

	fixed URL

2008-12-06  Eric Herman  <eric@mysql.com>

	removed trailing spaces; re-wrapped long lines to 76 columns

2008-12-05  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-12-05  Lee  <lbieber@lbieber-desktop>

	merge with the latest code from the trunk

2008-12-05  Lee  <lbieber@lbieber-desktop>

	move functions from item.cc/item.h to item directory

2008-12-05  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-12-05  Monty Taylor  <monty@inaugust.com>

	OOOh doggie. Got rid of my_alloca.

2008-12-06  Brian Aker  <brian@tangent.org>

	Completing up replication API.

2008-12-05  Brian Aker  <brian@tangent.org>

	End points on new replication (aka end transaction)

2008-12-05  Brian Aker  <brian@tangent.org>

	Remove dead methods.

2008-12-05  Brian Aker  <brian@tangent.org>

	First major pass through new replication.

2008-12-05  Brian Aker  <brian@tangent.org>

	Remove dead thr_rwlock file.

2008-12-05  Brian Aker  <brian@tangent.org>

	More my_pthread cleanup

2008-12-05  Brian Aker  <brian@tangent.org>

	Part removal of my_pthread.h

2008-12-05  Brian Aker  <brian@tangent.org>

	Random cleanup, removed dead mysys call for hw address creation.

2008-12-04  Brian Aker  <brian@tangent.org>

	Remove random dead variables/defines.

2008-12-04  Brian Aker  <brian@tangent.org>

	Yet more unused.... damn annoying... (also tossed some prototypes that were
	missing functions)

2008-12-04  Brian Aker  <brian@tangent.org>

	Remove unused (yet more)

2008-12-04  Brian Aker  <brian@tangent.org>

	More solaris bits

2008-12-04  Brian Aker  <brian@tangent.org>

	eval_const_cond moved to being static.

2008-12-04  Brian Aker  <brian@tangent.org>

	Small include cleanup.

2008-12-04  Brian Aker  <brian@tangent.org>

	Removing the SP bits.

2008-12-04  Brian Aker  <brian@tangent.org>

	Monty merge (a couple of alterations for malloc()).

2008-12-04  Monty Taylor  <monty@inaugust.com>

	Reverted bogus changes in drizzleslap.cc.

2008-12-04  Monty Taylor  <monty@inaugust.com>

	Merged in from Elan. 

2008-12-05  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- do the logrotation unixish way: just reopen stderr/stdout (also appears that
	code that used to we between ifdef __WIN__ is now in unconditionally!)

2008-12-04  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- no need to version dlopened plugins (add -avoid-version in am)

2008-12-04  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- do not install test/development/proof-of-concept programs

2008-12-04  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- pull from trunk

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- merge from trunk

2008-12-04  Monty Taylor  <monty@inaugust.com>

	More removal of my_malloc.

2008-12-04  Monty Taylor  <monty@inaugust.com>

	Removed my_malloc from drizzled.

2008-12-03  Monty Taylor  <monty@inaugust.com>

	More my_malloc removal.

2008-12-03  Monty Taylor  <monty@inaugust.com>

	Removed some my_malloc calls.

2008-12-03  Monty Taylor  <monty@inaugust.com>

	Removed unneeded reference to plugin directory.

2008-12-04  Brian Aker  <brian@tangent.org>

	Fix for create to keep its include files (which speeds up recompiles).

2008-12-04  Brian Aker  <brian@tangent.org>

	Clean up of code for Solaris (removed dead lock call).

2008-12-04  Brian Aker  <brian@tangent.org>

	Next pass through attribute.

2008-12-04  Brian Aker  <brian@tangent.org>

	Cleanup unused attribute

2008-12-03  Brian Aker  <brian@tangent.org>

	Clean up warnings for Solaris.

2008-12-03  Brian Aker  <brian@tangent.org>

	Remove dead variable

2008-12-03  Brian Aker  <brian@tangent.org>

	Import of upated Innodb Engine

2008-12-03  Monty Taylor  <monty@bitters>

	Put in an ifndef()

2008-12-03  Monty  <mordred@palanthas.inaugust.com>

	Split AC_USE_SYSTEM_EXTENSIONS into its own file.

2008-12-03  Monty  <mordred@palanthas.inaugust.com>

	Fixed uninited variable.

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Merged in 1.0.2

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Innodb plugin 1.0.2 compiles now.

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Merged in innodb plugin 1.0.2 

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	InnoDB Plugin 1.0.2

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Merged in InnoDB changes.

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Did the drizzle/handler split.

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Imported 1.0.1 with clean - with no changes.

2008-12-03  Monty Taylor  <mordred@solanthus.local>

	Removed old innobase dir so I can re-do this madness from scratch the right way.

2008-12-02  Brian Aker  <brian@tangent.org>

	Merge (plus Solaris warning fixes)

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Removed AM_CONDITIONAL from SEARCH_FOR_LIB. Aligned naming of AM_CONDITIONALS.

2008-12-02  Brian Aker  <brian@tangent.org>

	Fix from Monty

2008-12-02  Monty Taylor  <monty@bitters>

	Added conditional call for the conditional SEARCHFOR_LIBS... I'm thinking I should take the AM_CONDITIONAL out ...

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	One more version string cleanup.

2008-12-02  Brian Aker  <brian@tangent.org>

	Merge from Monty (Sun Studio)

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Added /usr/local to search path for brian.

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Cleaned up compiler version checking.

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Merged changes from Elan.

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- remove superfluous quoting in SEARCH_FOR_LIB, fixes nesting (thx sparky@pld)

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- search for tgetent from -ltinfo too

2008-12-02  Brian Aker  <brian@tangent.org>

	Merge from Mark.

2008-12-02  Mark Atwood  <me@mark.atwood.name>

	added replicator plugin type

2008-12-02  Mark Atwood  <me@mark.atwood.name>

	more add replicator plugin type

2008-12-02  Mark Atwood  <me@mark.atwood.name>

	add replicator plugin type

2008-12-02  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Fixed build - -luuid needs to be ${UUID_LIBS}

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Merged from Lee.

2008-12-01  Lee  <lbieber@lbieber-desktop>

	final clean up of item/func functions moving them to the functions directory

2008-12-01  Lee  <lbieber@lbieber-desktop>

	merge latest changes from the trunk

2008-12-01  Lee  <lbieber@lbieber-desktop>

	clean up remaining functions in strfunc, move to functions/str directory

2008-12-01  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-11-30  Lee  <lbieber@lbieber-desktop>

	sync with latest from the trunk

2008-11-30  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-11-29  Lee  <lbieber@lbieber-desktop>

	sync with latest from the trunk

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Merged from Toru.

2008-12-02  Toru Maesaka  <dev@torum.net>

	Merge from trunk

2008-12-02  Toru Maesaka  <dev@torum.net>

	Fifth pass of replacing MySQL's strmake() with libc calls

2008-12-02  Toru Maesaka  <dev@torum.net>

	Fourth pass of replacing MySQL's strmake() with libc calls

2008-12-01  Toru Maesaka  <dev@torum.net>

	Third pass of replacing MySQL's strmake() with libc calls

2008-11-29  Toru Maesaka  <dev@torum.net>

	Second pass of replacing MySQL's strmake() with libc calls

2008-11-28  Toru Maesaka  <dev@torum.net>

	First pass of replacing MySQL's strmake() with libc calls

2008-12-02  Monty Taylor  <mordred@solanthus.local>

	Added some shitty casts. 

2008-12-01  Monty  <mordred@palanthas.inaugust.com>

	Finished fixing my_tell.

2008-12-01  Monty  <mordred@palanthas.inaugust.com>

	Merged build changes from Elan.

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- quote AM_GNU_GETTEXT_VERSION so that gettextize doesn't have to modify configure.ac

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- fix libdrizzle linking with -lz

2008-12-01  Monty Taylor  <monty@bitters>

	Merging from Elan.

2008-12-02  Elan Ruusamäe  <glen@haarber.alkohol.ee>

	- do not let ac_cache hide definition of USE_NEW_READLINE_INTERFACE

2008-12-01  Monty Taylor  <monty@bitters>

	Fixed more sun studio warnings.

2008-12-01  Monty Taylor  <monty@bitters>

	Fixed Sun Studio warnings in mysys.

2008-12-01  Brian Aker  <brian@tangent.org>

	First pass with new event API (yeah... it will be better).

2008-12-01  Brian Aker  <brian@tangent.org>

	Merging Monty's code

2008-12-01  Monty Taylor  <monty@bitters>

	Got rid of Sun Studio warnings.

2008-11-30  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-30  Monty  <mordred@palanthas.inaugust.com>

	Cast size_t up to uint64_t to print. Man I really want to fix all of this...

2008-11-30  Monty  <mordred@palanthas.inaugust.com>

	Fixed vcol tests

2008-11-30  Monty  <mordred@palanthas.inaugust.com>

	Reworked grep change to work with old crappy autoconfs.

2008-11-30  Monty Taylor  <mordred@opensolaris>

	Quick configure clean for Solaris. /me gets tired of seeing the grep error.

2008-11-30  Monty Taylor  <mordred@opensolaris>

	Fixed no-return warning on gcc 4.0

2008-11-30  Monty Taylor  <mordred@opensolaris>

	Fixed silly little almost-non-bug.

2008-11-30  Monty Taylor  <mordred@solanthus.local>

	Merged from me.

2008-11-30  Monty Taylor  <mordred@solanthus.local>

	First step in support size_t sys_var stuff.

2008-11-30  Monty Taylor  <mordred@solanthus.local>

	Merged from knielsen.

2008-11-30  Kristian Nielsen  <knielsen@odin>

	Remove last trace of Field_string.
	
	This is also needed to fix a serious problem with multi_update as seen
	with Valgrind errors in the main.update test. The multi_update creates
	temporary tables with Field_string fields, but there are cast to
	Field_varstring in Copy_field::get_copy_func() since both field types
	are now DRIZZLE_TYPE_VARCHAR.
	
	(an alternative would be to re-introduce Field_string as an
	internal-only field type, and give it a distinct DRIZZLE_TYPE_FIXCHAR
	type for get_copy_func() to check for.)

2008-11-30  Kristian Nielsen  <knielsen@odin>

	A couple more fixes of previous bmove()->memcpy(), changed to
	memmove() due to potential for overlapping source and destination.

2008-11-29  Kristian Nielsen  <knielsen@odin>

	Remove #ifdef HAVE_purify. It is not worth it to save one well-predicted conditional at the cost of relying on undefined memcpy() semantics.

2008-11-29  Kristian Nielsen  <knielsen@odin>

	Take Mats'es changes from bmove()->memcpy(), and fix all of them to be
	memmove() instead. I checked several of them, all of which were wrong
	(due to potentially overlapping source and destination), so most
	likely more of them are wrong. Painstakingly checking all of them for
	whether memcpy() could be used instead would be a very big and
	errorprone task, and really is not worth it.
	
	Fixes a bunch of Valgrind errors in the test suite as well.

2008-11-29  Kristian Nielsen  <knielsen@odin>

	Fix bad patch that errorneously replaced Field_long::{un,}pack() with
	Field_int64_t::{un,}pack() (oops!).
	
	This should greatly help get big-endian working again.

2008-11-28  Kristian Nielsen  <knielsen@odin>

	Fix a couple of memcpy() that should be memmove() (caused by wrong
	elimination of bmove(), I think there are more lurking in there).

2008-11-28  Kristian Nielsen  <knielsen@odin>

	Make sure that all NULL bits are initialised in records returned from InnoDB.
	
	Failing to do this causes Valgrind errors, and could potentially lead to
	unexpected/wrong results when eg. Table::compare_record() compares the
	un-initialized bits.

2008-11-30  Monty Taylor  <mordred@solanthus.local>

	Merged from ysano.

2008-11-30  Yoshinori Sano  <ysano@139.1.168.192.in-addr.arpa>

	Move hton_flag_bits and HTON_* to handlerton.h. Remove TODOs previously added.

2008-11-30  Yoshinori Sano  <ysano@139.1.168.192.in-addr.arpa>

	Replace "uint_32 flags" member of handlerton with std::bitset. Add some TODOs as comments for this change.

2008-11-29  Brian Aker  <brian@tangent.org>

	Remove old replication bits. Call assert(0) on old connections.

2008-11-29  Brian Aker  <brian@tangent.org>

	Merge of Monty's work

2008-11-27  Monty Taylor  <mordred@opensolaris>

	Fixed a configure oops.

2008-11-28  Monty Taylor  <mordred@solanthus.local>

	Fixed a couple of memory buffer size issues.

2008-11-28  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-28  Monty  <mordred@palanthas.inaugust.com>

	Updated test output with new and improved error messages.

2008-11-28  Monty Taylor  <monty@bitters>

	Fixed bad variable setting in success condition.

2008-11-28  Monty Taylor  <monty@bitters>

	Cleaned up the lib searching - now base some searches off of the prefix.

2008-11-28  Monty Taylor  <monty@bitters>

	Fixed mysql references in error messages.

2008-11-27  Monty Taylor  <monty@bitters>

	"Fixed" tamil translation.

2008-11-27  Monty Taylor  <monty@bitters>

	Merged solaris fixes.

2008-11-27  Monty Taylor  <monty@bitters>

	More solaris fixes.

2008-11-28  Brian Aker  <brian@tangent.org>

	Removing old STMT logic from load data infile (still need to clean up the
	code in the replication side). We now replicate events as write_row()

2008-11-26  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Merged with myself.

2008-11-26  Monty Taylor  <mordred@opensolaris>

	Turn on automake dependency tracking for solaris by default.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Merged latest translations from Launchpad.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Merged with trunk.

2008-11-26  Monty  <mordred@palanthas.inaugust.com>

	Fixed Makefiles to install headers.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Work on removing global.h from headers that should be installed.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Fixed a coupla false positives.

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Cleanup up the extern+static combo (plus some attributes because I got bored.)

2008-11-26  Brian Aker  <brian@tangent.org>

	Collection of dead code removal

2008-11-26  Brian Aker  <brian@tangent.org>

	Fixes for OSX

2008-11-26  Brian Aker  <brian@tangent.org>

	More of the same (ulong/64)

2008-11-26  Brian Aker  <brian@tangent.org>

	ulong/64 bit straighten out.

2008-11-26  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-26  Monty Taylor  <mordred@opensolaris>

	Added readline/ncurses deps to drizzle client as I should have.

2008-11-26  Monty Taylor  <mordred@opensolaris>

	Woot. No more extra CFLAGS on the command line!

2008-11-26  Monty Taylor  <mordred@solanthus.local>

	Merged trunk.

2008-11-25  Brian Aker  <brian@gir-3.local>

	Merge tree.

2008-11-25  Brian Aker  <brian@gir-3.local>

	32bit fixes around vars

2008-11-25  Monty Taylor  <mordred@opensolaris>

	Switched from pcrecpp to plain pcre - mainly so that we can build on OpenSolaris without dealing with G++ vs. SunStudio C++. This all goes away with new test framework - so I did not write pretty replacement code.

2008-11-25  Monty Taylor  <mordred@opensolaris>

	OpenSolaris builds.

2008-11-25  Monty Taylor  <mordred@solanthus.local>

	Added test for mtmalloc, if we haven't explicitly asked for tcmalloc.

2008-11-25  Monty Taylor  <mordred@solanthus.local>

	Moved some defines to config.h. Stopped including config.h directly anywhere.

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Tried another dumb fix.

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Merged from Lee.

2008-11-24  Lee  <lbieber@lbieber-desktop>

	merge latest changes from the trunk

2008-11-24  Lee  <lbieber@lbieber-desktop>

	remove drizzled/item/timefunc.cc, no longer needed

2008-11-24  Lee  <lbieber@lbieber-desktop>

	moving functions from drizzled/item/timefunc to drizzled/functions/time

2008-11-23  Lee  <lbieber@lbieber-desktop>

	move functions from item/timefunc to functions/time directory

2008-11-23  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Moved the LARGE_FILE work around into a SUNCC section.

2008-11-25  Brian Aker  <brian@tangent.org>

	Merge Mark's work

2008-11-25  Mark Atwood  <me@mark.atwood.name>

	remove some errmsg dead code, use more of the errmsg plugin

2008-11-25  Brian Aker  <brian@tangent.org>

	More ulong work.

2008-11-25  Brian Aker  <brian@tangent.org>

	ulong fixes

2008-11-25  Brian Aker  <brian@tangent.org>

	Remove dead rand structures

2008-11-25  Brian Aker  <brian@tangent.org>

	Removed ulong methods from vars.

2008-11-25  Brian Aker  <brian@tangent.org>

	Remove ☃ to snowman. Solve problem with OS'es which "say" they support UTF8
	filenames.

2008-11-25  Brian Aker  <brian@tangent.org>

	ulong fixes

2008-11-25  Brian Aker  <brian@tangent.org>

	ulong fixes.

2008-11-25  Brian Aker  <brian@tangent.org>

	Added 32bit system variable support

2008-11-25  Brian Aker  <brian@tangent.org>

	Remove filtering (wrong layer, belongs in plugin).

2008-11-24  Brian Aker  <brian@tangent.org>

	Removed dead event structure pieces from replication.

2008-11-24  Brian Aker  <brian@tangent.org>

	More Sun Studio patches from Monty.

2008-11-24  Monty Taylor  <mtaylor@bitters>

	Fixed a few things for solaris builds.

2008-11-24  Monty Taylor  <mtaylor@bitters>

	Some more solaris fixes.

2008-11-24  Monty Taylor  <mtaylor@bitters>

	Make cache_check work.

2008-11-24  Monty Taylor  <mtaylor@bitters>

	Removed largefile macro. It only matters on IRIX and AIX (if autoconf comments can be believed)

2008-11-24  Brian Aker  <brian@tangent.org>

	Final fixes for Sun Studio

2008-11-24  Super-User  <root@bitters>

	Yay! Compiles on Solaris.

2008-11-24  Brian Aker  <brian@tangent.org>

	Merge of Monty's (plus fix for increment style/useless +1)

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Changed the bitset<32> to a bitset<5>. Made the int constants into bitset constants.

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Changed CF_BIT_* to an enum.

2008-11-24  Monty Taylor  <mordred@solanthus.local>

	Merged from ysano.

2008-11-24  Yoshinori Sano  <ysano@170.1.168.192.in-addr.arpa>

	Fix bugs in params of sql_command_flags[...].test(). Previously, the value such as, 0, 1, 2, 4, 8 and 16 is given to std::bitset.test() in that place, which is misunderstanding of the spec of the test(). The test(size_t n) returns true if bit n is set.

2008-11-23  Monty Taylor  <mordred@solanthus.local>

	Merged from ysano.

2008-11-24  Yoshinori Sano  <ysano@vm>

	The global variable sql_command_flags uses std::bitset.

2008-11-23  Monty Taylor  <mordred@solanthus.local>

	Merged in trunk.

2008-11-23  Monty Taylor  <mordred@solanthus.local>

	Reverted libuuid check code. 

2008-11-24  Brian Aker  <brian@tangent.org>

	Dead class removal (more views)

2008-11-24  Brian Aker  <brian@tangent.org>

	Adding snowman test (plus a dead variable removal).
	
	I suspect this will cause all sorts of pain.

2008-11-24  Brian Aker  <brian@tangent.org>

	Remove dead view code.

2008-11-24  Brian Aker  <brian@tangent.org>

	Remove dead lex structure and clean up use of pid_t

2008-11-23  Brian Aker  <brian@tangent.org>

	Remove useless global variable (let plugins decide)

2008-11-23  Brian Aker  <brian@tangent.org>

	Remove lock condition needed (we do row based replication, so... lock is
	uninteresting for us).

2008-11-23  Brian Aker  <brian@tangent.org>

	Merging in Monty's work.

2008-11-23  Monty  <mordred@palanthas.inaugust.com>

	Merged from Mark.

2008-11-20  Mark Atwood  <mark@fallenpegasus.com>

	hook up the errmsg plugin to the sql_print_error function
	and also make errmsg plugin framework emit to stderr if no errmsg plugin is loaded

2008-11-23  Monty  <mordred@palanthas.inaugust.com>

	Fixed some negative to size_t casts.

2008-11-23  Monty  <mordred@palanthas.inaugust.com>

	Reapplied merge change.

2008-11-23  Monty  <mordred@palanthas.inaugust.com>

	Merged in trunk.

2008-11-23  Monty  <mordred@palanthas.inaugust.com>

	Fix merge-related build errors.

2008-11-22  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-11-21  Lee Bieber  <lb4072@soe-t2000-8>

	changes to get build working on Solaris

2008-11-22  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-11-12  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-12  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-12  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-22  Monty Taylor  <monty@inaugust.com>

	Added possible search path list... 

2008-11-22  Brian Aker  <brian@tangent.org>

	Merge in Monty's work for Solaris Sun Studio

2008-11-22  Super-User  <root@bitters>

	Fixed solaris build crap.

2008-11-22  Brian Aker  <brian@tangent.org>

	Update bits for replication

2008-11-22  Brian Aker  <brian@tangent.org>

	Removing more options around changing replication

2008-11-22  Brian Aker  <brian@tangent.org>

	Change default option. Also, fixed failure on doing so...

2008-11-21  Brian Aker  <brian@tangent.org>

	Removed mutex which are myisam from global to just engine.

2008-11-21  Brian Aker  <brian@tangent.org>

	Second pass on dead mutex

2008-11-21  Brian Aker  <brian@tangent.org>

	Refactor out dead mutexes

2008-11-21  Brian Aker  <brian@tangent.org>

	Fix, partial, for Sun Studio.

2008-11-21  Brian Aker  <brian@tangent.org>

	Incomming work from Monty

2008-11-21  Monty Taylor  <monty@inaugust.com>

	ac_cv_libevent_works needs to be named right.

2008-11-21  Monty Taylor  <monty@inaugust.com>

	Fixed search for lib and added lib reference variables.

2008-11-20  Monty Taylor  <monty@inaugust.com>

	Configure cleanups. Added generic search_for_lib m4 macro.

2008-11-19  Monty Taylor  <monty@inaugust.com>

	Copied in libmemcached.m4 fixes.

2008-11-21  Brian Aker  <brian@tangent.org>

	Merge in Stewart's work

2008-11-21  Stewart Smith  <stewart@flamingspork.com>

	add simple archive test that shows that the simple operation of inserting into a table is currently broken

2008-11-21  Stewart Smith  <stewart@flamingspork.com>

	remove mysql_frm_type
	and fix engines to return correct value from delete_table when table doesn't exist.
	(it should be ENOENT).
	
	Also fix up some tests that manipulated frm files by hand. These tests are no longer valid and will need to be rewritten in the not too distant future.

2008-11-20  Stewart Smith  <stewart@flamingspork.com>

	reduce data used in count_distinct3 to make test 60 times faster to run.

2008-11-20  Stewart Smith  <stewart@flamingspork.com>

	wrap load data in count_distinct2 into txns - greatly improve test execution time.

2008-11-19  Stewart Smith  <stewart@flamingspork.com>

	remove frm_version from TABLE_SHARE
	
	This also means that I_S.TABLES Version column is now 0 instead of 10 by default.

2008-11-19  Stewart Smith  <stewart@flamingspork.com>

	remove frm_only create_info option

2008-11-16  Stewart Smith  <stewart@flamingspork.com>

	store indexes in table definition protobuf

2008-11-15  Stewart Smith  <stewart@flamingspork.com>

	begin moving from global const char* primary_key_name to methods is_primary_key() and is_primary_key_name()
	
	in future: primary_key_nr in table def and IS_PRIMARY flag in KEY
	(should make writing table definition easier)

2008-11-21  Brian Aker  <brian@tangent.org>

	Remove one set.

2008-11-20  Brian Aker  <brian@tangent.org>

	Remove first_successful_insert_id_in_prev_stmt_for_binlog

2008-11-19  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-19  Monty Taylor  <monty@inaugust.com>

	Merged in fix-headers.

2008-11-19  Monty Taylor  <monty@inaugust.com>

	Removed field includes from field.h.

2008-11-19  Monty Taylor  <monty@inaugust.com>

	Fixed the memcached function

2008-11-19  Monty Taylor  <monty@inaugust.com>

	Added libmemcached test.

2008-11-18  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2008-11-18  Monty Taylor  <monty@inaugust.com>

	Fixed gen_lex_hash include problem.

2008-11-18  Monty Taylor  <monty@inaugust.com>

	The mega-patch from hell. Renamed sql_class to session (since that's what it is) and removed it and field and table from common_includes. 

2008-11-17  Monty Taylor  <monty@inaugust.com>

	Removed field.h from common_includes.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Split out a little more code. Removed table_list.h from common_includes.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	HA! Removed item.h from common_includes. woot.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Merged from fix-headers again.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Broke out cached_item.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Renamed split_sum_func2 to split_sum_func. It's C++.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Moved stuff from item.h to item.cc

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Merged from fix-headers.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Removed a big bank of includes from item.h.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Moved stuff into item/

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Split out cache_row and type_holder.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Split out Name_resolution_context.

2008-11-16  Monty Taylor  <monty@inaugust.com>

	Merged from Yoshinori Sano.

2008-11-16  Yoshinori Sano  <ysano@147.1.168.192.in-addr.arpa>

	Rename mysql to drizzle, specifically mysql_bin_log to drizzle_bin_log.

2008-11-15  Brian Aker  <brian@tangent.org>

	Merger from Monty

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Merged fix-headers.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Disabled pre-compiled headers for now.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Split out hybrid_type_traits.

2008-11-14  Monty Taylor  <monty@inaugust.com>

	Split out DTCollation.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Merged from moriyoshi.

2008-11-16  Moriyoshi Koizumi  <mozo@mozo.jp>

	Incorporating changes proposed by mtaylor.

2008-11-15  Moriyoshi Koizumi  <mozo@mozo.jp>

	* Typo?

2008-11-15  Moriyoshi Koizumi  <mozo@mozo.jp>

	Mark module-private symbols package private. Otherwise _dig_vec_(upper|lower)
	conflict with those from libmystrings.a .

2008-11-15  Brian Aker  <brian@tangent.org>

	Merge stewert

2008-11-13  Stewart Smith  <stewart@flamingspork.com>

	(mostly) revert previous patch that tried to get rid of the UNKNOWN define in item_cmpfunc.h
	
	it ended up breaking subselect tests.
	
	Instead, change UNKNOWN in the table protobuf to UNKNOWN_INDEX

2008-11-13  Stewart Smith  <stewart@flamingspork.com>

	rename and delete tabledefinition protobuf file

2008-11-13  Stewart Smith  <stewart@flamingspork.com>

	fix valgrind warning in alter table: initialise string.

2008-11-09  Stewart Smith  <stewart@flamingspork.com>

	store a protobuf tabledefinition along with FRM

2008-11-09  Stewart Smith  <stewart@flamingspork.com>

	UNKNOWN symbol conflicts with UNKNOWN in table protobuf

2008-11-08  Stewart Smith  <stewart@flamingspork.com>

	remove trailing whitespace in serialize/table

2008-11-08  Stewart Smith  <stewart@flamingspork.com>

	Brian's table(_reader|_writer|.proto) fixes

2008-11-07  Stewart Smith  <stewart@flamingspork.com>

	convert tmp_file_prefix to TMP_FILE_PREFIX to indicate it's a macro

2008-11-15  Brian Aker  <brian@tangent.org>

	Merging Monty's work.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Added namespace call.

2008-11-15  Monty Taylor  <monty@inaugust.com>

	Merged from David.

2008-11-05  David Axmark  <davida@davids-laptop>

	Changed NEWDATE to DATE. One failing test but I think its somewhere else in the code 
	(func_math).

2008-11-15  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-13  Monty Taylor  <monty@inaugust.com>

	Check gnu ld status rather than gcc status (you never know)

2008-11-13  Monty Taylor  <monty@inaugust.com>

	Moved an enum def to fix Lee's problem.

2008-11-12  Brian Aker  <brian@tangent.org>

	Merging Monty's code.

2008-11-12  Monty Taylor  <monty@inaugust.com>

	Fixed show.h a little.

2008-11-12  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-11-11  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-11  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-11  Lee  <lbieber@lbieber-desktop>

	moving functions from item_timefunc to functions/time directory

2008-11-10  Lee  <lbieber@lbieber-desktop>

	cleaning up #define statements to follow directory name in functions/str and functions/time directories

2008-11-10  Lee  <lbieber@lbieber-desktop>

	initial work for moving functions from item_timefunc to functions/time directory

2008-11-10  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-10  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-10  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-09  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-09  Lee  <lbieber@lbieber-desktop>

	pull latest changes from the trunk

2008-11-07  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-06  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-12  Monty Taylor  <monty@inaugust.com>

	Merged from Toru.

2008-11-12  Toru Maesaka  <dev@torum.net>

	Added tests for groupaad and useradd

2008-11-12  Monty Taylor  <monty@inaugust.com>

	More header cleanup.

2008-11-10  Monty Taylor  <monty@inaugust.com>

	Removed my_getwd.
	Moved replication files.
	Moved more stuff out of server_includes.h.

2008-11-10  Monty Taylor  <monty@inaugust.com>

	Added lex_string.h header.

2008-11-08  Yoshinori Sano  <ysano@vm>

	Rename mysql to drizzle.

2008-11-08  ysano  <ysano@vm>

	Rename mysql to drizzle.

2008-11-08  ysano  <ysano@vm>

	Merge from trunk.

2008-11-11  Brian Aker  <brian@tangent.org>

	Next pass in removing/standardizing replication

2008-11-11  Brian Aker  <brian@gir-3.local>

	Third pass on insert for row.

2008-11-11  Brian Aker  <brian@gir-3.local>

	Second pass through on replication row patch

2008-11-11  Brian Aker  <brian@gir-3.local>

	Stepping point in moving to stmt based replication.

2008-11-07  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-11-07  Monty  <mordred@palanthas.inaugust.com>

	Attempt at fixing Brian's merge issue.

2008-11-07  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-11-06  Monty  <mordred@palanthas.inaugust.com>

	Fixed a decimal sign thing.

2008-11-07  Monty Taylor  <monty@inaugust.com>

	Coupla little fixes.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Merged from Lee (and from trunk by proxy)

2008-11-06  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-06  Lee  <lbieber@lbieber-desktop>

	moving functions from item_strfunc to functions/str directory

2008-11-06  Lee  <lbieber@lbieber-desktop>

	initial changes to break out item_strfunc into functions/str

2008-11-05  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Merged from ysano. Reverted changes to storage/innobase/handler, which is not built by drizzle.

2008-11-04  ysano  <ysano@vm>

	Rename mysql to drizzle.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Merged from c++ize.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Made mysys and mystrings c++. Fixed the resulting bugs the compiler found.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Merged from devel.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Moved vio stuff into libdrizzle.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Removed viotest - we don't use it.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Cleaned up some headers for PCH.

2008-11-06  Monty Taylor  <monty@inaugust.com>

	Moved stuff to handlerton.cc

2008-11-04  Monty Taylor  <monty@inaugust.com>

	Moved implementation of some methods into handler.cc from handler.h.

2008-11-04  Monty Taylor  <monty@inaugust.com>

	Moved some stuff out of handler.h.

2008-11-07  Brian Aker  <brian@dhcp-bne04-18-187.Aus.Sun.COM>

	Random cleanup (removed a reference to "fix in 4.1" which was... well...
	never fixed).

2008-11-04  Brian Aker  <brian@tangent.org>

	Merge of Monty's work

2008-11-04  Monty Taylor  <monty@inaugust.com>

	Changed a bunch of __attribute__((unused)) to removing the parameter name instead.

2008-11-03  Monty Taylor  <monty@inaugust.com>

	Merged older m4 changes.

2008-11-03  Monty  <mordred@palanthas.inaugust.com>

	Downgraded some m4 stuff for older machines.

2008-11-04  Brian Aker  <brian@tangent.org>

	ulong conversion work

2008-11-03  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-11-03  mordred  <mordred@opensolaris>

	Removed a couple of pieces of cruft.

2008-11-03  mordred  <mordred@opensolaris>

	Merged in from devel.

2008-11-03  Monty Taylor  <monty@inaugust.com>

	Merged from moriyoshi.

2008-11-03  moriyoshi  <moriyoshi@130.0.168.192.in-addr.arpa>

	Fix description for --plugin_load

2008-11-03  Monty Taylor  <monty@inaugust.com>

	Merged from ysano.

2008-11-03  ysano  <ysano@vm>

	Rename mysql to drizzle.

2008-11-03  Monty Taylor  <monty@inaugust.com>

	Merged from mozo.

2008-11-03  mozo@mozo.jp

	Use quadrigraphs for [ and ]

2008-11-03  mozo@mozo.jp

	Fix build and indents

2008-11-03  mordred  <mordred@opensolaris>

	zomg. Solaris actually builds all the way!!!

2008-11-02  mordred  <mordred@opensolaris>

	Added no-good-very-bad-awful workaround header for the solaris fp thing.

2008-11-02  mordred  <mordred@opensolaris>

	More solaris fixes.

2008-11-03  Brian Aker  <brian@gir-3.local>

	Cleaning up ulong. Doing this while listening to Jimmy explain memcached...
	good explanation. Never heard a non-developer do it :)

2008-11-02  Brian Aker  <brian@tangent.org>

	Merging in Monty's work

2008-11-03  Monty Taylor  <monty@inaugust.com>

	Finish changing the bison namespace argument from MYSQL to DRIZZLE

2008-11-02  Monty Taylor  <monty@inaugust.com>

	Merged from moriyoshi.

2008-11-02  moriyoshi  <moriyoshi@130.0.168.192.in-addr.arpa>

	Fix for bug #292633

2008-11-02  Monty Taylor  <monty@inaugust.com>

	Merged from ysano.

2008-11-02  ysano  <ysano@vm>

	Replace --with-mysqld-user configure option with --with-drizzled-user.
	Create a DRIZZLED_USER on the system before doing chown localstatedir.

2008-11-02  Monty Taylor  <monty@inaugust.com>

	Added check for protoc to protobuf checks.

2008-11-02  Monty Taylor  <monty@inaugust.com>

	Fixed mis-matched variable problem.

2008-11-02  mordred  <mordred@opensolaris>

	Merged from devel.

2008-11-02  Monty Taylor  <monty@inaugust.com>

	Removed a bunch of unusued tests and defines from autoconf.
	Fixed the way we were doing cmath - and moved it out of global.h. Still probably
	isn't right for Sun Studio, but we're getting closer I think.

2008-10-31  Monty Taylor  <monty@inaugust.com>

	Reverted most of serialize/Makefile.am changes. Just changed the thing that needed it.

2008-10-31  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-30  Lee  <lbieber@lbieber-desktop>

	add my name to the AUTHORS file

2008-10-30  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-30  Lee  <lbieber@lbieber-desktop>

	merge in latest changes from the trunk

2008-10-29  Lee  <lbieber@lbieber-desktop>

	merge in latest changes from the trunk

2008-10-31  Monty Taylor  <monty@inaugust.com>

	Merged from myself.

2008-11-02  mordred  <mordred@opensolaris>

	A whole bunch of solaris/sun studio compile fixes.

2008-11-01  mordred  <mordred@opensolaris>

	A set of Solaris fixes.

2008-10-31  mordred  <mordred@opensolaris>

	Some updates to dtrace support.

2008-10-31  mordred  <mordred@opensolaris>

	Fixed configure.ac to work cleanly on Solaris - and define some good compile flags.

2008-10-31  mordred  <mordred@opensolaris>

	Added an option to specify --with-probuf=<location>

2008-10-31  mordred  <mordred@opensolaris>

	Made a change to gettext.m4 to help building on solaris.

2008-10-30  Brian Aker  <brian@tangent.org>

	Merged Monty's work.

2008-10-31  Monty Taylor  <monty@inaugust.com>

	Merged.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Removed handler from common_includes.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Removed sql_string and sql_list from common_includes.

2008-10-31  Monty Taylor  <monty@inaugust.com>

	Added some Sun compile flags.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Added autoconf check for usability of __attribute__((visibility("hidden"))).

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Merged from fix-headers.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Removed global sql_array.h.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Moved hash back to mysys. 
	Took out more common_includes.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Moved sql_parse.h and sql_error.h out of common_includes.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Moved protocol.h out of common_includes.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Merged.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Merged from fix-headers.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Moved hash.c to drizzled.
	Removed hash and probes from common_includes.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Fixed oops.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Removed server_id from common_includes.
	Split xid stuff into its own files.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Moved LEX_STRING into drizzled/lex_string.h.

2008-10-30  Brian Aker  <brian@tangent.org>

	Removed random dead code left over from previous scheduler (plus the... has
	been dead since 3.23... repl commands). I left "host" for the moment.

2008-10-29  Brian Aker  <brian@tangent.org>

	Merge Monty's work.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Added slave.h to new function...

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Changed my.cnf to drizzle.cnf and /etc/mysql to /etc/drizzle.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Fail if we don't find uuid/uuid.h.

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Merged in fix-headers.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Moved a bunch of crap out of common_includes.
	Killed innodb_plugin_extras.h.
	Made kittens happy.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Removed sql_alloc.h from common_includes.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Removed signal.h from common_includes.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Moved thr_lock.h out of common_includes.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Moved scheduler.h out of common_includes.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Removed netdb.h from common_includes. Check it out - it was only used in ***2*** files. _Definitely_ a common include. 

2008-10-30  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-10-29  Brian Aker  <brian@tangent.org>

	Removing dumb setting.

2008-10-29  Brian Aker  <brian@tangent.org>

	Updates for ignore file.

2008-10-29  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Merged fix-headers.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Removed common.h from common_includes.h.

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-28  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-28  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-28  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-28  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-10-28  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-29  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Made the_query_id private. Thanks Jay.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Removed bad file that shouldn't have been there.
	Cleaned an assert.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	A few changes to make the patch smaller/easier.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Merged merges.

2008-10-29  Brian Aker  <brian@gir-3.local>

	Clean up dead thead code.

2008-10-28  Brian Aker  <brian@gir-3.local>

	Merge from Monty. Updated UUID.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Undid stupid extra commit.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Fix for warnings in the innodb build.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Patch from brian nulling out unused vars in non-O_DIRECT case.

2008-10-28  Monty Taylor  <monty@inaugust.com>

	Removed korr.h and tztime.h from common_includes. Also removed the HAVE_DTRACE block and stuck it in autoconf.

2008-10-28  Brian Aker  <brian@tangent.org>

	New UUID code. Also changed default scaling for "8" core machine instead of
	20 core machine.
	
	
	Who the hell builds a 20 core machine? Stupid default.

2008-10-28  Brian Aker  <brian@tangent.org>

	Merging Monty's work

2008-10-27  Monty Taylor  <monty@inaugust.com>

	Cleaned up two remaining test cases.

2008-10-27  Monty Taylor  <monty@inaugust.com>

	Merged in fix-headers.

2008-10-27  Monty Taylor  <monty@inaugust.com>

	Split some more things out of common_includes.h.

2008-10-27  Monty Taylor  <monty@inaugust.com>

	Fixed alter_table output.

2008-10-27  Monty Taylor  <monty@inaugust.com>

	Merged Kristian's fix.

2008-10-26  Kristian Nielsen  <knielsen@odin>

	Fix InnoDB plugin merge error.

2008-10-25  Monty Taylor  <monty@inaugust.com>

	Merged in latest.

2008-10-25  Monty Taylor  <monty@inaugust.com>

	Merged from lee.

2008-10-25  Monty Taylor  <monty@inaugust.com>

	Updated date_formats test with Antelope file format.

2008-10-25  Monty Taylor  <monty@inaugust.com>

	Fixed a couple of header file merge problems.

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Merged in InnoDB Plugin tree.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Changed plugin reference back to what it should be.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Added deps to drizzled/Makefile.am so that if plugins are rebuilt, it causes a rebuild of the server.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merge fixes.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merged in recent devel tree.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Re-added DYNAMIC_PLUGIN. crappit.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Removed DRIZZLE_DYNAMIC_PLUGIN references. We're always dynamic.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Merged from ~mordred/drizzle/devel.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Imported InnoDB plugin with changes.

2008-10-25  Brian Aker  <brian@tangent.org>

	Committing merge from Monty.

2008-10-25  Monty Taylor  <monty@inaugust.com>

	Merged from lee.

2008-10-24  Lee  <lbieber@lbieber-desktop>

	merge latest changes from the trunk and changes to get drizzle building on Soalris 10 (SPARC)

2008-10-24  Lee  <lbieber@lbieber-desktop>

	Changes to get drizzle building on Solaris 10 (SPARC)

2008-10-24  Lee  <lbieber@lbieber-desktop>

	Changes to get drizzle building on Solaris 10 (SPARC)

2008-10-23  Lee  <lbieber@lbieber-desktop>

	more changes to move functions from item_func.cc/h to the functions directory

2008-10-23  Lee  <lbieber@lbieber-desktop>

	pull latest from the trunk

2008-10-21  Lee  <lbieber@lbieber-desktop>

	merge latest changes from the trunk

2008-10-20  Lee  <lbieber@lbieber-desktop>

	update to latest from trunk

2008-10-18  Lee  <lbieber@lbieber-desktop>

	merge latest from trunk

2008-10-17  Lee  <lbieber@lbieber-desktop>

	merge latest from trunk

2008-10-17  Lee  <lbieber@lbieber-desktop>

	need to include functions/locate.h

2008-10-17  Lee  <lbieber@lbieber-desktop>

	need to include functions/coercibility.h and functions/locate.h

2008-10-16  Lee  <lbieber@lbieber-desktop>

	break out item_func_bit, item_func_char_length, item_func_coercibility, item_func_locate, item_func_units into functions directory

2008-10-15  Lee  <lbieber@lbieber-desktop>

	sync with latest from trunk

2008-10-13  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_ascii, Item_func_bit_count, Item_func_find_in_set, Item_func_ord  to functions directory

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Merged from Kristian.

2008-10-25  Kristian Nielsen  <knielsen@odin>

	- Add all protobuf generated files to \`make clean\`.
	- Generated .cc sources don't need to go into BUILT_SOURCES.

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Merged from Kristian.

2008-10-24  Kristian Nielsen  <knielsen@odin>

	Fix a few problems with the -Wredundant-decls configure check.

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Forgot to use -Wreundant-decls in the test. 

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Fixed syntax errors.

2008-10-24  Monty Taylor  <monty@inaugust.com>

	Added autoconf test to turn off -Wredundant-decls if it doesn't work right.

2008-10-23  Monty Taylor  <monty@inaugust.com>

	Merged fix-headers.

2008-10-23  Monty Taylor  <monty@inaugust.com>

	Split out nested_join.h.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Moved some bitmap defines into bitmap.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Removed unneeded prototype.

2008-10-23  Monty Taylor  <monty@inaugust.com>

	Removed myisam reference from sql_yacc.

2008-10-23  Monty  <mordred@palanthas.inaugust.com>

	Fixed 32-bit issues.

2008-10-23  Monty  <mordred@palanthas.inaugust.com>

	Added impl of macro missing from old systems.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Changed my_thread_id type.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Merged the merge.

2008-10-22  Brian Aker  <brian@tangent.org>

	Merge from Monty's tree

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Produced new message catalogs.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Moved error.h into just the files that need it.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Took gettext.h out of header files.
	Made error messages come through a function.
	Removed ER_SAFE.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Moved my_handler to myisam, which is where it actually belongs.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Moved handler_error_messages array out of header file. Moved associated
	functions to live with it.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Cleaned up version.h. (And by cleaned, I mean removed)

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Removed a coupla unused things from version.h.in.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Sorry andy. There is really no need for this to be in the tree.

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Renamed drizzle_common again. Removed sql_common. (empty) 
	Now all we need to do is merge/disect base.h, common.h, common_includes.h, server_includes.h and globa.h (good grief)

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Cleaned up the last commit. 

2008-10-22  Monty Taylor  <monty@inaugust.com>

	Fixed spaces in Makefile.am.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Moved drizzle_com to drizzled/drizzle_common. Started splitting it up.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Sorted file lists for headers and sources.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Moved gettext.h into drizzled in anticipation of the new client lib.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Cleaned up plugin.h just a tiny bit.

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Merged from mark again.

2008-10-21  mark  <mark@ip-10-251-25-236>

	add parser and scheduling plugin files

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Merged from Mark.

2008-10-20  Mark Atwood  <mark@fallenpegasus.com>

	add definitions of plugins for parser and for scheduling

2008-10-21  Monty Taylor  <monty@inaugust.com>

	Removed stxnmov. Also deleted strstr which had already been removed.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merged formatting change.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Reverted too-big formatting change.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merged in phase two of the enum_type cleanup.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Fixed two tests that relied on old type ids.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Fixed some formatting.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Removed the split.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merged first pass of fixing enum_field_types.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Fixed the TINY=1 bit.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Removed stupid use of DRIZZLE_TYPE_TINY reference.

2008-10-20  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-10-19  Brian Aker  <brian@tangent.org>

	Second pass of thd cleanup

2008-10-19  Brian Aker  <brian@tangent.org>

	THD -> Session rename

2008-10-19  Brian Aker  <brian@tangent.org>

	SQL_BIG_TABLES has been removed.

2008-10-19  Brian Aker  <brian@tangent.org>

	Adding kill test

2008-10-19  Brian Aker  <brian@tangent.org>

	A bunch more test fixes.

2008-10-19  Brian Aker  <brian@gir.tangent.org>

	Removed tests which did not work on 32bit

2008-10-19  Brian Aker  <brian@tangent.org>

	More test updates (one ulong fix)

2008-10-18  Brian Aker  <brian@tangent.org>

	Remove MyISAM mrr test

2008-10-18  Brian Aker  <brian@tangent.org>

	Removing MRR (continues to not work)

2008-10-18  Brian Aker  <brian@tangent.org>

	Merging Mark's work

2008-10-17  Mark Atwood  <mark@fallenpegasus.com>

	change thresh_bigexa to threadhold_big_examined.  "Use English!" --BrianA

2008-10-17  Mark Atwood  <mark@fallenpegasus.com>

	fixes as per MontyT's comments, prep for internationalization

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	comment about connect_utime not being set

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	have logging_query.cc call gettimeofday, since we cant get it from the thd

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	add elapsed time back to logging plugin

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	add editor format hints, and other useful metadata comments

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	fix mistakes

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	merge in new plugin types, configvar and qcache

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	new plugin types, configvar and qcache

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	some bugs in errmsg plugin

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	an implemention of the errmsg plugin

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	merge in new plugin types, for configvar and qcache

2008-10-15  Mark Atwood  <mark@fallenpegasus.com>

	define new plugin types, config and qcache

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	merge from head

2008-10-16  Mark Atwood  <mark@fallenpegasus.com>

	fix bug, plugin_foreach given the wrong plugin type

2008-10-15  Mark Atwood  <mark@fallenpegasus.com>

	va_list handing and other fixes for errmsg plugin

2008-10-07  Mark Atwood  <mark@fallenpegasus.com>

	add hooks for errmsg plugin type

2008-10-18  Brian Aker  <brian@tangent.org>

	Adding back more tests.

2008-10-18  Brian Aker  <brian@gir.tangent.org>

	Fixing more range mismatch

2008-10-18  Brian Aker  <brian@tangent.org>

	Adding back more tests.

2008-10-18  Brian Aker  <brian@gir.tangent.org>

	Fixed ICP issue (had to make test use MyISAM in one place).

2008-10-18  Brian Aker  <brian@tangent.org>

	Updating tests.

2008-10-17  Brian Aker  <brian@tangent.org>

	More ulong fixes (including a bug on row return on error)

2008-10-17  Brian Aker  <brian@tangent.org>

	Fixed ulong in time calculation.

2008-10-17  Brian Aker  <brian@tangent.org>

	Remove dead macros

2008-10-17  Brian Aker  <brian@tangent.org>

	Merging Monty's work

2008-10-17  Brian Aker  <brian@gir>

	Removed dead code.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Ignore copied in libtool m4 files.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Re-arragned a few things in configure.ac.

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Fixed the libtool crap. (maybe?)

2008-10-17  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-10-16  Brian Aker  <brian@tangent.org>

	Disabling ICP, its buggy.

2008-10-16  Brian Aker  <brian@tangent.org>

	Removed dead variables/dead parser piece.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Removed config.guess/sub again.

2008-10-16  Monty  <mordred@palanthas.inaugust.com>

	Removed --force from automake to prevent older automakes from copying in older versions of config.guess and config.sub.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Reverted config.guess and config.sub. Removed libtoolize from config/autorun.sh

2008-10-16  Monty  <mordred@palanthas.inaugust.com>

	Added -Wno-unused-macros to precompiled headers rule.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Added new libtool files to tree from newest libtool.
	Removed --force from libtoolize, so that other people can use my nice new fresh libtool.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Added new libtool.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Reverted all changes to sql_string.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Merged in more warnings.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	We pass -Wunused-macros now!

2008-10-16  Monty Taylor  <monty@inaugust.com>

	drizzled/ and storage/archive/ are clean.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Moved sql_yacc.yy to it's own conv lib so we could give it its own CXXFLAGS.

2008-10-16  Monty Taylor  <monty@inaugust.com>

	Fixed warnings before we got to sql_yacc.

2008-10-15  Monty Taylor  <monty@inaugust.com>

	Done with macro warnings for client, libdrizzle and mysys.

2008-10-15  Monty Taylor  <monty@inaugust.com>

	Merged in more warnings again.

2008-10-15  Monty Taylor  <monty@inaugust.com>

	Merged with trunk.

2008-10-15  Monty Taylor  <monty@inaugust.com>

	Added -Wunused-macros.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Merged in code for extra warnings.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Cleaned up class definiton style issues.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Override copy ctr and op= because we have pointer members.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Added init of map to Bitmap<> constructors init lists.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Re-worked strict-aliasing again.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Added one more set of possible warnings.

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Added some more warning options to configure.

2008-10-16  Brian Aker  <brian@tangent.org>

	Remove dead field defines (and dropped a dead function for SP).

2008-10-15  Brian Aker  <brian@gir.tangent.org>

	Small cleanup in scheduler

2008-10-15  Brian Aker  <brian@tangent.org>

	Firt pass to remove C/C++ funkiness around declaration of THD.

2008-10-15  Brian Aker  <brian@gir-3.local>

	Fix for ssize_t to unsigned int (not a great fix... should compare with
	off_t)

2008-10-14  Brian Aker  <brian@tangent.org>

	Merging Stewart's work.

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	sql_plugin.cc:330: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	rpl_rli.cc:195: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	sql_repl.cc:141: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	slave.cc:744: error: format not a string literal and no format arguments
	slave.cc: In function int32_t get_master_version_and_clock(DRIZZLE*, Master_info*):
	slave.cc:1016: error: format not a string literal and no format arguments
	slave.cc:1018: error: format not a string literal and no format arguments
	slave.cc: In function int32_t try_to_reconnect(THD*, DRIZZLE*, Master_info*, uint32_t*, bool, const char**):
	slave.cc:1904: error: format not a string literal and no format arguments
	slave.cc:1910: error: format not a string literal and no format arguments
	slave.cc: In function void* handle_slave_sql(void*):
	slave.cc:2356: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	sql_table.cc:2704: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	log.cc: In function bool flush_error_log():
	log.cc:3155: error: ignoring return value of FILE* freopen(const char*, const char*, FILE*), declared with attribute warn_unused_result
	log.cc:3159: error: ignoring return value of FILE* freopen(const char*, const char*, FILE*), declared with attribute warn_unused_result

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	log.cc:3030: error: ignoring return value of ssize_t pwrite(int, const void*, size_t, __off_t), declared with attribute warn_unused_result

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	table.cc:1639: error: ignoring return value of int ftruncate(int, __off_t), declared with attribute warn_unused_result
	
	just assert for now

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	scheduler.cc:421: error: ignoring return value of ssize_t write(int, const void*, size_t), declared with attribute warn_unused_result
	scheduler.cc: In function void libevent_thd_add(THD*):
	scheduler.cc:600: error: ignoring return value of ssize_t write(int, const void*, size_t), declared with attribute warn_unused_result
	scheduler.cc: In function void libevent_end():
	scheduler.cc:618: error: ignoring return value of ssize_t write(int, const void*, size_t), declared with attribute warn_unused_result
	
	assert for now.

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	drizzled.cc:2310: error: ignoring return value of FILE* freopen(const char*, const char*, FILE*), declared with attribute warn_unused_result

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	sql_class.cc:2732: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	remove my_pthread_[gs]etspecific

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	not checking return of fwrite

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	thr_malloc.cc: In function void sql_alloc_error_handler():
	thr_malloc.cc:25: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	In function int open(const char*, int, ...),
	inlined from int logging_query_plugin_init(void*) at logging_query.cc:111:
	/usr/include/bits/fcntl2.h:51: error: call to __open_missing_mode declared with attribute error: open with O_CREAT in second argument needs 3 arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	ha_myisam.cc:70: error: format not a string literal and no format arguments

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	gcc 4.3.2 seems to warn on empty while without explicit braces. trips up in innodb assert macros
	
	handler/ha_innodb.cc: In function void innobase_get_cset_width(ulint, ulint*, ulint*):
	handler/ha_innodb.cc:752: error: suggest a space before ; or explicit braces around empty body in while statement

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	ignoring return value of fwrite

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	fix not checked return values for ARCHIVE's azio.c
	
	(I should really port the NDB version across... it already has these fixes and more).

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	missing check of return values to system()
	
	TODO: probably shouldn't be asserts

2008-10-15  Stewart Smith  <stewart@flamingspork.com>

	a few warnings that show up on ubuntu 8.10: unchecked return codes, not fromat string

2008-10-14  Brian Aker  <brian@tangent.org>

	Monty merge

2008-10-14  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-10-13  Monty Taylor  <monty@inaugust.com>

	Removed my_pthread_setprio from header, since we don't actually define it anymore.

2008-10-13  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-13  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_floor, Item_func_length, Item_func_min_max, Item_func_rand, Item_func_round to functions directory

2008-10-13  Lee  <lbieber@lbieber-desktop>

	merge latest changes from trunk

2008-10-12  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_ceiling, Item_func_cos, Item_func_sin, Item_func_tan, Item_func_int_val to functions directory

2008-10-12  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_acos, Item_func_asin, Item_func_atan, Item_func_pow, Item_func_sqrt to functions directory

2008-10-14  Brian Aker  <brian@gir-3.local>

	Next tiny patch (almost thelast one )

2008-10-13  Brian Aker  <brian@gir-3.local>

	Removed Field_tiny class

2008-10-13  Brian Aker  <brian@tangent.org>

	Adding back more test cases.

2008-10-13  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-10-13  Monty Taylor  <monty@inaugust.com>

	Merged in Virtual Column work.

2008-10-13  Monty Taylor  <monty@inaugust.com>

	Merged in trunk.

2008-10-13  Monty Taylor  <monty@inaugust.com>

	Merge virtual column test fixes from Andrey.

2008-10-13  Andrey Zhakov  <andrey.zhakov@yahoo.com>

	Modified test .result files for the SIN() function.

2008-10-13  Andrey Zhakov  <andrey.zhakov@yahoo.com>

	Fixed test scripts to work around the 'inaccuracy' of DOUBLE values.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Merged in changes from Andrey.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Merged vcol stuff.

2008-10-09  Andrey Zhakov  <andrey.zhakov@yahoo.com>

	Changes for easier merging into lp:~mordred/drizzle/vcol

2008-09-19  Andrey Zhakov  <andrey.zhakov@yahoo.com>

	Disabling test vcol_blackhole

2008-09-19  Andrey Zhakov  <andrey.zhakov@yahoo.com>

	Initial submit of code and tests

2008-10-12  Monty Taylor  <monty@inaugust.com>

	Removed duplicate of overflow from the tests list.

2008-10-12  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-10  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_abs, Item_func_int_exp, Item_func_ln, Item_func_log to functions directory

2008-10-10  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_mod, Item_func_int_div, Item_func_neg to functions directory

2008-10-09  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_div, Item_func_minus, Item_func_mul, Item_func_plus to functions directory

2008-10-09  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_additive_op to functions directory

2008-10-09  Lee  <lbieber@lbieber-desktop>

	code clean move Item_decimal_typecast to functions directory

2008-10-09  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_signed and Item_func_unsigned to functions directory

2008-10-09  Lee  <lbieber@lbieber-desktop>

	code clean move Item_func_num1 and Item_func_connection_id to functions directory

2008-10-12  Monty Taylor  <monty@inaugust.com>

	Merged in first pass of sql_bitmap removal. (and some other cleanups.)

2008-10-12  Monty Taylor  <monty@inaugust.com>

	Added key_map and table_map_iterator.

2008-10-11  Monty Taylor  <monty@inaugust.com>

	Removing using namespace std; from header file. Should be in impl files.

2008-10-11  Monty Taylor  <monty@inaugust.com>

	Replaced some my_open calls with open

2008-10-10  Monty Taylor  <monty@inaugust.com>

	Fixed two things I missed.

2008-10-10  Monty Taylor  <monty@inaugust.com>

	Removed O_NOFOLLOW

2008-10-10  Monty Taylor  <monty@inaugust.com>

	Removed O_TEMPORARY and O_SHORT_LIVED, they were Windows things.
	Removed cache_remove_open_tmp, as on not-Windows it only called my_delete.

2008-10-13  Brian Aker  <brian@tangent.org>

	Test updates.

2008-10-12  Brian Aker  <brian@tangent.org>

	Incremental patch for removing unsigned.

2008-10-11  Brian Aker  <brian@tangent.org>

	Second pass on unsigned

2008-10-11  Brian Aker  <brian@tangent.org>

	Dead code around unsigned (first pass)

2008-10-11  Brian Aker  <brian@tangent.org>

	Added back more tests.

2008-10-11  Brian Aker  <brian@tangent.org>

	Merging Monty

2008-10-10  Monty Taylor  <monty@inaugust.com>

	Merged from Paul.

2008-10-10  Paul McCullagh  <paul.mccullagh@primebase.org>

	Removed the --with-debug=full option

2008-10-10  Paul McCullagh  <paul.mccullagh@primebase.org>

	--with-debug=yes now defines DEBUG, removed --with-debug=full

2008-10-10  Paul McCullagh  <paul.mccullagh@primebase.org>

	Merged trunk

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fizxed the select.test result file

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Added a --with-debug=full option to configure (which defines DEBUG on the command line)

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Added PBXT specific result files

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed the --replace_regex command

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Fixed the --sorted_result command and changed to sorting accending

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	PBXT needs to call mysql_create_table() to create a .frm file, but the LOCK_open is already held when the call is made

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Changes to .result files to run both PBXT and InnoDB

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Set default to InnoDB

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Changes to .test files to run both PBXT and InnoDB

2008-10-09  Paul McCullagh  <paul.mccullagh@primebase.org>

	Added --engine option to drizzle-test-run (default innodb)

2008-10-11  Brian Aker  <brian@tangent.org>

	Remove dead slow variable.

2008-10-11  Brian Aker  <brian@tangent.org>

	Removed dead bootstrap variable.

2008-10-10  Brian Aker  <brian@tangent.org>

	Modified test to just use myisam. This should allow us to continue to use
	the EXPLAINS in it.

2008-10-10  Brian Aker  <brian@tangent.org>

	Removed EXPL from tests. Why? The explain output is based on MyISAM...
	worthless for Innodb. Few realize this...

2008-10-10  Brian Aker  <brian@tangent.org>

	Re-enabled more tests.

2008-10-10  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Missed a FILE_BINARY

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Removed O_BINARY and FILE_BINARY.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Removed O_SHARE. I think it was only for OS/2.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Removed F_TO_EOF

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Removed set_bits.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Removed references to my_raid_create and my_raid_delete.

2008-10-09  Brian Aker  <brian@tangent.org>

	Remove dead tests and enable a few more tests.

2008-10-09  Brian Aker  <brian@tangent.org>

	Handling Monty's merge

2008-10-09  Monty  <mordred@palanthas.inaugust.com>

	Fixed problem on 32-bit.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Replaced some int10_to_str with to_string.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Moved test() to its own file.
	Made a new function to possibly replace int10_to_str.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Cleaned copyright headers.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Changed a long int to a uint64_t. We really do have to do these one at a time, don't we.

2008-10-09  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-10-08  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-08  Lee  <lbieber@lbieber-desktop>

	code clean up to moving functions into drizzled/functions directory - Item_num_op and Item_numhybrid

2008-10-08  Lee  <lbieber@lbieber-desktop>

	break out item_real_func into functions directory

2008-10-08  Monty Taylor  <monty@inaugust.com>

	Merged changes from CJ.

2008-10-08  C.J. Adams-Collier  <cjac@dev0>

	* fixed --disable-assert code (thanks Monty)
	* added check for auth_pam
	* added Host CPU info
	* better names for the C++ header and namespace info

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Moved MEM_ROOT functions into my_alloc.h.

2008-10-08  Brian Aker  <brian@tangent.org>

	Removed dead code around SHOW commands (I_S exist for collations/charsets)

2008-10-08  Brian Aker  <brian@tangent.org>

	Minor name cleanup.

2008-10-08  Brian Aker  <brian@tangent.org>

	Wrote out master.info (more of it). Add to this more private'izing of
	Master_Info object.

2008-10-07  Brian Aker  <brian@tangent.org>

	Simple update to what is written to the master.info file.

2008-10-07  Brian Aker  <brian@gir.tangent.org>

	Fix call by prepending std::

2008-10-07  Brian Aker  <brian@tangent.org>

	Merge of Monty's work.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	One step closer to simpler off_t support.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Get rid of pragma interface/pragma implementation.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Removed extraneous include.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Slight tweaks to CMATH_NAMESPACE to make it match what Google's doing with Protobuf tests a little better.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Merged from C.J.

2008-10-07  C.J. Adams-Collier  <cjac@dev0>

	2008-10-07T1437  C.J. Adams-Collier  <cjac@colliertech.org>
	
	* configure.ac
	- added summary to end of ./configure output

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Split out Item_int_func and Item_func from Item_func. (don't think too hard about the second one)

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Reverted RAID errno changes. 

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Removed RAID garbage.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Fixed __C99FEATURES__

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Added __EXTENSIONS__ for Solaris.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-07  Lee  <lbieber@lbieber-desktop>

	code clean up for Field_num

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Merged code from Mats that I should have merged a while ago.

2008-09-12  Mats Kindahl  <mats@mysql.com>

	Merging stdize-code with main trunk.

2008-09-02  Mats Kindahl  <mats@mysql.com>

	Merging in trunk

2008-08-26  Mats Kindahl  <mats@mysql.com>

	Merging lp:~mkindahl/stdize-code with lp:drizzle.

2008-08-26  Mats Kindahl  <mats@mysql.com>

	Replaced use of thd_proc_info() macro with calls to
	set_proc_info() and get_proc_info() internally.  Introduced
	functions set_thd_proc_info() and get_thd_proc_info() for
	external users, i.e., plug-ins.
	
	The set_thd_proc_info() accepted callers info that can be used to
	print debug output, but the information was not used. The return
	value was changed to void and the old value is not fetched any
	more. To be able to get the value of proc_info for external
	users, the function get_thd_proc_info() was introduced.
	
	The thd_proc_info() macro called set_thd_proc_info() but almost
	never used the return value of set_thd_proc_info() so the macro
	was replaced with a call of THD::set_proc_info().

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-07  Lee  <lbieber@lbieber-desktop>

	clean up code for Field_str

2008-10-07  Lee  <lbieber@lbieber-desktop>

	break out Field_longstr

2008-10-07  Brian Aker  <brian@tangent.org>

	More effort around master.info (and relay.info)

2008-10-07  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Split a method out into innodb_plugin_extras. Innodb is the only thing that uses it. I imagine we probably want to do something totally different with this...

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Removed custome max size_t with SIZE_MAX

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Collapsed over-optimized skip_trailing_spaces.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Got rid of some size testing.

2008-10-07  Monty Taylor  <monty@inaugust.com>

	Removed extraneous vector from sql_state.

2008-10-07  Brian Aker  <brian@tangent.org>

	Mergining Monty's work

2008-10-06  Monty Taylor  <monty@inaugust.com>

	One more cmath fix.

2008-10-06  Monty  <mordred@palanthas.inaugust.com>

	Fixed m4 files for older C compilers that don't have ext/cstdint, etc.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Merged from lee.

2008-10-06  Lee  <lbieber@lbieber-desktop>

	sync with latest changes

2008-10-04  Lee  <lbieber@lbieber-desktop>

	remove extraneous comments at the end of the file

2008-10-06  Lee  <lbieber@lbieber-desktop>

	sync with latest changes from trunk

2008-10-06  Lee  <lbieber@lbieber-desktop>

	latest code cleanup for Field_real

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Merged iocache.h addition.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Split out aio_result.h into its own header.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Split iocache definitions into their own header.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Removed time.h and sys/time.h from global.h.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Removed timeb.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Added tests for C99 math extensions for cmath.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Removed ushort references.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Added a few more things to the bzrignore.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Merged bugfix.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Fix for drizzletest crash from Paul McCullagh. (Fixes #279304)

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Added autoconf tests for location of cstdint and cinttypes. Use those in C++ programs now, so that we don't have to define _STDC_LIMIT_MACROS, etc by hand. Stop, in fact, defining those by hand.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Fixed partial longlong->int64 prob.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Possible fix for one solaris badness?

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Removed some type checks.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Removed sizeof(long) sizeof(long long) checks.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Merged uint fixes.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Replaced long long with int64_t.

2008-10-06  Monty Taylor  <monty@inaugust.com>

	Replaced all unsigned long long with uint64_t.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Remove ulint and uchar from innochecksum.

2008-10-06  Brian Aker  <brian@tangent.org>

	First pieces to new master.info file.

2008-10-06  Brian Aker  <brian@tangent.org>

	Removed dead repl_failsafe file.

2008-10-06  Brian Aker  <brian@tangent.org>

	No need for charsets in replication code (we only have one now).

2008-10-06  Brian Aker  <brian@tangent.org>

	Random dead cleanup (mainly around SSL in the replication master.info)

2008-10-06  Brian Aker  <brian@tangent.org>

	Removed dead bit around SP/Triggers

2008-10-05  Brian Aker  <brian@tangent.org>

	Remove uint.

2008-10-05  Brian Aker  <brian@tangent.org>

	Remove all of uchar.

2008-10-05  Brian Aker  <brian@tangent.org>

	Two regression fixes.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Merged in from trunk.

2008-10-05  Brian Aker  <brian@gir.tangent.org>

	uint cleanup.

2008-10-05  Brian Aker  <brian@gir.tangent.org>

	Removed dead option for HAVE_REPLICATION

2008-10-05  Brian Aker  <brian@gir>

	Removed dead HAVE_REPL needs for embedded server.

2008-10-05  Brian Aker  <brian@gir>

	Removed binlog tool (we need to rewrite it) and removed all the hooks for
	embedding the server in a client tool (--awful hack).

2008-10-05  Brian Aker  <brian@tangent.org>

	Removed dead shutdown code.

2008-10-04  Brian Aker  <brian@tangent.org>

	Remove dead Sub_statement_state class.

2008-10-04  Brian Aker  <brian@tangent.org>

	Removed dead slow event variable.

2008-10-04  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Made my_alloc actually always use malloc.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Removed my_free(). It turns out that it had been def'd to ignore the flags passed to it in the second arg anyway. Gotta love that.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Added codeset.m4

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Added m4 files for deficient systems. Changed include mechanism to not need
	direct includes of all files.

2008-10-05  Monty Taylor  <monty@inaugust.com>

	Added intl.m4 to m4 dir.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Removed size_socket. For crying out loud.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Moved qsort declarations.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Added header protections.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Remove madvise decl.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Moved compile_time_assert.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Repaced sql_state stuff with template function and c++ algorithm.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Made sql_state and stacktrace compile as C++. drizzled/ is pure c++ now.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Fixed modelines... these files are c++.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Made a few macros into template functions.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Removed my_offsetof - no longer used.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Killed last remaining __alpha__ ifdef.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Removed safeFree.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Removed NullS. bu-bye.

2008-10-04  Monty Taylor  <monty@inaugust.com>

	Removed x_free calls.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Merged from Lee.

2008-10-03  Lee  <lbieber@lbieber-desktop>

	breaking out enum field classes

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-10-03  Brian Aker  <brian@tangent.org>

	Fix for crash when timer call is not done.

2008-10-03  Mark Atwood  <mark@fallenpegasus.com>

	remove attempt to log time because my_micro_time no longer works

2008-10-03  Brian Aker  <brian@tangent.org>

	Dead variables.

2008-10-03  Brian Aker  <brian@tangent.org>

	Option for where to log file (updated to correct style for if() by me)

2008-10-03  Mark Atwood  <mark@fallenpegasus.com>

	sysvar for filename for pluggable query logging to log to

2008-10-03  Mark Atwood  <mark@fallenpegasus.com>

	create logging file, and gracefully handle when it cant be

2008-10-03  Brian Aker  <brian@tangent.org>

	More refactoring out of the old logging system.

2008-10-03  Brian Aker  <brian@tangent.org>

	First pass of removing historical logging.

2008-10-03  Monty  <mordred@palanthas.inaugust.com>

	Re-worked a few defines to work around old autoconf version. 

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Ooops. Left in a syntax error.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Rewored Sun C99 stuff in autoconf. (Trond... will this work?)

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed RETSIGHANDLER to sig_handler define.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed function_volatile - unusued.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed my_const_cast.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed my_reinterpret_cast. It's not GNU specific.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed GCC_VERSION

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed rint check - rint is part of C99.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved global defines to configure.ac.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Removed DONT_REMEMBER_SIGNAL define.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved GNU_SOURCE define to configure.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved sun defines to configure.ac.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved REENTRANT.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved POSIX_PTHREAD flag.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved likely, unlikely and __attribute__ redefines to autoconf.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Move unconditional defines to config.h.

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Moved PRAGMA_INTERFACE to configure.ac

2008-10-03  Monty Taylor  <monty@inaugust.com>

	Merged from trond.

2008-10-03  Trond Norbye  <trond.norbye@sun.com>

	Fix build on Solaris

2008-10-03  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-10-02  Monty  <mordred@palanthas.inaugust.com>

	Fixed older compiler warning.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Fixed -O3 optimization for gcc.

2008-10-03  Brian Aker  <brian@tangent.org>

	Merging Mark's logging work.

2008-10-03  Brian Aker  <brian@tangent.org>

	Fedora fix for printf

2008-10-02  Mark Atwood  <mark@fallenpegasus.com>

	rename logging_noop to logging_query

2008-10-02  Mark Atwood  <mark@fallenpegasus.com>

	start renaming logging_noop to logging_query

2008-10-02  Mark Atwood  <mark@fallenpegasus.com>

	more make plug logging work

2008-10-02  Mark Atwood  <mark@fallenpegasus.com>

	more work on plugable logging

2008-09-11  Mark Atwood  <mark@fallenpegasus.com>

	changes of Brian's recommendation
	get rid of "stuff" pointer
	better handling of unused

2008-09-11  Mark Atwood  <mark@fallenpegasus.com>

	add pluggable logging

2008-10-02  Brian Aker  <brian@tangent.org>

	Removed non-existent CUBE operator.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Merged with trunk.

2008-10-02  Brian Aker  <brian@gir.tangent.org>

	Merging charsets

2008-10-02  Brian Aker  <brian@tangent.org>

	Removed UNSIGNED from parser.

2008-09-30  Brian Aker  <brian@tangent.org>

	Dead NDB code.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Fixed stacktrace linking/building problem on OSX.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	And missed an isinf.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Missed two socket_errno earlier.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed my_isinf. isinf is part of C99. 

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed completely unused defines.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed SOCKET redefines.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed int7 and int15 and non-stdbool bool def.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed double compile of 4 mysys files.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Replaced struct timeval with struct timespec. Timeval doesn't seem to be 
	so popular anymore.

2008-10-02  Monty Taylor  <monty@inaugust.com>

	Removed getpass references.

2008-10-02  Monty  <mordred@scylla.inaugust.com>

	Removed __EXTENSIONS__

2008-10-02  Monty  <mordred@scylla.inaugust.com>

	Merged from Trond.

2008-09-27  Trond Norbye  <trond.norbye@sun.com>

	g++ does not define __STDC_VERSION__

2008-09-27  Trond Norbye  <trond.norbye@sun.com>

	Don't hardcode gnu linker options in the makefile

2008-09-27  Trond Norbye  <trond.norbye@sun.com>

	Don't include security/pam_misc.h on Solaris
	
	The header and the library libpam_misc does not exist on Solaris. If the
	library really is needed on other platforms, we must detect it in configure.

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Don't define _XOPEN_SOURCE for Solaris

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Include config.h first to aviod redefining macro warning
	
	config.h unconditionally defines _FILE_OFFSET_BITS causing an error if it
	is defined already. If you include a system header you will most likely end
	up including sys/feature_tests.h (at least on Solaris), and this file
	will define _FILE_OFFSET_BITS if not defined already. 

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	curses.h defines clear and erase as macros causing problems calling the std::string members

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Solaris does not support SO_SNDTIMEO and SO_RCVTIMEO
	
	This patch just bypass all the setsockopts and doesn't try to implement
	the equivalent functionality elsewhere. The purpose right now is to get
	the source up'n running on Solaris.

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Replaced inclusion of sys/poll and sys/fcntl with poll.h and fcntl.h

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Add prototype for stpcpy

2008-09-26  Trond Norbye  <trond.norbye@sun.com>

	Allow compilation without dtrace probes on Solaris

2008-10-02  Monty  <mordred@scylla.inaugust.com>

	Various int64 constant fixes.

2008-10-02  Monty  <mordred@scylla.inaugust.com>

	Made including stdint.h work.

2008-10-02  Monty  <mordred@scylla.inaugust.com>

	Fixed some max/min misses.

2008-10-01  Monty  <mordred@scylla.inaugust.com>

	Merged up to 408 of stdint-includes-fix.

2008-09-23  Monty Taylor  <monty@inaugust.com>

	Actually removed VOID() this time.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Cleaned up stuff out of global.h.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Enabled -Wlong-long.

2008-10-01  Monty Taylor  <monty@inaugust.com>

	Merged in some new translations.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Marked some new translations.

2008-10-01  Monty Taylor  <monty@inaugust.com>

	Merged from stdint-includes-fix.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Removed __alpha__ references.
	Removed VOID().

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Removed C++ includes and std namespace from global.h.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Renamed max/min.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Fixed one more  enum enum_drizzle_timestamp_type timestamp_type;

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Added specific number for check_stack_overrun error code until we deal with it better.

2008-09-22  Monty Taylor  <monty@inaugust.com>

	Remove typedef enum enum_drizzle_timestamp_type timestamp_type;

2008-10-01  Monty Taylor  <monty@inaugust.com>

	Removed unused crud.

2008-10-01  Monty Taylor  <monty@inaugust.com>

	Merged.

2008-10-01  Monty Taylor  <monty@inaugust.com>

	Merged in latest translations.

2008-09-30  Monty Taylor  <monty@inaugust.com>

	Removed ta.po, since it was empty and had an empty translator.

2008-09-27  Brian Aker  <brian@gir.tangent.org>

	Merge of my GNU stuff

2008-09-27  Brian Aker  <brian@tangent.org>

	Work on removing GNU specific calls.

2008-09-27  Brian Aker  <brian@gir.tangent.org>

	Removed non-portable call.

2008-09-27  Brian Aker  <brian@tangent.org>

	Removed legacy bits around enum.

2008-09-26  Brian Aker  <brian@tangent.org>

	Removed legacy type, but truncate is no longer doing recreate. This should
	be reoptimized.

2008-09-26  Brian Aker  <brian@tangent.org>

	First pass to dump legacy types (wow! this has been a long time coming)

2008-09-26  Brian Aker  <brian@tangent.org>

	Removed dead bits to HA_CREATE_INFO

2008-09-26  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-09-25  Stewart Smith  <stewart@flamingspork.com>

	Move compression functions (compress, uncompress and compressed_length) out into modules and fix test

2008-09-25  Stewart Smith  <stewart@flamingspork.com>

	UDFs are now normal Item_func objects. Simplifies handling them a lot.

2008-09-19  Stewart Smith  <stewart@flamingspork.com>

	mreg

2008-09-15  Stewart Smith  <stewart@flamingspork.com>

	merged

2008-08-02  Stewart Smith  <stewart@flamingspork.com>

	merge from mainline

2008-09-25  Brian Aker  <brian@tangent.org>

	Removed deprecated options from drizzled

2008-09-25  Brian Aker  <brian@tangent.org>

	Cleanup around Query_arena.

2008-09-25  Brian Aker  <brian@tangent.org>

	Removed first_cond_optimization variable.

2008-09-25  Brian Aker  <brian@tangent.org>

	Removed dead variable

2008-09-25  Brian Aker  <brian@tangent.org>

	Dead code removal.

2008-09-25  Brian Aker  <brian@tangent.org>

	Remove reference to Query_arena

2008-09-25  Brian Aker  <brian@tangent.org>

	Partial Query_arena removal

2008-09-25  Brian Aker  <brian@tangent.org>

	Dead prep code.

2008-09-25  Brian Aker  <brian@tangent.org>

	Removed dead datatype (even dead in original server...). Mindless 6:30AM
	task.

2008-09-22  Brian Aker  <brian@tangent.org>

	Remove short.

2008-09-21  Brian Aker  <brian@tangent.org>

	Remove tiny/small int.

2008-09-21  Brian Aker  <brian@tangent.org>

	Cleanup tiny and small int.

2008-09-16  Brian Aker  <brian@gir.lan>

	Fixed uint/ushort issue in libdrizzle

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Fix configure problem on cygwin. Thanks awfief.

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Removed more stupid defines.

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Fixed a small compile problem.

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Merged in from client-split.

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Removed HAVE_EXTERNAL_CLIENT

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Oh dear god the changes. The changes. I'd tell you what they are, but I'd just be making stuff up. Suffice it to day it's mostly all around splitting files in libdrizzle into different files and removing interdepends. And whatever else I happened to see... 

2008-09-16  Monty Taylor  <monty@inaugust.com>

	Moved more functions into drizzle.c as part of the split of code.
	Added accessor function for drizzle_port.

2008-09-15  Monty Taylor  <monty@inaugust.com>

	More copyright header file fixes.

2008-09-15  Monty Taylor  <monty@inaugust.com>

	Copyright header fixes.

2008-09-15  Monty Taylor  <monty@inaugust.com>

	Fixed copyright headers in drizzled/

2008-09-15  Monty Taylor  <monty@inaugust.com>

	Removed mysqld_suffix. Pointless.

2008-09-15  Monty Taylor  <monty@inaugust.com>

	Removed stpncpy from source.

2008-09-15  Monty Taylor  <monty@inaugust.com>

	Removed strndup calls.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Merged from client-split.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Removed libvio deps from drizzled.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	More violite refactoring/removal.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Removed more direct use of vio.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Added net_close_dirty function to hide vio a bit better. Started removing include violite.h from places.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Add local_infile.h.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Actually deleted client_settings.h file.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Got rid of client_settings.h

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Got rid of libsqlcommon and some surious defines.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Couple of tiny changes.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Finished splitting libdrizzle header files.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	libdrizzle.h cleanup. Removed some unused things. Started splitting header into
	file-per-struct like libmemcached is.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Renamed drizzle.h to libdrizzle.h.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Merged from client-split.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Removed violite.h from common_includes and just added it to the files that needed it.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Removed mysys and mystrings from libdrizzle. All gone.

2008-09-14  Monty Taylor  <monty@inaugust.com>

	Removed more mysys stuff.
	Removed defaults file processing from libdrizzle.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	More mysys removal from libdrizzle. Got rid of MEM_ROOT related stuff.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Removed more CHARSET_INFO stuff from libdrizzle.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Reworked drizzle_escape_string.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Removed some mysys from net_serv.c.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Fixed copyright header and spacing in net_serv.c.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-09-12  Brian Aker  <brian@tangent.org>

	Fix warnings in Parser generation.

2008-09-12  Brian Aker  <brian@tangent.org>

	Removed UCs2 dead code.

2008-09-11  Brian Aker  <brian@tangent.org>

	Remove 3 byte UTF8 collation

2008-09-11  Brian Aker  <brian@tangent.org>

	Additional removals.

2008-09-11  Brian Aker  <brian@tangent.org>

	Remove dead character sets.

2008-09-11  Brian Aker  <brian@tangent.org>

	Removal of latin character set.

2008-09-11  Brian Aker  <brian@tangent.org>

	Merge from Jay

2008-09-11  Jay Pipes  <jay@mysql.com>

	Merging from enable-tests.  Enables func_math and comment_table tests

2008-09-11  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-09-11  Jay Pipes  <jay@mysql.com>

	Removed SQL_MODE variances from comment_table.test and ensured correct error thrown when a comment that is too long was input.  After moving to proto buffer definition for table, the 2048 length will go away.

2008-09-10  Jay Pipes  <jay@mysql.com>

	Fixed syntax errors in func_math test and re-enable the test in the make test target

2008-09-11  Brian Aker  <brian@tangent.org>

	Fix for CREATE TABLE/character sets.

2008-09-11  Brian Aker  <brian@tangent.org>

	Next pass in the unending saga of UTF-8..  now we can set in SQL collation
	without charset.

2008-09-11  Brian Aker  <brian@tangent.org>

	Removed option for single command replication and have now left disable of
	sql_log (more universal in nature).

2008-09-10  Brian Aker  <brian@tangent.org>

	Yacc! (or yuck!) cleanup.

2008-09-10  Brian Aker  <brian@tangent.org>

	More on removing LOAD DATA INFILE bit for character sets (all imports now
	must be UTF-8)

2008-09-10  Brian Aker  <brian@tangent.org>

	Parser scrapping for UTF-8

2008-09-10  Brian Aker  <brian@tangent.org>

	Cleanup around SAFEMALLOC

2008-09-09  Brian Aker  <brian@tangent.org>

	Merge Jay's work

2008-09-09  Jay Pipes  <jay@mysql.com>

	Added limit test back into the test target

2008-09-09  Jay Pipes  <jay@mysql.com>

	Merged in from local passing tests

2008-09-09  Jay Pipes  <jay@mysql.com>

	Re-enabled a number of passing tests from trunk

2008-09-09  Jay Pipes  <jay@mysql.com>

	Removed ZEROFILL args in CREATE statements.  Still needs UTF8 fixes

2008-09-09  Jay Pipes  <jay@mysql.com>

	Updated limit test result after removal of prepared statements and dual references

2008-09-09  Jay Pipes  <jay@mysql.com>

	Removed prepared statement, execute, and 'dual' references in limit test case

2008-09-09  Brian Aker  <brian@tangent.org>

	Monty's gettext fix merge

2008-09-09  Brian Aker  <brian@tangent.org>

	Fixed bad include

2008-09-09  Brian Aker  <brian@tangent.org>

	Cleanup of character sets.

2008-09-09  Brian Aker  <brian@tangent.org>

	Cleanup of time code (moved into mysys)

2008-09-09  Brian Aker  <brian@tangent.org>

	Force client communication into UTF8

2008-09-09  Brian Aker  <brian@tangent.org>

	Removed define compile for UTF8 collations (we always need them now)

2008-09-09  Brian Aker  <brian@tangent.org>

	Updated test.

2008-09-08  Brian Aker  <brian@tangent.org>

	Removed old delclarations/Innodb hack for latin.

2008-09-07  Brian Aker  <brian@tangent.org>

	Much closer toward UTF8 being around all the time...

2008-09-07  Brian Aker  <brian@tangent.org>

	Cleanup default character set.

2008-09-07  Brian Aker  <brian@tangent.org>

	More cleanup/test fixup around utf8

2008-09-07  Brian Aker  <brian@tangent.org>

	Removed Extra charsets.

2008-09-07  Brian Aker  <brian@tangent.org>

	Missed bad include.

2008-09-07  Brian Aker  <brian@tangent.org>

	Remove homebrew xml parser.

2008-09-07  Brian Aker  <brian@tangent.org>

	Removed more of the charset support.

2008-09-07  Brian Aker  <brian@tangent.org>

	Removed part of latin1

2008-09-06  Brian Aker  <brian@tangent.org>

	Removed more charsets.

2008-09-06  Brian Aker  <brian@tangent.org>

	More charset

2008-09-06  Brian Aker  <brian@tangent.org>

	Pass through removing charsets which are dead.

2008-09-05  Brian Aker  <brian@tangent.org>

	More removal.

2008-09-13  Monty Taylor  <monty@inaugust.com>

	Merged in new po files.

2008-09-09  Monty Taylor  <monty@inaugust.com>

	Expanded po subdir trap to catch the case where we're setting programs to :.

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Merged in from brian.

2008-09-05  Brian Aker  <brian@tangent.org>

	Merge from Monty, cleanup in tabs during merg.

2008-09-05  Brian Aker  <brian@tangent.org>

	Big, fat, UTF-8 patch. This fixes some of the oddities around only one
	charset.

2008-09-05  Brian Aker  <brian@tangent.org>

	Remove a few character sets/fix some tests.

2008-09-04  Brian Aker  <brian@tangent.org>

	Remove random dead variables.

2008-09-04  Brian Aker  <brian@tangent.org>

	More changes in charsets (just deletions)

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Removed bogus copyright headers.

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Reformatted slap and test.

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Removed EMBEDDED_LIBRARY.

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Merged removal of DYNAMIC_STRING.

2008-09-04  Monty Taylor  <monty@inaugust.com>

	Added back mysqlslap as drizzleslap. Also made it C++ and removed DYNAMIC_STRING.

2008-09-03  Monty Taylor  <monty@inaugust.com>

	Removed DYNAMIC_STRING.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Removed mysqlslap test.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Moved q_lines to vector.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Removed templated Dynamic_array class - we don't need it.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Replaced DYNAMIC_ARRAY with std::map in drizzlebinlog.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Fixed test for HAVE_DECL_MADVISE to actually work.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Removed mysqlslap from tree.

2008-09-02  Monty Taylor  <monty@inaugust.com>

	Removed unused var.

2008-09-05  Monty Taylor  <monty@inaugust.com>

	Removed unused var.

2008-09-04  Brian Aker  <brian@tangent.org>

	Changing default character set from this point on.

2008-09-04  Brian Aker  <brian@tangent.org>

	strend remove

2008-09-04  Brian Aker  <brian@tangent.org>

	Removed duplicate C99/posix calls.

2008-09-02  Patrick Galbraith  <patg@radha.local>

	Added back tests, work in progress

2008-08-28  Jay Pipes  <jay@mysql.com>

	Merged Grant's fixes for sql_derived.  Fixes bug#261687

2008-08-26  Grant Limberg  <grant@glsoftware.net>

	Fix to link sql_derive with ./configure --with-debug

2008-08-25  Jay Pipes  <jay@mysql.com>

	From Mats.  Corrected build issue with missing Makefile target

2008-08-25  Mats Kindahl  <mats@mysql.com>

	Post-merge fix to new code using THD:proc_info, which was made private by the pre-merge patch.

2008-08-25  Mats Kindahl  <mats@mysql.com>

	Merging lp:~mkindahl/stdize-code with lp:drizzle

2008-08-25  Mats Kindahl  <mats@mysql.com>

	Hiding THD::proc_info field and providing a setter and getter.
	Replacing use of swap_variables() in C++ code with std::swap().
	Moving swap_variables() into C files where it is used.
	Replacing some function-like macros with inline functions.

2008-08-25  Mats Kindahl  <mats@mysql.com>

	Turning on -O3 for non-debug builds since this enabled function inlining.
	It also enabled the optimizations -funswitch-loops and -fgcse-after-reload.
	The optimization -funswitch-loops moves invariant code out of loop bodies,
	while -fgcse-after-reload does an extra pass to elimiate redundant loads.
	Both optimization have potential for speeding up the code, but low risk of
	breaking anything.

2008-08-25  Jay Pipes  <jay@mysql.com>

	Merge from Arjen.  Fixes some stuff in the test suite

2008-08-25  arjen@lentz.com.au

	Initial mods for making all tests work again. Some tests adapted+added.
	List of tests in Makefile now alphabetically sorted, dups removed.

2008-08-22  Brian Aker  <brian@gir.tangent.org>

	Merge from Patrick.

2008-08-22  Brian Aker  <brian@tangent.org>

	Removed dead bits.

2008-08-22  Patrick Galbraith  <patg@radha.local>

	Merge with trunk

2008-08-22  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Got rid of all instances of ~0

2008-08-21  Monty Taylor  <monty@inaugust.com>

	More MAX macros.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	INT32_MAX stuff.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Undid some stupid int->int16_t conversions.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	More ~0 removal.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Updated some Long refs to use stdint constants.

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Merged from PatG

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Re-disabled loaddata_autocom_innodb

2008-08-21  Monty Taylor  <monty@inaugust.com>

	Merged from HarrisonF

2008-08-21  Harrison Fisk  <harrison@mysql.com>

	Merge from trunk

2008-08-21  Harrison Fisk  <harrison@mysql.com>

	Adding additional working test cases.

2008-08-22  Brian Aker  <brian@tangent.org>

	Dead define removal.

2008-08-22  Patrick Galbraith  <patg@radha.local>

	Added in passing tests

2008-08-21  Patrick Galbraith  <patg@radha.local>

	Ulong conversion

2008-08-20  Monty Taylor  <monty@inaugust.com>

	Updated po files.

2008-08-20  Monty Taylor  <monty@inaugust.com>

	Merged from Harrison.

2008-08-20  Harrison Fisk  <harrison@mysql.com>

	Fix for bugs 259843 and 256482

2008-08-20  Monty Taylor  <monty@inaugust.com>

	Merged from Jay.

2008-08-20  Jay Pipes  <jay@mysql.com>

	Working reader and writer for table.proto definitions now

2008-08-20  Jay Pipes  <jay@mysql.com>

	New table definition and updated reader and writer test programs

2008-08-20  Brian Aker  <brian@tangent.org>

	No more dead special flags...

2008-08-20  Brian Aker  <brian@tangent.org>

	One more mode down, two more left to go!

2008-08-20  Brian Aker  <brian@tangent.org>

	More MODE removal.

2008-08-19  Brian Aker  <brian@tangent.org>

	More modes removed. 0 always becomes new number again

2008-08-19  Brian Aker  <brian@tangent.org>

	More removal on modes.

2008-08-19  Brian Aker  <brian@tangent.org>

	flag cleanup

2008-08-19  Brian Aker  <brian@tangent.org>

	Class cleanups... duplicates are in definitions and unireg :(

2008-08-19  Brian Aker  <brian@tangent.org>

	More Table cleanup

2008-08-19  Brian Aker  <brian@tangent.org>

	Refactor of Table methods.

2008-08-19  Brian Aker  <brian@tangent.org>

	Moved Field iterator out to its own definition.

2008-08-19  Brian Aker  <brian@gir.tangent.org>

	Merge of Brian's tree to main tree.

2008-08-18  Brian Aker  <brian@tangent.org>

	Removed old base view code.

2008-08-18  Brian Aker  <brian@tangent.org>

	Refactoring show command

2008-08-18  Brian Aker  <brian@tangent.org>

	Refactoring table.h

2008-08-18  Brian Aker  <brian@tangent.org>

	Refactoring of class Table

2008-08-18  Brian Aker  <brian@tangent.org>

	Removed dead/not used code.

2008-08-17  Brian Aker  <brian@tangent.org>

	Mering Monty's work

2008-08-19  Monty Taylor  <monty@inaugust.com>

	Removed .h files from sources.

2008-08-19  Monty Taylor  <monty@inaugust.com>

	Merged from Mats.

2008-08-19  Mats Kindahl  <mats@mysql.com>

	Adding specification of a simple protobuf-based binary log format,
	including a reader and a writer. The intention is to produce some
	tools to experiment with the format and see what needs to be done.

2008-08-19  Monty Taylor  <monty@inaugust.com>

	Added explicit .h file relationship.

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Updated templates.

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Fixed a few build oopses for out-of-tree builds.

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-18  Brian Aker  <brian@gir.tangent.org>

	Merge with TRUNK

2008-08-17  Brian Aker  <brian@tangent.org>

	More dead variables.

2008-08-17  Brian Aker  <brian@tangent.org>

	Removed old prep variables.:

2008-08-17  Brian Aker  <brian@tangent.org>

	Remove dead function merge_on_conds

2008-08-17  Brian Aker  <brian@tangent.org>

	Removed dead viewvariable.

2008-08-17  Brian Aker  <brian@tangent.org>

	Removed belong_to_view variable

2008-08-16  Brian Aker  <brian@tangent.org>

	Removed merge engine reference

2008-08-16  Brian Aker  <brian@tangent.org>

	Refactor around classes. TABLE_LIST has been factored out of table.h

2008-08-16  Brian Aker  <brian@tangent.org>

	Remove dead bits from enum field

2008-08-16  Brian Aker  <brian@tangent.org>

	Cleaned up depend in Proto utils. Modified int to bool. Put TmpTable class
	into play.

2008-08-15  Brian Aker  <brian@tangent.org>

	Commiting next pass of Table class cleanup.

2008-08-15  Brian Aker  <brian@tangent.org>

	First pass in encapsulating table (it is now an object, no longer a structure).

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Removed extraneous includes.

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Removed full-path reference to libserialize, since it's a depend from this dir.

2008-08-18  Monty Taylor  <monty@inaugust.com>

	Removed duplicate heap_var test.

2008-08-17  Monty Taylor  <monty@inaugust.com>

	Fixed syntax error.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Removed LIST from libdrizzle.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Got everything using sql_print_*.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Merged in new strings.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Tagged more strings.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Cleaned up libdrizzle error messages a little more.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Updated po files.

2008-08-16  Monty Taylor  <monty@inaugust.com>

	Merged in translations from launchpad.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	More mysys/mystrings removal.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	More mysys removes.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	Updated POTFILES with local_infile.c.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	Removed more mysys errmsg links.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	Removed some mysys refs.

2008-08-15  Monty Taylor  <monty@inaugust.com>

	Changed client_errors to be exposed through a function.

2008-08-14  Brian Aker  <brian@gir.tangent.org>

	Fix for slave build (just do not use any flags on google generated code)

2008-08-14  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-14  Monty Taylor  <monty@inaugust.com>

	Fixed English translation of Error on close of '%'s (Errcode: %d). Thanks.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Merged in new translations from launchpad.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Merged in trunk.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Finished marking strings in drizzled.cc.

2008-08-14  Brian Aker  <brian@tangent.org>

	Remove server based system tables (we no longer have them).

2008-08-14  Brian Aker  <brian@tangent.org>

	Remove SET

2008-08-13  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Fixed bug#257694 - added various files to EXTRA_DIST and noinst_HEADERS to make make distcheck (and with-it out-of-tree builds) work.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Updated po files to reflect drizzled.cc change.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Fixed a syntax oops.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Added some strings from drizzled.cc.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Added some strings from drizzled.cc.

2008-08-13  Monty Taylor  <monty@inaugust.com>

	Fixes bug#257561. Changed the help text for --plugin_load.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Don't build po dir if we don't have gettext.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Add gettext calls around server errors. Still not right, but...

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Updated po files.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Added more translations.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Merged up from codestyle.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Merged change from Grant.

2008-08-12  Grant Limberg  <grant@glsoftware.net>

	Merge from trunk
	
	Did a global search and replace for MYSQL_* variables.  Renamed to DRIZZLE_*.
	
	Renamed value of DRIZZLE_CONFIG_NAME from "my" to "drizzled"

2008-08-12  Grant Limberg  <grant@glsoftware.net>

	renamed all instances of MYSQL_ to DRIZZLE_

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-08-13  Brian Aker  <brian@tangent.org>

	Updated proto file for table (not FRM work).

2008-08-12  Brian Aker  <brian@tangent.org>

	Merging Monty

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Changes to drizzled_safe to maybe make it work again.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Whoops. Somehow I'd left out drizzled_error_messages.h from POTFILES.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Merged translations.

2008-08-12  Monty Taylor  <monty@inaugust.com>

	Renamed.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Added new languages.

2008-08-12  Brian Aker  <brian@tangent.org>

	yet another fix for stdint....

2008-08-12  Brian Aker  <brian@tangent.org>

	Remove object_creation_ctx.

2008-08-12  Brian Aker  <brian@gir.tangent.org>

	Fix (yuck!) for OSX/Google bug.

2008-08-11  Brian Aker  <brian@tangent.org>

	Modified sql_db to now use Google Proto buffers instead of MySQL type.

2008-08-11  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Fixed build in archive.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	More deletions.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	More removal.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Removed another useless define.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Removed two useless defines.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Added step one of finding libprotobuf.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Made Makefile.am better.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Expanded the move to AM_CFLAGS and AM_CXXFLAGS. Now we should be more correct.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Changed CFLAGS to CXXFLAGS on drizzletest... how was this working....?

2008-08-11  Brian Aker  <brian@tangent.org>

	First pass of new sql_db.cc work

2008-08-11  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Put warnings into AM_C*FLAGS so they can be overridden per lib.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Make autoreconf happy.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Backported fix from Hartmut.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Fixed typo.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Updated name of drizzle.cc in POTFILES.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Rolled back -fno-exceptions change just a little bit.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Added string.reserve() calls.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Put -fno-exceptions flag in selectively. Add back HAVE_DECL_MADVISE check so
	that we don't redefine MADVISE if it's already defined.

2008-08-11  Brian Aker  <brian@tangent.org>

	Clean up UNION in CREATE TABLE statement

2008-08-11  Brian Aker  <brian@tangent.org>

	Further work with ulong in myisam

2008-08-11  Brian Aker  <brian@tangent.org>

	Removed global variable calls, cleaned up static.

2008-08-11  Brian Aker  <brian@tangent.org>

	Sqlech issues with pack

2008-08-11  Brian Aker  <brian@tangent.org>

	Removing dead include file, external pack program.

2008-08-11  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Fixed null-query problem.

2008-08-11  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Undid string->string* change. Re-read the vector destructor and the free-by-hand
	isn't necessary because it makes a copy. /me smacks self.

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Merged stl-client-progs.

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Changed string to string* and free it.

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Replaced DYNAMIC_ARRAY in drizzlecheck with vector<string>
	Removed -fno-explicit-template.

2008-08-11  Brian Aker  <brian@tangent.org>

	ulong conversion

2008-08-10  Brian Aker  <brian@tangent.org>

	Minor cleanups around ulong in kernel.

2008-08-10  Brian Aker  <brian@tangent.org>

	Remove dead plugin type.

2008-08-10  Brian Aker  <brian@tangent.org>

	Another pass of ulong removal.

2008-08-10  Brian Aker  <brian@tangent.org>

	ulong cleanup, remove log code from myisam.

2008-08-10  Brian Aker  <brian@tangent.org>

	First pass in removing ulong from MyISAM

2008-08-10  Brian Aker  <brian@tangent.org>

	Remove dead function call.

2008-08-10  Brian Aker  <brian@tangent.org>

	Clean up port startup 

2008-08-10  Brian Aker  <brian@tangent.org>

	Removed old fun tests.

2008-08-05  brian  <brian@localhost.localdomain>

	Reverted ulong back in resolve stack. Reverted MAX (issue for OSX, possibly
	others)

2008-08-10  Brian Aker  <brian@tangent.org>

	ulong conversion. 

2008-08-10  Brian Aker  <brian@tangent.org>

	Final ulong cleanup in clients

2008-08-10  Brian Aker  <brian@tangent.org>

	Remove custom length type

2008-08-10  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Fixed a couple of min/max type borkings from the last merge.

2008-08-10  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Rolled back a couple of overly anxious consts.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Const correctness change.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged from use-replace-funcs.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged from Andy.

2008-08-09  Andy Lester  <andy@petdance.com>

	Merged from Monty

2008-08-09  Andy Lester  <andy@petdance.com>

	added proper const qualifiers.  Hoisted some redundat code in buffer-filling

2008-08-09  Andy Lester  <andy@petdance.com>

	Added a proper const qualifer.

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed unnecessary cast

2008-08-09  Andy Lester  <andy@petdance.com>

	removing unnecessary casts

2008-08-09  Andy Lester  <andy@petdance.com>

	putting in proper const qualifiers

2008-08-09  Andy Lester  <andy@petdance.com>

	use NULL, not 0

2008-08-09  Andy Lester  <andy@petdance.com>

	make things more const-correct

2008-08-09  Andy Lester  <andy@petdance.com>

	removed unnecessary cast

2008-08-09  Andy Lester  <andy@petdance.com>

	const happy

2008-08-09  Andy Lester  <andy@petdance.com>

	const happiness

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Oy. Replaced max and min macros with std::max and std::min so that we get
	strong typing. And, then, cast things in the right direction...

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged stl-client-progs.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Replaced DYN string in drizzledump.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed DYNAMIC_STRING from drizzleimport.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Moved import, check and dump to C++... fixed errors.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed no-longer-valid comment.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Replaced DYNAMIC_STRING with C++ string in drizzle command line client.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Renamed drizzle.c

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Eeek. Final cleanups. 

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Missed a coupla STDCALLs

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Made ulong in pack.c into uint32_t.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed STDCALL macros calls.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed my_bool from drizzle.h

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed mysys/tests.

2008-08-10  Brian Aker  <brian@tangent.org>

	libdrizzle has ulong removed.

2008-08-09  Brian Aker  <brian@tangent.org>

	Merge + closesocket() fix

2008-08-10  Andrew Garner  <andrew.garner@rackspace.com>

	fixed identation problems

2008-08-09  Andrew Garner  <muzazzi@gmail.com>

	- enable ipv6 in libdrizzle/client.c again
	- search through getaddrinfo() instead of simply taking first entry.
	first succesfull connection is used 

2008-08-09  Andrew Garner  <muzazzi@gmail.com>

	enable ipv6 in drizzled

2008-08-09  Brian Aker  <brian@tangent.org>

	Merge

2008-08-09  Andrew Garner  <andrew.garner@rackspace.com>

	extended check for bad connections after accept

2008-08-09  Brian Aker  <brian@tangent.org>

	Head ulong conversion.

2008-08-09  Brian Aker  <brian@tangent.org>

	Update for ulong change over.

2008-08-09  Brian Aker  <brian@tangent.org>

	Removed dead THD print statements.

2008-08-09  Brian Aker  <brian@tangent.org>

	ulong cleanp in client apps

2008-08-09  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged from use-replace-func.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged from Andy.

2008-08-09  Andy Lester  <andy@petdance.com>

	Need to have a prototype for stpncpy for the platforms that do not have it

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed strcmp()

2008-08-09  Andy Lester  <andy@petdance.com>

	removed one last strnlen reference

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed strnlen

2008-08-09  Andy Lester  <andy@petdance.com>

	Andy's notes for things to do

2008-08-09  Andy Lester  <andy@petdance.com>

	merged with mainline

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged use-replace-funcs.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged from Andy.

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed my_fread, my_ftell and my_fdopen

2008-08-09  Andy Lester  <andy@petdance.com>

	merging from main

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed mf_wfile.c and the unused wildcard functions within

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed functions my_clock, my_getncpus and my_memmem

2008-08-09  Andy Lester  <andy@petdance.com>

	renamed my_div.c to my_filename.c to match the function within

2008-08-09  Andy Lester  <andy@petdance.com>

	removed my_append()

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed strip_sp(), both C and C++ versions

2008-08-09  Andy Lester  <andy@petdance.com>

	merged

2008-08-09  Andy Lester  <andy@petdance.com>

	Removed unused function list_length

2008-08-09  Andy Lester  <andy@petdance.com>

	use NULL, not 0

2008-08-09  Andy Lester  <andy@petdance.com>

	removed incorrect comment

2008-08-09  Andy Lester  <andy@petdance.com>

	fixing some constants

2008-08-08  Andy Lester  <andy@petdance.com>

	merged

2008-08-08  Andy Lester  <andy@petdance.com>

	merged from Monty

2008-08-08  Andy Lester  <andy@petdance.com>

	removed strcont from the docs

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Grabbed one more change.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Merged trunk up.

2008-08-09  Monty Taylor  <monty@inaugust.com>

	Removed some more m68k assembler.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged current state of use-replace-funcs.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed my_strchr.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed some m68k assembler.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed strappend.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed load xml infile. Hope nobody liked it. Now the only thing we need xml.c
	for anymore is charsets... so when _those_ go away... BWAHAHAHA

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed bmove512.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed references to strmov and strnmov

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed bcopy-duff... unused.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Fixed const thing.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged. Plus a few fixes.

2008-08-08  Andy Lester  <andy@petdance.com>

	removed strcont

2008-08-08  Andy Lester  <andy@petdance.com>

	merging from main

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Fixed strnmov macro.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Ooops. Missed a rename in Makefile.am.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged from andy.

2008-08-08  Andy Lester  <andy@petdance.com>

	Fixing casts that remove constness

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed strcend.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Added getpagesize to Makefile.am comment so I don't forget I put it there again.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Renamed strnmov to stpncpy. Made it conditional.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed strlen altogether. Make strnlen conditional.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed strchr.

2008-08-09  Brian Aker  <brian@tangent.org>

	Fix for Innodb bool issue.

2008-08-09  Brian Aker  <brian@tangent.org>

	Second pass.

2008-08-09  Brian Aker  <brian@tangent.org>

	First pass Innodb my_bool removal.

2008-08-08  Brian Aker  <brian@tangent.org>

	Removed log_table variable efforts in CSV.

2008-08-08  Brian Aker  <brian@tangent.org>

	Modified blackhole and archive to remove my_bool.

2008-08-08  Brian Aker  <brian@tangent.org>

	Converted myisam away from my_bool

2008-08-08  Brian Aker  <brian@tangent.org>

	Removed my_bool from heap engine.

2008-08-08  Brian Aker  <brian@tangent.org>

	Merging Monty's work.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed sparc assembler.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged remove-assembler.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed mystringslt conv lib and replaced it with a noinst lib.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged codestyle.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Removed assembler code and --enable-assembler.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Reverted silly change that crept in.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged from muzazzi.

2008-08-08  Andrew Garner  <muzazzi@gmail.com>

	memory was not initialized for new results in drizzle_list_fields

2008-08-08  Andrew Garner  <muzazzi@gmail.com>

	error was not flagged if client aborted

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Merged from Jim.

2008-08-08  Monty Taylor  <monty@inaugust.com>

	Renamed strmov to stpcpy. Use the builtin version if it exists.

2008-08-08  Brian Aker  <brian@tangent.org>

	Fixed my_bool issue in options.

2008-08-08  Brian Aker  <brian@tangent.org>

	Cleanup of my_bool from extra and libdrizzle

2008-08-08  Brian Aker  <brian@tangent.org>

	Cleaned out my_bool from strings.

2008-08-08  Brian Aker  <brian@tangent.org>

	Full removal of my_bool from central server.

2008-08-08  Brian Aker  <brian@tangent.org>

	my_bool conversion in Table

2008-08-08  Brian Aker  <brian@tangent.org>

	Remove COM_STAT

2008-08-08  Brian Aker  <brian@tangent.org>

	Merge from Jim

2008-08-08  Jim Winstead  <jimw@mysql.com>

	Use DRIZZLE_* environment variables instead of MYSQL_*

2008-08-08  Jim Winstead  <jimw@mysql.com>

	Remove some dbug and embedded remnants

2008-08-08  Jim Winstead  <jimw@mysql.com>

	Remove HTML and XML output support from drizzle client

2008-08-08  Brian Aker  <brian@tangent.org>

	OSX fix

2008-08-08  Brian Aker  <brian@tangent.org>

	Refactoring TCP

2008-08-08  Brian Aker  <brian@tangent.org>

	Merge from PatrickG

2008-08-07  Monty Taylor  <monty@inaugust.com>

	Added drizzleadmin.cc to POTFILES

2008-08-07  Monty Taylor  <monty@inaugust.com>

	Merged gettext work from dogo.

2008-08-07  forstm1w  <forstm1w@Lena>

	Added gettext translations to strings.

2008-08-08  Brian Aker  <brian@tangent.org>

	Merging up a bunch of assert() and cleanup of my_sock typedef

2008-08-07  Brian Aker  <brian@tangent.org>

	More error control around socket calls.

2008-08-07  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-08-07  Monty Taylor  <monty@inaugust.com>

	Added LIBINTL to tests for resolve_stack_dump.

2008-08-07  Monty Taylor  <monty@inaugust.com>

	Merged from Mats.

2008-08-07  Mats Kindahl  <mats@mysql.com>

	Manual merge of lp:drizzle into ~mkindahl/remove-mem-casts.

2008-08-05  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in libdrizzle/ for memcmp(), memcpy(), memset(), and memmove().

2008-08-05  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in mystrings/ for memcmp(), memcpy(), memset(), and memmove().

2008-08-04  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in mysys for memcmp(), memcpy(), memset(), and memmove().

2008-08-06  Monty Taylor  <monty@inaugust.com>

	Merged from Jay.

2008-08-07  Jay Pipes  <jay@mysql.com>

	Changed to include all the server definitions (use server_includes.h 
	instead of common_includes.h) and #define MYSQL_SERVER 1 before that
	
	Turns out the problem was (YET ANOTHER) conditionally excluded piece
	of sql_class.h in a MYSQL_SERVER block that cut out a bunch of definitions
	that plugin.h needed.
	
	The solution was simple, but only after a long time investigating.
	
	Good some good notes on further simplifying the include tree, but fixing
	this for now...

2008-08-06  Monty Taylor  <monty@inaugust.com>

	Merge from Jay.

2008-08-06  Jay Pipes  <jay@mysql.com>

	* Added Doxyfile configuration for doxygen builds
	* Update Makefile with a make doxygen command
	* Note that doxygen as run with the Doxyfile requires Graphviz to be installed

2008-08-06  Monty Taylor  <monty@inaugust.com>

	Merged from jay.

2008-08-06  Jay Pipes  <jay@mysql.com>

	FINAL PHASE removal of mysql_priv.h (Bye, bye my friend.)
	
	* Moved sql_table.h functions out into separate header
	* Renamed mysql_priv.h and replaced all occurences of it
	* Removed redundant includes in a variety of files
	* Modified Makefile.am to remove mysql_priv.h
	* Marked UNUSED (dead code for removal) functions in drizzled/server_includes.h

2008-08-05  Jay Pipes  <jay@mysql.com>

	minor cleanup and final removal of all client and server prepared statement declarations and definitions

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Removed a bunch of files from mystrings that aren't build or used at all.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	LIBOBJS needs to be LTLIBOBJS in this case.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Added libintl to myisam 

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Fixed ref to my_global.h in mystrings/longlong2str_asm.c.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Wow. These aren't used anywhere.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Removed client insistence on version.h stuff.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Removed version.h (non-public header) from drizzle.h (public header)

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Make libdrizzle.so install into $(libdir) instead of $(pkglibdir)

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Updated pot.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Merged from Jay.

2008-08-05  Jay Pipes  <jay@mysql.com>

	Added new non-server, non-client common includes header, new show.h and connect.h headers

2008-08-05  Jay Pipes  <jay@mysql.com>

	* Ensured all drizzled/field/x.cc files to include mysql_priv.h
	* Remove all includes from drizzled/field/x.h files
	* pull connect and show function declarations out into separate
	header files
	* More cleanup of mysql_priv.h including removing all conditional
	includes
	* Modified all plugins to ensure MYSQL_SERVER is not defined and
	that they include the proper drizzled/common_includes.h and not
	the full mysql_priv.h
	* Multiple comments to mark TODO items...

2008-08-05  Jay Pipes  <jay@mysql.com>

	More comments in mysql_priv.h to mark stuff TODO. Move sql_locale.h and object_creation_ctx.h up in the file since no more dependencies above them.

2008-08-05  Jay Pipes  <jay@mysql.com>

	* Added drizzled/definitions.h which contains many of the #defines from
	the old unireg.h
	* Removed unireg.h from the Makefile.am
	* Pulled libdrizzled/gettext.h, drizzled/error.h and drizzled/structs.h
	into mysql_priv.h
	* Continued cleanup of mysql_priv.h includes and commenting
	* Removed dead #define for OPEN_TRIGGER_XXX in definitions.h

2008-08-05  Jay Pipes  <jay@mysql.com>

	* Added include guards in a couple places, and removed unecessary
	conditional includes in older storage engine code
	* Provided comments for included file in mysql_priv.h explaining 
	what each file brought into the include stream
	* Added notes and TODOs where cleanup is still needed
	* Removed unnecessary pragmas in similarly-named header/implementation
	files (C++ standard says they are unnecessary if implementation is 
	in a file named same as the header.

2008-08-05  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-08-05  Jay Pipes  <jay@mysql.com>

	Merge from trunk:

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Merged fix from andrey.

2008-08-06  Andrey Hristov  <ahristov@mysql.com>

	Constify the usage of CHARSET_INFO almost to the last place in the code.
	99% of the parameters are const CHARSET_INFO * const cs.
	Wherever possible stack variables are also double consted.

2008-08-05  Andrey Hristov  <ahristov@mysql.com>

	More unneeded return in void functions

2008-08-05  Andrey Hristov  <ahristov@mysql.com>

	Remove support for the old, pre-4.1, protocol

2008-08-05  Andrey Hristov  <ahristov@mysql.com>

	libdrizzle won't connect to non-charset compliant servers

2008-08-05  Andrey Hristov  <ahristov@mysql.com>

	Remove unneeded return in void functions

2008-08-05  Andrey Hristov  <ahristov@mysql.com>

	Remove unneeded forward declaration

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Added LIBINTL to libs needed.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Removed libmysyslt.la, made mysys a noinst_ and made everything use it. It's
	not a standalone lib, there's no reason to pretend otherwise.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Added some strings from my_error and my_getopt we'd missed before.

2008-08-05  Monty Taylor  <monty@inaugust.com>

	Carried over longlong->int64_t change to assembler file.

2008-08-02  brian  <brian@localhost.localdomain>

	First pass through cleaning up security context.

2008-08-01  brian  <brian@localhost.localdomain>

	Merge from downsource tree.

2008-08-04  Brian Aker  <brian@tangent.org>

	Merge from Harrison Fisk of the Ebay + Google Hash engine.

2008-08-05  Harrison Fisk  <harrison@mysql.com>

	Port Ebay/Google memory storage engine variable width columns.  
	
	See: http://code.google.com/p/mysql-heap-dynamic-rows/

2008-08-04  Brian Aker  <brian@tangent.org>

	Fix for Archive tests (still failure in engine).

2008-08-01  brian  <brian@localhost.localdomain>

	Merge from Monty

2008-08-04  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Merged bugfix for 254709.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added a test and an automake condition around auth_pam that makes it not build
	if the system does not have PAM headers installed.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Merged from Mats.

2008-08-03  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in vio/ for memset()

2008-08-03  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in MyISAM storage for memcmp(), memcpy(), memset(), and memmove().
	Removed some reliance on execution order of function parameters.
	Adding some assertions.

2008-08-02  Mats Kindahl  <mats@mysql.com>

	emoving redundant use of casts in extra/ for memcmp(), memcpy(), memset(), and memmove().

2008-08-02  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in client/ for memcmp(), memcpy(), memset(), and memmove().

2008-08-02  Mats Kindahl  <mats@mysql.com>

	Removing extreneous explicit casts for blackhole storage engine.

2008-08-02  Mats Kindahl  <mats@mysql.com>

	Removing extreneous explicit casts for the heap storage engine.

2008-08-01  Mats Kindahl  <mats@mysql.com>

	Minor compile issue fixed.

2008-08-01  Mats Kindahl  <mats@mysql.com>

	Removing redundant use of casts in drizzled/ for memcmp(), memcpy(), memset(), and memmove().
	Adding non-const version of String::ptr() to provide covariance on const:ness.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Merged from Felipe

2008-08-04  Felipe  <felipe@pena>

	- Renamed MYSQL_ERROR to DRIZZLE_ERROR.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Changed bug contact location to a url..

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Updated to more modern AC_INIT and AM_INIT_AUTOMAKE invocations.

2008-08-04  Brian Aker  <brian@tangent.org>

	Send plain text password in scramble for moment

2008-08-01  brian  <brian@localhost.localdomain>

	Merge

2008-08-04  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Moved libdrizzle.ver.in to libdrizzle.ver.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Merged from gettextize.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added strings from table.cc.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Made the ER() macro always gettext the return value.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added msg that was missed in drizzle.c

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Changed gettext_noop() to N_()

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added three more files worth of stuff.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Removed en_US.po... it's really pointless.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added LINGUAS file so that langs actually get installed.

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Added strings from three more files...

2008-08-04  Monty Taylor  <monty@inaugust.com>

	Merge from tmaesaka.

2008-08-04  Toru Maesaka  <dev@torum.net>

	removed mystring dependencies from libdrizzle.c

2008-08-04  Toru Maesaka  <dev@torum.net>

	Merge with head and conflicts resolved

2008-08-01  Toru Maesaka  <dev@torum.net>

	str(mov|make) completely taken out from libdrizzle

2008-08-01  Toru Maesaka  <dev@torum.net>

	Merge from trunk

2008-08-01  Toru Maesaka  <dev@torum.net>

	str(mov|make) replaced with standard C calls in libdrizzle.c

2008-07-31  Toru Maesaka  <dev@torum.net>

	removed my_strdup and dead code from libdrizzle

2008-08-03  Brian Aker  <brian@tangent.org>

	Ranom clean up.

2008-08-03  Brian Aker  <brian@tangent.org>

	Cleanup/removal of more of the dead protocols.

2008-08-03  Brian Aker  <brian@tangent.org>

	Cleaned out dead salt bits from password.c

2008-08-03  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-08-03  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-08-03  Monty Taylor  <monty@inaugust.com>

	Added charsets dir back in. Ooops.

2008-08-02  Monty Taylor  <monty@inaugust.com>

	Removed mysql errnos from ctype-ucs2.c... replaced them with errno errnos.

2008-08-02  Monty Taylor  <monty@inaugust.com>

	Backed up charsets automake change.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Put in automake build tests...

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Remove test references to charset dir.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Another stab at protecting NLS stuff.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Turn thr_rwlock.c into a conditionally built source file.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	zomg. Why were we linking in my_new here. 

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Don't care about machines that don't have strtol. Prove me wrong.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Made build of thr_mutex.c conditional on --with-fast-mutexes, since that's 
	currently the only condition that will cause code to be compiled within.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Removed my_lockmem... we never actually use it.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Removed double check for string functions.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Made getpagesize an automake compat LIBOBJ.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Removed my_new - I am not supporting C++ compilers without new and delete.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Fixed typo.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Added automake conditional compilation of distributed system replacement functions.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Changed ifdef's so that places without locale.h will still work ok.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Fixed a CPP macro issue in gettext.h.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Updated en_US.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Fixed a few final gettext things in sql_slave.cc.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Fixed a few gettext bugs.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Added en_US translation file. 
	Added slave.cc messages to gettext.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Changed the calling form for ENABLE_NLS

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Merged in gettextize changes.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Moved m4 macros to top-level m4 dir, per GNU standards (and where gettext wanted it :)

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Changed gettext() to _() in drizzle.c.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Removed duplicate po dir mention which killed distclean.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Ding dong. errmsg.sys is dead.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Moved locale.h->sql_locale.h to prevent local conflicts with drizzled.cc including the system locale.h.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Actually turn gettext on...

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Gettext error compiles and passes test!

2008-08-01  Monty Taylor  <monty@inaugust.com>

	First pass at gettexizing the error messages.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Giant merge.

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Added drizzle.pot. Not 100% on best practice here, but this seems ok.

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Merged from trunk

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Added gettext calls in to my_getopt.c and drizzle.c

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Added very initial gettextize stuff.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	A few meaningless changes.

2008-08-01  Monty Taylor  <monty@inaugust.com>

	autoconf warning cleanups.

2008-08-03  Brian Aker  <brian@tangent.org>

	Importing fixes from muzazzi

2008-08-02  Mark Atwood  <me@mark.atwood.name>

	fix to bug250961 "com_statistics crashes drizzle"
	patch by Andrew Garner <muzazzi@gmail.com>

2008-08-02  Mark Atwood  <me@mark.atwood.name>

	fix bug 250078, parser error with space at end of statement
	patch from Andrew Garner <muzazzi@gmail.com>

2008-08-02  Mark Atwood  <me@mark.atwood.name>

	fix for bug 250065 from Andrew Garner <muzazzi@gmail.com>
	
	the problem is that MySQL relied on (icky) fall-through
	behavior, where an error gets flagged in the stored function code, after
	not matching a native or udf function.  However, the SP code has been
	removed in drizzle.
	An error code other than
	(the deprecated?) ER_SP_DOES_NOT_EXIST should probably be used

2008-08-03  Brian Aker  <brian@tangent.org>

	First pass on PAM auth

2008-07-30  brian  <brian@localhost.localdomain>

	Merge from Brian (aka me)

2008-08-01  Brian Aker  <brian@tangent.org>

	Cleanup of keywords.

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed ALTER TABLE UPGRADE.
	
	We have nothing to upgrade from :)

2008-08-01  Brian Aker  <brian@tangent.org>

	Remove BIT operations, replace with functions.

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed RAID table delete point.

2008-08-01  Brian Aker  <brian@tangent.org>

	Remove ARC directory cleanup.

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed final my_bool from sql_db.

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed dead structures for I_S which are gone.

2008-08-01  Brian Aker  <brian@tangent.org>

	Cleanup around rand.

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed final trace of crypt() lock.

2008-08-01  Brian Aker  <brian@tangent.org>

	Random key cleanup (it is a friday...)

2008-08-01  Brian Aker  <brian@tangent.org>

	Random cleanup in base.h

2008-08-01  Brian Aker  <brian@tangent.org>

	Merge from Jay.

2008-08-01  Jay Pipes  <jay@mysql.com>

	More cleanup and revert broken base.h

2008-08-01  Jay Pipes  <jay@mysql.com>

	* Moved the Item factory creation functions into the item_create.h header, 
	where they belong
	
	* Removed four dead functions:
	
	lex_string_set()
	load_charset()
	load_collation()
	init_fill_schema_files_row()
	
	* Pulled schema_table_store_record() out to sql_show.h, though this
	really should be placed into an I_S specific thing once we get there...

2008-08-01  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-08-01  Jay Pipes  <jay@mysql.com>

	* Pulled the remainder of the log and parse stuff out into
	appropriate header files and cleaned up some of the enums...
	* Builds and tests just fine

2008-07-31  Jay Pipes  <jay@mysql.com>

	removed view_store_options() function - wasn't used anywhere.

2008-07-31  Jay Pipes  <jay@mysql.com>

	Pulled locale stuff out into drizzled/locale.h where it should be...Oh, and named it locale.h and not sql_locale.h because it doesn't have anything to do with SQL

2008-07-31  Jay Pipes  <jay@mysql.com>

	* Pulled sql_alloc* functions out into drizzled/sql_alloc.h

2008-07-31  Jay Pipes  <jay@mysql.com>

	* Pulled Object_creation_ctx and Default_creation_ctx out of mysql_priv.h
	into drizzled/object_creation_ctx.h
	
	* Pulled qc_* callback out of mysql_priv.h into drizzled/handler.h where it belongs
	
	* Put SQL_LIST into drizzled/sql_list.h where it belongs

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed crypt()

2008-08-01  Brian Aker  <brian@tangent.org>

	Removed dead variables.

2008-07-31  Brian Aker  <brian@tangent.org>

	Merging Monty

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Fixed header install problem. The now install to the right places. 

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Moved drizzled to sbin from libexec. (why, god, why?)

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Removed mysql-test from the install.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Fixed another libevent on OSX searching problem.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Output automake version too.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Added output of autoconf version to autorun.sh.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Couple of small post-merge fixes.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Re-remove mysys header from mystrings.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Merged from Andrey.

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Merge

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	- Fix build of exotic, mostly non-western, charsets (--with-extra-charsets)
	
	- Constify the usage of CHARSET_INFO

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Move local infile handling to a separate file

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Couple of make distcheck oriented fixes.

2008-07-31  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Some cleanups/decoupling in mystring.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	my_bool cleanup in libdrizzle time stuff.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Fixed a few naming references.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Renamed MYSQL_TIME to DRIZZLE_TIME.

2008-07-31  Monty Taylor  <monty@inaugust.com>

	Cleaned header headers.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	A couple of changes to move the actual test code to the tests dir and attempt
	to support out-of-tree tests. _That_ part doesn't work, but running make test
	out of the tests dir does.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Fixed one little include for out-of-tree builds.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	If we aren't in a bzr checkout, touch ChangeLog so that automake will run. (Thanks ebergen)

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Put in actual PCRE linking test.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Un-merged a bad readline version workaround.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged from Andrey.

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Merge

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	read_change_user_result doesn't neet buffer and password. They were needed to handle 3.23 authentication, which is no more.

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Constify libdrizzle functions

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Rename escape_(string|quotes)_for_mysql to escape_(string|quotes)_for_drizzle

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Define a constant, instead of a magic number

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Move read_user_name from libdrizzle.c to client.c, where it is only used.
	Made the function static and removed its definition from client_settings.h

2008-07-31  Andrey Hristov  <ahristov@mysql.com>

	Remove code that's under USE_OLD_FUNCTIONS.
	These have been deprecated since long time.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Fixed the previous merge. (since I suck)

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged build changes from Antony.

2008-07-28  Antony Curtis  <atcurtis@dhcp-172-29-58-124.smo.corp.google.com>

	Changes for proper detection of libraries

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Add global include of sys/stat.h.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Changed failure results in autorun.sh to exit 1

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Changed C++ check to actually check for CXX98 instead (since the plain C++ check can't be trusted) 

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Cleaned up configure.ac line.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Added generated errmsg.sys files (for now... removing them post-gettext)

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged in remove-include-dir

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Removed excess AM_CPPFLAGS from the tree. Now the only thing that should be in the include path should be -I${top_srcdir} and -I${top_builddir}w

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Moved config.h to root dir ... otherwise automake adds a -I to the dir where 
	it is, which will mask improper include paths elsewhere in the tree.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Removed global include dir from CPPFLAGS.

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Ding dong include is dead.

2008-07-31  Brian Aker  <brian@tangent.org>

	Final Pass of removing field string, class is stil in place.

2008-07-31  Brian Aker  <brian@tangent.org>

	First pass of CHAR removal.

2008-07-30  Brian Aker  <brian@tangent.org>

	Removed old/dead VARCHAR type from pre-5.0

2008-07-30  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged style fix from Ronald.

2008-07-30  rbradfor  <rbradfor@macmarvin>

	Using correct coding standards for variable initialization

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged from Ronald.

2008-07-30  rbradfor  <rbradfor@macmarvin>

	Mac OS/X with darwin ports corrected uninitialized variable warnings

2008-07-30  Monty Taylor  <monty@inaugust.com>

	Merged remove-include-dir.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Moved errmsg.h.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Moved config.h to drizzled.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Phew. Moved my_base and my_global.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Moved my_dir (and removed references to a lot of places)

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Removed my_stat.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged from Mats.

2008-07-30  Mats Kindahl  <mats@mysql.com>

	Merging with main Drizzle tree.

2008-07-30  Mats Kindahl  <mats@mysql.com>

	Fixing a few comments and a few tests referring to old BSD functions.

2008-07-30  Mats Kindahl  <mats@mysql.com>

	Removing deprecated functions from code and replacing them with C99 equivalents:
	- replacing bcmp() calls with memcmp() calls
	- replacing bfill() with memset()
	- replacing bmove() and bcopy() with memcpy() or memmove()
	
	The function memcpy_fixed() was apparantly introduced to fix a problem in gcc on
	Alpha, but since it is not used consistently, it is likely not necessary any more.
	It was replaced with memcpy().

2008-07-29  Mats Kindahl  <mats@mysql.com>

	Replacing bzero() with memset() in YACC file as well.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Changed the way we work around autoconf2.59

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Added AC_PROG_CC_C99 to the configure script to support autoconf 2.59.

2008-07-30  Brian Aker  <brian@tangent.org>

	Pass through sql_show to remove type to be removed.

2008-07-29  Brian Aker  <brian@tangent.org>

	Syntax remove of char() (now maps to varchar).

2008-07-29  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged in remove-include-dir.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Moved drizzle_version.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Set length to catch errors in adding or removing COM_* constants.
	Fix errors already introduced pre-fix.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Added comp_err to distclean list.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Found brian's drizzle_version.h problem.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Fixed a quick includes in drizzled.cc.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged bug252805

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Bug 252805: ./configure not detecting missing g++
	
	Added in an AC_MSG_ERROR if no C++ compiler is found.
	Also added in a failure condition on lack of C99 compiler.
	Removed -std=g++98 from the compile line, as that is the default.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged bug252687

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Bug 252687: openssl-dev requirement undetected
	
	Add a check for openssl header and an AM_CONDITIONAL which will not
	build the md5 plugin if it is not found.

2008-07-29  Monty Taylor  <monty@inaugust.com>

	Merged remove-include-dir.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved drizzle_time to libdrizzle.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved typelib to mysys.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved sql_common.h and my_time.h to libdrizzle.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Removed my_net.h. Pointless.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Changed to work around ubuntu 32-bit.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved my_bit and my_list

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved my_handler to mysys.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Removed my_attribute. Renaming __attribute__((format(x,y,z))) to ATTRIBUTE_FORMAT(x,y,z) is retarded. So we don't do it anymore.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved drizzle.h to libdrizzle.

2008-07-27  brian  <brian@localhost.localdomain>

	Merge 

2008-07-29  Brian Aker  <brian@tangent.org>

	Final bit of NCHAR removed.

2008-07-29  Brian Aker  <brian@tangent.org>

	More National gone.

2008-07-29  Brian Aker  <brian@tangent.org>

	Fix to remove binary/nchar

2008-07-29  Brian Aker  <brian@tangent.org>

	Removed display bits from blob/text.

2008-07-29  Brian Aker  <brian@tangent.org>

	Move reuse to working location :)

2008-07-29  Brian Aker  <brian@tangent.org>

	Merge from Mats

2008-07-28  Mats Kindahl  <mats@mysql.com>

	Replacing all bzero() calls with memset() calls and removing the bzero.c file.
	Also removing check for bzero from the 'configure.ac' autoconf file.

2008-07-29  Brian Aker  <brian@tangent.org>

	This is the second pass through the code. Mainly to get the socket loop
	finished. Next pass will push out poll() and move to the direct libeven
	queue.

2008-07-28  Brian Aker  <brian@tangent.org>

	First pass on socket cleanup.

2008-07-26  brian  <brian@localhost.localdomain>

	Merge from Monty.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Wrapped the define in an ifdef() so that we can still track upstream on
	modern autoconfs.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Added local define of AC_HEADER_ASSERT.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved my_getopt.h

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Fixed sql_builtin.cc.in... stupid generated files.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Coupla small include cleanups.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved m_ctype, m_string and my_bitmap. Removed t_ctype.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved queues and hash.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Removed trie.c - it's no used anymore.

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Moved my_tree.

2008-07-26  brian  <brian@localhost.localdomain>

	Merge from Brian

2008-07-28  Brian Aker  <brian@tangent.org>

	Fix for memory leak in shutdown/restart of an engine (not fixed in 5.1)

2008-07-28  Brian Aker  <brian@tangent.org>

	Second pass cleanup around filesystem type.

2008-07-28  Brian Aker  <brian@tangent.org>

	First pass for table name issue across platforms.

2008-07-26  brian  <brian@localhost.localdomain>

	Merge from Monty

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Fixed readline build problem on Centos.

2008-07-28  Brian Aker  <brian@tangent.org>

	Merging Monty

2008-07-28  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.
	Removed test_xml. Moved my_xml to mystrings.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved my_sys/my_pthread/my_nosys and mysys_err to mysys.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved violite.h to vio.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Removed hanger-on dir.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved drizzle/plugin*h to drizzled

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved heap.h to storage/heap

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved my_alloc.h to mysys.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Move thr_*h to mysys.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved sha1.h and sha2.h to mysys.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved mysqld_err* -> drizzled_err*  

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Renamed strings to mystrings, for include/lib naming consistency.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved base64.h to mysys.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Removed no-longer-used my_md5.h.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved decimal.h to strings. 

2008-07-28  Brian Aker  <brian@tangent.org>

	Cleanup int() work.

2008-07-28  Brian Aker  <brian@tangent.org>

	Remove YEAR field type

2008-07-28  Brian Aker  <brian@tangent.org>

	First pass of removing length types for ints.

2008-07-27  Brian Aker  <brian@tangent.org>

	Merge Toru

2008-07-28  Toru Maesaka  <dev@torum.net>

	Merge from trunk and conflicts resolved

2008-07-25  Toru Maesaka  <dev@torum.net>

	replaced my_bool in libdrizzle with C99 boolean

2008-07-25  Toru Maesaka  <dev@torum.net>

	replaced my_malloc/my_free with malloc(3)/free(3). NULL pointer checks also added

2008-07-27  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Fixed the includes in places to make the myisam header file move work.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Moved myisam headers to storage/myisam.

2008-07-27  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Merged from Jay.

2008-07-27  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-07-27  Jay Pipes  <jay@mysql.com>

	Fix for Bug#252309 "log output to tables is enabled but ineffective".
	
	* Removed LOG_TABLE definition from log.h and from drizzle.cc's log_output_typelib
	* Removed logic around logging to tables in log.cc
	* Removed test-run.pl reference to table logging

2008-07-27  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Merged from PatG.

2008-07-27  Patrick Galbraith  <patg@ishvara>

	Renamed FIELD_TYPE to DRIZZLE_TYPE

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Removed deprecated INCLUDES from plugins. 

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Added ${top_srcdir} to GLOBAL_INCLUDES. 

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-27  Monty Taylor  <monty@inaugust.com>

	Merged in MYSQL_TYPE -> FIELD_TYPE changes from PatG

2008-07-27  Patrick Galbraith  <patg@ishvara>

	Renamed all MYSQL_TYPE... to FIELD_TYPE...
	
	It took less time than I thought.
	
	All tests pass.

2008-07-27  Brian Aker  <brian@tangent.org>

	Remove completely ZEROFILL

2008-07-27  Brian Aker  <brian@tangent.org>

	Fixed newdecimal test and added it to standard tests.

2008-07-27  Brian Aker  <brian@tangent.org>

	Rename of fields (fix issue with string and decimal .h clashing).

2008-07-26  Brian Aker  <brian@tangent.org>

	Merge Monty

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Renamed __attribute__((__unused__)) to __attribute__((unused)). 
	It takes up a few less chars, but also seems to be the standard usage.

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Moved include location of stdint.h, per Eric Day.

2008-07-26  Monty Taylor  <monty@inaugust.com>

	Merged configure.ac fix from Jim.

2008-07-24  Jim Winstead  <jimw@mysql.com>

	Fix test for libreadline to test a function that exists in all usable
	versions of readline (like libedit masquerading as readline)

2008-07-25  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-25  Monty Taylor  <monty@inaugust.com>

	Fixed change of mysql.com -> drizzle.com.

2008-07-25  Monty Taylor  <monty@inaugust.com>

	Changed MKDIR_P to mkinstalldir

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Moved the includes we use everywhere to to GLOBAL_CPPFLAGS and added AM_CPPFLAGS to an AC_SUBST, so that we could take out the redundant declaration from most fof the Makefiles.

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Merged from client-rename-split.

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Merged from Patrick.

2008-07-24  Patrick Galbraith  <patg@ishvara>

	Woohooo - all tests pass.. The client is renamed!

2008-07-24  Patrick Galbraith  <patg@ishvara>

	Most everything working with client rename
	mysqlslap test still fails... can't connect to the server

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Merged mysql_server_init into drizzle_create()

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Renamed mysql_init to drizzle_create.

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Changed subdir build order so that we get mysys done before comp_err in include.

2008-07-24  Monty Taylor  <monty@inaugust.com>

	Moved comp_err into include, since it is used to create files in include. Hopefully will make it easier to find/understand. 

2008-07-25  Brian Aker  <brian@tangent.org>

	Merge from Stewart

2008-07-24  brian  <brian@localhost.localdomain>

	Merge for stewart

2008-07-24  Stewart Smith  <stewart@flamingspork.com>

	merge mainline and update md5 and crc32 plugins to new interface

2008-07-13  Stewart Smith  <stewart@flamingspork.com>

	fix name of MD5() UDF

2008-07-13  Stewart Smith  <stewart@flamingspork.com>

	CRC32() as UDF

2008-07-13  Stewart Smith  <stewart@flamingspork.com>

	Move MD5() into a UDF

2008-07-24  Brian Aker  <brian@tangent.org>

	Merge fix on Makefile.am (from Jay)

2008-07-23  Jay Pipes  <jay@mysql.com>

	Removal of references to help_start.h and help_end.h in clients and Makefiles

2008-07-23  Jay Pipes  <jay@mysql.com>

	* Removed two files, only needed for Netware:
	** include/help_end.h and include/help_start.h
	* Removed __NETWARE__ conditional defines in various files

2008-07-24  Brian Aker  <brian@tangent.org>

	Merge from stewart.

2008-07-23  brian  <brian@localhost.localdomain>

	Merge from Stewart.

2008-07-23  Stewart Smith  <stewart@flamingspork.com>

	cut 'make test' time in half.

2008-07-24  Brian Aker  <brian@tangent.org>

	Removed zerofil syntax (not internals).

2008-07-23  Brian Aker  <brian@tangent.org>

	Merge Monty's work.

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Fixed sql_builtin in the right place.

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Patch from andrey - made some functions static as they are not used outside of protocol.cc. 

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Changed OSX unused fix to match agreed upon method of handling this.

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Added Jim's patch for unused params.

2008-07-23  Monty Taylor  <monty@inaugust.com>

	Further changes to fix mysql/plugin.h -> drizzle/plugin.h

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Added --disable-assert compile option.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Merged no_completion fix from Jim.

2008-07-22  Jim Winstead  <jimw@mysql.com>

	Fix declaration of no_completion, drop 'new_' prefix from a function to make
	things a little prettier.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Merged from Jim.

2008-07-22  Jim Winstead  <jimw@mysql.com>

	Detect and make the Mac OS X libedit readline interface look like the
	most recent GNU readline.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Merged changes from JimW.

2008-07-22  Jim Winstead  <jimw@mysql.com>

	Mac OS X doesn't have O_DIRECT, so the arguments to os_file_set_nocache()
	in the InnoDB code are unused -- so mark them as such.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Merged in jimw's changes. 

2008-07-21  Jim Winstead  <jimw@mysql.com>

	Merge from trunk

2008-07-18  Jim Winstead  <jimw@mysql.com>

	Various fixes to enable compilation on Mac OS X, and remove the glib dependency.
	Temporarily disables tab-completion in the drizzle client until an appropriate
	autoconf check can be added/enabled.

2008-07-18  Jim Winstead  <jimw@mysql.com>

	Register a bunch of stuff that should be ignored

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Moved include/field to include/drizzle/server/field
	Per krow's suggestion and current autoconf standards, we're starting to put
	headers under include like it's /usr/include so that -I$(top_srcdir)/include
	should be the only -I we generally need. This is the first tiny piece...

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Added Makefile.am to server/field and build as libtool noinst lib.
	Moved field headers to include/field to work around include path collisions
	with string.h and decimal.h.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Fixed crazy bazillion-extra-tabs problem.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Removed openssl refs.

2008-07-22  Brian Aker  <brian@tangent.org>

	Removed final uint dead types.

2008-07-22  Brian Aker  <brian@tangent.org>

	uint32 -> uin32_t

2008-07-22  Brian Aker  <brian@tangent.org>

	Merge of Toru + Brian

2008-07-20  brian  <brian@localhost.localdomain>

	Merge/fix in FAQ.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Re-enabled optimizations for the normal build, and added back the --with-debug option to turn them off. 

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Cleaned up some LIBS bits in the build.

2008-07-22  Monty Taylor  <monty@inaugust.com>

	Removed duplicated -ggdb from Makefile.am (it's in configure.ac)

2008-07-20  brian  <brian@localhost.localdomain>

	Updated FAQ.

2008-07-22  Brian Aker  <brian@tangent.org>

	Merge work from Toru

2008-07-22  Toru Maesaka  <dev@torum.net>

	merge from trunk and SET moved out to field/

2008-07-19  brian  <brian@localhost.localdomain>

	Updated FAQ from Jay's tree.

2008-07-21  Jay Pipes  <jay@mysql.com>

	cleanup of FAQ file

2008-07-18  Toru Maesaka  <dev@torum.net>

	Moved out SHORT, LONG and INT64_T to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	moved out LONG to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	forgot to add field/double.cc and field/double.h in previous commit

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out DOUBLE and moved to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out STRING and renamed new_decimal and new_date

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out TIME and VARSTRING, moved to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out TIMESTAMP and move to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out NEW_DATE and NEW_DECIMAL and moved to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out NULL and YEAR and moved to field/

2008-07-18  Toru Maesaka  <dev@torum.net>

	ripped out datetime and moved to field/

2008-07-17  Toru Maesaka  <dev@torum.net>

	forgot to bzr-add new files in the previous push

2008-07-17  Toru Maesaka  <dev@torum.net>

	ripped out blob from field.cc/.h and placed in field/

2008-07-22  Brian Aker  <brian@tangent.org>

	Small cleanup around uint32 types (need to merge).

2008-07-20  Brian Aker  <brian@tangent.org>

	Cleanup sql_lex to modern types.

2008-07-20  Brian Aker  <brian@tangent.org>

	Convert default engine to Innodb

2008-07-20  Brian Aker  <brian@tangent.org>

	my_bool from handler and set_var

2008-07-20  Brian Aker  <brian@tangent.org>

	my_bool...

2008-07-20  Brian Aker  <brian@tangent.org>

	More my_bool... man am I getting tired of writing this.

2008-07-20  Brian Aker  <brian@tangent.org>

	More my_bool cleanup.

2008-07-19  Brian Aker  <brian@tangent.org>

	Converted bitmap to use bool over my_bool

2008-07-19  Brian Aker  <brian@tangent.org>

	Removed HAVE_REP in drizzle.cc and dropped dead COM bits.

2008-07-19  Brian Aker  <brian@tangent.org>

	Documentation cleanup

2008-07-19  Brian Aker  <brian@tangent.org>

	Cleanup on "VERSION" issues. Table FRM exists and prevents modifying back
	the version number.

2008-07-19  Brian Aker  <brian@tangent.org>

	Updating FAQ

2008-07-19  Brian Aker  <brian@tangent.org>

	Merge from mark

2008-07-19  Mark Atwood  <me@mark.atwood.name>

	reorder plugin type numbering

2008-07-19  Brian Aker  <brian@tangent.org>

	Merging from Mark.

2008-07-19  Mark Atwood  <me@mark.atwood.name>

	updated test result for information_schema because of changes in SHOW PLUGINS

2008-07-18  mark  <mark@piggy.tangent.org>

	merged from head

2008-07-18  mark  <mark@piggy.tangent.org>

	remove now unused columns from SHOW PLUGINS

2008-07-18  mark  <mark@piggy.tangent.org>

	ripped out more plugin ABI and API version checking, and plugin versions are now strings

2008-07-18  mark  <mark@piggy.tangent.org>

	merge to current

2008-07-17  mark  <mark@piggy.tangent.org>

	remove some useless version checking code from sql_plugin.cc

2008-07-19  Brian Aker  <brian@tangent.org>

	Refactor of configure.ac. Added profile. One note... I believe this should
	not affect FreeBSD since we now use libtool, but I may be wrong.

2008-07-19  Brian Aker  <brian@tangent.org>

	Remove dead DDL log code.

2008-07-18  Brian Aker  <brian@tangent.org>

	Fixed tab issue

2008-07-18  Brian Aker  <brian@tangent.org>

	Partial fix for alter table 

2008-07-18  Brian Aker  <brian@tangent.org>

	More dead code baby... it has become a little like drilling for oil. Alaska
	must exist in here somewhere.

2008-07-18  Brian Aker  <brian@tangent.org>

	Dead debug code removal (and a compatible "never used") bit in the
	optimizer.

2008-07-18  Brian Aker  <brian@tangent.org>

	Partial FAQ (questions to answert). Removed two dead variables. Need chai...

2008-07-18  Brian Aker  <brian@tangent.org>

	Merging in Jay's final patch on dbug.

2008-07-18  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-07-18  Jay Pipes  <jay@mysql.com>

	DBUG entirely removed from server and client

2008-07-18  Jay Pipes  <jay@mysql.com>

	cleanup of include/Makefile.am

2008-07-18  Jay Pipes  <jay@mysql.com>

	Final removal of DBUG library and cleanup of Makefiles

2008-07-18  Jay Pipes  <jay@mysql.com>

	Removed dbug reference and cleaned up server/Makefile.am

2008-07-18  Jay Pipes  <jay@mysql.com>

	Removed dbug reference and cleaned up extra/Makefile.am

2008-07-18  Jay Pipes  <jay@mysql.com>

	Removed DBUG from extra/ directory

2008-07-17  Jay Pipes  <jay@mysql.com>

	Final round of removal of DBUG in mysys/, including Makefile

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 8 - Remove DBUG from mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 6 - Remove DBUG from mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 6 - Remove DBUG from mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 5 - Remove DBUG from mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 4 - Remove DBUG from mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 4 removal of DBUG in mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 3 removal of DBUG in mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 2 removal of DBUG in mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Phase 1 removal of DBUG in mysys

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removed remaining NETWARE references and conditionals from InnoDB

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removed NETWARE conditionals from innodb handler

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols from innodb handler

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removal of DBUG from strings/ library

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removed DBUG from CSV and Blackhole storage engines

2008-07-17  Jay Pipes  <jay@mysql.com>

	Final removal of DBUG from vio/ & Round 1 cleanup of include/

2008-07-17  Jay Pipes  <jay@mysql.com>

	Removal of DBUG from libdrizzle/ - Round 2

2008-07-17  Jay Pipes  <jay@mysql.com>

	Merged in from trunk.
	
	Made following changes:
	
	libdrizzle/
	client.c
	* Removed DBUG symbols entirely
	* Removed mysql_debug() calls and command line options
	libdrizzle.c
	* Removed DBUG symbols
	include/my_sys.h
	* Removed MY_DONT_FREE_DBUG symbol (used in my_end())
	mysys/my_init.h
	* Removed MY_DONT_FREE_DBUG symbol (used in my_end())

2008-07-17  Jay Pipes  <jay@mysql.com>

	Final removal from heap storage engine plus fixes from MontyT re: _mi_report_crashed()

2008-07-16  Jay Pipes  <jay@mysql.com>

	Removed test stuff from heap Makefile

2008-07-16  Jay Pipes  <jay@mysql.com>

	Removed regex libs from heap

2008-07-16  Jay Pipes  <jay@mysql.com>

	Removed all DBUG symbols from heap storage engine

2008-07-18  Brian Aker  <brian@tangent.org>

	Handling merge from mark.

2008-07-18  mark  <mark@piggy.tangent.org>

	merge to current

2008-07-18  mark  <mark@piggy.tangent.org>

	remove reference to HAVE_DLFCN_H, if we have dlopen(), we have hlfcn.h as well

2008-07-17  mark  <mark@piggy.tangent.org>

	remove ifdef HAVE_DLOPEN, make configure require dlopen()

2008-07-18  Brian Aker  <brian@tangent.org>

	Merge from monty

2008-07-18  Monty Taylor  <monty@inaugust.com>

	Two fixes to autorun, based on guiseppe's build.

2008-07-18  Brian Aker  <brian@tangent.org>

	Head merge.

2008-07-17  brian  <brian@localhost.localdomain>

	Removed dead ? operator.

2008-07-17  brian  <brian@localhost.localdomain>

	Dead variable removal.

2008-07-15  brian  <brian@localhost.localdomain>

	Removed view_prepare_mode from sql_lex.h

2008-07-15  brian  <brian@localhost.localdomain>

	Removed dead variable, sorted authors file.

2008-07-15  brian  <brian@localhost.localdomain>

	Removed dead code around prep.

2008-07-18  Brian Aker  <brian@tangent.org>

	Set timeouts for writes as well.

2008-07-14  brian  <brian@localhost.localdomain>

	Fix for call (missed in the review the initial length setting).

2008-07-16  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-16  Monty Taylor  <monty@inaugust.com>

	Merged Patrick's changes.

2008-07-16  Patrick Galbraith  <patg@ishvara>

	Dar, I forgot to commit this earlier.
	
	* Removed my_sprintf from the files below
	* Fixed some small issues that cause compile to fail (pedantic picky-ousity)

2008-07-16  Monty Taylor  <monty@inaugust.com>

	Fixed two small merge errors.

2008-07-16  Monty Taylor  <monty@inaugust.com>

	Merged from remove-dbug.

2008-07-16  Monty Taylor  <monty@inaugust.com>

	Fixed the _mi_report_crashed warning (and a couple of others)

2008-07-16  Jay Pipes  <jay@mysql.com>

	Merge from trunk

2008-07-16  Jay Pipes  <jay@mysql.com>

	Remove DBUG symbol

2008-07-16  Jay Pipes  <jay@mysql.com>

	Round 3 - removal custom KEYCACHE_DEBUG_LOG and fail_test code

2008-07-16  Jay Pipes  <jay@mysql.com>

	Round 3 - removal custom KEYCACHE_DEBUG_LOG and fail_test code

2008-07-16  Jay Pipes  <jay@mysql.com>

	Round 2 - removal custom KEYCACHE_DEBUG and THREAD_TRACE from keycache

2008-07-16  Jay Pipes  <jay@mysql.com>

	Round 1 - removal DBUG from keycache

2008-07-16  Jay Pipes  <jay@mysql.com>

	removed DBUG

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	DBUG symbol removal

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed old test scripts and source files from Makefile and directory

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed _mi_print_key() calls (in mi_dbug.c)

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and TRUE/FALSE

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-15  Jay Pipes  <jay@mysql.com>

	Removed custom debugging routines fakexxx()

2008-07-15  Jay Pipes  <jay@mysql.com>

	1st round removing DBUG_XXX symbols.  Round 2 is custom debugging code layer...

2008-07-16  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged from codestyle.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged from trunk.

2008-07-15  Monty Taylor  <mordred@camelot>

	Re-moved drizzlebinlog.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged up to codestyle.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged from glibclient-merge.

2008-07-15  Monty Taylor  <mordred@camelot>

	Moved drizzlebinlog back to client.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged in codestyle.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged in Jay's tree.

2008-07-15  Jay Pipes  <jay@mysql.com>

	Merging in trunk.  Resolved conflicts in client/drizzle.cc for the most
	part but there will still need to be a bunch of work done.  In addition, 
	valgrind shows a bunch of mem leaks. g_free() needs to be called for each
	invocation of g_strdup().

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Merged typo.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Merged fro mcodestyle.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Merged in codestyle.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merge from trunk.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merged from codestyle.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Merged in codestyle.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Moved drizzlebinlog to binlog subdir of server. Eventually lets put 
	all the binlog related stuff in here perhaps? Like log_event, etc. 

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Removed references to regex dir in AM_CPPFLAGS lines.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Applied merge to branch.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Renamed client programs to drizzle.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Argument processing fixes.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Made mysql into a pure-C program.
	Fixed a boolean logic mis-translation. (Wow, I sucked on the plane)

2008-07-12  Monty Taylor  <monty@inaugust.com>

	Added m4 macros for glib.
	Put in an error if glib is not found.

2008-07-12  Monty Taylor  <monty@inaugust.com>

	Added GLIB check.

2008-07-12  Monty Taylor  <monty@inaugust.com>

	Removed debugging. Fixed multi-line processing error.

2008-07-12  Monty Taylor  <monty@inaugust.com>

	Last change to migrate to glib from sql_string.

2008-07-12  Monty Taylor  <monty@inaugust.com>

	Got it compiling... now, too bad it doesn't work.

2008-07-12  Monty Taylor  <monty@inaugust.com>

	First steps in removing sql_string and using glib instead.

2008-07-16  Brian Aker  <brian@tangent.org>

	If a read timeout exists, then set it up, otherwise just let the blocking
	behavior do what it needs to do in a read().

2008-07-16  Brian Aker  <brian@tangent.org>

	Removed alarm timeouts on writes.

2008-07-15  Brian Aker  <brian@tangent.org>

	Removed thd alarm around socket, we now use timeouts.

2008-07-15  Brian Aker  <brian@tangent.org>

	First pass of cleanup

2008-07-13  brian  <brian@localhost.localdomain>

	Merging port work.

2008-07-15  Elliot Murphy  <elliot@elliotmurphy.com>

	new port number from IANA

2008-07-15  Brian Aker  <brian@tangent.org>

	Saving import from Monty

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Fixed comment on --enable-fail -> --disable-fail.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Added --enable-tcmalloc which will enable searching for and linking with tcmalloc if you have it.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Fixed a typo.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Made --disable-pedantic-warnings only disable the pedantic warnings, rather than also removing the -std=gnu99  part.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Turn on -Werror again by default. 

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Fixed build warnings.

2008-07-15  Monty Taylor  <mordred@camelot>

	Another batch of distclean fixes.

2008-07-15  Monty Taylor  <mordred@camelot>

	Added more things to distclean targets so that it really does a distclean.

2008-07-15  Monty Taylor  <mordred@camelot>

	Merged.

2008-07-15  Monty Taylor  <monty@inaugust.com>

	Merge from trunk.

2008-07-15  Monty Taylor  <mordred@camelot>

	Fixed some format strings to use PRIu64 for the uint64_t types.

2008-07-15  Monty Taylor  <mordred@camelot>

	Fixed a PCRE detection bug. 

2008-07-15  Brian Aker  <brian@tangent.org>

	Merging in Mark's work on plugin definitions.

2008-07-14  mark  <mark@piggy.tangent.org>

	remove FTPARSER and last remains of full text search

2008-07-14  mark  <mark@piggy.tangent.org>

	Stubs for plugin types for UDA, LOG, and AUTH

2008-07-15  Brian Aker  <brian@tangent.org>

	Rename of test (better tab completion!)

2008-07-15  Brian Aker  <brian@tangent.org>

	Remove old 3byte int

2008-07-15  Brian Aker  <brian@tangent.org>

	Removal of FLOAT type

2008-07-15  Brian Aker  <brian@tangent.org>

	mysqladmin patch (plus removal of password auth bits)

2008-07-15  Toru Maesaka  <dev@torum.net>

	merge from trunk

2008-07-15  Toru Maesaka  <dev@torum.net>

	further slimdown of mysqladmin and code review fixes

2008-07-14  Toru Maesaka  <dev@torum.net>

	Slimmed down mysqladmin to ping and shutdown only. Some dead code were removed too

2008-07-15  Brian Aker  <brian@tangent.org>

	Commit cleanup of export types.

2008-07-14  Brian Aker  <brian@tangent.org>

	Merge Monty's code.

2008-07-14  Brian Aker  <brian@tangent.org>

	Monty's merge

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merged in from trunk.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Removed ifdefs from client progs.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Type-punning fix for sql_plugin.cc.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Added two more passing tests. 

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Changed type of nest_level.

2008-07-14  Brian Aker  <brian@tangent.org>

	I had removed most of the pthread_setschedparam() calls a bit ago. This
	patch removes a couple I had left in.

2008-07-14  Brian Aker  <brian@tangent.org>

	Removed sql_manager. Ever heard of just setting up the OS to sync when you
	want it to?

2008-07-14  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Removed skip-external-locking.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Fixed silly my_bool==char nonsense.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-14  Monty Taylor  <monty@inaugust.com>

	Fixed libdrizzle trailing space.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Removed make-ccc. 

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Removed strinstr. It was only used twice in once place in mf_pack... and there
	for a very small purpose. 

2008-07-14  Brian Aker  <brian@tangent.org>

	We should blow up if Innodb is not found.

2008-07-14  Brian Aker  <brian@tangent.org>

	Second pass cleanup on removal of my_uint types

2008-07-14  Brian Aker  <brian@tangent.org>

	Cleanup around intptr_t

2008-07-14  Brian Aker  <brian@tangent.org>

	Removing a few "additional" ways of saying uint64_t

2008-07-13  Brian Aker  <brian@tangent.org>

	Removed oddball types in my_global.h

2008-07-13  Brian Aker  <brian@tangent.org>

	Merging Monty's code, I did remove error on compile though (since it does
	not currently work because of sql_plugin.cc)

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Whoops. We _do_ need strings. Sigh.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Removed client reference to strings dir... turns out we don't need it!

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Removed mention of sql-common dir which no longer exists.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Turned on -Werror for turning warnings into failures by default. The tree
	currently builds clean, lets keep it that way. 

2008-07-13  Monty Taylor  <monty@inaugust.com>

	A few remaining my_bool -> bool cleanups.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Changed heap and myisam to build plugins using libtool. Made mi_test_all generated by autoconf instead of automake.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Cleanup to hello_world Makefile.am

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Fixed warnings in hello_world.

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Moved zlib include to not bork pread/pwrite defines on ubuntu.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-13  Brian Aker  <brian@tangent.org>

	longlong replacement

2008-07-13  Brian Aker  <brian@tangent.org>

	Ulonglong to uint64_t

2008-07-13  Brian Aker  <brian@tangent.org>

	More bool removal. More cow bell!

2008-07-13  Brian Aker  <brian@tangent.org>

	More bool conversion.

2008-07-13  Brian Aker  <brian@tangent.org>

	my_bool cleanup

2008-07-13  Brian Aker  <brian@tangent.org>

	More my_bool conversion. This time the set_var class.

2008-07-13  Brian Aker  <brian@tangent.org>

	my_bool cleanup.

2008-07-13  Brian Aker  <brian@tangent.org>

	Bug fix Merge from Monty

2008-07-13  Monty Taylor  <monty@inaugust.com>

	Fixed Bug#248136 - We create the datadir now on install and chown it to 
	the MYSQL_USER if we are root.

2008-07-13  Brian Aker  <brian@tangent.org>

	Merging in Patrick's work.

2008-07-11  Patrick  <patg@localhost.localdomain>

	All DBUG_x removed from client/

2008-07-11  Patrick  <patg@localhost.localdomain>

	Removing DBUG from client

2008-07-12  Brian Aker  <brian@tangent.org>

	Bool cleanup.

2008-07-12  Brian Aker  <brian@tangent.org>

	Merge from Mark to remove short UUID

2008-07-12  mark  <mark@piggy.tangent.org>

	remove UUID_SHORT()

2008-07-12  Brian Aker  <brian@tangent.org>

	Code cleanup. Mainly dead stuff :)

2008-07-12  Brian Aker  <brian@tangent.org>

	Remove dead class, clean up warning.

2008-07-12  Brian Aker  <brian@tangent.org>

	Merge Mark's UDF Example

2008-07-12  Mark Atwood  <me@mark.atwood.name>

	Add hello_world() UDF

2008-07-12  Mark Atwood  <me@mark.atwood.name>

	more hackery to get plugin UDFs working

2008-07-12  Brian Aker  <brian@tangent.org>

	Refactoring around sql_plugin.

2008-07-12  Brian Aker  <brian@tangent.org>

	Removed dead FT bits. Small refactoring in sql_plugin.cc

2008-07-12  Brian Aker  <brian@tangent.org>

	Removed loop bit that created a specialize startup for MyISAM for no longer
	needed system tables.

2008-07-12  Brian Aker  <brian@tangent.org>

	Random cleanup. Dead partition tests, pass operator in sql_plugin, mtr based
	NDB. Removed dead system thread kill tests.

2008-07-11  Brian Aker  <brian@tangent.org>

	Merge 

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Found one more issue...

2008-07-11  Monty Taylor  <monty@inaugust.com>

	One last bunch of warnings edits.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	A crapton more warning cleanups (I turned on more warnings) 

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Last bits of const fixing.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	More const-correctness.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	First pass of const-correctness fixes.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Added sinclude of pkg.m4

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Added pkg.m4 file, since it seems to be missing on OSX.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Uninitialized use.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Added a failure if you don't have bison and you're building from a .bzr branch.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Added the PCRE libs so that we can actually link against them :(

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Turned on -g and optimization for normal builds. -ggdb3 for gcc builds.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Removed check license.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-11  Monty Taylor  <monty@inaugust.com>

	We don't really require 2.61, 2.59 is actually fine.
	SUFFIXES should be SUFFIXES = in automake.

2008-07-11  Brian Aker  <brian@tangent.org>

	Cleanup of warning/errors.

2008-07-10  Brian Aker  <brian@tangent.org>

	Comming Jay's merge

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed dbug library from Makefile

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed final DBUG references

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed references to print_quick(), removed in r131

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols, and removed custom dbug funcs for optimizer (these should go away anyway...)

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols, and removed custom dbug funcs for decimal (these should go away anyway...)

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Standardized TRUE/FALSE, removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and removed sql_test.cc from Makefile

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-10  Jay Pipes  <jay@mysql.com>

	* Removed sql_test.cc custom debugging functions
	* Standardized TRUE/FALSE for sql_union.cc, sql_parse.cc
	* Removed COM_DEBUG command from server
	* Removed/replaced DBUG symbols

2008-07-10  Brian Aker  <brian@tangent.org>

	Update on PCRE

2008-07-11  Monty Taylor  <monty@inaugust.com>

	YA fix for libpcrecpp finding...

2008-07-10  Brian Aker  <brian@tangent.org>

	ulong cleanup

2008-07-10  Brian Aker  <brian@tangent.org>

	Merge.

2008-07-10  Jay Pipes  <jay@mysql.com>

	standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Fixed warnings on unused variables

2008-07-10  Jay Pipes  <jay@mysql.com>

	Fixed ref-count problem and non-freed memory in plugin deactivation

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE. Removed dbug-only server option

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-10  Jay Pipes  <jay@mysql.com>

	Replace/remove DBUG and standardize TRUE/FALSE.  Remove ASSERT_COLUMN_XXX macros, that work will be done on another

2008-07-10  Jay Pipes  <jay@mysql.com>

	Merging mainline

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE - 1st clean pass on field.h/cc

2008-07-10  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE - 1st clean pass on item.h/cc

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Merge from trunk 

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed DBUG symbols and fixed TRUE/FALSE

2008-07-10  Brian Aker  <brian@tangent.org>

	Merge.

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Fail also if we can't find libevent or pthread.h.

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Added checks for libz and readline devel files. 

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Shift language to c++ before PCRE test.
	Removed --gnu log format option from bzr, turns out I had a special plugin installed...

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Turns out server wasn't using the branches in net_serv very directly at all...

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Removed another pointless link_sources entry.

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Removed pointless link_source entry.

2008-07-10  Monty Taylor  <monty@inaugust.com>

	Removed dual-compile needs on client.c. Get the symbols now from libdrizzle.

2008-07-08  brian  <brian@localhost.localdomain>

	Removed DBUG statements from VIO

2008-07-08  brian  <brian@localhost.localdomain>

	Removed mysqlshow

2008-07-09  Brian Aker  <brian@tangent.org>

	Brining Jay's patch.

2008-07-09  Jay Pipes  <jay@mysql.com>

	Typo 'tru' instead of 'true'

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and fixed TRUE/FALSEs

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replace DBUG symbols

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols and fixed FALSE/TRUEs

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed conditional definition of dbug_print to fix build issues

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed conditional definition of dbug_print() to get build working

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced BUG symbols and standardized TRUE/FALSE

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed MC68000 compiler directive.  I mean, really...

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced DBUG symbols

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced all DBUG_XXX statements, all conditional compilation directives for DBUG_OFF, but kept in the optimizer's custom debugging print code for now.

2008-07-09  Jay Pipes  <jay@mysql.com>

	Removed/replaced a couple DBUG calls

2008-07-09  Jay Pipes  <jay@mysql.com>

	Merging from trunk r102

2008-07-09  Brian Aker  <brian@tangent.org>

	Merge from Monty

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Fixed the warnings in ha_innodb.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Merged trunk.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	More warnings cleanups.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Removed extra unused copy of get_password.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	And reference to it in the configure script.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Removed the directory.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	First step of sql-common removal (the cheap way) 

2008-07-09  Brian Aker  <brian@tangent.org>

	Removed defines used for MEDIUMINT

2008-07-09  Brian Aker  <brian@tangent.org>

	Removed dead MEDIUMINT class.

2008-07-09  Brian Aker  <brian@tangent.org>

	More INT24 removal

2008-07-09  Brian Aker  <brian@tangent.org>

	Removed TINY BLOB.

2008-07-09  Brian Aker  <brian@tangent.org>

	Fix for removing field types of MEDIUM and LONG Blob

2008-07-09  Brian Aker  <brian@tangent.org>

	Merge from Monty.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Merged PCRE fix. 

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Updated INSTALL file. 

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Fixed the PCRE test to actually fail if, in fact, you do not have PCRE.

2008-07-09  Brian Aker  <brian@tangent.org>

	Temp fix while working out Fields.

2008-07-09  Brian Aker  <brian@tangent.org>

	Reworking more of VIO

2008-07-09  Brian Aker  <brian@tangent.org>

	Cleanup in VIO to remove dead options

2008-07-09  Brian Aker  <brian@tangent.org>

	More cleanup around Drizzle types.

2008-07-09  Brian Aker  <brian@tangent.org>

	First pass on removing blob internals.

2008-07-09  Brian Aker  <brian@tangent.org>

	Merge of Monty's work

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Moved test to tests... 

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Finished the warnings work!

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Warning fixes. 

2008-07-09  Brian Aker  <brian@tangent.org>

	Merging Stewart changes.

2008-07-10  Stewart Smith  <stewart@flamingspork.com>

	fix drizzle-test-run.pl for sql/ => server/ rename and remove some vs_config_dir references

2008-07-10  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2008-07-10  Stewart Smith  <stewart@flamingspork.com>

	merged from mtaylors codestyle branch that also did removepassword

2008-07-10  Stewart Smith  <stewart@flamingspork.com>

	merge upstream

2008-07-09  Stewart Smith  <stewart@flamingspork.com>

	merge from mainline

2008-07-08  Stewart Smith  <stewart@flamingspork.com>

	remove remenants of old_password from protocol.cc/h

2008-07-08  Stewart Smith  <stewart@flamingspork.com>

	remove old_password support from server (patch 1)
	
	removes OLD_PASSWORD function, variable, parser bits.
	
	need to still remove bits from protocol

2008-07-10  Stewart Smith  <stewart@flamingspork.com>

	merge from mainline

2008-07-09  Stewart Smith  <stewart@flamingspork.com>

	merge from mainline

2008-07-07  Stewart Smith  <stewart@flamingspork.com>

	sql => server (initial patch)

2008-07-07  Stewart Smith  <stewart@flamingspork.com>

	merge mainline

2008-07-04  Stewart Smith  <stewart@flamingspork.com>

	remove shell mysql-test-run - out of date and unused.

2008-07-09  Brian Aker  <brian@tangent.org>

	First pass through on consolidating data types.

2008-07-09  Brian Aker  <brian@tangent.org>

	Merging patch from Monty.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Fixed warnings in test

2008-07-09  Monty Taylor  <monty@inaugust.com>

	One more OLD_PASSWORD fix.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Removed OLD_PASSWORDS

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Couple of quick renaming follow up changes.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	More naming changes.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	More mysql->drizzle renaming.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Renamed more stuff to drizzle.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-08  brian  <brian@localhost.localdomain>

	No uninstall

2008-07-09  Brian Aker  <brian@tangent.org>

	Removed unwanted ALTER TABLESPACE, left in valuable bits.

2008-07-08  Brian Aker  <brian@tangent.org>

	Removal old FRM password (way not secure....)

2008-07-08  Brian Aker  <brian@tangent.org>

	Tablespace removal.

2008-07-08  Brian Aker  <brian@tangent.org>

	Merge up from Monty

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Removed automake conditional on mysqltest.

2008-07-09  Monty Taylor  <monty@inaugust.com>

	Fix to look more thoroughly for PCRE and then die if we don't have it.

2008-07-08  Brian Aker  <brian@tangent.org>

	Merging up Monty's changes

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Renamed more things to match the drizzled rename.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Merged from trunk. 
	Moved resolve_stack_dump to mysql-test. 
	Removed perl-sub cruft in mysql-test.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Replaced regex lib with pcre. Reworked mysqltest to use it. 

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Merged in an old change to remove the "foreign" style from the Makefile, which 
	means we have to add a few files GNU thinks are important.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Merged changes from codestyle.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Made system non-foreign.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Removed AC_SYS_RESTARTABLE_SYSCALLS.
	Quoting the autoconf source: "AC_SYS_RESTARTABLE_SYSCALLS is useful only when
	supporting very old systems that lack `sigaction' and `SA_RESTART'.  
	Don't bother with this macro unless you need to support very old systems like
	4.2BSD and SVR3." Plus - it take a long time.

2008-07-08  Monty Taylor  <monty@inaugust.com>

	Removed a crapload of files I hate.
	Added libmysqlclient.pc package config file.
	Stopped doing make-time sed substitutions in files. 

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Fixed stupid command parsing bug.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-08  Brian Aker  <brian@tangent.org>

	Removed ALTER TABLESPACE

2008-07-08  Brian Aker  <brian@tangent.org>

	Final cleanup on enum for MEMORY/DISK

2008-07-08  Brian Aker  <brian@tangent.org>

	Second pass on storage_type.

2008-07-08  Brian Aker  <brian@tangent.org>

	First pass through refactor to remove STORAGE TYPE from Yacc (and eventually
	allow for refactoring of FRM).

2008-07-08  Brian Aker  <brian@tangent.org>

	Second pass at removing old varchar.

2008-07-08  Brian Aker  <brian@tangent.org>

	Merging in Jay's Tree

2008-07-08  Jay Pipes  <jay@mysql.com>

	Resolving conflicts for a few files regarding FALSE=>false

2008-07-04  Patrick Galbraith  <patg@ishvara>

	Removed DBUGs from 
	
	sql/sql_delete.cc
	sql/sql_insert.cc
	sql/sql_udf.cc
	sql/sql_update.cc
	sql/unireg.cc

2008-07-04  Patrick Galbraith  <patg@ishvara>

	Removed DBUG_PRINTs, DBUG_ASSERTs, DBUG_EXECUTE_IFs from
	mysqld.cc
	sql_table.cc
	
	Still have #ifndef DBUG_OFF blocks, probably should remove them. Also, have 
	put the comment /* DBUG WAS HERE */ in some places where I wasn't how to handle removal since the DBUG_PRINT was the only thing in a "if" block.

2008-07-06  Jay Pipes  <jay@mysql.com>

	Merging trunk changes from over weekend.

2008-07-03  Jay Pipes  <jay@mysql.com>

	Final removal of DBUG_ statements.  Build/tests pass.

2008-07-03  Jay Pipes  <jay@mysql.com>

	Removed DBUG_ENTER and DBUG_PRINT calls, keeping DBUG_RETURN and DBUG_VOID_RETURN as they cause test failures

2008-07-03  Jay Pipes  <jay@mysql.com>

	Removed all DBUG_XXX content from records.cc.  Builds/tests run fine. On to next file...

2008-07-02  Jay Pipes  <jay@mysql.com>

	Missed a my_pread change from trunk in conflict resolution.  Changed to match trunk

2008-07-02  Jay Pipes  <jay@mysql.com>

	Fixed unbalanced parentheses in pack_row due to merge conflict resolution mistake

2008-07-02  Jay Pipes  <jay@mysql.com>

	Merged PatG's removal of various DBUG stuff with still keeping DBUG_ASSERT calls since they seem to be breaking test runs

2008-07-08  Brian Aker  <brian@tangent.org>

	DATE cleanup.

2008-07-08  Brian Aker  <brian@tangent.org>

	First pass, old Data field is now gone.

2008-07-07  Brian Aker  <brian@tangent.org>

	Dead code.

2008-07-07  Brian Aker  <brian@tangent.org>

	DOS removal. DOS... hard to believe aye?

2008-07-07  Brian Aker  <brian@tangent.org>

	Convert tztime.cc to bool from my_bool.

2008-07-07  Brian Aker  <brian@tangent.org>

	Removed opt_update_log

2008-07-07  Brian Aker  <brian@tangent.org>

	Main binary now named drizzled

2008-07-07  Brian Aker  <brian@tangent.org>

	Final cleanup this round for mysql-test-run.

2008-07-07  Brian Aker  <brian@tangent.org>

	Saving changes/removals to test run

2008-07-07  Brian Aker  <brian@tangent.org>

	More cleanup in mysql-test-run

2008-07-07  Brian Aker  <brian@tangent.org>

	First pass on cleaning out mysql-test-run

2008-07-07  Brian Aker  <brian@tangent.org>

	Remove bootstrap error on udf.

2008-07-07  Brian Aker  <brian@tangent.org>

	Removing bootstrap (we no longer need it... we just work).

2008-07-07  Brian Aker  <brian@tangent.org>

	Merge from Monty's tree

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed non-fcntl code and made it a fatal configure error if it's not there.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Rolled back innodb status var change.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed refs to floatingpoint.h (which we only used for fconvert) and fconvert
	(which we only used in the client but still checked for in the server, and
	which was not needed in the client.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed some libedit/readline cruft.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed check for chsize - we don't use it.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed reference to aio.h - we don't reference its use anywhere.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed my_vsnprintf and my_snprintf.

2008-07-07  Monty Taylor  <monty@inaugust.com>

	Removed the my_config.h copy of config.h nonsense. Not only stupid, but breaks
	some types of re-builds not-from-root.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Removed explcit dependencies listing from Makefile.am, since that's what Automake is for...

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Bunch of warning cleanups.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Fixed the test programs linking issue. (I hope)
	Made the plugin def use libmyisam.la instead of libmyisam.a so that we 
	can take advantage of libtool convenience libs. 

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Fixed wonky linkage thing.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Fixed depend problem

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Merged fulltext changes from trunk.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	All of storage/ compiles clean now.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	InnoDB compiles clean. Need to send this patch upstream. 

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Heap builds clean.
	Moved my_handler.c back to mysys - I missed that heap also uses it.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	CSV is clean.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Blackhole is clean.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Got archive compiling cleanly.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	MyISAM cleanups.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Moved my_handler to MyISAM.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Added uchar cast in comp_err.

2008-07-07  Brian Aker  <brian@tangent.org>

	Merging up Mark's work for warning removal.

2008-07-06  mark  <mark@piggy.tangent.org>

	remove handling of suspicious UDFs

2008-07-07  Brian Aker  <brian@tangent.org>

	Clean up install, we no longer have system tables.

2008-07-07  Brian Aker  <brian@tangent.org>

	LL() cleanup

2008-07-07  Brian Aker  <brian@tangent.org>

	Small cleanups

2008-07-06  Brian Aker  <brian@tangent.org>

	Most of the removal of dead DECIMAL type

2008-07-06  Brian Aker  <brian@tangent.org>

	USE_RAID cleanup, along with ftbench tools.

2008-07-06  Brian Aker  <brian@tangent.org>

	Import of FT patch

2008-07-06  Brian Aker  <brian@tangent.org>

	Final removal of fulltext core from myisam.

2008-07-06  Brian Aker  <brian@tangent.org>

	Resolved merge from Monty

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Fixed missing semi-colon in mysql_install_db.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Moved keycache code to MyISAM.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Removed lingering ref to my_lock.c

2008-07-06  Monty Taylor  <monty@inaugust.com>

	removed sql version of my_lock - we've moved this to myisam... why does it keep coming back?

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	More warnings fixes.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	First large swath at getting handler stuff clean.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Removed HAVE_LONG_LONG, as this is now assumed.

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Removed old crufty static NSS hack. 

2008-07-06  Monty Taylor  <monty@inaugust.com>

	Cleaned up headers a little more.

2008-07-06  Brian Aker  <brian@tangent.org>

	Next pass on fulltext.

2008-07-06  Brian Aker  <brian@tangent.org>

	Another round of cleanup of MyISAM

2008-07-05  Brian Aker  <brian@tangent.org>

	More removal of FT from MyISAM

2008-07-05  Brian Aker  <brian@tangent.org>

	Removal of RT bits from MyISAM

2008-07-05  Brian Aker  <brian@tangent.org>

	Removed critical rt include files.

2008-07-05  Brian Aker  <brian@tangent.org>

	Removed HAVE_RTREE_KEYS

2008-07-05  Brian Aker  <brian@tangent.org>

	Remove SP bits from MyISAM

2008-07-05  Brian Aker  <brian@tangent.org>

	Next bit of removal of mediumint

2008-07-05  Brian Aker  <brian@tangent.org>

	Second pass remove MEDIUMINT

2008-07-05  Brian Aker  <brian@tangent.org>

	First pass for removing mediumint (3 byte INT type).

2008-07-05  Brian Aker  <brian@tangent.org>

	Removal of GEOM type

2008-07-05  Brian Aker  <brian@tangent.org>

	Removing final piece of BIT type

2008-07-05  Brian Aker  <brian@tangent.org>

	Second pass on BIT TYPE

2008-07-05  Brian Aker  <brian@tangent.org>

	Merge from Monty's tree

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed some duplicate defines.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed some old-school style things in regex.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed unsigned long int, format specifiers and functions. 

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Gah. For the last time. Fixing the stupid double-declared THR_LOCK_lock.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Added an automake conditional to not build the dbug dir, since I don't want to keep seeing errors for it while cleaning up other parts of the tree. 

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed the thr_lock double define the right direction.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed a build problem with the move of my_lock.c.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed workaround function.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed duplicate define.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed prototypes. Cleaned define a little bit.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Added include for prototype.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed redundant declaration.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed my_alarm. Made my_lock only do the non-alarm version. Moved my_lock to MyISAM where it belongs.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Fixed simple signdedness problem.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed HA_END_SPACE_KEY and references to it. It was _supposed_ to be gone anyway, but the ifdef around it was broken (MYSQL_VERSION_ID was actually undefined.)

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Various static declares.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed unused array.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Added cast for a type-signedness problem.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Got rid of pointless VAX Assembler chunks.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Removed broken ifdef around missing v4 bit.

2008-07-05  Brian Aker  <brian@tangent.org>

	First pass of removing BIT_TYPE

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Changes so that removal of duplicate curr_dir from my_sys.h work.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Turned unreachable code warnings into a configure option.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Add Jay's test optoins at the target of make test.

2008-07-05  Monty Taylor  <monty@inaugust.com>

	Changes so that client/ builds cleanly with no warnings.
	Commented out -Wunreachable-code for now, because there is too much of it
	with all the #ifdef'd members. We'll add it back in for a second pass over
	the code.

2008-07-05  Brian Aker  <brian@tangent.org>

	Conversion of handler type.

2008-07-04  Brian Aker  <brian@tangent.org>

	Remove LOAD bit for key cache.

2008-07-04  Brian Aker  <brian@tangent.org>

	Removed preload from parser.

2008-07-04  Brian Aker  <brian@tangent.org>

	Merge from incomming patch from Monty covering warnings

2008-07-04  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-04  Monty Taylor  <monty@inaugust.com>

	Updated everything that needs updating to compile with -std=gnu99 -pedantic 

2008-07-03  Monty Taylor  <monty@inaugust.com>

	Added --disable-pedantic-warnings and --enable-fail.

2008-07-03  brian  <brian@localhost.localdomain>

	Folding in timezone change

2008-07-03  Brian Aker  <brian@tangent.org>

	First pass through removing timezone. Left infrastructure for possible call
	to system interface.

2008-07-03  brian  <brian@localhost.localdomain>

	Next pass of true/false update.

2008-07-03  brian  <brian@localhost.localdomain>

	Update for using real bool types.

2008-07-03  brian  <brian@localhost.localdomain>

	Disabling myisam tools until incomming link patch from Monty

2008-07-02  Brian Aker  <brian@tangent.org>

	Basic first step removal of timezone support.

2008-07-02  Brian Aker  <brian@tangent.org>

	Cleanup of sql-common and mysqldump

2008-07-02  Brian Aker  <brian@tangent.org>

	Merge from Monty Taylor.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Merged from trunk. Changed a test return value so that the test passes. 

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Deleted references to deleted files in mysql-test-run.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Made everything use AS_HELP_STRING (except for charsets, which are dying anyway)

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Renamed configure.in to configure.ac as is the current fashion. 

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Removed everything marked TO_BE_REMOVED.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Removed allow_break and dont_break, as they are no-ops in threaded code.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Removed all references to THREAD.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Removed ZLIB references and the craziness of whether to build the server or not.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Added -Wall

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Fixed the gen_lex_hash problem for automake1.9. 

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Deleted tons of pointless garbage from scripts.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Removed mysql_upgrade and tests/

2008-07-02  Brian Aker  <brian@tangent.org>

	Remaining major pieces of PS removed

2008-07-02  Brian Aker  <brian@tangent.org>

	Removed old instance manager variables.

2008-07-02  Brian Aker  <brian@tangent.org>

	Second pass on removing PS from client library

2008-07-02  Brian Aker  <brian@tangent.org>

	First pass on removing binary protocol from client library.

2008-07-02  Brian Aker  <brian@tangent.org>

	Removing unittest (merge from patg's tree)

2008-07-01  Patrick Galbraith  <patg@ishvara>

	Removed unittest in private remove_unittest branch

2008-07-02  Brian Aker  <brian@tangent.org>

	Mark's merge to drop SSL defines 

2008-07-01  Mark Atwood  <mark@localhost.localdomain>

	Remove all OpenSSL and all YaSSL code

2008-07-02  Brian Aker  <brian@tangent.org>

	Removed SP, trig, and cursor tests.

2008-07-02  Brian Aker  <brian@tangent.org>

	Importing Monty's update to autorun.sh

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Updated versions of autotools used by default.

2008-07-02  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-02  Brian Aker  <brian@tangent.org>

	Dead code removal from mysqltest.c

2008-07-01  Brian Aker  <brian@tangent.org>

	First pass at cleaning up regex from mysqltest.c

2008-07-01  Brian Aker  <brian@tangent.org>

	Updating to modern autorun

2008-07-01  Brian Aker  <brian@tangent.org>

	Move build helper files into config

2008-07-01  Brian Aker  <brian@tangent.org>

	Dead files.

2008-07-01  Brian Aker  <brian@tangent.org>

	More Cleanup around dead files/GNU Makefile warnings (just a merge from me)

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Merged from trunk.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Fixed a few small problems so that make distcheck works.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed CMake file references.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed NDB config files.

2008-07-01  Brian Aker  <brian@tangent.org>

	Moved pread over to just supporting myisam (someone can refactor from here
	if they want).

2008-07-01  Brian Aker  <brian@tangent.org>

	Remove my_pread for Archive

2008-07-01  Brian Aker  <brian@tangent.org>

	Merge of taylor's work

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Deleted files from strings that are not used. 

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Added bzrignore.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed tags target and helper script. Automake-1.10 has a target for this now, and we don't have to avoid bk files either.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Replaced INCLUDES with AM_CPPFLAGS.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Set automake strictness to gnu. We still pass!

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Added reference to strings/tests

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Moved test programs in strings to strings/tests, like mysys. 
	Removed libmystringsextra.la from the final libmystrings.la to test if we
	use these anywhere. (Doesn't look like it)
	Rearranged Assembler/C lists so we only switch the values that change.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Added INCLUDE dirs.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed use of libmystringsextra. Still compiles. Seems we don't use those
	symbols at all.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed echo.c. Removed WIN section in client_priv.h.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed crufty acinclude file.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Merged in changes. 
	Edited a the comment test case so deal with our version bump.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Somehow missed moving password.c. Duh.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Merged with trunk.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed symlinking from client programs. Still need to figure out how to avoid
	including .cc files in mysqlbinlog... 

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed Makefile.shared, it's no longer used. 

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Oops. Missed one in innodbase...

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed SCCS references.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Put errmsg.c in sql-common since it can be built only once and used twice.
	Put client.c and net_serv.c in libmysql so that we can only have one
	link_sources section. 
	Got rid of just about all copying and other weirdness, other than some stuff
	in client and client.c/net_serv.c, which need to be reworked.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Made out-of-tree builds work directly from a bzr checkout.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed ndb-config-2-node.ini from support-files, since drizzle doesn't support
	NDB. 

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed conf_to_src. There was a MySQL Bug (#17122) about it. No one seems to 
	know if it is used anymore, or if so, how. Removing it doesn't do anything to 
	the build. /me considers it cruft.

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Fixed patch application so that the silly thing compiles. :)

2008-07-01  Monty Taylor  <monty@inaugust.com>

	First stab at back porting libtool convenience lib patch from telco-6.2

2008-07-01  Monty Taylor  <monty@inaugust.com>

	Removed dll.c - we donm't support Windows anymore.

2008-07-01  Brian Aker  <brian@tangent.org>

	Dead files (ssltest removed from vio).

2008-07-01  Brian Aker  <brian@tangent.org>

	More cleanup on pread()

2008-07-01  Brian Aker  <brian@tangent.org>

	Removed my versions of pread/pwrite from the Kernel

2008-07-01  Brian Aker  <brian@tangent.org>

	Large file and ftruncate() support

2008-07-01  Brian Aker  <brian@tangent.org>

	More mysys removal

2008-06-30  mark  <mark@domU-12-31-38-00-78-33>

	fix merge

2008-06-30  mark  <mark@domU-12-31-38-00-78-33>

	strip out some autoconf cruft that was preventing building

2008-06-30  Brian Aker  <brian@tangent.org>

	Removed dropped libs.

2008-06-30  Brian Aker  <brian@tangent.org>

	Clean up of configure.in

2008-06-30  Brian Aker  <brian@tangent.org>

	Remove dead position (should be in config/)

2008-06-30  Brian Aker  <brian@tangent.org>

	Adding back in simple test for libevent

2008-06-30  Brian Aker  <brian@tangent.org>

	Found two bad memset() calls

2008-06-30  Brian Aker  <brian@tangent.org>

	Merging Elliot's patch

2008-06-28  Elliot Murphy  <elliot@elliotmurphy.com>

	merge

2008-06-27  Elliot Murphy  <elliot@elliotmurphy.com>

	bzero to memset

2008-06-30  Brian Aker  <brian@tangent.org>

	Merging

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	merge in -stew changes

2008-06-30  Brian Aker  <brian@tangent.org>

	More cleanup, this time libmysql_r goes to the bitbucket

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	no embedded server, stop testing for it in tests.

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	merge in latest drizzle

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove non-thread safe client library. client lib is now *always* thread safe.

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	my_errno => errno
	
	saves sizeof(int) per thread + sizeof(int) in RAM usage!
	
	even seems to kinda work!
	
	breaks build with dbug library for some strange reason.

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	merge my work

2008-06-29  Brian Aker  <brian@tangent.org>

	Incoming merge, took the opportunity to remove mysql_embed.h while I was at
	it.

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove DONT_USE_RAID

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	merge in my changes

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	fix sql_db.cc to look at errno after stat, not my_errno

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove more old NETWARE stuff from sql/

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove more NETWARE remenants from client/

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove more #ifdef __WIN__ code

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove my_msync (in the incorrectly named my_mmap.c). Only used in 2 places.

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove my_stat and my_fstat, replace with standard POSIX functions and remove eleventy billion causes of bugs and confusion

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	actually add autorun.sh back in

2008-06-30  Stewart Smith  <stewart@flamingspork.com>

	remove old BUILD/ that nobody uses (or it's broken). keep autorun.sh, because stewart is lazy and likes running it

2008-06-29  Brian Aker  <brian@tangent.org>

	Dead support files, removed gethostbyname_r (we do not use it any longer). 

2008-06-29  brian  <brian@localhost.localdomain>

	Committing merge

2008-06-29  Brian Aker  <brian@tangent.org>

	More dead test removal.

2008-06-29  Brian Aker  <brian@tangent.org>

	Removal of dead code/remove non-used Falcon tests.

2008-06-29  Brian Aker  <brian@tangent.org>

	Removing dead state calls.

2008-06-29  Brian Aker  <brian@tangent.org>

	Cleaned up show status.

2008-06-29  brian  <brian@localhost.localdomain>

	Fix for stat, NETWARE removal

2008-06-29  brian  <brian@localhost.localdomain>

	Adding autorun statement

2008-06-29  brian  <brian@localhost.localdomain>

	Incomming patch to clean up build.

2008-06-29  Brian Aker  <brian@tangent.org>

	More dead code removal.

2008-06-29  Brian Aker  <brian@tangent.org>

	Removing old UNIX socket bits

2008-06-29  Brian Aker  <brian@tangent.org>

	Start of var cleanup (really.... looking at this code the entire thing needs
	to be thought out from an interface level...)

2008-06-29  Brian Aker  <brian@tangent.org>

	Warnings cleanup

2008-06-27  Brian Aker  <brian@tangent.org>

	Pstack removal. Cleanup around final my_pthread.c removal.

2008-06-27  Brian Aker  <brian@tangent.org>

	Further cleanup on pthreads.

2008-06-27  Brian Aker  <brian@tangent.org>

	Second pass on pthread cleanup

2008-06-27  Brian Aker  <brian@tangent.org>

	Removed my_pthread_setprio()

2008-06-27  Brian Aker  <brian@tangent.org>

	Remove my_pthread_getspecific_ptr()

2008-06-27  Brian Aker  <brian@tangent.org>

	Fix test push for version.

2008-06-25  brian  <brian@localhost.localdomain>

	testing push

2008-06-24  brian  <brian@localhost.localdomain>

	clean slate

